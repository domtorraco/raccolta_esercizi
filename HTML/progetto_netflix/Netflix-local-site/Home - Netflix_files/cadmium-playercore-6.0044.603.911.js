U6ONX[202358]=(function(){var j3s=2;for(;j3s !== 9;){switch(j3s){case 5:var W8j;try{var Y5w=2;for(;Y5w !== 6;){switch(Y5w){case 9:delete W8j['\u0077\x73\u0065\x74\x64'];var e71=Object['\u0070\x72\u006f\u0074\x6f\u0074\u0079\x70\x65'];delete e71['\u0061\u0063\u0036\u006b\u0041'];Y5w=6;break;case 3:throw "";Y5w=9;break;case 4:Y5w=typeof wsetd === '\u0075\u006e\u0064\x65\x66\x69\u006e\x65\x64'?3:9;break;case 2:Object['\x64\x65\u0066\x69\x6e\u0065\u0050\u0072\u006f\x70\u0065\u0072\x74\x79'](Object['\x70\x72\x6f\u0074\x6f\u0074\u0079\x70\x65'],'\x61\u0063\x36\u006b\x41',{'\x67\x65\x74':function(){return this;},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});W8j=ac6kA;W8j['\u0077\x73\x65\x74\x64']=W8j;Y5w=4;break;}}}catch(K0Y){W8j=window;}return W8j;break;case 1:return globalThis;break;case 2:j3s=typeof globalThis === '\x6f\x62\x6a\x65\u0063\x74'?1:5;break;}}})();U6ONX.c0q=function(){return typeof U6ONX[1239].j6QxB4n === 'function'?U6ONX[1239].j6QxB4n.apply(U6ONX[1239],arguments):U6ONX[1239].j6QxB4n;};U6ONX[508263]="NXq";U6ONX[508354]=852;U6ONX.M9t=function(){return typeof U6ONX[1239].n3fOsOW === 'function'?U6ONX[1239].n3fOsOW.apply(U6ONX[1239],arguments):U6ONX[1239].n3fOsOW;};U6ONX[239705]="AW5";U6ONX[100936]=true;U6ONX[316007]=196;U6ONX[579041]=true;U6ONX[1239]=(function(y$S){return {n3fOsOW:function(){var d8E,F_W=arguments;switch(y$S){case 0:d8E=F_W[1] + F_W[0] + F_W[2];break;case 9:d8E=F_W[1] === F_W[0];break;case 17:d8E=F_W[1] <= F_W[0];break;case 23:d8E=F_W[3] / F_W[2] * F_W[1] + F_W[4] - F_W[0];break;case 19:d8E=F_W[2] * F_W[4] / F_W[0] / F_W[1] + F_W[3];break;case 24:d8E=F_W[1] / F_W[0] - F_W[2];break;case 20:d8E=(F_W[2] / F_W[3] | F_W[1]) * F_W[0];break;case 10:d8E=-F_W[0] + F_W[1] + F_W[2];break;case 15:d8E=F_W[1] * F_W[2] * F_W[4] - F_W[3] - F_W[0];break;case 22:d8E=F_W[3] + F_W[2] / F_W[0] * F_W[1];break;case 7:d8E=F_W[1] + F_W[3] + F_W[2] + F_W[0] - F_W[4];break;case 8:d8E=F_W[2] * F_W[0] - F_W[4] + F_W[3] - F_W[1];break;case 11:d8E=F_W[0] + F_W[1] - F_W[2];break;case 6:d8E=-F_W[1] / F_W[0] + F_W[2] + F_W[3] - F_W[4];break;case 21:d8E=F_W[2] / F_W[0] | F_W[1];break;case 4:d8E=F_W[0] / F_W[1];break;case 2:d8E=F_W[0] + F_W[3] + F_W[4] + F_W[1] + F_W[2];break;case 5:d8E=F_W[1] * F_W[2] / F_W[0];break;case 13:d8E=(F_W[3] - F_W[1]) * F_W[0] - F_W[2];break;case 12:d8E=(F_W[2] - F_W[0]) * F_W[3] + F_W[1];break;case 18:d8E=F_W[0] < F_W[1];break;case 3:d8E=F_W[0] - F_W[1];break;case 16:d8E=F_W[0] * F_W[1];break;case 14:d8E=(-F_W[1] - F_W[4] - F_W[0]) * F_W[2] + F_W[3];break;case 1:d8E=F_W[1] + F_W[0];break;}return d8E;},j6QxB4n:function(k8Z){y$S=k8Z;}};})();U6ONX[202358].b133=U6ONX;function U6ONX(){}U6ONX[244902]="Dru";U6ONX.T8X=function(){return typeof U6ONX[1239].n3fOsOW === 'function'?U6ONX[1239].n3fOsOW.apply(U6ONX[1239],arguments):U6ONX[1239].n3fOsOW;};U6ONX[270630]=U6ONX[202358];U6ONX.x6U=function(){return typeof U6ONX[1239].j6QxB4n === 'function'?U6ONX[1239].j6QxB4n.apply(U6ONX[1239],arguments):U6ONX[1239].j6QxB4n;};(function(){(function(qb,Gb){var qc,Bc,Wb,kd,Lb,Mb,bc,ke,le,Ub,Tb,Kc,me,ld,ne,oe,Ed,Ia,Hb,Zc,pe,Fd,ib,zb,Jb,rc,kc,Zb,Bb,cc,Vb,ad,Ob,Cc,Sb,dc,md,sc,oc,pc,nd,Gd,qe,Dc,Ec,Mc,Hd,bd,tc,od,Jc,Id,re,Sc,Jd,Kd,Ld,Md,uc,Nd,Od,Pd,Uc,vc,wc,Vc,pd,qd,rd,mc,rf,Xb,Lc,se,sd,xc,te,sf,yc,ue,tf,td,ve,uf,Yc,we,qf,vf,Qd,ud,wf,xf,he,yf,ie,xe,lc,cd,ye,dd,ze,nc,Ae,Be,Ce,De,Af,je,Ee,Dd,Fe,zf,Ge,Rd,He,Ie,Je,Sd,Ic,Le,Ke,Bf,fd,Me,Ud,gd,Ne,Td,Oe,Pe,Vd,Re,Se,yd,Nc,Wc,Oc,Te,Ue,Ve,We,Xe,Ye,zd,Cf,Ze,$e,Xd,af,jc,ed,Tc,vd,Fc,zc,wd,Gc,$c,Qe,bf,hd,cf,Df,id,df,Ef,Ff,ef,Wd,xd,ff,Hf,Gf,Xc,jd,If,ge,Jf,Kf;function ec(lb,jb){if(!jb || "utf-8" === jb)return Ad(lb);throw Error("unsupported encoding");}function fc(lb,jb){if(!jb || "utf-8" === jb)return Bd(lb);throw Error("unsupported encoding");}function Ad(lb){for(var jb=0,hb,eb=lb.length,ob="";jb < eb;){hb=lb[jb++];if(hb & 128)if(192 === (hb & 224))hb=((hb & 31) << 6) + (lb[jb++] & 63);else if(224 === (hb & 240))hb=((hb & 15) << 12) + ((lb[jb++] & 63) << 6) + (lb[jb++] & 63);else throw Error("unsupported character");ob+=String.fromCharCode(hb);}return ob;}function Bd(lb){var jb,hb,eb,ob,yb;jb=lb.length;hb=0;ob=0;for(eb=jb;eb--;){yb=lb.charCodeAt(eb);128 > yb?hb++:hb=2048 > yb?hb + 2:hb + 3;}hb=new Uint8Array(hb);for(eb=0;eb < jb;eb++)(yb=lb.charCodeAt(eb),128 > yb?hb[ob++]=yb:(2048 > yb?hb[ob++]=192 | yb >>> 6:(hb[ob++]=224 | yb >>> 12,hb[ob++]=128 | yb >>> 6 & 63),hb[ob++]=128 | yb & 63));return hb;}function gc(lb,jb){if(lb === jb)return !0;if(!lb || !jb || lb.length != jb.length)return !1;for(var hb=0;hb < lb.length;++hb)if(lb[hb] != jb[hb])return !1;return !0;}function hc(lb){var eb;if(!(lb && lb.constructor == Uint8Array || Array.isArray(lb)))throw new TypeError("Cannot compute the hash code of " + lb);for(var jb=1,hb=0;hb < lb.length;++hb){eb=lb[hb];if("number" !== typeof eb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + eb);jb=31 * jb + eb & 4294967295;}return jb;}function be(lb,jb){var mb;if(lb === jb)return !0;if(!lb || !jb)return !1;jb instanceof Array || (jb=[jb]);for(var hb=0;hb < jb.length;++hb){for(var eb=jb[hb],ob=!1,yb=0;yb < lb.length;++yb){mb=lb[yb];if(eb.equals && "function" === typeof eb.equals && eb.equals(mb) || eb == mb){ob=!0;break;}}if(!ob)return !1;}return !0;}function ce(lb,jb){return be(lb,jb) && (lb.length == jb.length || be(jb,lb));}function Qa(lb,jb,hb){var eb,ob;hb && (eb=hb);if("object" !== typeof lb || "function" !== typeof lb.result || "function" !== typeof lb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{ob=jb.call(eb,lb);ob !== Gb && lb.result(ob);}catch(yb){try{lb.error(yb);}catch(mb){}}}function gb(lb,jb,hb){if("object" !== typeof lb || "function" !== typeof lb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Qa(lb,jb,hb);}function T(lb,jb,hb){1E5 > lb && (lb=1E5 + lb);Object.defineProperties(this,{internalCode:{value:lb,writable:!1,configurable:!1},responseCode:{value:jb,writable:!1,configurable:!1},message:{value:hb,writable:!1,configurable:!1}});}function Cd(lb){switch(lb){case Xb.PSK:case Xb.MGK:return !0;default:return !1;}}function de(lb){switch(lb){case Xb.PSK:case Xb.MGK:case Xb.X509:case Xb.RSA:case Xb.NPTICKET:case Xb.ECC:return !0;default:return !1;}}function mf(lb){return lb.toJSON();}function ee(lb,jb){jd?jb.result(jd):Promise.resolve().then(function(){return Sb.getKeyByName(lb);}).catch(function(){return Sb.generateKey({name:lb},!1,["wrapKey","unwrapKey"]);}).then(function(hb){jd=hb;jb.result(jd);}).catch(function(hb){jb.error(new ib(T.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(lb,jb){var hb,eb;hb=jb.masterToken;eb=jb.userIdToken;jb=jb.serviceTokens;return {NccpMethod:lb.method,UserId:lb.userId,UT:eb && eb.serialNumber,MT:hb && hb.serialNumber + ":" + hb.sequenceNumber,STCount:jb && jb.length};}function nf(lb){return lb.uniqueKey();}function of(lb,jb,hb,eb,ob){var Sa;function yb(va,ka){va.errorCode === Ia.ENTITY_REAUTH || va.errorCode === Ia.ENTITYDATA_REAUTH?(eb.clearCryptoContexts(),Oa()):va.errorCode !== Ia.USER_REAUTH && va.errorCode !== Ia.USERDATA_REAUTH || mb(ka);}function mb(va){if(va=eb.getUserIdToken(va))(eb.removeUserIdToken(va),Oa());}function Ea(va,ka,da){var Y;Y=[];(function W(){va.read(-1,ka,{result:function(ba){Qa(da,function(){var X,fa,wa,sa,ia;if(ba)(Y.push(ba),W());else switch(Y.length){case 0:return new Uint8Array(0);case 1:return Y[0];default:(wa=Y.length,sa=0);for(fa=X=0;fa < wa;fa++)X+=Y[fa].length;X=new Uint8Array(X);for(fa=0;fa < wa;fa++){ia=Y[fa];X.set(ia,sa);sa+=ia.length;}return X;}});},timeout:function(){da.timeout();},error:function(ba){da.error(ba);}});})();}function Oa(){eb.getStoreState({result:function(va){for(var ka=Sa.slice(),da=0;da < ka.length;da++)ka[da]({storeState:va});},timeout:function(){lb.error("Timeout getting store state","" + e);},error:function(va){lb.error("Error getting store state","" + va);}});}Sa=[];this.addEventHandler=function(va,ka){switch(va){case "shouldpersist":Sa.push(ka);}};this.send=function(va){return new Promise(function(ka,da){var Y,U,W;Y=va.timeout;U=new ge(lb,hb,va,eb.getKeyRequestData());W=new he(va.url);lb.trace("Sending MSL request");jb.request(hb,U,W,Y,{result:function(ba){var X;lb.trace("Received MSL response",{Method:va.method});if(ba){va.allowTokenRefresh && Oa();X=ba.getErrorHeader();X?(yb(X,va.profileGuid || va.userId),da({success:!1,error:X})):Ea(ba,Y,{result:function(fa){ka({success:!0,body:ec(fa)});},timeout:function(){da({success:!1,subCode:ob.MSL_READ_TIMEOUT});},error:function(fa){da({success:!1,error:fa});}});}else da({success:!1,error:new ib(T.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){da({success:!1,subCode:ob.MSL_REQUEST_TIMEOUT});},error:function(ba){da({success:!1,error:ba});}});});};this.hasUserIdToken=function(va){return !!eb.getUserIdToken(va);};this.getUserIdTokenKeys=function(){return eb.getUserIdTokenKeys();};this.removeUserIdToken=mb;this.clearUserIdTokens=function(){eb.clearUserIdTokens();Oa();};this.isErrorReauth=function(va){return va && va.errorCode == Ia.USERDATA_REAUTH;};this.isErrorHeader=function(va){return va instanceof Ic;};this.getErrorCode=function(va){return va && va.errorCode;};this.getStateForMdx=function(va){var ka,da;ka=eb.getMasterToken();va=eb.getUserIdToken(va);da=eb.getCryptoContext(ka);return {masterToken:ka,userIdToken:va,cryptoContext:da};};this.buildPlayDataRequest=function(va,ka){var da;da=new ie();jb.request(hb,new ge(lb,hb,va),da,va.timeout,{result:function(){ka.result(da.getRequest());},error:function(){ka.result(da.getRequest());},timeout:function(){ka.timeout();}});};this.rekeyUserIdToken=function(va,ka){eb.rekeyUserIdToken(va,ka);Oa();};this.getServiceTokens=function(va){var ka;ka=eb.getMasterToken();(va=eb.getUserIdToken(va)) && !va.isBoundTo(ka) && (va=Gb);return eb.getServiceTokens(ka,va);};this.removeServiceToken=function(va){var ka;ka=eb.getMasterToken();eb.getServiceTokens(ka).find(function(da){return da.name === va;}) && (eb.removeServiceTokens(va,ka),Oa());};}function pf(lb,jb,hb){var yb;function eb(){return Promise.resolve().then(function(){return Sb.generateKey(jb,!1,["wrapKey","unwrapKey"]);}).then(function(mb){return ob(mb.publicKey,mb.privateKey);});}function ob(mb,Ea){return Promise.all([new Promise(function(Oa,Sa){Jc(mb,{result:Oa,error:function(va){Sa(new ib(T.INTERNAL_EXCEPTION,"Unable to create keyx public key",va));}});}),new Promise(function(Oa,Sa){Sc(Ea,{result:Oa,error:function(va){Sa(new ib(T.INTERNAL_EXCEPTION,"Unable to create keyx private key",va));}});})]).then(function(Oa){Oa=new Dd("rsaKeypairId",hb,Oa[0],Oa[1]);yb && (Oa.storeData={keyxPublicKey:mb,keyxPrivateKey:Ea});return Oa;});}yb=!lb.systemKeyWrapFormat;return Promise.resolve().then(function(){var mb,Ea;mb=lb.storeState;Ea=mb && mb.keyxPublicKey;mb=mb && mb.keyxPrivateKey;return yb && Ea && mb?ob(Ea,mb):eb();}).then(function(mb){var Ea,Oa,Sa;Ea={};Ea[Xb.NONE]=new qf();Oa=new Yc(lb.esn);Sa=[new je()];return {entityAuthFactories:Ea,entityAuthData:Oa,keyExchangeFactories:Sa,keyRequestData:mb,createKeyRequestData:yb?eb:Gb};});}Bc=qb.nfCrypto || qb.msCrypto || qb.webkitCrypto || qb.crypto;Wb=Bc && (Bc.webkitSubtle || Bc.subtle);kd=qb.nfCryptokeys || qb.msCryptokeys || qb.webkitCryptokeys || qb.cryptokeys;(function(lb){var jb,hb;jb=(function(){function eb(ob,yb){ob instanceof jb?(this.abv=ob.abv,this.position=ob.position):(this.abv=ob,this.position=yb || 0);}eb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(ob){this.abv[this.position++]=ob;},peekByte:function(ob){return this.abv[ob];},copyBytes:function(ob,yb,mb){var Ea;Ea=new Uint8Array(this.abv.buffer,this.position,mb);ob=new Uint8Array(ob.buffer,yb,mb);Ea.set(ob);this.position+=mb;},seek:function(ob){this.position=ob;},skip:function(ob){this.position+=ob;},getPosition:function(){return this.position;},setPosition:function(ob){this.position=ob;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return eb;})();hb={};(function(){var ba,X,fa,wa,sa,ia,qa,Ba,ja;function eb(Z,aa){var ea;aa.writeByte(Z.tagClass << 6 | Z.constructed << 5 | Z.tag);ea=Z.payloadLen;if(128 > ea)aa.writeByte(ea);else {for(var za=ea,Ua=0;za;)(++Ua,za>>=8);aa.writeByte(128 | Ua);for(za=0;za < Ua;++za)aa.writeByte(ea >> 8 * (Ua - za - 1) & 255);}if(Z.child)for((Z.tag == ba.BIT_STRING && aa.writeByte(0),Z=Z._child);Z;){if(!eb(Z,aa))return !1;Z=Z.next;}else switch(Z.tag){case ba.INTEGER:Z.backingStore[Z.dataIdx] >> 7 && aa.writeByte(0);aa.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.BIT_STRING:aa.writeByte(0);aa.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.OCTET_STRING:aa.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.OBJECT_IDENTIFIER:aa.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);}return !0;}function ob(Z){var aa,ea;aa=Z.readByte();ea=aa & 127;if(ea == aa)return ea;if(3 < ea || 0 === ea)return -1;for(var za=aa=0;za < ea;++za)aa=aa << 8 | Z.readByte();return aa;}function yb(Z,aa,ea){var za,Ua,Pa,Ta,Wa,na,Aa;za=Z.backingStore;Ua=new jb(za,aa);aa+=ea;ea=Z;if(8 < sa++)return Gb;for(;Ua.getPosition() < aa;){Ua.getPosition();Ta=Ua.readByte();if(31 == (Ta & 31)){for(Pa=0;Ta & 128;)(Pa<<=8,Pa|=Ta & 127);Ta=Pa;}Wa=Ta;Pa=Wa & 31;if(0 > Pa || 30 < Pa)return Gb;Ta=ob(Ua);if(0 > Ta || Ta > Ua.getRemaining())return Gb;ea.constructed=Wa & 32;ea.tagClass=(Wa & 192) >> 6;ea.tag=Pa;ea.dataLen=Ta;ea.dataIdx=Ua.getPosition();Pa=Ua;na=Wa;Wa=Ta;if(na & 32)Pa=!0;else if(na < ba.BIT_STRING || na > ba.OCTET_STRING)Pa=!1;else {Aa=new jb(Pa);na == ba.BIT_STRING && Aa.skip(1);Aa.readByte() >> 6 & 1?Pa=!1:(na=ob(Aa),Pa=Aa.getPosition() - Pa.getPosition() + na == Wa);}Pa && (Pa=Ua.getPosition(),Wa=Ta,ea.tag == ba.BIT_STRING && (ea.dataIdx++,ea.dataLen--,Pa++,Wa--),ea.child=new X(za,ea),yb(ea.child,Pa,Wa));ea.tag == ba.INTEGER && (Pa=Ua.getPosition(),0 == Ua.peekByte(Pa) && Ua.peekByte(Pa + 1) >> 7 && (ea.dataIdx++,ea.dataLen--));Ua.skip(Ta);Ua.getPosition() < aa && (ea.next=new X(za,ea.parent),ea=ea.next);}sa--;return Z;}function mb(Z,aa,ea){if(9 != ea)return !1;for(ea=0;9 > ea;++ea)if(Z[aa++] != ia[ea])return !1;return !0;}function Ea(Z){var aa;if(!(Z && Z.child && Z.child.next && Z.child.child && Z.child.next.child))return !1;aa=Z.child.child;return mb(aa.backingStore,aa.dataIdx,aa.dataLen) && 2 == Z.nChildren && 2 == Z.child.nChildren && 2 == Z.child.next.child.nChildren?!0:!1;}function Oa(Z){var aa;if(!(Z && Z.child && Z.child.next && Z.child.next.child && Z.child.next.next && Z.child.next.next.child))return !1;aa=Z.child.next.child;return mb(aa.backingStore,aa.dataIdx,aa.dataLen) && 3 == Z.nChildren && 2 == Z.child.next.nChildren && 9 == Z.child.next.next.child.nChildren?!0:!1;}function Sa(Z){var aa,ea;aa=fa.createSequenceNode();ea=new wa(aa);ea.addChild(fa.createSequenceNode());ea.addChild(fa.createOidNode(ia));ea.addSibling(fa.createNullNode());ea.addToParent(aa,fa.createBitStringNode(null));ea.addChild(fa.createSequenceNode());ea.addChild(fa.createIntegerNode(Z.n));ea.addSibling(fa.createIntegerNode(Z.e));return aa;}function va(Z){var aa;Z=Z.child.next.child.child;aa=Z.data;Z=Z.next;return new qa(aa,Z.data,null,null);}function ka(Z){var aa,ea;aa=fa.createSequenceNode();ea=new wa(aa);ea.addChild(fa.createIntegerNode(new Uint8Array([0])));ea.addSibling(fa.createSequenceNode());ea.addChild(fa.createOidNode(ia));ea.addSibling(fa.createNullNode());ea.addToParent(aa,fa.createOctetStringNode(null));ea.addChild(fa.createSequenceNode());ea.addChild(fa.createIntegerNode(new Uint8Array([0])));ea.addSibling(fa.createIntegerNode(Z.n));ea.addSibling(fa.createIntegerNode(Z.e));ea.addSibling(fa.createIntegerNode(Z.d));ea.addSibling(fa.createIntegerNode(Z.p));ea.addSibling(fa.createIntegerNode(Z.q));ea.addSibling(fa.createIntegerNode(Z.dp));ea.addSibling(fa.createIntegerNode(Z.dq));ea.addSibling(fa.createIntegerNode(Z.qi));return aa;}function da(Z){var aa;aa=[];Z=Z.child.next.next.child.child.next;for(var ea=0;8 > ea;ea++)(aa.push(Z.data),Z=Z.next);return new Ba(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7]);}function Y(Z,aa,ea,za){if(!(Z instanceof qa || Z instanceof Ba))return Gb;if(ea)for(var Ua=0;Ua < ea.length;++Ua)if(-1 == ja.indexOf(ea[Ua]))return Gb;aa={kty:"RSA",alg:aa,key_ops:ea || [],ext:za == Gb?!1:za,n:Lb(Z.n,!0),e:Lb(Z.e,!0)};Z instanceof Ba && (aa.d=Lb(Z.d,!0),aa.p=Lb(Z.p,!0),aa.q=Lb(Z.q,!0),aa.dp=Lb(Z.dp,!0),aa.dq=Lb(Z.dq,!0),aa.qi=Lb(Z.qi,!0));return aa;}function U(Z){var aa,ea,za,Ua,Pa,Ta,Wa,na,Aa,Ga;if(!Z.kty || "RSA" != Z.kty || !Z.n || !Z.e)return Gb;aa=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(Z.alg && -1 == aa.indexOf(Z.alg))return Gb;aa=[];Z.use?"enc" == Z.use?aa=["encrypt","decrypt","wrap","unwrap"]:"sig" == Z.use && (aa=["sign","verify"]):aa=Z.key_ops;ea=Z.ext;za=Mb(Z.n,!0);Ua=Mb(Z.e,!0);if(Z.d){Pa=Mb(Z.d,!0);Ta=Mb(Z.p,!0);Wa=Mb(Z.q,!0);na=Mb(Z.dp,!0);Aa=Mb(Z.dq,!0);Ga=Mb(Z.qi,!0);return new Ba(za,Ua,Pa,Ta,Wa,na,Aa,Ga,Z.alg,aa,ea);}return new qa(za,Ua,ea,aa);}function W(Z,aa,ea,za){this.der=Z;this.type=aa;this.keyOps=ea;this.extractable=za;}ba={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};X=function(Z,aa,ea,za,Ua,Pa){this._data=Z;this._parent=aa || Gb;this._constructed=ea || !1;this._tagClass=0;this._tag=za || 0;this._dataIdx=Ua || 0;this._dataLen=Pa || 0;};X.prototype={_child:Gb,_next:Gb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(Z) {this._constructed=0 != Z?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(Z) {this._tagClass=Z;},get tag() {return this._tag;},set tag(Z) {this._tag=Z;},get dataIdx() {return this._dataIdx;},set dataIdx(Z) {this._dataIdx=Z;},get dataLen() {return this._dataLen;},set dataLen(Z) {this._dataLen=Z;},get child() {return this._child;},set child(Z) {this._child=Z;this._child.parent=this;},get next() {return this._next;},set next(Z) {this._next=Z;},get parent() {return this._parent;},set parent(Z) {this._parent=Z;},get payloadLen() {var Z;Z=0;if(this._child){for(var aa=this._child;aa;)(Z+=aa.length,aa=aa.next);this._tag == ba.BIT_STRING && Z++;}else switch(this._tag){case ba.INTEGER:Z=this._dataLen;this._data[this._dataIdx] >> 7 && Z++;break;case ba.BIT_STRING:Z=this._dataLen + 1;break;case ba.OCTET_STRING:Z=this._dataLen;break;case ba.NULL:Z=0;break;case ba.OBJECT_IDENTIFIER:mb(this._data,this._dataIdx,this._dataLen) && (Z=9);}return Z;},get length() {var Z,aa;Z=this.payloadLen;if(127 < Z)for(aa=Z;aa;)(aa>>=8,++Z);return Z + 2;},get der() {var Z,aa;Z=this.length;if(!Z)return Gb;Z=new Uint8Array(Z);aa=new jb(Z);return eb(this,aa)?Z:Gb;},get nChildren() {for(var Z=0,aa=this._child;aa;)(Z++,aa=aa.next);return Z;}};fa={createSequenceNode:function(){return new X(null,null,!0,ba.SEQUENCE,null,null);},createOidNode:function(Z){return new X(Z,null,!1,ba.OBJECT_IDENTIFIER,0,Z?Z.length:0);},createNullNode:function(){return new X(null,null,!1,ba.NULL,null,null);},createBitStringNode:function(Z){return new X(Z,null,!1,ba.BIT_STRING,0,Z?Z.length:0);},createIntegerNode:function(Z){return new X(Z,null,!1,ba.INTEGER,0,Z?Z.length:0);},createOctetStringNode:function(Z){return new X(Z,null,!1,ba.OCTET_STRING,0,Z?Z.length:0);}};wa=function(Z){this._currentNode=this._rootNode=Z;};wa.prototype={addChild:function(Z){this.addTo(this._currentNode,Z);},addSibling:function(Z){this.addTo(this._currentNode.parent,Z);},addTo:function(Z,aa){this._currentNode=aa;this._currentNode.parent=Z;if(Z.child){for(Z=Z.child;Z.next;)Z=Z.next;Z.next=aa;}else Z.child=aa;},addToParent:function(Z,aa){this.findNode(Z) && this.addTo(Z,aa);},findNode:function(Z){for(var aa=this._currentNode;aa;){if(Z == aa)return !0;aa=aa.parent;}return !1;}};sa=0;ia=new Uint8Array([42,134,72,134,247,13,1,1,1]);qa=function(Z,aa,ea,za){this.n=Z;this.e=aa;this.ext=ea;this.keyOps=za;};Ba=function(Z,aa,ea,za,Ua,Pa,Ta,Wa,na,Aa,Ga){this.n=Z;this.e=aa;this.d=ea;this.p=za;this.q=Ua;this.dp=Pa;this.dq=Ta;this.qi=Wa;this.alg=na;this.keyOps=Aa;this.ext=Ga;};ja=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");W.prototype.getDer=function(){return this.der;};W.prototype.getType=function(){return this.type;};W.prototype.getKeyOps=function(){return this.keyOps;};W.prototype.getExtractable=function(){return this.extractable;};hb.parse=function(Z){sa=0;return yb(new X(Z),0,Z.length);};hb.show=function(Z,aa){};hb.isRsaSpki=Ea;hb.isRsaPkcs8=Oa;hb.NodeFactory=fa;hb.Builder=wa;hb.tagVal=ba;hb.RsaPublicKey=qa;hb.RsaPrivateKey=Ba;hb.buildRsaSpki=Sa;hb.parseRsaSpki=function(Z){Z=hb.parse(Z);return Ea?va(Z):Gb;};hb.buildRsaPkcs8=ka;hb.parseRsaPkcs8=function(Z){Z=hb.parse(Z);return Oa(Z)?da(Z):Gb;};hb.buildRsaJwk=Y;hb.parseRsaJwk=U;hb.RsaDer=W;hb.rsaDerToJwk=function(Z,aa,ea,za){Z=hb.parse(Z);if(!Z)return Gb;if(Ea(Z))Z=va(Z);else if(Oa(Z))Z=da(Z);else return Gb;return Y(Z,aa,ea,za);};hb.jwkToRsaDer=function(Z){var aa,ea;Z=U(Z);if(!Z)return Gb;if(Z instanceof qa){aa="spki";ea=Sa(Z).der;}else if(Z instanceof Ba)(aa="pkcs8",ea=ka(Z).der);else return Gb;return new W(ea,aa,Z.keyOps,Z.ext);};hb.webCryptoAlgorithmToJwkAlg=function(Z){return "RSAES-PKCS1-v1_5" == Z.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == Z.name?"SHA-256" == Z.hash.name?"RS256":"SHA-384" == Z.hash.name?"RS384":"SHA-512" == Z.hash.name?"RS512":Gb:Gb;};hb.webCryptoUsageToJwkKeyOps=function(Z){return Z.map(function(aa){return "wrapKey" == aa?"wrap":"unwrapKey" == aa?"unwrap":aa;});};})();lb.ASN1=hb;})(qb);(function(){for(var lb={},jb={},hb={"=":0,".":0},eb={"=":0,".":0},ob=/\s+/g,yb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,mb=64;mb--;)(lb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[mb]]=262144 * mb,jb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[mb]]=4096 * mb,hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[mb]]=64 * mb,eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[mb]]=mb);for(mb=64;mb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[mb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[mb];)(lb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[mb]]=262144 * mb,jb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[mb]]=4096 * mb,hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[mb]]=64 * mb,eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[mb]]=mb);Lb=function(Ea,Oa){for(var Sa="",va=0,ka=Ea.length,da=ka - 2,Y=Oa?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=Oa?"":"=";va < da;)(Oa=65536 * Ea[va++] + 256 * Ea[va++] + Ea[va++],Sa+=Y[Oa >>> 18] + Y[Oa >>> 12 & 63] + Y[Oa >>> 6 & 63] + Y[Oa & 63]);va == da?(Oa=65536 * Ea[va++] + 256 * Ea[va++],Sa+=Y[Oa >>> 18] + Y[Oa >>> 12 & 63] + Y[Oa >>> 6 & 63] + U):va == ka - 1 && (Oa=65536 * Ea[va++],Sa+=Y[Oa >>> 18] + Y[Oa >>> 12 & 63] + U + U);return Sa;};Mb=function(Ea,Oa){Ea=Ea.replace(ob,"");if(Oa && (Oa=Ea.length % 4)){Oa=4 - Oa;for(var Sa=0;Sa < Oa;++Sa)Ea+="=";}Oa=Ea.length;if(0 != Oa % 4 || !yb.test(Ea))throw Error("bad base64: " + Ea);for(var va=Oa / 4 * 3 - ("=" == Ea[Oa - 1]?1:0) - ("=" == Ea[Oa - 2]?1:0),ka=new Uint8Array(va),da=0,Y=0;da < Oa;)(Sa=lb[Ea[da++]] + jb[Ea[da++]] + hb[Ea[da++]] + eb[Ea[da++]],ka[Y++]=Sa >>> 16,Y < va && (ka[Y++]=Sa >>> 8 & 255,Y < va && (ka[Y++]=Sa & 255)));return ka;};})();bc={};(function(){var yb,mb,Ea,Sa;function lb(va){if(!(this instanceof lb))return new lb(va);for(var ka=0,da=mb.length;ka < da;ka++)this[mb[ka]]="";this.bufferCheckPosition=bc.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=va || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ea.BEGIN;this.stack=new yb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;jb(this,"onready");}function jb(va,ka,da){if(va[ka])va[ka](da);}function hb(va,ka){var da,Y;da=va.opt;Y=va.textNode;da.trim && (Y=Y.trim());da.normalize && (Y=Y.replace(/\s+/g," "));va.textNode=Y;va.textNode && jb(va,ka?ka:"onvalue",va.textNode);va.textNode="";}function eb(va,ka){hb(va);ka+="\nLine: " + va.line + "\nColumn: " + va.column + "\nChar: " + va.c;ka=Error(ka);va.error=ka;jb(va,"onerror",ka);return va;}function ob(va){va.state !== Ea.VALUE && eb(va,"Unexpected end");hb(va);va.c="";va.closed=!0;jb(va,"onend");lb.call(va,va.opt);return va;}yb=Array;bc.parser=function(va){return new lb(va);};bc.CParser=lb;bc.MAX_BUFFER_LENGTH=65536;bc.DEBUG=!1;bc.INFO=!1;bc.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");mb=["textNode","numberNode"];bc.EVENTS.filter(function(va){return "error" !== va && "end" !== va;});Ea=0;bc.STATE={BEGIN:Ea++,VALUE:Ea++,OPEN_OBJECT:Ea++,CLOSE_OBJECT:Ea++,OPEN_ARRAY:Ea++,CLOSE_ARRAY:Ea++,TEXT_ESCAPE:Ea++,STRING:Ea++,BACKSLASH:Ea++,END:Ea++,OPEN_KEY:Ea++,CLOSE_KEY:Ea++,TRUE:Ea++,TRUE2:Ea++,TRUE3:Ea++,FALSE:Ea++,FALSE2:Ea++,FALSE3:Ea++,FALSE4:Ea++,NULL:Ea++,NULL2:Ea++,NULL3:Ea++,NUMBER_DECIMAL_POINT:Ea++,NUMBER_DIGIT:Ea++};for(var Oa in bc.STATE)bc.STATE[bc.STATE[Oa]]=Oa;Ea=bc.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(va){return va.__proto__;});Sa=/[\\"\n]/g;lb.prototype={end:function(){ob(this);},write:function(va){var Y,U,W;if(this.error)throw this.error;if(this.closed)return eb(this,"Cannot write after close. Assign an onready handler.");if(null === va)return ob(this);for(var ka=va[0],da;ka;){da=ka;this.c=ka=va.charAt(this.index++);da !== ka?this.p=da:da=this.p;if(!ka)break;this.position++;"\n" === ka?(this.line++,this.column=0):this.column++;switch(this.state){case Ea.BEGIN:"{" === ka?this.state=Ea.OPEN_OBJECT:"[" === ka?this.state=Ea.OPEN_ARRAY:"\r" !== ka && "\n" !== ka && " " !== ka && "\t" !== ka && eb(this,"Non-whitespace before {[.");continue;case Ea.OPEN_KEY:case Ea.OPEN_OBJECT:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;if(this.state === Ea.OPEN_KEY)this.stack.push(Ea.CLOSE_KEY);else if("}" === ka){jb(this,"onopenobject");jb(this,"oncloseobject");this.state=this.stack.pop() || Ea.VALUE;continue;}else this.stack.push(Ea.CLOSE_OBJECT);'"' === ka?this.state=Ea.STRING:eb(this,'Malformed object key should start with "');continue;case Ea.CLOSE_KEY:case Ea.CLOSE_OBJECT:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;":" === ka?(this.state === Ea.CLOSE_OBJECT?(this.stack.push(Ea.CLOSE_OBJECT),hb(this,"onopenobject")):hb(this,"onkey"),this.state=Ea.VALUE):"}" === ka?(hb(this),jb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ea.VALUE):"," === ka?(this.state === Ea.CLOSE_OBJECT && this.stack.push(Ea.CLOSE_OBJECT),hb(this),this.state=Ea.OPEN_KEY):eb(this,"Bad object");continue;case Ea.OPEN_ARRAY:case Ea.VALUE:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;if(this.state === Ea.OPEN_ARRAY)if((jb(this,"onopenarray"),this.state=Ea.VALUE,"]" === ka)){jb(this,"onclosearray");this.state=this.stack.pop() || Ea.VALUE;continue;}else this.stack.push(Ea.CLOSE_ARRAY);'"' === ka?this.state=Ea.STRING:"{" === ka?this.state=Ea.OPEN_OBJECT:"[" === ka?this.state=Ea.OPEN_ARRAY:"t" === ka?this.state=Ea.TRUE:"f" === ka?this.state=Ea.FALSE:"n" === ka?this.state=Ea.NULL:"-" === ka?this.numberNode+=ka:"0" === ka?(this.numberNode+=ka,this.state=Ea.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ka)?(this.numberNode+=ka,this.state=Ea.NUMBER_DIGIT):eb(this,"Bad value");continue;case Ea.CLOSE_ARRAY:if("," === ka)(this.stack.push(Ea.CLOSE_ARRAY),hb(this,"onvalue"),this.state=Ea.VALUE);else if("]" === ka)(hb(this),jb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ea.VALUE);else if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;else eb(this,"Bad array");continue;case Ea.STRING:da=this.index - 1;(Y=this.slashed,U=this.unicodeI);a:for(;;){if(bc.DEBUG)for(;0 < U;)if((this.unicodeS+=ka,ka=va.charAt(this.index++),4 === U?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),U=0,da=this.index - 1):U++,!ka))break a;if('"' === ka && !Y){this.state=this.stack.pop() || Ea.VALUE;(this.textNode+=va.substring(da,this.index - 1)) || jb(this,"onvalue","");break;}if("\\" === ka && !Y && (Y=!0,this.textNode+=va.substring(da,this.index - 1),ka=va.charAt(this.index++),!ka))break;if(Y)if((Y=!1,"n" === ka?this.textNode+="\n":"r" === ka?this.textNode+="\r":"t" === ka?this.textNode+="\t":"f" === ka?this.textNode+="\f":"b" === ka?this.textNode+="\b":"u" === ka?(U=1,this.unicodeS=""):this.textNode+=ka,ka=va.charAt(this.index++),da=this.index - 1,ka))continue;else break;Sa.lastIndex=this.index;W=Sa.exec(va);if(null === W){this.index=va.length + 1;this.textNode+=va.substring(da,this.index - 1);break;}this.index=W.index + 1;ka=va.charAt(W.index);if(!ka){this.textNode+=va.substring(da,this.index - 1);break;}}this.slashed=Y;this.unicodeI=U;continue;case Ea.TRUE:if("" === ka)continue;"r" === ka?this.state=Ea.TRUE2:eb(this,"Invalid true started with t" + ka);continue;case Ea.TRUE2:if("" === ka)continue;"u" === ka?this.state=Ea.TRUE3:eb(this,"Invalid true started with tr" + ka);continue;case Ea.TRUE3:if("" === ka)continue;"e" === ka?(jb(this,"onvalue",!0),this.state=this.stack.pop() || Ea.VALUE):eb(this,"Invalid true started with tru" + ka);continue;case Ea.FALSE:if("" === ka)continue;"a" === ka?this.state=Ea.FALSE2:eb(this,"Invalid false started with f" + ka);continue;case Ea.FALSE2:if("" === ka)continue;"l" === ka?this.state=Ea.FALSE3:eb(this,"Invalid false started with fa" + ka);continue;case Ea.FALSE3:if("" === ka)continue;"s" === ka?this.state=Ea.FALSE4:eb(this,"Invalid false started with fal" + ka);continue;case Ea.FALSE4:if("" === ka)continue;"e" === ka?(jb(this,"onvalue",!1),this.state=this.stack.pop() || Ea.VALUE):eb(this,"Invalid false started with fals" + ka);continue;case Ea.NULL:if("" === ka)continue;"u" === ka?this.state=Ea.NULL2:eb(this,"Invalid null started with n" + ka);continue;case Ea.NULL2:if("" === ka)continue;"l" === ka?this.state=Ea.NULL3:eb(this,"Invalid null started with nu" + ka);continue;case Ea.NULL3:if("" === ka)continue;"l" === ka?(jb(this,"onvalue",null),this.state=this.stack.pop() || Ea.VALUE):eb(this,"Invalid null started with nul" + ka);continue;case Ea.NUMBER_DECIMAL_POINT:"." === ka?(this.numberNode+=ka,this.state=Ea.NUMBER_DIGIT):eb(this,"Leading zero not followed by .");continue;case Ea.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ka)?this.numberNode+=ka:"." === ka?(-1 !== this.numberNode.indexOf(".") && eb(this,"Invalid number has two dots"),this.numberNode+=ka):"e" === ka || "E" === ka?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || eb(this,"Invalid number has two exponential"),this.numberNode+=ka):"+" === ka || "-" === ka?("e" !== da && "E" !== da && eb(this,"Invalid symbol in number"),this.numberNode+=ka):(this.numberNode && jb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ea.VALUE);continue;default:eb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){va=Math.max(bc.MAX_BUFFER_LENGTH,10);da=ka=0;for(Y=mb.length;da < Y;da++){U=this[mb[da]].length;if(U > va)switch(mb[da]){case "text":break;default:eb(this,"Max buffer length exceeded: " + mb[da]);}ka=Math.max(ka,U);}this.bufferCheckPosition=bc.MAX_BUFFER_LENGTH - ka + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var eb,ob,yb;function lb(mb,Ea){Ea || (Ea=mb.length);return mb.reduce(function(Oa,Sa,va){return va < Ea?Oa + String.fromCharCode(Sa):Oa;},"");}for(var jb={},hb=0;256 > hb;++hb){eb=lb([hb]);jb[eb]=hb;}ob=Object.keys(jb).length;yb=[];for(hb=0;256 > hb;++hb)yb[hb]=[hb];ke=function(mb,Ea){var X,fa;function Oa(wa,sa){var ia;for(;0 < sa;){if(U >= Y.length)return !1;if(sa > W){ia=wa;ia>>>=sa - W;Y[U]|=ia & 255;sa-=W;W=8;++U;}else sa <= W && (ia=wa,ia<<=W - sa,ia&=255,ia>>>=8 - W,Y[U]|=ia & 255,W-=sa,sa=0,0 == W && (W=8,++U));}return !0;}for(var Sa in jb)Ea[Sa]=jb[Sa];for(var va=ob,ka=[],da=8,Y=new Uint8Array(mb.length),U=0,W=8,ba=0;ba < mb.length;++ba){X=mb[ba];ka.push(X);Sa=lb(ka);fa=Ea[Sa];if(!fa){ka=lb(ka,ka.length - 1);if(!Oa(Ea[ka],da))return null;0 != va >> da && ++da;Ea[Sa]=va++;ka=[X];}}return 0 < ka.length && (Sa=lb(ka),fa=Ea[Sa],!Oa(fa,da))?null:Y.subarray(0,8 > W?U + 1:U);};le=function(mb){var ba,X;for(var Ea=yb.slice(),Oa=0,Sa=0,va=8,ka=new Uint8Array(Math.ceil(1.5 * mb.length)),da=0,Y,U=[];Oa < mb.length && !(8 * (mb.length - Oa) - Sa < va);){for(var W=Y=0;W < va;){ba=Math.min(va - W,8 - Sa);X=mb[Oa];X<<=Sa;X&=255;X>>>=8 - ba;W+=ba;Sa+=ba;8 == Sa && (Sa=0,++Oa);Y|=(X & 255) << va - W;}W=Ea[Y];0 == U.length?++va:(W?U.push(W[0]):U.push(U[0]),Ea[Ea.length]=U,U=[],Ea.length == 1 << va && ++va,W || (W=Ea[Y]));Y=da + W.length;Y >= ka.length && (ba=new Uint8Array(Math.ceil(1.5 * Y)),ba.set(ka),ka=ba);ka.set(W,da);da=Y;U=U.concat(W);}return ka.subarray(0,da);};})();(function(){var lb,jb,hb;Ub="utf-8";Tb=9007199254740992;lb=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function(eb){for(var ob=[lb.GZIP,lb.LZW],yb=0;yb < ob.length && 0 < eb.length;++yb)for(var mb=ob[yb],Ea=0;Ea < eb.length;++Ea)if(eb[Ea] == mb)return mb;return null;};jb=ld={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ld);ne=function(eb){return jb.AES_CBC_PKCS5Padding == eb?jb.AES_CBC_PKCS5Padding:jb.RSA_ECB_PKCS1Padding == eb?jb.RSA_ECB_PKCS1Padding:jb[eb];};hb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Ed=function(eb){return hb[eb];};Ia={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ia);})();Hb={isObjectLiteral:function(lb){return null !== lb && "object" === typeof lb && lb.constructor === Object;},extendDeep:function(){var lb,jb,hb,eb,ob,yb,mb,Ea;lb=arguments[0];jb=1;hb=arguments.length;eb=!1;"boolean" === typeof lb && (eb=lb,lb=arguments[1],jb=2);for(;jb < hb;jb++)if(null != (ob=arguments[jb]))for(yb in ob)if(!(eb && (yb in lb))){mb=ob[yb];if(lb !== mb && mb !== Gb){Ea=lb[yb];lb[yb]=null !== Ea && null !== mb && "object" === typeof Ea && "object" === typeof mb?Hb.extendDeep(eb,{},Ea,mb):mb;}}return lb;}};(function(){var mb,Ea;function lb(Oa,Sa){return function(){var va,ka;va=Oa.base;Oa.base=Sa;ka=Oa.apply(this,arguments);Oa.base=va;return ka;};}function jb(Oa,Sa,va){var ka,da,Y,U;va=va || Ea;da=!!va.extendAll;for(ka in Sa){Y=Sa.__lookupGetter__(ka);U=Sa.__lookupSetter__(ka);Y || U?(Y && Oa.__defineGetter__(ka,Y),U && Oa.__defineSetter__(ka,U)):(Y=Sa[ka],U=Oa[ka],"function" === typeof Y && "function" === typeof U && Y !== U?(Y.base !== Function.prototype.base && (Y=lb(Y,U)),Y.base=U):(da || va[ka]) && Hb.isObjectLiteral(Y) && Hb.isObjectLiteral(U) && (Y=Hb.extendDeep({},U,Y)),Oa[ka]=Y);}}function hb(){var Oa,Sa;Oa=Array.prototype.slice;Sa=Oa.call(arguments,1);return this.extend({init:function ka(){var da;da=Oa.call(arguments,0);ka.base.apply(this,Sa.concat(da));}});}function eb(Oa,Sa){var va;va=new this(mb);jb(va,Oa,Sa);return yb(va);}function ob(Oa,Sa){jb(this.prototype,Oa,Sa);return this;}function yb(Oa){var Sa;Sa=function(){var va;va=this.init;va && arguments[0] !== mb && va.apply(this,arguments);};Oa && (Sa.prototype=Oa);Sa.prototype.constructor=Sa;Sa.extend=eb;Sa.bind=hb;Sa.mixin=ob;return Sa;}mb={};Ea={actions:!0};Function.prototype.base=function(){};Hb.Class={create:yb,mixin:jb,extend:function(Oa,Sa){var va;va=yb();va.prototype=new Oa();return va.extend(Sa);}};Hb.mixin=function(){Hb.log && Hb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");jb.apply(null,arguments);};})();(function(){var mb,Ea,Oa;function lb(Sa,va){return function(){var ka,da;ka=Sa.base;Sa.base=va;da=Sa.apply(this,arguments);Sa.base=ka;return da;};}function jb(Sa,va,ka){var da,Y,U,W;ka=ka || Ea;Y=!!ka.extendAll;for(da in va){U=va.__lookupGetter__(da);W=va.__lookupSetter__(da);U || W?(U && Sa.__defineGetter__(da,U),W && Sa.__defineSetter__(da,W)):(U=va[da],W=Sa[da],"function" === typeof U && "function" === typeof W && U !== W?(U.base !== Oa && (U=lb(U,W)),U.base=W):(Y || ka[da]) && Hb.isObjectLiteral(U) && Hb.isObjectLiteral(W) && (U=Hb.extendDeep({},W,U)),Sa[da]=U);}}function hb(){var Sa,va;Sa=Array.prototype.slice;va=Sa.call(arguments,1);return this.extend({init:function da(){var Y;Y=Sa.call(arguments,0);da.base.apply(this,va.concat(Y));}});}function eb(Sa,va){var ka;ka=new this(mb);jb(ka,Sa,va);return yb(ka);}function ob(Sa,va){jb(this.prototype,Sa,va);return this;}function yb(Sa){var va;va=function(){var ka;ka=this.init;ka && arguments[0] !== mb && ka.apply(this,arguments);};Sa && (va.prototype=Sa);va.prototype.constructor=va;va.extend=eb;va.bind=hb;va.mixin=ob;return va;}mb={};Ea={actions:!0};Oa=function(){};Function.prototype.base=Oa;Hb.Class={create:yb,mixin:jb,extend:function(Sa,va){var ka;ka=yb();ka.prototype=new Sa();return ka.extend(va);}};Hb.mixin=function(){Hb.log && Hb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");jb.apply(null,arguments);};})();(function(){function lb(hb){return hb == Tb?1:hb + 1;}function jb(hb){if(0 === Object.keys(hb._waiters).length)return 0;for(var eb=lb(hb._nextWaiter);!hb._waiters[eb];)eb=lb(eb);return eb;}Zc=Hb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(hb){var eb;if(this._waiters[hb]){eb=this._waiters[hb];delete this._waiters[hb];hb == this._nextWaiter && (this._nextWaiter=jb(this));eb.call(this,Gb);}},cancelAll:function(){for(;0 !== this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(hb,eb){var ob,yb;ob=this;yb=lb(this._lastWaiter);this._lastWaiter=yb;gb(eb,function(){var mb,Ea;if(0 < this._queue.length){mb=this._queue.shift();setTimeout(function(){eb.result(mb);},0);}else {-1 != hb && (Ea=setTimeout(function(){delete ob._waiters[yb];yb == ob._nextWaiter && (ob._nextWaiter=jb(ob));eb.timeout();},hb));this._waiters[yb]=function(Oa){clearTimeout(Ea);setTimeout(function(){eb.result(Oa);},0);};this._nextWaiter || (this._nextWaiter=yb);}},ob);return yb;},add:function(hb){var eb;if(this._nextWaiter){eb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=jb(this);eb.call(this,hb);}else this._queue.push(hb);}});})();(function(){var lb;lb=0 - Tb;pe=Hb.Class.create({nextBoolean:function(){var jb;jb=new Uint8Array(1);Bc.getRandomValues(jb);return jb[0] & 1?!0:!1;},nextInt:function(jb){var hb;if(null !== jb && jb !== Gb){if("number" !== typeof jb)throw new TypeError("n must be of type number");if(1 > jb)throw new RangeError("n must be greater than zero");--jb;hb=new Uint8Array(4);Bc.getRandomValues(hb);return Math.floor(((hb[3] & 127) << 24 | hb[2] << 16 | hb[1] << 8 | hb[0]) / 2147483648 * (jb - 0 + 1));}jb=new Uint8Array(4);Bc.getRandomValues(jb);hb=(jb[3] & 127) << 24 | jb[2] << 16 | jb[1] << 8 | jb[0];return jb[3] & 128?-hb:hb;},nextLong:function(){var hb;for(var jb=lb;jb == lb;){jb=new Uint8Array(7);Bc.getRandomValues(jb);hb=16777216 * ((jb[6] & 31) << 24 | jb[5] << 16 | jb[4] << 8 | jb[3]) + (jb[2] << 16 | jb[1] << 8 | jb[0]);jb=jb[6] & 128?-hb - 1:hb;}return jb;},nextBytes:function(jb){Bc.getRandomValues(jb);}});})();(function(){function lb(eb){return eb == Tb?1:eb + 1;}function jb(eb){if(0 === Object.keys(eb._waitingReaders).length)return 0;for(var ob=lb(eb._nextReader);!eb._waitingReaders[ob];)ob=lb(ob);return ob;}function hb(eb){if(0 === Object.keys(eb._waitingWriters).length)return 0;for(var ob=lb(eb._nextWriter);!eb._waitingWriters[ob];)ob=lb(ob);return ob;}Fd=Hb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var ob;if(this._waitingReaders[eb]){ob=this._waitingReaders[eb];delete this._waitingReaders[eb];eb == this._nextReader && (this._nextReader=jb(this));ob.call(this,!0);}this._waitingWriters[eb] && (ob=this._waitingWriters[eb],delete this._waitingWriters[eb],eb == this._nextWriter && (this._nextWriter=hb(this)),ob.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;)this.cancel(this._nextWriter);for(;0 !== this._nextReader;)this.cancel(this._nextReader);},readLock:function(eb,ob){var yb,mb;yb=this;mb=lb(this._lastNumber);this._lastNumber=mb;gb(ob,function(){var Ea;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[mb]=!0,mb);-1 != eb && (Ea=setTimeout(function(){delete yb._waitingReaders[mb];mb == yb._nextReader && (yb._nextReader=jb(yb));ob.timeout();},eb));this._waitingReaders[mb]=function(Oa){clearTimeout(Ea);Oa?setTimeout(function(){ob.result(Gb);},0):(yb._readers[mb]=!0,setTimeout(function(){ob.result(mb);},0));};this._nextReader || (this._nextReader=mb);},yb);return mb;},writeLock:function(eb,ob){var yb,mb;yb=this;mb=lb(this._lastNumber);this._lastNumber=mb;gb(ob,function(){var Ea;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=mb;-1 != eb && (Ea=setTimeout(function(){delete yb._waitingWriters[mb];mb == yb._nextWriter && (yb._nextWriter=hb(yb));ob.timeout();},eb));this._waitingWriters[mb]=function(Oa){clearTimeout(Ea);Oa?setTimeout(function(){ob.result(Gb);},0):(yb._writer=mb,setTimeout(function(){ob.result(mb);},0));};this._nextWriter || (this._nextWriter=mb);},yb);return mb;},unlock:function(eb){if(eb == this._writer)this._writer=null;else {if(!this._readers[eb])throw new Bb("There is no reader or writer with ticket number " + eb + ".");delete this._readers[eb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (eb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=hb(this),eb.call(this,!1));else {for(var ob=this._nextReader;0 < Object.keys(this._waitingReaders).length;ob=lb(ob))this._waitingReaders[ob] && (eb=this._waitingReaders[ob],delete this._waitingReaders[ob],eb.call(this,!1));this._nextReader=0;}}});})();Hb.Class.mixin(T,{JSON_PARSE_ERROR:new T(0,Ia.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new T(1,Ia.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new T(2,Ia.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new T(3,Ia.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new T(4,Ia.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new T(5,Ia.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new T(6,Ia.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new T(7,Ia.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new T(8,Ia.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new T(9,Ia.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new T(10,Ia.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new T(11,Ia.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new T(12,Ia.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new T(13,Ia.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new T(14,Ia.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new T(15,Ia.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new T(16,Ia.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new T(17,Ia.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new T(18,Ia.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new T(19,Ia.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new T(20,Ia.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new T(21,Ia.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new T(22,Ia.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new T(23,Ia.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new T(24,Ia.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new T(25,Ia.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new T(26,Ia.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new T(27,Ia.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new T(28,Ia.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new T(29,Ia.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new T(30,Ia.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new T(31,Ia.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new T(32,Ia.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new T(33,Ia.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new T(34,Ia.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new T(35,Ia.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new T(36,Ia.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new T(37,Ia.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new T(38,Ia.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new T(39,Ia.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new T(40,Ia.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new T(41,Ia.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new T(42,Ia.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new T(43,Ia.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new T(44,Ia.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new T(45,Ia.FAIL,"Error exporting key."),DIGEST_ERROR:new T(46,Ia.FAIL,"Error in digest."),UNSUPPORTED_KEY:new T(47,Ia.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new T(48,Ia.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new T(49,Ia.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new T(50,Ia.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new T(51,Ia.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new T(52,Ia.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new T(53,Ia.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new T(54,Ia.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new T(55,Ia.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new T(56,Ia.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new T(57,Ia.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new T(58,Ia.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new T(59,Ia.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new T(60,Ia.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new T(61,Ia.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new T(62,Ia.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new T(1E3,Ia.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new T(1001,Ia.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new T(1002,Ia.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new T(1003,Ia.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new T(1004,Ia.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(1005,Ia.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new T(1006,Ia.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new T(1007,Ia.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new T(1008,Ia.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new T(1009,Ia.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new T(1010,Ia.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new T(1011,Ia.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new T(1012,Ia.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new T(1013,Ia.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new T(1014,Ia.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new T(2E3,Ia.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new T(2001,Ia.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new T(2002,Ia.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new T(2003,Ia.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new T(2004,Ia.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new T(2005,Ia.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(2006,Ia.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(2007,Ia.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new T(2008,Ia.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new T(2009,Ia.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new T(2010,Ia.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new T(2011,Ia.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new T(2012,Ia.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new T(2013,Ia.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new T(2014,Ia.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new T(2015,Ia.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new T(2016,Ia.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new T(2017,Ia.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new T(2018,Ia.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new T(2019,Ia.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new T(2020,Ia.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new T(3E3,Ia.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new T(3001,Ia.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new T(3002,Ia.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new T(3003,Ia.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new T(3004,Ia.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(3005,Ia.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(3006,Ia.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new T(3007,Ia.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new T(3008,Ia.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new T(3009,Ia.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new T(4E3,Ia.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new T(4001,Ia.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new T(4002,Ia.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new T(4003,Ia.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new T(4004,Ia.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new T(4005,Ia.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new T(4006,Ia.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new T(4007,Ia.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new T(4008,Ia.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new T(4009,Ia.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new T(4010,Ia.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new T(4011,Ia.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new T(4012,Ia.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new T(4013,Ia.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new T(4014,Ia.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new T(4015,Ia.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new T(4016,Ia.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new T(4017,Ia.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new T(4018,Ia.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new T(4019,Ia.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new T(4020,Ia.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new T(4021,Ia.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new T(4022,Ia.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new T(4023,Ia.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new T(4024,Ia.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new T(4025,Ia.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new T(4026,Ia.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new T(5E3,Ia.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new T(5001,Ia.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new T(5002,Ia.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new T(5003,Ia.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new T(5004,Ia.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new T(5005,Ia.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new T(5006,Ia.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new T(5007,Ia.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new T(5008,Ia.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new T(5009,Ia.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new T(5010,Ia.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new T(5011,Ia.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new T(5012,Ia.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new T(5013,Ia.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new T(5014,Ia.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new T(5015,Ia.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new T(5016,Ia.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new T(5017,Ia.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new T(5018,Ia.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new T(5019,Ia.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new T(5020,Ia.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new T(5021,Ia.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new T(5022,Ia.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new T(5023,Ia.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new T(5024,Ia.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new T(5025,Ia.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new T(5026,Ia.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new T(5027,Ia.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new T(5028,Ia.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new T(5029,Ia.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new T(5030,Ia.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new T(5031,Ia.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new T(5032,Ia.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new T(5033,Ia.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new T(5034,Ia.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new T(5035,Ia.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new T(5036,Ia.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new T(5037,Ia.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new T(5038,Ia.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new T(5039,Ia.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new T(5040,Ia.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new T(6E3,Ia.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new T(6001,Ia.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new T(6002,Ia.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new T(6003,Ia.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new T(6004,Ia.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new T(6005,Ia.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new T(6006,Ia.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new T(6007,Ia.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new T(6008,Ia.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new T(6009,Ia.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new T(6010,Ia.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new T(6011,Ia.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new T(6012,Ia.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new T(6013,Ia.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new T(6014,Ia.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new T(6015,Ia.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new T(6016,Ia.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new T(6017,Ia.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new T(6018,Ia.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new T(6019,Ia.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new T(6020,Ia.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new T(6021,Ia.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new T(6022,Ia.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new T(6023,Ia.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new T(6024,Ia.FAIL,"Invalid header data."),PAYLOAD_INVALID:new T(6025,Ia.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new T(6026,Ia.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new T(6027,Ia.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new T(6028,Ia.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new T(6029,Ia.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new T(6030,Ia.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new T(6031,Ia.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new T(6032,Ia.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new T(6033,Ia.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new T(6034,Ia.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new T(6035,Ia.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new T(6036,Ia.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new T(6037,Ia.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new T(7E3,Ia.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new T(7001,Ia.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new T(7002,Ia.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new T(7003,Ia.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new T(7004,Ia.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new T(7005,Ia.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new T(7006,Ia.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new T(7007,Ia.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new T(7008,Ia.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new T(7009,Ia.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new T(7010,Ia.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new T(7011,Ia.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new T(7012,Ia.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new T(7013,Ia.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new T(7014,Ia.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new T(7015,Ia.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new T(7016,Ia.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new T(8E3,Ia.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new T(8001,Ia.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new T(8002,Ia.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new T(8003,Ia.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new T(8004,Ia.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new T(8005,Ia.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new T(8006,Ia.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new T(8007,Ia.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new T(8008,Ia.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new T(8009,Ia.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new T(8010,Ia.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new T(8011,Ia.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new T(8012,Ia.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new T(9E3,Ia.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new T(9001,Ia.FAIL,"Error communicating with MSL entity."),NONE:new T(9999,Ia.FAIL,"Special unit test error.")});Object.freeze(T);(function(){ib=Hb.Class.create(Error());ib.mixin({init:function(lb,jb,hb){var ob,yb,mb;function eb(){return yb?yb:this.cause && this.cause instanceof ib?this.cause.messageId:Gb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ob=lb.message;jb && (ob+=" [" + jb + "]");mb=this.stack;Object.defineProperties(this,{message:{value:ob,writable:!1,configurable:!0},error:{value:lb,writable:!1,configurable:!0},cause:{value:hb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:eb,set:function(Ea){if(0 > Ea || Ea > Tb)throw new RangeError("Message ID " + Ea + " is outside the valid range.");eb() || (yb=Ea);},configurable:!0},stack:{get:function(){var Ea;Ea=this.toString();mb && (Ea+="\n" + mb);hb && hb.stack && (Ea+="\nCaused by " + hb.stack);return Ea;},configurable:!0}});},setEntity:function(lb){!lb || this.masterToken || this.entityAuthenticationData || (lb instanceof jc?this.masterToken=lb:lb instanceof Lc && (this.entityAuthenticationData=lb));return this;},setUser:function(lb){!lb || this.userIdToken || this.userAuthenticationData || (lb instanceof Tc?this.userIdToken=lb:lb instanceof $c && (this.userAuthenticationData=lb));return this;},setMessageId:function(lb){this.messageId=lb;return this;},toString:function(){return this.name + ": " + this.message;}});})();zb=ib.extend({init:function ob(jb,hb,eb){ob.base.call(this,jb,hb,eb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Jb=ib.extend({init:function yb(hb,eb,ob){yb.base.call(this,hb,eb,ob);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=ib.extend({init:function mb(eb,ob,yb){mb.base.call(this,eb,ob,yb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Hb.Class.create(Error());kc.mixin({init:function(eb,ob,yb){var mb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);mb=this.stack;Object.defineProperties(this,{message:{value:eb,writable:!1,configurable:!1},cause:{value:ob,writable:!1,configurable:!1},requestCause:{value:yb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ea;Ea=this.toString();mb && (Ea+="\n" + mb);ob && ob.stack && (Ea+="\nCaused by " + ob.stack);return Ea;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Zb=Hb.Class.create(Error());Zb.mixin({init:function(eb,ob){var yb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);yb=this.stack;Object.defineProperties(this,{message:{value:eb,writable:!1,configurable:!1},cause:{value:ob,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var mb;mb=this.toString();yb && (mb+="\n" + yb);ob && ob.stack && (mb+="\nCaused by " + ob.stack);return mb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Bb=Hb.Class.create(Error());Bb.mixin({init:function(eb,ob){var yb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);yb=this.stack;Object.defineProperties(this,{message:{value:eb,writable:!1,configurable:!1},cause:{value:ob,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var mb;mb=this.toString();yb && (mb+="\n" + yb);ob && ob.stack && (mb+="\nCaused by " + ob.stack);return mb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){cc=Hb.Class.create(Error());cc.mixin({init:function(eb,ob){var yb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);yb=this.stack;Object.defineProperties(this,{message:{value:eb,writable:!1,configurable:!1},cause:{value:ob,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var mb;mb=this.toString();yb && (mb+="\n" + yb);ob && ob.stack && (mb+="\nCaused by " + ob.stack);return mb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Vb=ib.extend({init:function Ea(ob,yb,mb){Ea.base.call(this,ob,yb,mb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});ad=ib.extend({init:function Ea(yb,mb){Ea.base.call(this,yb);Object.defineProperties(this,{masterToken:{value:mb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ob=ib.extend({init:function Sa(mb,Ea,Oa){Sa.base.call(this,mb,Ea,Oa);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=ib.extend({init:function va(Ea,Oa,Sa){va.base.call(this,Ea,Oa,Sa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ka;function Ea(da){return "undefined" === typeof da?!1:da;}function Oa(da){return da && da.length?(dc === ka.V2014_02 && (da=da.map(function(Y){return "wrap" == Y?"wrapKey":"unwrap" == Y?"unwrapKey":Y;})),da):dc === ka.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Sa(da,Y,U,W,ba){return Promise.resolve().then(function(){return Wb.importKey(da,Y,U,W,ba);}).catch(function(X){var fa;if("spki" !== da && "pkcs8" !== da)throw X;X=ASN1.webCryptoAlgorithmToJwkAlg(U);fa=ASN1.webCryptoUsageToJwkKeyOps(ba);X=ASN1.rsaDerToJwk(Y,X,fa,W);if(!X)throw Error("Could not make valid JWK from DER input");X=JSON.stringify(X);return Wb.importKey("jwk",Bd(X),U,W,ba);});}function va(da,Y){return Promise.resolve().then(function(){return Wb.exportKey(da,Y);}).catch(function(U){if("spki" !== da && "pkcs8" !== da)throw U;return Wb.exportKey("jwk",Y).then(function(W){W=JSON.parse(Ad(new Uint8Array(W)));W=ASN1.jwkToRsaDer(W);if(!W)throw Error("Could not make valid DER from JWK input");return W.getDer().buffer;});});}ka=md={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(md);dc=ka.LATEST;Sb={encrypt:function(da,Y,U){switch(dc){case ka.LEGACY:return new Promise(function(W,ba){var X;X=Wb.encrypt(da,Y,U);X.oncomplete=function(fa){W(fa.target.result);};X.onerror=function(fa){ba(fa);};});case ka.V2014_01:case ka.V2014_02:return Wb.encrypt(da,Y,U).then(function(W){return new Uint8Array(W);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(da,Y,U){switch(dc){case ka.LEGACY:return new Promise(function(W,ba){var X;X=Wb.decrypt(da,Y,U);X.oncomplete=function(fa){W(fa.target.result);};X.onerror=function(fa){ba(fa);};});case ka.V2014_01:case ka.V2014_02:return Wb.decrypt(da,Y,U).then(function(W){return new Uint8Array(W);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(da,Y,U){switch(dc){case ka.LEGACY:return new Promise(function(W,ba){var X;X=Wb.sign(da,Y,U);X.oncomplete=function(fa){W(fa.target.result);};X.onerror=function(fa){ba(fa);};});case ka.V2014_01:case ka.V2014_02:return Wb.sign(da,Y,U).then(function(W){return new Uint8Array(W);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(da,Y,U,W){switch(dc){case ka.LEGACY:return new Promise(function(ba,X){var fa;fa=Wb.verify(da,Y,U,W);fa.oncomplete=function(wa){ba(wa.target.result);};fa.onerror=function(wa){X(wa);};});case ka.V2014_01:case ka.V2014_02:return Wb.verify(da,Y,U,W);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(da,Y){switch(dc){case ka.LEGACY:return new Promise(function(U,W){var ba;ba=Wb.digest(da,Y);ba.oncomplete=function(X){U(X.target.result);};ba.onerror=function(X){W(X);};});case ka.V2014_01:case ka.V2014_02:return Wb.digest(da,Y).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(da,Y,U){var W,ba;W=Ea(Y);ba=Oa(U);switch(dc){case ka.LEGACY:return new Promise(function(X,fa){var wa;wa=Wb.generateKey(da,W,ba);wa.oncomplete=function(sa){X(sa.target.result);};wa.onerror=function(sa){fa(sa);};});case ka.V2014_01:case ka.V2014_02:return Wb.generateKey(da,W,ba);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(da,Y,U,W,ba){var X,fa;X=Ea(W);fa=Oa(ba);switch(dc){case ka.LEGACY:return new Promise(function(wa,sa){var ia;ia=Wb.deriveKey(da,Y,U,X,fa);ia.oncomplete=function(qa){wa(qa.target.result);};ia.onerror=function(qa){sa(qa);};});case ka.V2014_01:case ka.V2014_02:return Wb.deriveKey(da,Y,U,X,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(da,Y,U,W,ba){var X,fa;X=Ea(W);fa=Oa(ba);switch(dc){case ka.LEGACY:return new Promise(function(wa,sa){var ia;ia=Wb.importKey(da,Y,U,X,fa);ia.oncomplete=function(qa){wa(qa.target.result);};ia.onerror=function(qa){sa(qa);};});case ka.V2014_01:case ka.V2014_02:return Sa(da,Y,U,X,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(da,Y){switch(dc){case ka.LEGACY:return new Promise(function(U,W){var ba;ba=Wb.exportKey(da,Y);ba.oncomplete=function(X){U(X.target.result);};ba.onerror=function(X){W(X);};});case ka.V2014_01:case ka.V2014_02:return va(da,Y).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(da,Y,U,W){switch(dc){case ka.LEGACY:return new Promise(function(ba,X){var fa;fa=Wb.wrapKey(Y,U,W);fa.oncomplete=function(wa){ba(wa.target.result);};fa.onerror=function(wa){X(wa);};});case ka.V2014_01:case ka.V2014_02:return Wb.wrapKey(da,Y,U,W).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(da,Y,U,W,ba,X,fa){switch(dc){case ka.LEGACY:return new Promise(function(wa,sa){var ia;ia=Wb.unwrapKey(Y,ba,U);ia.oncomplete=function(qa){wa(qa.target.result);};ia.onerror=function(qa){sa(qa);};});case ka.V2014_01:case ka.V2014_02:return Wb.unwrapKey(da,Y,U,W,ba,Ea(X),Oa(fa));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};kd && kd.getKeyByName && (Sb.getKeyByName=function(da){switch(dc){case ka.LEGACY:return new Promise(function(Y,U){var W;W=kd.getKeyByName(da);W.oncomplete=function(ba){Y(ba.target.result);};W.onerror=function(ba){U(ba);};});case ka.V2014_01:case ka.V2014_02:return kd.getKeyByName(da);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});qb.netflix=qb.netflix || ({});qb.netflix.crypto=Sb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};nd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Gd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Hd=Hb.Class.create({init:function(Ea,Oa,Sa){var ka;function va(da){Qa(Oa,function(){var Y;Y=da?Lb(da):Gb;Object.defineProperties(ka,{rawKey:{value:Ea,writable:!1,configurable:!1},keyData:{value:da,writable:!1,configurable:!1},keyDataB64:{value:Y,writable:!1,configurable:!1}});return this;},ka);}ka=this;Qa(Oa,function(){if(!Ea || "object" != typeof Ea)throw new zb(T.INVALID_SYMMETRIC_KEY);!Sa && Ea.extractable?Sb.exportKey("raw",Ea).then(function(da){va(new Uint8Array(da));},function(da){Oa.error(new zb(T.KEY_EXPORT_ERROR,"raw"));}):va(Sa);},ka);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});bd=function(Ea,Oa){new Hd(Ea,Oa);};tc=function(Ea,Oa,Sa,va){Qa(va,function(){try{Ea="string" == typeof Ea?Mb(Ea):Ea;}catch(ka){throw new zb(T.INVALID_SYMMETRIC_KEY,"keydata " + Ea,ka);}Sb.importKey("raw",Ea,Oa,!0,Sa).then(function(ka){new Hd(ka,va,Ea);},function(ka){va.error(new zb(T.INVALID_SYMMETRIC_KEY));});});};})();(function(){od=Hb.Class.create({init:function(Ea,Oa,Sa){var ka;function va(da){Qa(Oa,function(){Object.defineProperties(ka,{rawKey:{value:Ea,writable:!1,configurable:!1},encoded:{value:da,writable:!1,configurable:!1}});return this;},ka);}ka=this;Qa(Oa,function(){if(!Ea || "object" != typeof Ea || "public" != Ea.type)throw new TypeError("Only original public crypto keys are supported.");!Sa && Ea.extractable?Sb.exportKey("spki",Ea).then(function(da){va(new Uint8Array(da));},function(da){Oa.error(new zb(T.KEY_EXPORT_ERROR,"spki"));}):va(Sa);});},getEncoded:function(){return this.encoded;}});Jc=function(Ea,Oa){new od(Ea,Oa);};Id=function(Ea,Oa,Sa,va){Qa(va,function(){try{Ea="string" == typeof Ea?Mb(Ea):Ea;}catch(ka){throw new zb(T.INVALID_PUBLIC_KEY,"spki " + Ea,ka);}Sb.importKey("spki",Ea,Oa,!0,Sa).then(function(ka){new od(ka,va,Ea);},function(ka){va.error(new zb(T.INVALID_PUBLIC_KEY));});});};})();(function(){re=Hb.Class.create({init:function(Ea,Oa,Sa){var ka;function va(da){Qa(Oa,function(){Object.defineProperties(ka,{rawKey:{value:Ea,writable:!1,configurable:!1},encoded:{value:da,writable:!1,configurable:!1}});return this;},ka);}ka=this;Qa(Oa,function(){if(!Ea || "object" != typeof Ea || "private" != Ea.type)throw new TypeError("Only original private crypto keys are supported.");!Sa && Ea.extractable?Sb.exportKey("pkcs8",Ea).then(function(da){va(new Uint8Array(da));},function(da){Oa.error(new zb(T.KEY_EXPORT_ERROR,"pkcs8"));}):va(Sa);});},getEncoded:function(){return this.encoded;}});Sc=function(Ea,Oa){new re(Ea,Oa);};})();(function(){var Ea;Ea=Md={V1:1,V2:2};Jd=Hb.Class.create({init:function(Oa,Sa,va,ka){Qa(ka,function(){var da,Y,U,W;da=Ea.V1;Y=Oa;U=null;for(W in ld)if(ld[W] == Oa){da=Ea.V2;Y=null;U=Oa;break;}Object.defineProperties(this,{version:{value:da,writable:!1,enumerable:!1,configurable:!1},keyId:{value:Y,writable:!1,configurable:!1},cipherSpec:{value:U,writable:!1,configurable:!1},iv:{value:Sa,writable:!1,configurable:!1},ciphertext:{value:va,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Oa;Oa={};switch(this.version){case Ea.V1:Oa.keyid=this.keyId;this.iv && (Oa.iv=Lb(this.iv));Oa.ciphertext=Lb(this.ciphertext);Oa.sha256="AA==";break;case Ea.V2:Oa.version=this.version;Oa.cipherspec=this.cipherSpec;this.iv && (Oa.iv=Lb(this.iv));Oa.ciphertext=Lb(this.ciphertext);break;default:throw new Bb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Oa;}});Kd=function(Oa,Sa,va,ka){new Jd(Oa,Sa,va,ka);};Ld=function(Oa,Sa,va){Qa(va,function(){var ka,da,Y,U,W,ba,X;ka=Oa.keyid;da=Oa.cipherspec;Y=Oa.iv;U=Oa.ciphertext;W=Oa.sha256;if(!Sa)if((Sa=Oa.version) && "number" === typeof Sa && Sa === Sa){ba=!1;for(X in Ea)if(Ea[X] == Sa){ba=!0;break;}if(!ba)throw new zb(T.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));}else Sa=Ea.V1;switch(Sa){case Ea.V1:if("string" !== typeof ka || Y && "string" !== typeof Y || "string" !== typeof U || "string" !== typeof W)throw new Jb(T.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Oa));break;case Ea.V2:X=Oa.version;if(X != Ea.V2)throw new zb(T.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));if("string" !== typeof da || Y && "string" !== typeof Y || "string" !== typeof U)throw new Jb(T.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Oa));da=ne(da);if(!da)throw new zb(T.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Oa));ka=da;break;default:throw new zb(T.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));}try{Y && (Y=Mb(Y));U=Mb(U);}catch(fa){throw new zb(T.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Oa),fa);}new Jd(ka,Y,U,va);});};})();(function(){var Ea;Ea=Pd={V1:1,V2:2};uc=Hb.Class.create({init:function(Oa,Sa,va){var ka;switch(Oa){case Ea.V1:ka=va;break;case Ea.V2:ka={};ka.version=Oa;ka.algorithm=Sa;ka.signature=Lb(va);ka=fc(JSON.stringify(ka),Ub);break;default:throw new Bb("Signature envelope version " + Oa + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Oa,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Sa,writable:!1,configurable:!1},signature:{value:va,writable:!1,configurable:!1},bytes:{value:ka,writable:!1,configurable:!1}});}});Nd=function(){var Oa,Sa,va,ka;if(2 == arguments.length){Oa=Ea.V1;Sa=arguments[0];va=null;ka=arguments[1];}else 3 == arguments.length && (Oa=Ea.V2,va=arguments[0],Sa=arguments[1],ka=arguments[2]);Qa(ka,function(){return new uc(Oa,va,Sa);});};Od=function(Oa,Sa,va){Qa(va,function(){var ka,da,Y,U,W,ba,X;if(Sa)switch(Sa){case Ea.V1:return new uc(Ea.V1,null,Oa);case Ea.V2:try{ka=ec(Oa,Ub);da=JSON.parse(ka);Y=parseInt(da.version);U=da.algorithm;W=da.signature;if(!Y || "number" !== typeof Y || Y != Y || "string" !== typeof U || "string" !== typeof W)throw new Jb(T.JSON_PARSE_ERROR,"signature envelope " + Lb(Oa));if(Ea.V2 != Y)throw new zb(T.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Lb(Oa));ba=Ed(U);if(!ba)throw new zb(T.UNIDENTIFIED_ALGORITHM,"signature envelope " + Lb(Oa));X=Mb(W);if(!X)throw new zb(T.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Oa));return new uc(Ea.V2,ba,X);}catch(fa){if(fa instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"signature envelope " + Lb(Oa),fa);throw fa;}default:throw new zb(T.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Lb(Oa));}try{ka=ec(Oa,Ub);da=JSON.parse(ka);}catch(fa){da=null;}if(da && da.version){if((ka=da.version,"number" !== typeof ka || ka !== ka))ka=Ea.V1;}else ka=Ea.V1;switch(ka){case Ea.V1:return new uc(ka,null,Oa);case Ea.V2:ba=da.algorithm;W=da.signature;if("string" !== typeof ba || "string" !== typeof W)return new uc(Ea.V1,null,Oa);ba=Ed(ba);if(!ba)return new uc(Ea.V1,null,Oa);try{X=Mb(W);}catch(fa){return new uc(Ea.V1,null,Oa);}return new uc(ka,ba,X);default:throw new zb(T.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Oa);}});};})();Uc=Hb.Class.create({encrypt:function(Ea,Oa){},decrypt:function(Ea,Oa){},wrap:function(Ea,Oa){},unwrap:function(Ea,Oa,Sa,va){},sign:function(Ea,Oa){},verify:function(Ea,Oa,Sa){}});(function(){var Ea;Ea=wc={RSA_OAEP:nd.name,A128KW:sc.name};qc="A128GCM";vc=Hb.Class.create({init:function(Oa,Sa,va,ka,da){switch(Sa){case Ea.RSA_OAEP:da=da && (da.rawKey || da);ka=ka && (ka.rawKey || ka);break;case Ea.A128KW:da=ka=ka && (ka.rawKey || ka);break;default:throw new Bb("Unsupported algorithm: " + Sa);}Object.defineProperties(this,{_ctx:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:va,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:da,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Oa,Sa){Sa.error(new zb(T.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Oa,Sa){Sa.error(new zb(T.DECRYPT_NOT_SUPPORTED));},wrap:function(Oa,Sa){Qa(Sa,function(){Sb.wrapKey("jwe+jwk",Oa.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(va){Sa.result(va);},function(va){Sa.error(new zb(T.WRAP_ERROR));});},this);},unwrap:function(Oa,Sa,va,ka){function da(Y){Qa(ka,function(){switch(Y.type){case "secret":bd(Y,ka);break;case "public":Jc(Y,ka);break;case "private":Sc(Y,ka);break;default:throw new zb(T.UNSUPPORTED_KEY,"type: " + Y.type);}});}Qa(ka,function(){Sb.unwrapKey("jwe+jwk",Oa,this._unwrapKey,this._unwrapKey.algorithm,Sa,!1,va).then(function(Y){da(Y);},function(){ka.error(new zb(T.UNWRAP_ERROR));});},this);},sign:function(Oa,Sa){Sa.error(new zb(T.SIGN_NOT_SUPPORTED));},verify:function(Oa,Sa,va){va.error(new zb(T.VERIFY_NOT_SUPPORTED));}});})();Vc=Uc.extend({encrypt:function(Ea,Oa){Oa.result(Ea);},decrypt:function(Ea,Oa){Oa.result(Ea);},wrap:function(Ea,Oa){Oa.result(Ea);},unwrap:function(Ea,Oa,Sa,va){va.result(Ea);},sign:function(Ea,Oa){Oa.result(new Uint8Array(0));},verify:function(Ea,Oa,Sa){Sa.result(!0);}});(function(){var Ea;Ea=qd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};pd=Uc.extend({init:function U(Sa,va,ka,da,Y){U.base.call(this);ka && (ka=ka.rawKey);da && (da=da.rawKey);Object.defineProperties(this,{id:{value:va,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ka,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:da,writable:!1,enumerable:!1,configurable:!1},transform:{value:Y == Ea.ENCRYPT_DECRYPT_PKCS1?Gd:Y == Ea.ENCRYPT_DECRYPT_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:Y == Ea.WRAP_UNWRAP_PKCS1?Gd:Y == Ea.WRAP_UNWRAP_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:Y == Ea.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Sa,va){var ka;ka=this;Qa(va,function(){if("nullOp" == this.transform)return Sa;if(!this.publicKey)throw new zb(T.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Sa.length)return Sa;Sb.encrypt(ka.transform,ka.publicKey,Sa).then(function(da){Kd(ka.id,null,da,{result:function(Y){var U;try{U=JSON.stringify(Y);va.result(fc(U,Ub));}catch(W){va.error(new zb(T.ENCRYPT_ERROR,null,W));}},error:function(Y){Y instanceof ib || (Y=new zb(T.ENCRYPT_ERROR,null,Y));va.error(Y);}});},function(da){va.error(new zb(T.ENCRYPT_ERROR));});},this);},decrypt:function(Sa,va){var ka;ka=this;Qa(va,function(){var da,Y;if("nullOp" == this.transform)return Sa;if(!this.privateKey)throw new zb(T.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Sa.length)return Sa;try{da=ec(Sa,Ub);Y=JSON.parse(da);}catch(U){if(U instanceof SyntaxError)throw new zb(T.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,U);throw new zb(T.DECRYPT_ERROR,null,U);}Ld(Y,Md.V1,{result:function(U){var W;try{if(U.keyId != ka.id)throw new zb(T.ENVELOPE_KEY_ID_MISMATCH);W=va.result;Sb.decrypt(ka.transform,ka.privateKey,U.ciphertext).then(W,function(ba){va.error(new zb(T.DECRYPT_ERROR));});}catch(ba){ba instanceof ib?va.error(ba):va.error(new zb(T.DECRYPT_ERROR,null,ba));}},error:function(U){U instanceof Jb && (U=new zb(T.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,U));U instanceof ib || (U=new zb(T.DECRYPT_ERROR,null,U));va.error(U);}});},this);},wrap:function(Sa,va){Qa(va,function(){var ka;if("nullOp" == this.wrapTransform || !this.publicKey)throw new zb(T.WRAP_NOT_SUPPORTED,"no public key");ka=va.result;Sb.wrapKey("jwk",Sa.rawKey,this.publicKey,this.wrapTransform).then(ka,function(da){va.error(new zb(T.WRAP_ERROR));});},this);},unwrap:function(Sa,va,ka,da){function Y(U){Qa(da,function(){switch(U.type){case "secret":bd(U,da);break;case "public":Jc(U,da);break;case "private":Sc(U,da);break;default:throw new zb(T.UNSUPPORTED_KEY,"type: " + U.type);}});}Qa(da,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new zb(T.UNWRAP_NOT_SUPPORTED,"no private key");Sb.unwrapKey("jwk",Sa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},va,!1,ka).then(Y,function(U){da.error(new zb(T.UNWRAP_ERROR));});},this);},sign:function(Sa,va){Qa(va,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new zb(T.SIGN_NOT_SUPPORTED,"no private key");Sb.sign(this.algo,this.privateKey,Sa).then(function(ka){Nd(ka,{result:function(da){va.result(da.bytes);},error:va.error});},function(ka){va.error(new zb(T.SIGNATURE_ERROR));});},this);},verify:function(Sa,va,ka){var da;da=this;Qa(ka,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new zb(T.VERIFY_NOT_SUPPORTED,"no public key");Od(va,Pd.V1,{result:function(Y){Qa(ka,function(){var U;U=ka.result;Sb.verify(this.algo,this.publicKey,Y.signature,Sa).then(U,function(W){ka.error(new zb(T.SIGNATURE_ERROR));});},da);},error:ka.error});},this);}});})();(function(){rd=Uc.extend({init:function Y(Oa,Sa,va,ka,da){Y.base.call(this);va=va && va.rawKey;ka=ka && ka.rawKey;da=da && da.rawKey;Object.defineProperties(this,{ctx:{value:Oa,writable:!1,enumerable:!1,configurable:!1},id:{value:Sa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ka,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:da,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Oa,Sa){var va;va=this;Qa(Sa,function(){var ka;if(!this.encryptionKey)throw new zb(T.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Oa.length)return Oa;ka=new Uint8Array(16);this.ctx.getRandom().nextBytes(ka);Sb.encrypt({name:oc.name,iv:ka},va.encryptionKey,Oa).then(function(da){da=new Uint8Array(da);Kd(va.id,ka,da,{result:function(Y){var U;try{U=JSON.stringify(Y);Sa.result(fc(U,Ub));}catch(W){Sa.error(new zb(T.ENCRYPT_ERROR,null,W));}},error:function(Y){Y instanceof ib || (Y=new zb(T.ENCRYPT_ERROR,null,Y));Sa.error(Y);}});},function(da){Sa.error(new zb(T.ENCRYPT_ERROR));});},this);},decrypt:function(Oa,Sa){var va;va=this;Qa(Sa,function(){var ka,da;if(!this.encryptionKey)throw new zb(T.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Oa.length)return Oa;try{ka=ec(Oa,Ub);da=JSON.parse(ka);}catch(Y){if(Y instanceof SyntaxError)throw new zb(T.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Y);throw new zb(T.DECRYPT_ERROR,null,Y);}Ld(da,Md.V1,{result:function(Y){try{if(Y.keyId != va.id)throw new zb(T.ENVELOPE_KEY_ID_MISMATCH);Sb.decrypt({name:oc.name,iv:Y.iv},va.encryptionKey,Y.ciphertext).then(function(U){U=new Uint8Array(U);Sa.result(U);},function(){Sa.error(new zb(T.DECRYPT_ERROR));});}catch(U){U instanceof ib?Sa.error(U):Sa.error(new zb(T.DECRYPT_ERROR,null,U));}},error:function(Y){Y instanceof Jb && (Y=new zb(T.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Y));Y instanceof ib || (Y=new zb(T.DECRYPT_ERROR,null,Y));Sa.error(Y);}});},this);},wrap:function(Oa,Sa){Qa(Sa,function(){if(!this.wrapKey)throw new zb(T.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Sb.wrapKey("raw",Oa.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(va){Sa.result(va);},function(va){Sa.error(new zb(T.WRAP_ERROR));});},this);},unwrap:function(Oa,Sa,va,ka){function da(Y){Qa(ka,function(){switch(Y.type){case "secret":bd(Y,ka);break;case "public":Jc(Y,ka);break;case "private":Sc(Y,ka);break;default:throw new zb(T.UNSUPPORTED_KEY,"type: " + Y.type);}});}Qa(ka,function(){if(!this.wrapKey)throw new zb(T.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Sb.unwrapKey("raw",Oa,this.wrapKey,this.wrapKey.algorithm,Sa,!1,va).then(function(Y){da(Y);},function(Y){ka.error(new zb(T.UNWRAP_ERROR));});},this);},sign:function(Oa,Sa){var va;va=this;Qa(Sa,function(){if(!this.hmacKey)throw new zb(T.SIGN_NOT_SUPPORTED,"no HMAC key.");Sb.sign(pc,this.hmacKey,Oa).then(function(ka){Qa(Sa,function(){var da;da=new Uint8Array(ka);Nd(da,{result:function(Y){Sa.result(Y.bytes);},error:Sa.error});},va);},function(){Sa.error(new zb(T.HMAC_ERROR));});},this);},verify:function(Oa,Sa,va){var ka;ka=this;Qa(va,function(){if(!this.hmacKey)throw new zb(T.VERIFY_NOT_SUPPORTED,"no HMAC key.");Od(Sa,Pd.V1,{result:function(da){Qa(va,function(){Sb.verify(pc,this.hmacKey,da.signature,Oa).then(function(Y){va.result(Y);},function(Y){va.error(new zb(T.HMAC_ERROR));});},ka);},error:va.error});},this);}});})();mc=rd.extend({init:function Y(Oa,Sa,va,ka,da){if(va || ka || da)Y.base.call(this,Oa,va + "_" + Sa.sequenceNumber,ka,da,null);else {if(!Sa.isDecrypted())throw new ad(T.MASTERTOKEN_UNTRUSTED,Sa);Y.base.call(this,Oa,Sa.identity + "_" + Sa.sequenceNumber,Sa.encryptionKey,Sa.hmacKey,null);}}});rf=Uc.extend({encrypt:function(Oa,Sa){Sa.result(Oa);},decrypt:function(Oa,Sa){Sa.result(Oa);},wrap:function(Oa,Sa){Sa.error(new Bb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Oa,Sa,va,ka){ka.error(new Bb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Oa,Sa){Sa.result(new Uint8Array(0));},verify:function(Oa,Sa,va){va.result(!1);}});Xb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Xb);(function(){Lc=Hb.Class.create({init:function(Oa){Object.defineProperties(this,{scheme:{value:Oa,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Oa){return this === Oa?!0:Oa instanceof Lc?this.scheme == Oa.scheme:!1;},toJSON:function(){var Oa;Oa={};Oa.scheme=this.scheme;Oa.authdata=this.getAuthData();return Oa;}});se=function(Oa,Sa){var va,ka;va=Sa.scheme;ka=Sa.authdata;if(!va || !ka)throw new Jb(T.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Sa));if(!Xb[va])throw new rc(T.UNIDENTIFIED_ENTITYAUTH_SCHEME,va);Sa=Oa.getEntityAuthenticationFactory(va);if(!Sa)throw new rc(T.ENTITYAUTH_FACTORY_NOT_FOUND,va);return Sa.createData(Oa,ka);};})();sd=Hb.Class.create({init:function(Oa){Object.defineProperties(this,{scheme:{value:Oa,writable:!1,configurable:!1}});},createData:function(Oa,Sa){},getCryptoContext:function(Oa,Sa){}});(function(){xc=Lc.extend({init:function va(Sa){va.base.call(this,Xb.MGK);Object.defineProperties(this,{identity:{value:Sa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Sa;Sa={};Sa.identity=this.identity;return Sa;},equals:function ka(va){return this === va?!0:va instanceof xc?ka.base.call(this,this,va) && this.identity == va.identity:!1;}});te=function(va){var ka;ka=va.identity;if(!ka)throw new Jb(T.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(va));return new xc(ka);};})();sf=sd.extend({init:function va(Sa){va.base.call(this,Xb.MGK);Object.defineProperties(this,{localIdentity:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Sa,va){return te(va);},getCryptoContext:function(Sa,va){if(!(va instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(va) + ".");if(va.identity != this.localIdentity)throw new rc(T.ENTITY_NOT_FOUND,"mgk " + va.identity).setEntity(va);return new Vc();}});(function(){yc=Lc.extend({init:function ka(va){ka.base.call(this,Xb.PSK);Object.defineProperties(this,{identity:{value:va,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var va;va={};va.identity=this.identity;return va;},equals:function da(ka){return this === ka?!0:ka instanceof yc?da.base.call(this,this,ka) && this.identity == ka.identity:!1;}});ue=function(ka){var da;da=ka.identity;if(!da)throw new Jb(T.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ka));return new yc(da);};})();tf=sd.extend({init:function ka(va){ka.base.call(this,Xb.PSK);Object.defineProperties(this,{localIdentity:{value:va,writable:!1,enumerable:!1,configurable:!1}});},createData:function(va,ka){return ue(ka);},getCryptoContext:function(va,ka){if(!(ka instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ka) + ".");if(ka.getIdentity() != this.localIdentity)throw new rc(T.ENTITY_NOT_FOUND,"psk " + ka.identity).setEntity(ka);return new Vc();}});(function(){td=Lc.extend({init:function Y(ka,da){Y.base.call(this,Xb.RSA);Object.defineProperties(this,{identity:{value:ka,writable:!1,configurable:!1},publicKeyId:{value:da,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ka;ka={};ka.identity=this.identity;ka.pubkeyid=this.publicKeyId;return ka;},equals:function Y(da){return this === da?!0:da instanceof td?Y.base.call(this,this,da) && this.identity == da.identity && this.publicKeyId == da.publicKeyId:!1;}});ve=function(da){var Y,U;Y=da.identity;U=da.pubkeyid;if(!Y || "string" !== typeof Y || !U || "string" !== typeof U)throw new Jb(T.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(da));return new td(Y,U);};})();uf=sd.extend({init:function da(ka){da.base.call(this,Xb.RSA);Object.defineProperties(this,{store:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ka,da){return ve(da);},getCryptoContext:function(ka,da){var Y,U,W;if(!(da instanceof td))throw new Bb("Incorrect authentication data type " + da + ".");Y=da.identity;U=da.publicKeyId;W=this.store.getPublicKey(U);if(!W)throw new rc(T.RSA_PUBLICKEY_NOT_FOUND,U).setEntity(da);return new pd(ka,Y,null,W,qd.SIGN_VERIFY);}});(function(){Yc=Lc.extend({init:function Y(da){Y.base.call(this,Xb.NONE);Object.defineProperties(this,{identity:{value:da,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var da;da={};da.identity=this.identity;return da;},equals:function U(Y){return this === Y?!0:Y instanceof Yc?U.base.call(this,this,Y) && this.identity == Y.identity:!1;}});we=function(Y){var U;U=Y.identity;if(!U)throw new Jb(T.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(Y));return new Yc(U);};})();qf=sd.extend({init:function da(){da.base.call(this,Xb.NONE);},createData:function(da,Y){return we(Y);},getCryptoContext:function(da,Y){if(!(Y instanceof Yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(Y) + ".");return new Vc();}});vf=Hb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(da,Y){if(!(Y instanceof od))throw new Bb("Incorrect key data type " + Y + ".");this.rsaKeys[da]=Y;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(da){delete this.rsaKeys[da];},getPublicKey:function(da){return this.rsaKeys[da];}});Qd=Hb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(da,Y,U){}});ud=Hb.Class.create({abort:function(){},close:function(da,Y){},write:function(da,Y,U,W,ba){},flush:function(da,Y){}});wf=Hb.Class.create({init:function(da){Object.defineProperties(this,{_data:{value:da,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Zb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(da,Y,U){gb(U,function(){var W;if(this._closed)throw new Zb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == da && (da=this._data.length - this._currentPosition);W=this._data.subarray(this._currentPosition,this._currentPosition + da);this._currentPosition+=W.length;return W;},this);}});xf=Hb.Class.create({init:function(){var da;da={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},abort:function(){},close:function(da,Y){this._closed=!0;Y.result(!0);},write:function(da,Y,U,W,ba){gb(ba,function(){var X;if(this._closed)throw new Zb("Stream is already closed.");if(0 > Y)throw new RangeError("Offset cannot be negative.");if(0 > U)throw new RangeError("Length cannot be negative.");if(Y + U > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");X=da.subarray(Y,U);this._buffered.push(X);return X.length;},this);},flush:function(da,Y){var U;for(;0 < this._buffered.length;)if((da=this._buffered.shift(),this._result)){U=new Uint8Array(this._result.length + da.length);U.set(this._result);U.set(da,this._result.length);this._result=U;}else this._result=new Uint8Array(da);Y.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Hb.Class.create({getResponse:function(da,Y,U){}});(function(){var da,Y;da=ud.extend({init:function(U,W){U={_httpLocation:{value:U,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:W,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Zc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(U){this._timeout=U;},getResponse:function(U,W){var ba;ba=this;this._responseQueue.poll(U,{result:function(X){gb(W,function(){X && this._responseQueue.add(X);return X;},ba);},timeout:function(){gb(W,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();W.timeout();},ba);},error:function(X){gb(W,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw X;},ba);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(U,W){var ba;ba=this;gb(W,function(){var X;if(this._response)return !0;X=this._buffer.toByteArray();0 < X.length && (this._abortToken=this._httpLocation.getResponse({body:X},this._timeout,{result:function(fa){ba._response={response:fa};ba._responseQueue.add(ba._response);},timeout:function(){ba._response={isTimeout:!0};ba._responseQueue.add(ba._response);},error:function(fa){ba._response={isError:!0,error:fa};ba._responseQueue.add(ba._response);}}));return !0;},this);},write:function(U,W,ba,X,fa){gb(fa,function(){if(this._response)throw new Zb("HttpOutputStream already closed.");this._buffer.write(U,W,ba,X,fa);},this);},flush:function(U,W){gb(W,function(){if(this._response)return !0;this._buffer.flush(U,W);},this);}});Y=Qd.extend({init:function(U){Object.defineProperties(this,{_out:{value:U,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(U,W,ba){var fa;function X(wa){gb(ba,function(){if(!wa)return new Uint8Array(0);this._out.getResponse(W,{result:function(sa){gb(ba,function(){var ia;if(sa.isTimeout)(this._timedout=!0,ba.timeout());else {if(sa.isError)throw (this._exception=sa.error || new Zb("Unknown HTTP exception."),this._exception);if(!sa.response)throw (this._exception=new Zb("Missing HTTP response."),this._exception);sa.response.json !== Gb && (this._json=sa.response.json,this.getJSON=function(){return fa._json;});ia=sa.response.content || Bd("string" === typeof sa.response.body?sa.response.body:JSON.stringify(this._json));this._buffer=new wf(ia);this._buffer.read(U,W,ba);}},fa);},timeout:function(){ba.timeout();},error:function(sa){ba.error(sa);}});},fa);}fa=this;gb(ba,function(){if(this._exception)throw this._exception;if(this._timedout)ba.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(U,W,ba):this._out.close(W,{result:function(wa){X(wa);},timeout:function(){ba.timeout();},error:function(wa){ba.error(wa);}});}},fa);}});he=Hb.Class.create({init:function(U,W){Object.defineProperties(this,{_httpLocation:{value:U,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:W,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(U){this._timeout=U;},openConnection:function(){var U;U=new da(this._httpLocation,this._timeout);return {input:new Y(U),output:U};}});})();(function(){var da,Y;da=ud.extend({init:function(){var U;U={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(){},getResponse:function(U,W){W.result({success:!1,content:null,errorHttpCode:Gb,errorSubCode:Gb});},abort:function(){},close:function(U,W){W.result(!0);},write:function(U,W,ba,X,fa){var wa,sa;try{if(0 > W)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(W + ba > U.length)throw new RangeError("Offset plus length cannot be greater than the array length.");wa=U.subarray(W,ba);sa=new Uint8Array(this._buffer.length + wa.length);sa.set(this._buffer);sa.set(wa,this._buffer.length);this._buffer=sa;fa.result(wa.length);}catch(ia){fa.error(ia);}},flush:function(U,W){W.result(!0);},request:function(){return this._buffer;}});Y=Qd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(U,W,ba){ba.result(new Uint8Array(16));}});ie=Hb.Class.create({init:function(){var U;U={output:{value:new da(),writable:!1,enumerable:!1,configurable:!1},input:{value:new Y(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();xe=function(da,Y,U){(function(W,ba,X){W.read(-1,ba,{result:function(fa){fa && fa.length?X(null,fa):X(null,null);},timeout:function(){U.timeout();},error:function(fa){X(fa,null);}});})(da,Y,function(W,ba){var X,fa;if(W)U.error(W);else if(ba){if(da.getJSON !== Gb && "function" === typeof da.getJSON)U.result(da.getJSON());else {W=U.result;ba=new zf(ec(ba,"utf-8"));X=[];for(fa=ba.nextValue();fa !== Gb;)(X.push(fa),fa=ba.nextValue());W.call(U,X);}}else U.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){cd=Hb.Class.create({init:function(da){Object.defineProperties(this,{keyExchangeScheme:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var da;da={};da.scheme=this.keyExchangeScheme;da.keydata=this.getKeydata();return da;},equals:function(da){return this === da?!0:da instanceof cd?this.keyExchangeScheme == da.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(da,Y,U){Qa(U,function(){var W,ba,X;W=Y.scheme;ba=Y.keydata;if(!W || !ba || "object" !== typeof ba)throw new Jb(T.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(Y));if(!lc[W])throw new Vb(T.UNIDENTIFIED_KEYX_SCHEME,W);X=da.getKeyExchangeFactory(W);if(!X)throw new Vb(T.KEYX_FACTORY_NOT_FOUND,W);X.createRequestData(da,ba,U);});};})();(function(){dd=Hb.Class.create({init:function(da,Y){Object.defineProperties(this,{masterToken:{value:da,writable:!1,configurable:!1},keyExchangeScheme:{value:Y,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var da;da={};da.mastertoken=this.masterToken;da.scheme=this.keyExchangeScheme;da.keydata=this.getKeydata();return da;},equals:function(da){return this === da?!0:da instanceof dd?this.masterToken.equals(da.masterToken) && this.keyExchangeScheme == da.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(da,Y,U){Qa(U,function(){var W,ba,X;W=Y.mastertoken;ba=Y.scheme;X=Y.keydata;if(!ba || !W || "object" !== typeof W || !X || "object" !== typeof X)throw new Jb(T.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(Y));if(!lc[ba])throw new Vb(T.UNIDENTIFIED_KEYX_SCHEME,ba);ed(da,W,{result:function(fa){Qa(U,function(){var wa;wa=da.getKeyExchangeFactory(ba);if(!wa)throw new Vb(T.KEYX_FACTORY_NOT_FOUND,ba);return wa.createResponseData(da,fa,X);});},error:function(fa){U.error(fa);}});});};})();(function(){var da;da=Hb.Class.create({init:function(Y,U){Object.defineProperties(this,{keyResponseData:{value:Y,writable:!1,configurable:!1},cryptoContext:{value:U,writable:!1,configurable:!1}});}});nc=Hb.Class.create({init:function(Y){Object.defineProperties(this,{scheme:{value:Y,writable:!1,configurable:!1}});},createRequestData:function(Y,U,W){},createResponseData:function(Y,U,W){},generateResponse:function(Y,U,W,ba){},getCryptoContext:function(Y,U,W,ba,X){},generateSessionKeys:function(Y,U){Qa(U,function(){var W,ba;W=new Uint8Array(16);ba=new Uint8Array(32);Y.getRandom().nextBytes(W);Y.getRandom().nextBytes(ba);tc(W,oc,Dc,{result:function(X){tc(ba,pc,Mc,{result:function(fa){U.result({encryptionKey:X,hmacKey:fa});},error:function(fa){U.error(new zb(T.SESSION_KEY_CREATION_FAILURE,null,fa));}});},error:function(X){U.error(new zb(T.SESSION_KEY_CREATION_FAILURE,null,X));}});});},importSessionKeys:function(Y,U,W){tc(Y,oc,Dc,{result:function(ba){tc(U,pc,Mc,{result:function(X){W.result({encryptionKey:ba,hmacKey:X});},error:function(X){W.error(X);}});},error:function(ba){W.error(ba);}});}});nc.KeyExchangeData=da;})();(function(){var Y,U,W;function da(ba,X,fa,wa,sa){Qa(sa,function(){var ia,qa;switch(X){case Y.PSK:(ia=new yc(wa),qa=ba.getEntityAuthenticationFactory(Xb.PSK));if(!qa)throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,X);ia=qa.getCryptoContext(ba,ia);return new vc(ba,wc.A128KW,qc,Gb);case Y.MGK:ia=new xc(wa);qa=ba.getEntityAuthenticationFactory(Xb.MGK);if(!qa)throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,X);ia=qa.getCryptoContext(ba,ia);return new vc(ba,wc.A128KW,qc,Gb);case Y.WRAP:ia=ba.getMslCryptoContext();ia.unwrap(fa,sc,Ec,{result:function(Ba){Qa(sa,function(){return new vc(ba,wc.A128KW,qc,Ba);});},error:sa.error});break;default:throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,X);}});}Y={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};U=Ae=cd.extend({init:function wa(X,fa){wa.base.call(this,lc.JWE_LADDER);switch(X){case Y.WRAP:if(!fa)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:fa=null;}Object.defineProperties(this,{mechanism:{value:X,writable:!1,configurable:!1},wrapdata:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){var X;X={};X.mechanism=this.mechanism;this.wrapdata && (X.wrapdata=Lb(this.wrapdata));return X;},equals:function wa(fa){return fa === this?!0:fa instanceof Ae?wa.base.call(this,fa) && this.mechanism == fa.mechanism && gc(this.wrapdata,fa.wrapdata):!1;},uniqueKey:function wa(){var sa;sa=wa.base.call(this) + ":" + this.mechanism;this.wrapdata && (sa+=":" + hc(this.wrapdata));return sa;}});W=Be=dd.extend({init:function Z(sa,ia,qa,Ba,ja){Z.base.call(this,sa,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ia,writable:!1,configurable:!1},wrapdata:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:Ba,writable:!1,configurable:!1},hmacKey:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var sa;sa={};sa.wrapkey=Lb(this.wrapKey);sa.wrapdata=Lb(this.wrapdata);sa.encryptionkey=Lb(this.encryptionKey);sa.hmackey=Lb(this.hmacKey);return sa;},equals:function qa(ia){return this === ia?!0:ia instanceof Be?qa.base.call(this,ia) && gc(this.wrapKey,ia.wrapKey) && gc(this.wrapdata,ia.wrapdata) && gc(this.encryptionKey,ia.encryptionKey) && gc(this.hmacKey,ia.hmacKey):!1;},uniqueKey:function qa(){return qa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});nc.extend({init:function ja(Ba){ja.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Ba,ja,Z){Qa(Z,function(){var aa,ea,za;aa=ja.mechanism;ea=ja.wrapdata;if(!aa || aa == Y.WRAP && (!ea || "string" !== typeof ea))throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ja));if(!Y[aa])throw new Vb(T.UNIDENTIFIED_KEYX_MECHANISM,aa);switch(aa){case Y.WRAP:try{za=Mb(ea);}catch(Ua){throw new Vb(T.KEYX_WRAPPING_KEY_MISSING,"keydata " + ja.toString());}if(null == za || 0 == za.length)throw new Vb(T.KEYX_WRAPPING_KEY_MISSING,"keydata " + ja.toString());break;default:za=null;}return new U(aa,za);});},createResponseData:function(Ba,ja,Z){var aa,ea,za,Ua,Pa,Ta,Wa;Ba=Z.wrapkey;aa=Z.wrapdata;ea=Z.encryptionkey;za=Z.hmackey;if(!(Ba && "string" === typeof Ba && aa && "string" === typeof aa && ea && "string" === typeof ea && za) || "string" !== typeof za)throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));try{Ua=Mb(Ba);Pa=Mb(aa);}catch(na){throw new zb(T.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(Z),na);}try{Ta=Mb(ea);}catch(na){throw new zb(T.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Z),na);}try{Wa=Mb(za);}catch(na){throw new zb(T.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Z),na);}return new W(ja,Ua,Pa,Ta,Wa);},generateResponse:function(Ba,ja,Z,aa){var Ta,Wa;function ea(na,Aa,Ga){Ta.generateSessionKeys(Ba,{result:function(La){Qa(aa,function(){za(na,Aa,Ga,La.encryptionKey,La.hmacKey);},Ta);},error:function(La){Qa(aa,function(){La instanceof ib && La.setEntity(Wa);throw La;});}});}function za(na,Aa,Ga,La,Da){Qa(aa,function(){da(Ba,ja.mechanism,ja.wrapdata,na,{result:function(Xa){Xa.wrap(Aa,{result:function(Ka){Ua(Aa,Ga,La,Da,Ka);},error:function(Ka){Qa(aa,function(){Ka instanceof ib && Ka.setEntity(Wa);throw Ka;});}});},error:function(Xa){Qa(aa,function(){Xa instanceof ib && Xa.setEntity(Wa);throw Xa;});}});},Ta);}function Ua(na,Aa,Ga,La,Da){Qa(aa,function(){var Xa;Xa=new vc(Ba,wc.A128KW,qc,na);Xa.wrap(Ga,{result:function(Ka){Xa.wrap(La,{result:function(bb){Pa(Aa,Da,Ga,Ka,La,bb);},error:function(bb){Qa(aa,function(){bb instanceof ib && bb.setEntity(Wa);throw bb;});}});},error:function(Ka){Qa(aa,function(){Ka instanceof ib && Ka.setEntity(Wa);throw Ka;});}});},Ta);}function Pa(na,Aa,Ga,La,Da,Xa){Qa(aa,function(){var Ka;Ka=Ba.getTokenFactory();Wa?Ka.renewMasterToken(Ba,Wa,Ga,Da,{result:function(bb){Qa(aa,function(){var fb,Ya;fb=new mc(Ba,bb);Ya=new W(bb,Aa,na,La,Xa);return new nc.KeyExchangeData(Ya,fb,aa);},Ta);},error:function(bb){Qa(aa,function(){bb instanceof ib && bb.setEntity(Wa);throw bb;});}}):Ka.createMasterToken(Ba,Z,Ga,Da,{result:function(bb){Qa(aa,function(){var fb,Ya;fb=new mc(Ba,bb);Ya=new W(bb,Aa,na,La,Xa);return new nc.KeyExchangeData(Ya,fb,aa);},Ta);},error:aa.error});},Ta);}Ta=this;Qa(aa,function(){var na,Aa;if(!(ja instanceof U))throw new Bb("Key request data " + JSON.stringify(ja) + " was not created by this factory.");na=Z;if(Z instanceof jc){if(!Z.isVerified())throw new ad(T.MASTERTOKEN_UNTRUSTED,Z);Wa=Z;na=Z.identity;}Aa=new Uint8Array(16);Ba.getRandom().nextBytes(Aa);tc(Aa,sc,Ec,{result:function(Ga){Qa(aa,function(){Ba.getMslCryptoContext().wrap(Ga,{result:function(La){ea(na,Ga,La);},error:function(La){Qa(aa,function(){La instanceof ib && La.setEntity(Wa);throw La;},Ta);}});},Ta);},error:function(Ga){Qa(aa,function(){throw new zb(T.WRAP_KEY_CREATION_FAILURE,null,Ga).setEntity(Wa);},Ta);}});},Ta);},getCryptoContext:function(Ba,ja,Z,aa,ea){var Ua;function za(Pa,Ta,Wa,na,Aa){Qa(ea,function(){var Ga;Ga=new vc(Ba,wc.A128KW,qc,Aa);Ga.unwrap(Ta.encryptionKey,oc,Dc,{result:function(La){Ga.unwrap(Ta.hmacKey,pc,Mc,{result:function(Da){Qa(ea,function(){this.repository.addCryptoContext(Ta.wrapdata,Ga);this.repository.removeCryptoContext(Wa);return new mc(Ba,Ta.masterToken,na,La,Da);},Ua);},error:function(Da){Qa(ea,function(){Da instanceof ib && Da.setEntity(Pa);throw Da;});}});},error:function(La){Qa(ea,function(){La instanceof ib && La.setEntity(Pa);throw La;});}});},Ua);}Ua=this;Qa(ea,function(){var Pa,Ta;if(!(ja instanceof U))throw new Bb("Key request data " + JSON.stringify(ja) + " was not created by this factory.");if(!(Z instanceof W))throw new Bb("Key response data " + JSON.stringify(Z) + " was not created by this factory.");Pa=ja.mechanism;Ta=ja.wrapdata;Ba.getEntityAuthenticationData(null,{result:function(Wa){Qa(ea,function(){var na,Aa,Ga;na=Wa.getIdentity();switch(Pa){case Y.PSK:Aa=new yc(na);Ga=Ba.getEntityAuthenticationFactory(Xb.PSK);if(!Ga)throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(Wa);Aa=Ga.getCryptoContext(Ba,Aa);Aa=new vc(Ba,wc.A128KW,qc,Gb);break;case Y.MGK:Aa=new xc(na);Ga=Ba.getEntityAuthenticationFactory(Xb.MGK);if(!Ga)throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(Wa);Aa=Ga.getCryptoContext(Ba,Aa);Aa=new vc(Ba,wc.A128KW,qc,Aa.wrapKey);break;case Y.WRAP:Aa=this.repository.getCryptoContext(Ta);if(!Aa)throw new Vb(T.KEYX_WRAPPING_KEY_MISSING,Lb(Ta)).setEntity(Wa);break;default:throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(Wa);}Aa.unwrap(Z.wrapKey,sc,Ec,{result:function(La){za(Wa,Z,Ta,na,La);},error:function(La){Qa(ea,function(){La instanceof ib && La.setEntity(Wa);throw La;});}});},Ua);},error:ea.error});},Ua);}});})();(function(){var Y,U,W,ba;function da(X,fa,wa,sa,ia){Qa(ia,function(){var qa,Ba;switch(fa){case Y.PSK:(qa=new yc(sa),Ba=X.getEntityAuthenticationFactory(Xb.PSK));if(!Ba)throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,fa);qa=Ba.getCryptoContext(X,qa);return new ba(Gb);case Y.MGK:qa=new xc(sa);Ba=X.getEntityAuthenticationFactory(Xb.MGK);if(!Ba)throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,fa);qa=Ba.getCryptoContext(X,qa);return new ba(Gb);case Y.WRAP:qa=X.getMslCryptoContext();qa.unwrap(wa,sc,Ec,{result:function(ja){Qa(ia,function(){return new ba(ja);});},error:ia.error});break;default:throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,fa);}});}Y={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};U=Ce=cd.extend({init:function sa(fa,wa){sa.base.call(this,lc.JWK_LADDER);switch(fa){case Y.WRAP:if(!wa)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:wa=null;}Object.defineProperties(this,{mechanism:{value:fa,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1}});},getKeydata:function(){var fa;fa={};fa.mechanism=this.mechanism;this.wrapdata && (fa.wrapdata=Lb(this.wrapdata));return fa;},equals:function sa(wa){return wa === this?!0:wa instanceof Ce?sa.base.call(this,wa) && this.mechanism == wa.mechanism && gc(this.wrapdata,wa.wrapdata):!1;},uniqueKey:function sa(){var ia;ia=sa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ia+=":" + hc(this.wrapdata));return ia;}});W=De=dd.extend({init:function aa(ia,qa,Ba,ja,Z){aa.base.call(this,ia,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:qa,writable:!1,configurable:!1},wrapdata:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:ja,writable:!1,configurable:!1},hmacKey:{value:Z,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.wrapkey=Lb(this.wrapKey);ia.wrapdata=Lb(this.wrapdata);ia.encryptionkey=Lb(this.encryptionKey);ia.hmackey=Lb(this.hmacKey);return ia;},equals:function Ba(qa){return this === qa?!0:qa instanceof De?Ba.base.call(this,qa) && gc(this.wrapKey,qa.wrapKey) && gc(this.wrapdata,qa.wrapdata) && gc(this.encryptionKey,qa.encryptionKey) && gc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function Ba(){return Ba.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});ba=Uc.extend({init:function(Ba){Ba && Ba.rawKey && (Ba=Ba.rawKey);Object.defineProperties(this,{_wrapKey:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ba,ja){ja.error(new zb(T.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ba,ja){ja.error(new zb(T.DECRYPT_NOT_SUPPORTED));},wrap:function(Ba,ja){Qa(ja,function(){Sb.wrapKey("jwk",Ba.rawKey,this._wrapKey,sc).then(function(Z){ja.result(Z);},function(Z){ja.error(new zb(T.WRAP_ERROR));});},this);},unwrap:function(Ba,ja,Z,aa){function ea(za){Qa(aa,function(){switch(za.type){case "secret":bd(za,aa);break;case "public":Jc(za,aa);break;case "private":Sc(za,aa);break;default:throw new zb(T.UNSUPPORTED_KEY,"type: " + za.type);}});}Qa(aa,function(){Sb.unwrapKey("jwk",Ba,this._wrapKey,sc,ja,!1,Z).then(function(za){ea(za);},function(za){aa.error(new zb(T.UNWRAP_ERROR));});},this);},sign:function(Ba,ja){ja.error(new zb(T.SIGN_NOT_SUPPORTED));},verify:function(Ba,ja,Z){Z.error(new zb(T.VERIFY_NOT_SUPPORTED));}});nc.extend({init:function Z(ja){Z.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ja,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ja,Z,aa){Qa(aa,function(){var ea,za,Ua;ea=Z.mechanism;za=Z.wrapdata;if(!ea || ea == Y.WRAP && (!za || "string" !== typeof za))throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));if(!Y[ea])throw new Vb(T.UNIDENTIFIED_KEYX_MECHANISM,ea);switch(ea){case Y.WRAP:try{Ua=Mb(za);}catch(Pa){throw new Vb(T.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());}if(null == Ua || 0 == Ua.length)throw new Vb(T.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());break;default:Ua=null;}return new U(ea,Ua);});},createResponseData:function(ja,Z,aa){var ea,za,Ua,Pa,Ta,Wa,na;ja=aa.wrapkey;ea=aa.wrapdata;za=aa.encryptionkey;Ua=aa.hmackey;if(!(ja && "string" === typeof ja && ea && "string" === typeof ea && za && "string" === typeof za && Ua) || "string" !== typeof Ua)throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Pa=Mb(ja);Ta=Mb(ea);}catch(Aa){throw new zb(T.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),Aa);}try{Wa=Mb(za);}catch(Aa){throw new zb(T.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),Aa);}try{na=Mb(Ua);}catch(Aa){throw new zb(T.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),Aa);}return new W(Z,Pa,Ta,Wa,na);},generateResponse:function(ja,Z,aa,ea){var Wa,na;function za(Aa,Ga,La){Wa.generateSessionKeys(ja,{result:function(Da){Qa(ea,function(){Ua(Aa,Ga,La,Da.encryptionKey,Da.hmacKey);},Wa);},error:function(Da){Qa(ea,function(){Da instanceof ib && Da.setEntity(na);throw Da;});}});}function Ua(Aa,Ga,La,Da,Xa){Qa(ea,function(){da(ja,Z.mechanism,Z.wrapdata,Aa,{result:function(Ka){Ka.wrap(Ga,{result:function(bb){Pa(Ga,La,Da,Xa,bb);},error:function(bb){Qa(ea,function(){bb instanceof ib && bb.setEntity(na);throw bb;});}});},error:function(Ka){Qa(ea,function(){Ka instanceof ib && Ka.setEntity(na);throw Ka;});}});},Wa);}function Pa(Aa,Ga,La,Da,Xa){Qa(ea,function(){var Ka;Ka=new ba(Aa);Ka.wrap(La,{result:function(bb){Ka.wrap(Da,{result:function(fb){Ta(Ga,Xa,La,bb,Da,fb);},error:function(fb){Qa(ea,function(){fb instanceof ib && fb.setEntity(na);throw fb;});}});},error:function(bb){Qa(ea,function(){bb instanceof ib && bb.setEntity(na);throw bb;});}});},Wa);}function Ta(Aa,Ga,La,Da,Xa,Ka){Qa(ea,function(){var bb;bb=ja.getTokenFactory();na?bb.renewMasterToken(ja,na,La,Xa,{result:function(fb){Qa(ea,function(){var Ya,nb;Ya=new mc(ja,fb);nb=new W(fb,Ga,Aa,Da,Ka);return new nc.KeyExchangeData(nb,Ya,ea);},Wa);},error:function(fb){Qa(ea,function(){fb instanceof ib && fb.setEntity(na);throw fb;});}}):bb.createMasterToken(ja,aa,La,Xa,{result:function(fb){Qa(ea,function(){var Ya,nb;Ya=new mc(ja,fb);nb=new W(fb,Ga,Aa,Da,Ka);return new nc.KeyExchangeData(nb,Ya,ea);},Wa);},error:ea.error});},Wa);}Wa=this;Qa(ea,function(){var Aa,Ga;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");Aa=aa;if(aa instanceof jc){if(!aa.isVerified())throw new ad(T.MASTERTOKEN_UNTRUSTED,aa);na=aa;Aa=aa.identity;}Ga=new Uint8Array(16);ja.getRandom().nextBytes(Ga);tc(Ga,sc,Ec,{result:function(La){Qa(ea,function(){ja.getMslCryptoContext().wrap(La,{result:function(Da){za(Aa,La,Da);},error:function(Da){Qa(ea,function(){Da instanceof ib && Da.setEntity(na);throw Da;},Wa);}});},Wa);},error:function(La){Qa(ea,function(){throw new zb(T.WRAP_KEY_CREATION_FAILURE,null,La).setEntity(na);},Wa);}});},Wa);},getCryptoContext:function(ja,Z,aa,ea,za){var Pa;function Ua(Ta,Wa,na,Aa,Ga){Qa(za,function(){var La;La=new ba(Ga);La.unwrap(Wa.encryptionKey,oc,Dc,{result:function(Da){La.unwrap(Wa.hmacKey,pc,Mc,{result:function(Xa){Qa(za,function(){this.repository.addCryptoContext(Wa.wrapdata,La);this.repository.removeCryptoContext(na);return new mc(ja,Wa.masterToken,Aa,Da,Xa);},Pa);},error:function(Xa){Qa(za,function(){Xa instanceof ib && Xa.setEntity(Ta);throw Xa;});}});},error:function(Da){Qa(za,function(){Da instanceof ib && Da.setEntity(Ta);throw Da;});}});},Pa);}Pa=this;Qa(za,function(){var Ta,Wa;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(aa instanceof W))throw new Bb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Ta=Z.mechanism;Wa=Z.wrapdata;ja.getEntityAuthenticationData(null,{result:function(na){Qa(za,function(){var Aa,Ga,La;Aa=na.getIdentity();switch(Ta){case Y.PSK:Ga=new yc(Aa);La=ja.getEntityAuthenticationFactory(Xb.PSK);if(!La)throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,Ta).setEntity(na);Ga=La.getCryptoContext(ja,Ga);Ga=new ba(Ga.wrapKey);break;case Y.MGK:Ga=new xc(Aa);La=ja.getEntityAuthenticationFactory(Xb.MGK);if(!La)throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,Ta).setEntity(na);Ga=La.getCryptoContext(ja,Ga);Ga=new ba(Ga.wrapKey);break;case Y.WRAP:Ga=this.repository.getCryptoContext(Wa);if(!Ga)throw new Vb(T.KEYX_WRAPPING_KEY_MISSING,Lb(Wa)).setEntity(na);break;default:throw new Vb(T.UNSUPPORTED_KEYX_MECHANISM,Ta).setEntity(na);}Ga.unwrap(aa.wrapKey,sc,Ec,{result:function(Da){Ua(na,aa,Wa,Aa,Da);},error:function(Da){Qa(za,function(){Da instanceof ib && Da.setEntity(na);throw Da;});}});},Pa);},error:za.error});},Pa);}});})();Af=Hb.Class.create({addCryptoContext:function(da,Y){},getCryptoContext:function(da){},removeCryptoContext:function(da){}});(function(){var Y,U,W,ba;function da(X,fa,wa,sa,ia){switch(wa){case Y.JWE_RSA:case Y.JWEJS_RSA:return new vc(X,wc.RSA_OAEP,qc,sa,ia);case Y.JWK_RSA:return new pd(X,fa,sa,ia,qd.WRAP_UNWRAP_OAEP);case Y.JWK_RSAES:return new pd(X,fa,sa,ia,qd.WRAP_UNWRAP_PKCS1);default:throw new zb(T.UNSUPPORTED_KEYX_MECHANISM,wa);}}Y=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};U=Dd=cd.extend({init:function qa(fa,wa,sa,ia){qa.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:fa,writable:!1,configurable:!1},mechanism:{value:wa,writable:!1,configurable:!1},publicKey:{value:sa,writable:!1,configurable:!1},privateKey:{value:ia,writable:!1,configurable:!1}});},getKeydata:function(){var fa;fa={};fa.keypairid=this.keyPairId;fa.mechanism=this.mechanism;fa.publickey=Lb(this.publicKey.getEncoded());return fa;},equals:function sa(wa){var ia;if(wa === this)return !0;if(!(wa instanceof Dd))return !1;ia=this.privateKey === wa.privateKey || this.privateKey && wa.privateKey && gc(this.privateKey.getEncoded(),wa.privateKey.getEncoded());return sa.base.call(this,wa) && this.keyPairId == wa.keyPairId && this.mechanism == wa.mechanism && gc(this.publicKey.getEncoded(),wa.publicKey.getEncoded()) && ia;},uniqueKey:function sa(){var ia,qa;ia=this.publicKey.getEncoded();qa=this.privateKey && this.privateKey.getEncoded();ia=sa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(ia);qa && (ia+=":" + hc(qa));return ia;}});W=function(sa,ia){Qa(ia,function(){var qa,Ba,ja,Z;qa=sa.keypairid;Ba=sa.mechanism;ja=sa.publickey;if(!qa || "string" !== typeof qa || !Ba || !ja || "string" !== typeof ja)throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(sa));if(!Y[Ba])throw new Vb(T.UNIDENTIFIED_KEYX_MECHANISM,Ba);try{Z=Mb(ja);switch(Ba){case Y.JWE_RSA:case Y.JWEJS_RSA:case Y.JWK_RSA:Id(Z,nd,Ec,{result:function(aa){ia.result(new U(qa,Ba,aa,null));},error:function(aa){ia.error(aa);}});break;case Y.JWK_RSAES:Id(Z,Gd,Ec,{result:function(aa){ia.result(new U(qa,Ba,aa,null));},error:function(aa){ia.error(aa);}});break;default:throw new zb(T.UNSUPPORTED_KEYX_MECHANISM,Ba);}}catch(aa){if(!(aa instanceof ib))throw new zb(T.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(sa),aa);throw aa;}});};ba=Fe=dd.extend({init:function Z(ia,qa,Ba,ja){Z.base.call(this,ia,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:Ba,writable:!1,configurable:!1},hmacKey:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.keypairid=this.keyPairId;ia.encryptionkey=Lb(this.encryptionKey);ia.hmackey=Lb(this.hmacKey);return ia;},equals:function Ba(qa){return this === qa?!0:qa instanceof Fe?Ba.base.call(this,qa) && this.keyPairId == qa.keyPairId && gc(this.encryptionKey,qa.encryptionKey) && gc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function Ba(){return Ba.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=nc.extend({init:function ja(){ja.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(ja,Z,aa){W(Z,aa);},createResponseData:function(ja,Z,aa){var ea,za,Ua,Pa;ja=aa.keypairid;ea=aa.encryptionkey;za=aa.hmackey;if(!ja || "string" !== typeof ja || !ea || "string" !== typeof ea || !za || "string" !== typeof za)throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ua=Mb(ea);}catch(Ta){throw new zb(T.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),Ta);}try{Pa=Mb(za);}catch(Ta){throw new zb(T.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),Ta);}return new ba(Z,ja,Ua,Pa);},generateResponse:function(ja,Z,aa,ea){var Pa;function za(Ta,Wa){Qa(ea,function(){var na;na=da(ja,Z.keyPairId,Z.mechanism,null,Z.publicKey);na.wrap(Ta,{result:function(Aa){Qa(ea,function(){na.wrap(Wa,{result:function(Ga){Ua(Ta,Aa,Wa,Ga);},error:function(Ga){Qa(ea,function(){Ga instanceof ib && aa instanceof jc && Ga.setEntity(aa);throw Ga;},Pa);}});},Pa);},error:function(Aa){Qa(ea,function(){Aa instanceof ib && aa instanceof jc && Aa.setEntity(aa);throw Aa;},Pa);}});},Pa);}function Ua(Ta,Wa,na,Aa){Qa(ea,function(){var Ga;Ga=ja.getTokenFactory();aa instanceof jc?Ga.renewMasterToken(ja,aa,Ta,na,{result:function(La){Qa(ea,function(){var Da,Xa;Da=new mc(ja,La);Xa=new ba(La,Z.keyPairId,Wa,Aa);return new nc.KeyExchangeData(Xa,Da,ea);},Pa);},error:function(La){Qa(ea,function(){La instanceof ib && La.setEntity(aa);throw La;},Pa);}}):Ga.createMasterToken(ja,aa,Ta,na,{result:function(La){Qa(ea,function(){var Da,Xa;Da=new mc(ja,La);Xa=new ba(La,Z.keyPairId,Wa,Aa);return new nc.KeyExchangeData(Xa,Da,ea);},Pa);},error:ea.error});},Pa);}Pa=this;Qa(ea,function(){if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");this.generateSessionKeys(ja,{result:function(Ta){za(Ta.encryptionKey,Ta.hmacKey);},error:function(Ta){Qa(ea,function(){Ta instanceof ib && aa instanceof jc && Ta.setEntity(aa);throw Ta;},Pa);}});},Pa);},getCryptoContext:function(ja,Z,aa,ea,za){var Ua;Ua=this;Qa(za,function(){var Pa,Ta,Wa;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(aa instanceof ba))throw new Bb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Pa=Z.keyPairId;Ta=aa.keyPairId;if(Pa != Ta)throw new Vb(T.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Pa + "; response " + Ta).setEntity(ea);Ta=Z.privateKey;if(!Ta)throw new Vb(T.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ea);Wa=da(ja,Pa,Z.mechanism,Ta,null);Wa.unwrap(aa.encryptionKey,oc,Dc,{result:function(na){Wa.unwrap(aa.hmacKey,pc,Mc,{result:function(Aa){ja.getEntityAuthenticationData(null,{result:function(Ga){Qa(za,function(){var La;La=Ga.getIdentity();return new mc(ja,aa.masterToken,La,na,Aa);},Ua);},error:function(Ga){Qa(za,function(){Ga instanceof ib && Ga.setEntity(ea);throw Ga;},Ua);}});},error:function(Aa){Qa(za,function(){Aa instanceof ib && Aa.setEntity(ea);throw Aa;},Ua);}});},error:function(na){Qa(za,function(){na instanceof ib && na.setEntity(ea);throw na;},Ua);}});},Ua);}});})();zf=Hb.Class.create({init:function(da){var Y,U,W,ba,X,fa,wa,sa;Y=bc.parser();U=[];W=[];wa=0;sa=!1;Y.onerror=function(ia){sa || (sa=!0,Y.end());};Y.onopenobject=function(ia){var qa;if(ba)(ba[fa]={},W.push(ba),ba=ba[fa]);else if(X){qa={};W.push(X);X.push(qa);ba=qa;X=Gb;}else ba={};fa=ia;};Y.oncloseobject=function(){var ia;ia=W.pop();ia?"object" === typeof ia?ba=ia:(ba=Gb,X=ia):(U.push(ba),wa=Y.index,ba=Gb);};Y.onopenarray=function(){var ia;if(ba)(ba[fa]=[],W.push(ba),X=ba[fa],ba=Gb);else if(X){ia=[];W.push(X);X.push(ia);X=ia;}else X=[];};Y.onclosearray=function(){var ia;ia=W.pop();ia?"object" === typeof ia?(ba=ia,X=Gb):X=ia:(U.push(X),wa=Y.index,X=Gb);};Y.onkey=function(ia){fa=ia;};Y.onvalue=function(ia){ba?ba[fa]=ia:X?X.push(ia):(U.push(ia),wa=Y.index);};Y.write(da).close();Object.defineProperties(this,{_values:{value:U,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:wa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Gb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var da,Y,U,W,ba;da=Rd="entityauthdata";Y=He="mastertoken";U=Ie="headerdata";W=Je="errordata";ba=Sd="signature";Ge=function(X,fa,wa,sa){Qa(sa,function(){var ia,qa,Ba,ja,Z,aa;ia=fa[da];qa=fa[Y];Ba=fa[ba];if(ia && "object" !== typeof ia || qa && "object" !== typeof qa || "string" !== typeof Ba)throw new Jb(T.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));try{ja=Mb(Ba);}catch(ea){throw new Ob(T.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(fa),ea);}Z=null;ia && (Z=se(X,ia));aa=fa[U];if(aa != Gb && null != aa){if("string" !== typeof aa)throw new Jb(T.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));qa?ed(X,qa,{result:function(ea){Td(X,aa,Z,ea,ja,wa,sa);},error:function(ea){sa.error(ea);}}):Td(X,aa,Z,null,ja,wa,sa);}else if((ia=fa[W],ia != Gb && null != ia)){if("string" !== typeof ia)throw new Jb(T.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));Ke(X,ia,Z,ja,sa);}else throw new Jb(T.JSON_PARSE_ERROR,JSON.stringify(fa));});};})();(function(){function da(Y,U){this.errordata=Y;this.signature=U;}Ic=Hb.Class.create({init:function(Y,U,W,ba,X,fa,wa,sa,ia,qa){var Ba;Ba=this;Qa(qa,function(){var ja,Z;0 > fa && (fa=-1);if(0 > ba || ba > Tb)throw new Bb("Message ID " + ba + " is out of range.");if(!U)throw new Ob(T.MESSAGE_ENTITY_NOT_FOUND);if(ia)return (Object.defineProperties(this,{entityAuthenticationData:{value:U,writable:!1,configurable:!1},recipient:{value:W,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:X,writable:!1,configurable:!1},internalCode:{value:fa,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:sa,writable:!1,configurable:!1},errordata:{value:ia.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ja={};W && (ja.recipient=W);ja.messageid=ba;ja.errorcode=X;0 < fa && (ja.internalcode=fa);wa && (ja.errormsg=wa);sa && (ja.usermsg=sa);try{Z=Y.getEntityAuthenticationFactory(U.scheme).getCryptoContext(Y,U);}catch(aa){throw (aa instanceof ib && (aa.setEntity(U),aa.setMessageId(ba)),aa);}ja=fc(JSON.stringify(ja),Ub);Z.encrypt(ja,{result:function(aa){Qa(qa,function(){Z.sign(aa,{result:function(ea){Qa(qa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:U,writable:!1,configurable:!1},recipient:{value:W,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:X,writable:!1,configurable:!1},internalCode:{value:fa,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:sa,writable:!1,configurable:!1},errordata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;},Ba);},error:function(ea){Qa(qa,function(){ea instanceof ib && (ea.setEntity(U),ea.setMessageId(ba));throw ea;},Ba);}});},Ba);},error:function(aa){Qa(qa,function(){aa instanceof ib && (aa.setEntity(U),aa.setMessageId(ba));throw aa;},Ba);}});},Ba);},toJSON:function(){var Y;Y={};Y[Rd]=this.entityAuthenticationData;Y[Je]=Lb(this.errordata);Y[Sd]=Lb(this.signature);return Y;}});Le=function(Y,U,W,ba,X,fa,wa,sa,ia){new Ic(Y,U,W,ba,X,fa,wa,sa,null,ia);};Ke=function(Y,U,W,ba,X){Qa(X,function(){var fa,wa,sa;if(!W)throw new Ob(T.MESSAGE_ENTITY_NOT_FOUND);try{fa=W.scheme;wa=Y.getEntityAuthenticationFactory(fa);if(!wa)throw new rc(T.ENTITYAUTH_FACTORY_NOT_FOUND,fa);sa=wa.getCryptoContext(Y,W);}catch(ia){throw (ia instanceof ib && ia.setEntity(W),ia);}try{U=Mb(U);}catch(ia){throw new Ob(T.HEADER_DATA_INVALID,U,ia).setEntity(W);}if(!U || 0 == U.length)throw new Ob(T.HEADER_DATA_MISSING,U).setEntity(W);sa.verify(U,ba,{result:function(ia){Qa(X,function(){if(!ia)throw new zb(T.MESSAGE_VERIFICATION_FAILED).setEntity(W);sa.decrypt(U,{result:function(qa){Qa(X,function(){var Ba,ja,Z,aa,ea,za,Ua,Pa;Ba=ec(qa,Ub);try{ja=JSON.parse(Ba);}catch(Wa){if(Wa instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"errordata " + Ba,Wa).setEntity(W);throw Wa;}Z=ja.recipient !== Gb?ja.recipient:null;aa=parseInt(ja.messageid);ea=parseInt(ja.errorcode);za=parseInt(ja.internalcode);Ua=ja.errormsg;Pa=ja.usermsg;if(Z && "string" !== typeof Z || !aa || aa != aa || !ea || ea != ea || ja.internalcode && za != za || Ua && "string" !== typeof Ua || Pa && "string" !== typeof Pa)throw new Jb(T.JSON_PARSE_ERROR,"errordata " + Ba).setEntity(W);if(0 > aa || aa > Tb)throw new Ob(T.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Ba).setEntity(W);ja=!1;for(var Ta in Ia)if(Ia[Ta] == ea){ja=!0;break;}ja || (ea=Ia.FAIL);if(za){if(0 > za)throw new Ob(T.INTERNAL_CODE_NEGATIVE,"errordata " + Ba).setEntity(W).setMessageId(aa);}else za=-1;Ba=new da(U,ba);new Ic(Y,W,Z,aa,ea,za,Ua,Pa,Ba,X);});},error:function(qa){Qa(X,function(){qa instanceof ib && qa.setEntity(W);throw qa;});}});});},error:function(ia){Qa(X,function(){ia instanceof ib && ia.setEntity(W);throw ia;});}});});};})();Bf=Hb.Class.create({getUserMessage:function(da,Y){}});(function(){Ud=function(da,Y){var U;if(!da || !Y)return null;U=da.compressionAlgorithms.filter(function(W){for(var ba=0;ba < Y.compressionAlgorithms.length;++ba)if(W == Y.compressionAlgorithms[ba])return !0;return !1;});da=da.languages.filter(function(W){for(var ba=0;ba < Y.languages.length;++ba)if(W == Y.languages[ba])return !0;return !1;});return new fd(U,da);};fd=Hb.Class.create({init:function(da,Y){da || (da=[]);Y || (Y=[]);da.sort();Object.defineProperties(this,{compressionAlgorithms:{value:da,writable:!1,enumerable:!0,configurable:!1},languages:{value:Y,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var da;da={};da.compressionalgos=this.compressionAlgorithms;da.languages=this.languages;return da;},equals:function(da){return this === da?!0:da instanceof fd?ce(this.compressionAlgorithms,da.compressionAlgorithms) && ce(this.languages,da.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(da){var Y,U,ba;Y=da.compressionalgos;U=da.languages;if(Y && !(Y instanceof Array) || U && !(U instanceof Array))throw new Jb(T.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(da));da=[];for(var W=0;Y && W < Y.length;++W){ba=Y[W];Kc[ba] && da.push(ba);}return new fd(da,U);};})();(function(){var qa,Ba;function da(ja,Z,aa,ea,za){this.customer=ja;this.sender=Z;this.messageCryptoContext=aa;this.headerdata=ea;this.signature=za;}function Y(ja,Z,aa,ea,za,Ua,Pa,Ta,Wa,na,Aa,Ga,La,Da,Xa,Ka,bb,fb,Ya,nb){return {cryptoContext:{value:Z,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},entityAuthenticationData:{value:ea,writable:!1,configurable:!1},masterToken:{value:za,writable:!1,configurable:!1},sender:{value:Ua,writable:!1,configurable:!1},messageId:{value:Pa,writable:!1,configurable:!1},nonReplayableId:{value:Ka,writable:!1,configurable:!1},keyRequestData:{value:Ta,writable:!1,configurable:!1},keyResponseData:{value:Wa,writable:!1,configurable:!1},userAuthenticationData:{value:na,writable:!1,configurable:!1},userIdToken:{value:Aa,writable:!1,configurable:!1},serviceTokens:{value:Ga,writable:!1,configurable:!1},peerMasterToken:{value:La,writable:!1,configurable:!1},peerUserIdToken:{value:Da,writable:!1,configurable:!1},peerServiceTokens:{value:Xa,writable:!1,configurable:!1},messageCapabilities:{value:fb,writable:!1,configurable:!1},renewable:{value:bb,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ya,writable:!1,enumerable:!1,configurable:!1},signature:{value:nb,writable:!1,enumerable:!1,configurable:!1}};}function U(ja,Z,aa){var ea;if(aa){if(Z=ja.getMslStore().getCryptoContext(aa))return Z;if(!aa.isVerified() || !aa.isDecrypted())throw new ad(T.MASTERTOKEN_UNTRUSTED,aa);return new mc(ja,aa);}aa=Z.scheme;ea=ja.getEntityAuthenticationFactory(aa);if(!ea)throw new rc(T.ENTITYAUTH_FACTORY_NOT_FOUND,aa);return ea.getCryptoContext(ja,Z);}function W(ja,Z,aa,ea,za){Qa(za,function(){Z.verify(aa,ea,{result:function(Ua){Qa(za,function(){if(!Ua)throw new zb(T.MESSAGE_VERIFICATION_FAILED);Z.decrypt(aa,{result:function(Pa){Qa(za,function(){return ec(Pa,Ub);});},error:function(Pa){za.error(Pa);}});});},error:function(Ua){za.error(Ua);}});});}function ba(ja,Z,aa){Qa(aa,function(){if(Z)ze(ja,Z,aa);else return null;});}function X(ja,Z,aa,ea){Qa(ea,function(){if(Z)vd(ja,Z,aa,ea);else return null;});}function fa(ja,Z,aa,ea){Qa(ea,function(){if(aa)Qe(ja,Z,aa,ea);else return null;});}function wa(ja,Z,aa,ea,za,Ua,Pa){var Wa;function Ta(na,Aa,Ga){var La,Da;if(Aa >= na.length){La=[];for(Da in Wa)La.push(Wa[Da]);Ga.result(La);}else {La=na[Aa];if("object" !== typeof La)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + Ua);wd(ja,La,aa,ea,za,{result:function(Xa){Qa(Ga,function(){Wa[Xa.uniqueKey()]=Xa;Ta(na,Aa + 1,Ga);});},error:function(Xa){Ga.error(Xa);}});}}Wa={};Qa(Pa,function(){if(Z){if(!(Z instanceof Array))throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + Ua);Ta(Z,0,Pa);}else return [];});}function sa(ja,Z,aa,ea,za,Ua){function Pa(Wa,na,Aa){Qa(Aa,function(){var Ga;Ga=na.peermastertoken;if(Ga && "object" !== typeof Ga)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + za);if(!Ga)return null;ed(Wa,Ga,Aa);});}function Ta(Wa,na,Aa,Ga){Qa(Ga,function(){var La;La=na.peeruseridtoken;if(La && "object" !== typeof La)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + za);if(!La)return null;vd(Wa,La,Aa,Ga);});}Qa(Ua,function(){if(!ja.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Pa(ja,Z,{result:function(Wa){Qa(Ua,function(){var na;na=aa?aa.masterToken:Wa;Ta(ja,Z,na,{result:function(Aa){Qa(Ua,function(){wa(ja,Z.peerservicetokens,na,Aa,ea,za,{result:function(Ga){Qa(Ua,function(){return {peerMasterToken:Wa,peerUserIdToken:Aa,peerServiceTokens:Ga};});},error:function(Ga){Qa(Ua,function(){Ga instanceof ib && (Ga.setEntity(na),Ga.setUser(Aa));throw Ga;});}});});},error:function(Aa){Qa(Ua,function(){Aa instanceof ib && Aa.setEntity(na);throw Aa;});}});});},error:Ua.error});});}function ia(ja,Z,aa,ea){var Ua;function za(Pa,Ta){Qa(ea,function(){if(Ta >= Pa.length)return Ua;ye(ja,Pa[Ta],{result:function(Wa){Qa(ea,function(){Ua.push(Wa);za(Pa,Ta + 1);});},error:function(Wa){ea.error(Wa);}});});}Ua=[];Qa(ea,function(){var Pa;Pa=Z.keyrequestdata;if(!Pa)return Ua;if(!(Pa instanceof Array))throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + aa);za(Pa,0);});}qa=Oe=Hb.Class.create({init:function(ja,Z,aa,ea,za,Ua,Pa,Ta,Wa){Object.defineProperties(this,{messageId:{value:ja,writable:!1,configurable:!1},nonReplayableId:{value:Z,writable:!1,configurable:!1},renewable:{value:aa,writable:!1,configurable:!1},capabilities:{value:ea,writable:!1,configurable:!1},keyRequestData:{value:za,writable:!1,configurable:!1},keyResponseData:{value:Ua,writable:!1,configurable:!1},userAuthData:{value:Pa,writable:!1,configurable:!1},userIdToken:{value:Ta,writable:!1,configurable:!1},serviceTokens:{value:Wa,writable:!1,configurable:!1}});}});Ba=Pe=Hb.Class.create({init:function(ja,Z,aa){Object.defineProperties(this,{peerMasterToken:{value:ja,writable:!1,configurable:!1},peerUserIdToken:{value:Z,writable:!1,configurable:!1},peerServiceTokens:{value:aa,writable:!1,configurable:!1}});}});gd=Hb.Class.create({init:function(ja,Z,aa,ea,za,Ua,Pa){var Wa;function Ta(na){Qa(Pa,function(){var Aa,Ga,La,Da,Xa,Ka,bb,fb,Ya,nb,rb,tb,vb,wb,Fb,Db,pa;Z=aa?null:Z;Aa=ea.nonReplayableId;Ga=ea.renewable;La=ea.capabilities;Da=ea.messageId;Xa=ea.keyRequestData?ea.keyRequestData:[];Ka=ea.keyResponseData;bb=ea.userAuthData;fb=ea.userIdToken;Ya=ea.serviceTokens?ea.serviceTokens:[];if(ja.isPeerToPeer()){nb=za.peerMasterToken;rb=za.peerUserIdToken;tb=za.peerServiceTokens?za.peerServiceTokens:[];}else (rb=nb=null,tb=[]);if(0 > Da || Da > Tb)throw new Bb("Message ID " + Da + " is out of range.");if(!Z && !aa)throw new Bb("Message entity authentication data or master token must be provided.");if(Ka){if(ja.isPeerToPeer()){vb=aa;wb=Ka.masterToken;}else (vb=Ka.masterToken,wb=nb);}else (vb=aa,wb=nb);if(fb && (!vb || !fb.isBoundTo(vb)))throw new Bb("User ID token must be bound to a master token.");if(rb && (!wb || !rb.isBoundTo(wb)))throw new Bb("Peer user ID token must be bound to a peer master token.");Ya.forEach(function(Ha){if(Ha.isMasterTokenBound() && (!vb || !Ha.isBoundTo(vb)))throw new Bb("Master token bound service tokens must be bound to the provided master token.");if(Ha.isUserIdTokenBound() && (!fb || !Ha.isBoundTo(fb)))throw new Bb("User ID token bound service tokens must be bound to the provided user ID token.");},this);tb.forEach(function(Ha){if(Ha.isMasterTokenBound() && (!wb || !Ha.isBoundTo(wb)))throw new Bb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Ha.isUserIdTokenBound() && (!rb || !Ha.isBoundTo(rb)))throw new Bb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ua){pa=Ua.customer;Fb=Ua.messageCryptoContext;Db=Y(ja,Fb,pa,Z,aa,na,Da,Xa,Ka,bb,fb,Ya,nb,rb,tb,Aa,Ga,La,Ua.headerdata,Ua.signature);Object.defineProperties(this,Db);return this;}pa=fb?fb.customer:null;Db={};na && (Db.sender=na);Db.messageid=Da;"number" === typeof Aa && (Db.nonreplayableid=Aa);Db.renewable=Ga;La && (Db.capabilities=La);0 < Xa.length && (Db.keyrequestdata=Xa);Ka && (Db.keyresponsedata=Ka);bb && (Db.userauthdata=bb);fb && (Db.useridtoken=fb);0 < Ya.length && (Db.servicetokens=Ya);nb && (Db.peermastertoken=nb);rb && (Db.peeruseridtoken=rb);0 < tb.length && (Db.peerservicetokens=tb);try{Fb=U(ja,Z,aa);}catch(Ha){throw (Ha instanceof ib && (Ha.setEntity(aa),Ha.setEntity(Z),Ha.setUser(fb),Ha.setUser(bb),Ha.setMessageId(Da)),Ha);}Db=fc(JSON.stringify(Db),Ub);Fb.encrypt(Db,{result:function(Ha){Qa(Pa,function(){Fb.sign(Ha,{result:function(Ra){Qa(Pa,function(){var r;r=Y(ja,Fb,pa,Z,aa,na,Da,Xa,Ka,bb,fb,Ya,nb,rb,tb,Aa,Ga,La,Ha,Ra);Object.defineProperties(this,r);return this;},Wa);},error:function(Ra){Qa(Pa,function(){Ra instanceof ib && (Ra.setEntity(aa),Ra.setEntity(Z),Ra.setUser(fb),Ra.setUser(bb),Ra.setMessageId(Da));throw Ra;},Wa);}});},Wa);},error:function(Ha){Qa(Pa,function(){Ha instanceof ib && (Ha.setEntity(aa),Ha.setEntity(Z),Ha.setUser(fb),Ha.setUser(bb),Ha.setMessageId(Da));throw Ha;},Wa);}});},Wa);}Wa=this;Qa(Pa,function(){Ua?Ta(Ua.sender):aa?ja.getEntityAuthenticationData(null,{result:function(na){na=na.getIdentity();Ta(na);},error:Pa.error}):Ta(null);},Wa);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ja;ja={};this.masterToken?ja[He]=this.masterToken:ja[Rd]=this.entityAuthenticationData;ja[Ie]=Lb(this.headerdata);ja[Sd]=Lb(this.signature);return ja;}});Ne=function(ja,Z,aa,ea,za,Ua){new gd(ja,Z,aa,ea,za,null,Ua);};Td=function(ja,Z,aa,ea,za,Ua,Pa){Qa(Pa,function(){var Ta,Wa;aa=ea?null:aa;if(!aa && !ea)throw new Ob(T.MESSAGE_ENTITY_NOT_FOUND);Ta=Z;try{Z=Mb(Ta);}catch(na){throw new Ob(T.HEADER_DATA_INVALID,Ta,na);}if(!Z || 0 == Z.length)throw new Ob(T.HEADER_DATA_MISSING,Ta);try{Wa=U(ja,aa,ea);}catch(na){throw (na instanceof ib && (na.setEntity(ea),na.setEntity(aa)),na);}W(ja,Wa,Z,za,{result:function(na){Qa(Pa,function(){var Aa,Ga,La,Da,Xa;try{Aa=JSON.parse(na);}catch(Ka){if(Ka instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + na,Ka).setEntity(ea).setEntity(aa);throw Ka;}Ga=parseInt(Aa.messageid);if(!Ga || Ga != Ga)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + na).setEntity(ea).setEntity(aa);if(0 > Ga || Ga > Tb)throw new Ob(T.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + na).setEntity(ea).setEntity(aa);La=ea?Aa.sender:null;if(ea && (!La || "string" !== typeof La))throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + na).setEntity(ea).setEntity(aa).setMessageId(Ga);Da=Aa.keyresponsedata;if(Da && "object" !== typeof Da)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + na).setEntity(ea).setEntity(aa).setMessageId(Ga);Xa=Pa;Pa={result:function(Ka){Xa.result(Ka);},error:function(Ka){Ka instanceof ib && (Ka.setEntity(ea),Ka.setEntity(aa),Ka.setMessageId(Ga));Xa.error(Ka);}};ba(ja,Da,{result:function(Ka){Qa(Pa,function(){var bb,fb;bb=!ja.isPeerToPeer() && Ka?Ka.masterToken:ea;fb=Aa.useridtoken;if(fb && "object" !== typeof fb)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + na);X(ja,fb,bb,{result:function(Ya){Qa(Pa,function(){var nb;nb=Aa.userauthdata;if(nb && "object" !== typeof nb)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + na);fa(ja,bb,nb,{result:function(rb){Qa(Pa,function(){var tb,vb,wb;if(rb){tb=rb.scheme;vb=ja.getUserAuthenticationFactory(tb);if(!vb)throw new Cc(T.USERAUTH_FACTORY_NOT_FOUND,tb).setUser(Ya).setUser(rb);tb=ea?ea.identity:aa.getIdentity();wb=vb.authenticate(ja,tb,rb,Ya);}else wb=Ya?Ya.customer:null;wa(ja,Aa.servicetokens,bb,Ya,Ua,na,{result:function(Fb){Qa(Pa,function(){var Db,pa,Ha,Ra;Db=Aa.nonreplayableid !== Gb?parseInt(Aa.nonreplayableid):null;pa=Aa.renewable;if(Db != Db || "boolean" !== typeof pa)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + na);if(0 > Db || Db > Tb)throw new Ob(T.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + na);Ha=null;Ra=Aa.capabilities;if(Ra){if("object" !== typeof Ra)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + na);Ha=Me(Ra);}ia(ja,Aa,na,{result:function(r){sa(ja,Aa,Ka,Ua,na,{result:function(b){Qa(Pa,function(){var a,c,m,g;a=b.peerMasterToken;c=b.peerUserIdToken;m=b.peerServiceTokens;g=new qa(Ga,Db,pa,Ha,r,Ka,rb,Ya,Fb);a=new Ba(a,c,m);c=new da(wb,La,Wa,Z,za);new gd(ja,aa,ea,g,a,c,Pa);});},error:Pa.error});},error:function(r){Qa(Pa,function(){r instanceof ib && (r.setUser(Ya),r.setUser(rb));throw r;});}});});},error:function(Fb){Qa(Pa,function(){Fb instanceof ib && (Fb.setEntity(bb),Fb.setUser(Ya),Fb.setUser(rb));throw Fb;});}});});},error:Pa.error});});},error:Pa.error});});},error:Pa.error});});},error:Pa.error});});};})();(function(){function da(Y,U){this.payload=Y;this.signature=U;}Vd=Hb.Class.create({init:function(Y,U,W,ba,X,fa,wa,sa){var ia;ia=this;Qa(sa,function(){var qa,Ba;if(0 > Y || Y > Tb)throw new Bb("Sequence number " + Y + " is outside the valid range.");if(0 > U || U > Tb)throw new Bb("Message ID " + U + " is outside the valid range.");if(wa)return (Object.defineProperties(this,{sequenceNumber:{value:Y,writable:!1,configurable:!1},messageId:{value:U,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:X,writable:!1,configurable:!1},endofmsg:{value:W,writable:!1,enumerable:!1,configurable:!1},payload:{value:wa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ba){qa=Wd(ba,X);qa || (ba=null,qa=X);}else (ba=null,qa=X);Ba={};Ba.sequencenumber=Y;Ba.messageid=U;W && (Ba.endofmsg=W);ba && (Ba.compressionalgo=ba);Ba.data=Lb(qa);qa=fc(JSON.stringify(Ba),Ub);fa.encrypt(qa,{result:function(ja){Qa(sa,function(){fa.sign(ja,{result:function(Z){Qa(sa,function(){Object.defineProperties(this,{sequenceNumber:{value:Y,writable:!1,configurable:!1},messageId:{value:U,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:X,writable:!1,configurable:!1},endofmsg:{value:W,writable:!1,enumerable:!1,configurable:!1},payload:{value:ja,writable:!1,enumerable:!1,configurable:!1},signature:{value:Z,writable:!1,enumerable:!1,configurable:!1}});return this;},ia);},error:function(Z){sa.error(Z);}});},ia);},error:function(ja){sa.error(ja);}});},ia);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var Y;Y={};Y.payload=Lb(this.payload);Y.signature=Lb(this.signature);return Y;}});Re=function(Y,U,W,ba,X,fa,wa){new Vd(Y,U,W,ba,X,fa,null,wa);};Se=function(Y,U,W){Qa(W,function(){var ba,X,fa,wa;ba=Y.payload;X=Y.signature;if(!ba || "string" !== typeof ba || "string" !== typeof X)throw new Jb(T.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(Y));try{fa=Mb(ba);}catch(sa){throw new Ob(T.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(Y),sa);}try{wa=Mb(X);}catch(sa){throw new Ob(T.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(Y),sa);}U.verify(fa,wa,{result:function(sa){Qa(W,function(){if(!sa)throw new zb(T.PAYLOAD_VERIFICATION_FAILED);U.decrypt(fa,{result:function(ia){Qa(W,function(){var qa,Ba,ja,Z,aa,ea,za;qa=ec(ia,Ub);try{Ba=JSON.parse(qa);}catch(Ua){if(Ua instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"payload chunk payload " + qa,Ua);throw Ua;}ja=parseInt(Ba.sequencenumber);Z=parseInt(Ba.messageid);aa=Ba.endofmsg;ea=Ba.compressionalgo;Ba=Ba.data;if(!ja || ja != ja || !Z || Z != Z || aa && "boolean" !== typeof aa || ea && "string" !== typeof ea || "string" !== typeof Ba)throw new Jb(T.JSON_PARSE_ERROR,"payload chunk payload " + qa);if(0 > ja || ja > Tb)throw new ib(T.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + qa);if(0 > Z || Z > Tb)throw new ib(T.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + qa);aa || (aa=!1);if(ea && !Kc[ea])throw new Ob(T.UNIDENTIFIED_COMPRESSION,ea);try{za=Mb(Ba);}catch(Ua){throw new Ob(T.PAYLOAD_DATA_CORRUPT,Ba,Ua);}if(za && 0 != za.length)qa=ea?xd(ea,za):za;else {if(0 < Ba.length)throw new Ob(T.PAYLOAD_DATA_CORRUPT,Ba);if(aa)qa=new Uint8Array(0);else throw new Ob(T.PAYLOAD_DATA_MISSING,Ba);}za=new da(fa,wa);new Vd(ja,Z,aa,ea,qa,U,za,W);});},error:function(ia){W.error(ia);}});});},error:function(sa){W.error(sa);}});});};})();(function(){var W,ba;function da(X,fa,wa,sa,ia){var Ba,ja,Z,aa,ea;function qa(){Qa(ia,function(){var za,Ua;ja >= fa.length && (ja=0,++Ba);if(Ba >= Z.length){if(aa)throw aa;throw new Vb(T.KEYX_FACTORY_NOT_FOUND,JSON.stringify(fa));}za=Z[Ba];Ua=fa[ja];za.scheme != Ua.keyExchangeScheme?(++ja,qa()):za.generateResponse(X,Ua,ea,{result:function(Pa){ia.result(Pa);},error:function(Pa){Qa(ia,function(){if(!(Pa instanceof ib))throw Pa;aa=Pa;++ja;qa();});}});});}Ba=0;ja=0;Z=X.getKeyExchangeFactories();ea=wa?wa:sa;qa();}function Y(X,fa,wa,sa,ia){Qa(ia,function(){var qa;qa=fa.keyRequestData;if(fa.isRenewable() && 0 < qa.length)sa?sa.isRenewable() || sa.isExpired()?da(X,qa,sa,null,ia):X.getTokenFactory().isNewestMasterToken(X,sa,{result:function(Ba){Qa(ia,function(){if(Ba)return null;da(X,qa,sa,null,ia);});},error:ia.error}):da(X,qa,null,wa.getIdentity(),ia);else return null;});}function U(X,fa,wa,sa){Qa(sa,function(){var ia,qa,Ba,ja;ia=fa.userIdToken;qa=fa.userAuthenticationData;Ba=fa.messageId;if(ia && ia.isVerified()){if(ia.isRenewable() && fa.isRenewable() || ia.isExpired() || !ia.isBoundTo(wa)){qa=X.getTokenFactory();qa.renewUserIdToken(X,ia,wa,sa);return;}}else if(fa.isRenewable() && wa && qa){ia=fa.customer;if(!ia){ia=qa.scheme;ja=X.getUserAuthenticationFactory(ia);if(!ja)throw new Cc(T.USERAUTH_FACTORY_NOT_FOUND,ia).setEntity(wa).setUser(qa).setMessageId(Ba);ia=ja.authenticate(X,wa.identity,qa,null);}qa=X.getTokenFactory();qa.createUserIdToken(X,ia,wa,sa);return;}return ia;});}W=new Uint8Array(0);ba=Nc=function(X){if(0 > X || X > Tb)throw new Bb("Message ID " + X + " is outside the valid range.");return X == Tb?0:X + 1;};Wc=function(X){if(0 > X || X > Tb)throw new Bb("Message ID " + X + " is outside the valid range.");return 0 == X?Tb:X - 1;};Oc=function(X,fa,wa,sa,ia){Qa(ia,function(){var qa;if(sa == Gb || null == sa){qa=X.getRandom();do sa=qa.nextLong();while(0 > sa || sa > Tb);}else if(0 > sa || sa > Tb)throw new Bb("Message ID " + sa + " is outside the valid range.");X.getEntityAuthenticationData(null,{result:function(Ba){Qa(ia,function(){var ja;ja=X.getMessageCapabilities();return new yd(X,sa,ja,Ba,fa,wa,null,null,null,null,null);});},error:function(Ba){ia.error(Ba);}});});};Te=function(X,fa,wa){Qa(wa,function(){var ia,qa,Ba,ja,Z,aa;function sa(ea){Qa(wa,function(){ea instanceof ib && (ea.setEntity(ia),ea.setEntity(qa),ea.setUser(Ba),ea.setUser(ja),ea.setMessageId(Z));throw ea;});}ia=fa.masterToken;qa=fa.entityAuthenticationData;Ba=fa.userIdToken;ja=fa.userAuthenticationData;Z=fa.messageId;aa=ba(Z);Y(X,fa,qa,ia,{result:function(ea){Qa(wa,function(){var za;za=ea?ea.keyResponseData.masterToken:za=ia;X.getEntityAuthenticationData(null,{result:function(Ua){Qa(wa,function(){U(X,fa,za,{result:function(Pa){Qa(wa,function(){var Ta,Wa,na;Ba=Pa;Ta=Ud(fa.messageCapabilities,X.getMessageCapabilities());Wa=fa.keyResponseData;na=fa.serviceTokens;return X.isPeerToPeer()?new yd(X,aa,Ta,Ua,Wa?Wa.masterToken:fa.peerMasterToken,fa.peerUserIdToken,fa.peerServiceTokens,ia,Ba,na,ea):new yd(X,aa,Ta,Ua,Wa?Wa.masterToken:ia,Ba,na,null,null,null,ea);});},error:sa});});},error:sa});});},error:sa});});};Ue=function(X,fa,wa,sa,ia){Qa(ia,function(){X.getEntityAuthenticationData(null,{result:function(qa){Qa(ia,function(){var Ba,ja;if(fa != Gb && null != fa)Ba=ba(fa);else {ja=X.getRandom();do Ba=ja.nextInt();while(0 > Ba || Ba > Tb);}Le(X,qa,Ba,wa.responseCode,wa.internalCode,wa.message,sa,ia);});},error:function(qa){ia.error(qa);}});});};yd=Hb.Class.create({init:function(X,fa,wa,sa,ia,qa,Ba,ja,Z,aa,ea){var za,Ua,Pa,Ta,Wa;if(!X.isPeerToPeer() && (ja || Z))throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");za=ea && !X.isPeerToPeer()?ea.keyResponseData.masterToken:ia;Ua=[];za=X.getMslStore().getServiceTokens(za,qa);Ua.push.apply(Ua,za);Ba && Ba.forEach(function(na){Ua.push(na);},this);Pa=[];if(X.isPeerToPeer()){Ta=ja;Wa=Z;Ba=ea?ea.keyResponseData.masterToken:ja;Z=X.getMslStore().getServiceTokens(Ba,Z);Pa.push.apply(Pa,Z);aa && aa.forEach(function(na){Pa.push(na);},this);}Object.defineProperties(this,{_ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:sa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ia,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:fa,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:wa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ea,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:qa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Wa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(X){Qa(X,function(){var fa,wa,sa;fa=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;wa=[];for(sa in this._keyRequestData)wa.push(this._keyRequestData[sa]);if(this._nonReplayable){if(!this._masterToken)throw new Ob(T.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);sa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else sa=null;fa=new Oe(this._messageId,sa,this._renewable,this._capabilities,wa,fa,this._userAuthData,this._userIdToken,this._serviceTokens);wa=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,fa,wa,X);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(X){this._nonReplayable=X;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(X){this._renewable=X;return this;},setAuthTokens:function(X,fa){var wa,ia;if(fa && !fa.isBoundTo(X))throw new Bb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new Bb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{wa=this._ctx.getMslStore().getServiceTokens(X,fa);}catch(qa){if(qa instanceof ib)throw new Bb("Invalid master token and user ID token combination despite checking above.",qa);throw qa;}for(var sa=this._serviceTokens.length - 1;0 <= sa;--sa){ia=this._serviceTokens[sa];(ia.isUserIdTokenBound() && !ia.isBoundTo(fa) || ia.isMasterTokenBound() && !ia.isBoundTo(X)) && this._serviceTokens.splice(sa,1);}wa.forEach(function(qa){this.excludeServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._serviceTokens.push(qa);},this);this._masterToken=X;this._userIdToken=fa;},setUserAuthenticationData:function(X){this._userAuthData=X;return this;},setCustomer:function(X,fa){var wa;wa=this;Qa(fa,function(){var sa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new Bb("User ID token or peer user ID token already exists for the remote user.");sa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!sa)throw new Bb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,X,sa,{result:function(ia){Qa(fa,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ia:(this._userIdToken=ia,this._userAuthData=null);return !0;},wa);},error:function(ia){fa.error(ia);}});},wa);},addKeyRequestData:function(X){this._keyRequestData[X.uniqueKey()]=X;return this;},removeKeyRequestData:function(X){delete this._keyRequestData[X.uniqueKey()];return this;},addServiceToken:function(X){var fa;fa=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(X.isMasterTokenBound() && !X.isBoundTo(fa))throw new Ob(T.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(X) + "; mt " + JSON.stringify(fa)).setEntity(fa);if(X.isUserIdTokenBound() && !X.isBoundTo(this._userIdToken))throw new Ob(T.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(X) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(fa).setUser(this._userIdToken);this.excludeServiceToken(X.name,X.isMasterTokenBound(),X.isUserIdTokenBound());this._serviceTokens.push(X);return this;},addServiceTokenIfAbsent:function(X){var wa;for(var fa=this._serviceTokens.length - 1;0 <= fa;--fa){wa=this._serviceTokens[fa];if(wa.name == X.name && wa.isMasterTokenBound() == X.isMasterTokenBound() && wa.isUserIdTokenBound() == X.isUserIdTokenBound())return this;}this.addServiceToken(X);return this;},excludeServiceToken:function(){var X,fa,wa,ia;if(1 == arguments.length){X=arguments[0];fa=X.name;wa=X.isMasterTokenBound();X=X.isUserIdTokenBound();}else (arguments.length=3,fa=arguments[0],wa=arguments[1],X=arguments[2]);for(var sa=this._serviceTokens.length - 1;0 <= sa;--sa){ia=this._serviceTokens[sa];ia.name == fa && ia.isMasterTokenBound() == wa && ia.isUserIdTokenBound() == X && this._serviceTokens.splice(sa,1);}return this;},deleteServiceToken:function(){var X,fa,wa,sa;if(2 == arguments.length){X=arguments[0];fa=X.name;X.isMasterTokenBound();X.isUserIdTokenBound();wa=arguments[1];}else (arguments.length=4,fa=arguments[0],wa=arguments[3]);sa=this;Qa(wa,function(){var ia,qa;ia=originalToken.isMasterTokenBound()?this._masterToken:null;qa=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,fa,W,ia,qa,!1,null,new Vc(),{result:function(Ba){Qa(wa,function(){return this.addServiceToken(Ba);},sa);},error:function(Ba){Ba instanceof ib && (Ba=new Bb("Failed to create and add empty service token to message.",Ba));wa.error(Ba);}});},sa);},getServiceTokens:function(){var X;X=[];X.push.apply(X,this._serviceTokens);return X;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(X,fa){var wa,ia;if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(fa && !X)throw new Bb("Peer master token cannot be null when setting peer user ID token.");if(fa && !fa.isBoundTo(X))throw new Ob(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + fa + "; mt " + X).setEntity(X).setUser(fa);try{wa=this._ctx.getMslStore().getServiceTokens(X,fa);}catch(qa){if(qa instanceof ib)throw new Bb("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}for(var sa=this._peerServiceTokens.length - 1;0 <= sa;--sa){ia=this._peerServiceTokens[sa];(ia.isUserIdTokenBound() && !ia.isBoundTo(fa) || ia.isMasterTokenBound() && !ia.isBoundTo(X)) && this._peerServiceTokens.slice(sa,1);}wa.forEach(function(qa){this.excludePeerServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._peerServiceTokens.push(qa);},this);this._peerUserIdToken=fa;this._peerMasterToken=X;return this;},addPeerServiceToken:function(X){if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer service tokens when not in peer-to-peer mode.");if(X.isMasterTokenBound() && !X.isBoundTo(this._peerMasterToken))throw new Ob(T.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(X) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(X.isUserIdTokenBound() && !X.isBoundTo(this._peerUserIdToken))throw new Ob(T.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(X) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(X.name,X.isMasterTokenBound(),X.isUserIdTokenBound());this._peerServiceTokens.push(X);return this;},addPeerServiceTokenIfAbsent:function(X){var wa;for(var fa=this._peerServiceTokens.length - 1;0 <= fa;--fa){wa=this._peerServiceTokens[fa];if(wa.name == X.name && wa.isMasterTokenBound() == X.isMasterTokenBound() && wa.isUserIdTokenBound() == X.isUserIdTokenBound())return this;}this.addPeerServiceToken(X);return this;},excludePeerServiceToken:function(){var X,fa,wa,ia;if(1 == arguments.length){X=arguments[0];fa=X.name;wa=X.isMasterTokenBound();X=X.isUserIdTokenBound();}else (arguments.length=3,fa=arguments[0],wa=arguments[1],X=arguments[2]);for(var sa=this._peerServiceTokens.length - 1;0 <= sa;--sa){ia=this._peerServiceTokens[sa];ia.name == fa && ia.isMasterTokenBound() == wa && ia.isUserIdTokenBound() == X && this._peerServiceTokens.splice(sa,1);}return this;},deletePeerServiceToken:function(){var X,fa,wa,sa,ia,qa;if(2 == arguments.length){X=arguments[0];fa=X.name;wa=X.isMasterTokenBound();sa=X.isUserIdTokenBound();ia=arguments[1];}else (arguments.length=4,fa=arguments[0],wa=arguments[1],sa=arguments[2],ia=arguments[3]);qa=this;Qa(ia,function(){zc(this._ctx,fa,W,wa?this._peerMasterToken:null,sa?this._peerUserIdToken:null,!1,null,new Vc(),{result:function(Ba){Qa(ia,function(){return this.addPeerServiceToken(Ba);},qa);},error:function(Ba){Ba instanceof ib && (Ba=new Bb("Failed to create and add empty peer service token to message.",Ba));ia.error(Ba);}});},qa);},getPeerServiceTokens:function(){var X;X=[];X.push.apply(X,this._peerServiceTokens);return X;}});})();(function(){function da(U,W){return W[U]?W[U]:W[""];}function Y(U){var W;W=U.builder.getKeyExchangeData();return W && !U.ctx.isPeerToPeer()?W.keyResponseData.masterToken:U.builder.getMasterToken();}Ve=Hb.Class.create({init:function(U,W,ba){U={ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:W.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ba,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},isPrimaryMasterTokenAvailable:function(){return Y(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(U){try{return (this.builder.addServiceToken(U),!0);}catch(W){if(W instanceof Ob)return !1;throw W;}},addPeerServiceToken:function(U){try{return (this.builder.addPeerServiceToken(U),!0);}catch(W){if(W instanceof Ob)return !1;throw W;}},addUnboundPrimaryServiceToken:function(U,W,ba,X,fa){var wa;wa=this;Qa(fa,function(){var sa;sa=da(U,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,U,W,null,null,ba,X,sa,{result:function(ia){Qa(fa,function(){try{this.builder.addServiceToken(ia);}catch(qa){if(qa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},wa);},error:function(ia){fa.error(ia);}});},wa);},addUnboundPeerServiceToken:function(U,W,ba,X,fa){var wa;wa=this;Qa(fa,function(){var sa;sa=da(U,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,U,W,null,null,ba,X,sa,{result:function(ia){Qa(fa,function(){try{this.builder.addPeerServiceToken(ia);}catch(qa){if(qa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},wa);},error:function(ia){fa.error(ia);}});},wa);},addMasterBoundPrimaryServiceToken:function(U,W,ba,X,fa){var wa;wa=this;Qa(fa,function(){var sa,ia;sa=Y(this);if(!sa)return !1;ia=da(U,this.cryptoContexts);if(!ia)return !1;zc(this.ctx,U,W,sa,null,ba,X,ia,{result:function(qa){Qa(fa,function(){try{this.builder.addServiceToken(qa);}catch(Ba){if(Ba instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",Ba);throw Ba;}return !0;},wa);},error:function(qa){fa.error(qa);}});},wa);},addMasterBoundPeerServiceToken:function(U,W,ba,X,fa){var wa;wa=this;Qa(fa,function(){var sa,ia;sa=this.builder.getPeerMasterToken();if(!sa)return !1;ia=da(U,this.cryptoContexts);if(!ia)return !1;zc(this.ctx,U,W,sa,null,ba,X,ia,{result:function(qa){Qa(fa,function(){try{this.builder.addPeerServiceToken(qa);}catch(Ba){if(Ba instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",Ba);throw Ba;}return !0;},wa);},error:function(qa){fa.error(qa);}});},wa);},addUserBoundPrimaryServiceToken:function(U,W,ba,X,fa){var wa;wa=this;Qa(fa,function(){var sa,ia,qa;sa=Y(this);if(!sa)return !1;ia=this.builder.getUserIdToken();if(!ia)return !1;qa=da(U,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,U,W,sa,ia,ba,X,qa,{result:function(Ba){Qa(fa,function(){try{this.builder.addServiceToken(Ba);}catch(ja){if(ja instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ja);throw ja;}return !0;},wa);},error:function(Ba){fa.error(Ba);}});},wa);},addUserBoundPeerServiceToken:function(U,W,ba,X,fa){var wa;wa=this;Qa(fa,function(){var sa,ia,qa;sa=this.builder.getPeerMasterToken();if(!sa)return !1;ia=this.builder.getPeerUserIdToken();if(!ia)return !1;qa=da(U,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,U,W,sa,ia,ba,X,qa,{result:function(Ba){Qa(fa,function(){try{this.builder.addPeerServiceToken(Ba);}catch(ja){if(ja instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ja);throw ja;}return !0;},wa);},error:function(Ba){fa.error(Ba);}});},wa);},excludePrimaryServiceToken:function(){var U,W,ba,X;if(1 == arguments.length){U=arguments[0];W=U.name;ba=U.isMasterTokenBound();X=U.isUserIdTokenBound();}else (arguments.length=3,W=arguments[0],ba=arguments[1],X=arguments[2]);for(var fa=this.builder.getServiceTokens(),wa=0;wa < fa.length;++wa)if((U=fa[wa],U.name == W && U.isMasterTokenBound() == ba && U.isUserIdTokenBound() == X))return (this.builder.excludeServiceToken(W,ba,X),!0);return !1;},excludePeerServiceToken:function(){var U,W,ba,X;if(1 == arguments.length){U=arguments[0];W=U.name;ba=U.isMasterTokenBound();X=U.isUserIdTokenBound();}else (arguments.length=3,W=arguments[0],ba=arguments[1],X=arguments[2]);for(var fa=this.builder.getPeerServiceTokens(),wa=0;wa < fa.length;++wa)if((U=fa[wa],U.name == W && U.isMasterTokenBound() == ba && U.isUserIdTokenBound() == X))return (this.builder.excludePeerServiceToken(W,ba,X),!0);return !1;},deletePrimaryServiceToken:function(){var U,W,ba,X,fa;if(2 == arguments.length){U=arguments[0];W=U.name;ba=U.isMasterTokenBound();X=U.isUserIdTokenBound();fa=arguments[1];}else 4 == arguments.length && (W=arguments[0],ba=arguments[1],X=arguments[2],fa=arguments[3]);Qa(fa,function(){var ia;for(var wa=this.builder.getServiceTokens(),sa=0;sa < wa.length;++sa){ia=wa[sa];if(ia.name == W && ia.isMasterTokenBound() == ba && ia.isUserIdTokenBound() == X){this.builder.deleteServiceToken(W,ba,X,{result:function(){fa.result(!0);},error:function(qa){fa.error(qa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var U,W,ba,X,fa;if(2 == arguments.length){U=arguments[0];W=U.name;ba=U.isMasterTokenBound();X=U.isUserIdTokenBound();fa=arguments[1];}else 4 == arguments.length && (W=arguments[0],ba=arguments[1],X=arguments[2],fa=arguments[3]);Qa(fa,function(){var ia;for(var wa=this.builder.getPeerServiceTokens(),sa=0;sa < wa.length;++sa){ia=wa[sa];if(ia.name == W && ia.isMasterTokenBound() == ba && ia.isUserIdTokenBound() == X){this.builder.deletePeerServiceToken(W,ba,X,{result:function(){fa.result(!0);},error:function(qa){fa.error(qa);}});return;}}return !1;},this);}});})();(function(){function da(Y,U,W,ba){Qa(ba,function(){var fa,wa,sa,ia,qa,Ba;function X(){Qa(ba,function(){var ja;if(Ba >= W.length){if(qa)throw qa;throw new Vb(T.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(W));}ja=W[Ba];sa != ja.keyExchangeScheme?(++Ba,X()):ia.getCryptoContext(Y,ja,wa,fa,{result:ba.result,error:function(Z){Qa(ba,function(){if(!(Z instanceof ib))throw Z;qa=Z;++Ba;X();});}});});}fa=U.masterToken;wa=U.keyResponseData;if(!wa)return null;sa=wa.keyExchangeScheme;ia=Y.getKeyExchangeFactory(sa);if(!ia)throw new Vb(T.KEYX_FACTORY_NOT_FOUND,sa);Ba=0;X();});}We=Qd.extend({init:function(Y,U,W,ba,X,fa,wa){var sa;sa=this;gb(wa,function(){var aa;function ia(){sa._ready=!0;sa._readyQueue.add(!0);}function qa(ea,za){var Ua;try{Ua=za.masterToken;ea.getTokenFactory().isMasterTokenRevoked(ea,Ua,{result:function(Pa){Pa?(sa._errored=new ad(Pa,Ua).setUser(za.userIdToken).setUser(za.userAuthenticationData).setMessageId(za.messageId),ia()):Ba(ea,za);},error:function(Pa){Pa instanceof ib && (Pa.setEntity(za.masterToken),Pa.setUser(za.userIdToken),Pa.setUser(za.userAuthenticationData),Pa.setMessageId(za.messageId));sa._errored=Pa;ia();}});}catch(Pa){Pa instanceof ib && (Pa.setEntity(za.masterToken),Pa.setUser(za.userIdToken),Pa.setUser(za.userAuthenticationData),Pa.setMessageId(za.messageId));sa._errored=Pa;ia();}}function Ba(ea,za){var Ua,Pa;try{Ua=za.masterToken;Pa=za.userIdToken;Pa?ea.getTokenFactory().isUserIdTokenRevoked(ea,Ua,Pa,{result:function(Ta){Ta?(sa._errored=new MslUserIdTokenException(Ta,Pa).setEntity(Ua).setUser(Pa).setMessageId(za.messageId),ia()):ja(ea,za);},error:function(Ta){Ta instanceof ib && (Ta.setEntity(za.masterToken),Ta.setUser(za.userIdToken),Ta.setUser(za.userAuthenticationData),Ta.setMessageId(za.messageId));sa._errored=Ta;ia();}}):ja(ea,za);}catch(Ta){Ta instanceof ib && (Ta.setEntity(za.masterToken),Ta.setUser(za.userIdToken),Ta.setUser(za.userAuthenticationData),Ta.setMessageId(za.messageId));sa._errored=Ta;ia();}}function ja(ea,za){var Ua;try{Ua=za.masterToken;Ua.isExpired()?za.isRenewable() && 0 != za.keyRequestData.length?ea.getTokenFactory().isMasterTokenRenewable(ea,Ua,{result:function(Pa){Pa?(sa._errored=new Ob(Pa,"Master token is expired and not renewable.").setEntity(Ua).setUser(za.userIdToken).setUser(za.userAuthenticationData).setMessageId(za.messageId),ia()):Z(ea,za);},error:function(Pa){Pa instanceof ib && (Pa.setEntity(za.masterToken),Pa.setUser(za.userIdToken),Pa.setUser(za.userAuthenticationData),Pa.setMessageId(za.messageId));sa._errored=Pa;ia();}}):(sa._errored=new Ob(T.MESSAGE_EXPIRED,JSON.stringify(za)).setEntity(Ua).setUser(za.userIdToken).setUser(za.userAuthenticationData).setMessageId(za.messageId),ia()):Z(ea,za);}catch(Pa){Pa instanceof ib && (Pa.setEntity(za.masterToken),Pa.setUser(za.userIdToken),Pa.setUser(za.userAuthenticationData),Pa.setMessageId(za.messageId));sa._errored=Pa;ia();}}function Z(ea,za){var Ua,Pa;try{Ua=za.masterToken;Pa=za.nonReplayableId;"number" === typeof Pa?Ua?ea.getTokenFactory().acceptNonReplayableId(ea,Ua,Pa,{result:function(Ta){Ta || (sa._errored=new Ob(T.MESSAGE_REPLAYED,JSON.stringify(za)).setEntity(Ua).setUser(za.userIdToken).setUser(za.userAuthenticationData).setMessageId(za.messageId));ia();},error:function(Ta){Ta instanceof ib && (Ta.setEntity(Ua),Ta.setUser(za.userIdToken),Ta.setUser(za.userAuthenticationData),Ta.setMessageId(za.messageId));sa._errored=Ta;ia();}}):(sa._errored=new Ob(T.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(za)).setEntity(za.entityAuthenticationData).setUser(za.userIdToken).setUser(za.userAuthenticationData).setMessageId(za.messageId),ia()):ia();}catch(Ta){Ta instanceof ib && (Ta.setEntity(za.masterToken),Ta.setEntity(za.entityAuthenticationData),Ta.setUser(za.userIdToken),Ta.setUser(za.userAuthenticationData),Ta.setMessageId(za.messageId));sa._errored=Ta;ia();}}aa={_source:{value:U,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:W,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:fa,writable:!1,enumerable:!1,configurable:!1},_header:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);xe(sa._source,fa,{result:function(ea){sa._json=ea;sa._jsonIndex=0;null === sa._json?(sa._errored=new Jb(T.MESSAGE_DATA_MISSING),ia()):Ge(Y,sa._json[sa._jsonIndex++],X,{result:function(za){var Ua;sa._header=za;if(sa._header instanceof Ic)(sa._keyxCryptoContext=null,sa._cryptoContext=null,ia());else {Ua=sa._header;da(Y,Ua,ba,{result:function(Pa){var Ta;try{sa._keyxCryptoContext=Pa;Y.isPeerToPeer() || !sa._keyxCryptoContext?sa._cryptoContext=Ua.cryptoContext:sa._cryptoContext=sa._keyxCryptoContext;try{Ta=Ua.masterToken;Ta && (Y.isPeerToPeer() || Ta.isVerified())?qa(Y,Ua):Z(Y,Ua);}catch(Wa){Wa instanceof ib && (Wa.setEntity(Ua.masterToken),Wa.setUser(Ua.userIdToken),Wa.setUser(Ua.userAuthenticationData),Wa.setMessageId(Ua.messageId));sa._errored=Wa;ia();}}catch(Wa){Wa instanceof ib && (Wa.setEntity(Ua.masterToken),Wa.setEntity(Ua.entityAuthenticationData),Wa.setUser(Ua.userIdToken),Wa.setUser(Ua.userAuthenticationData),Wa.setMessageId(Ua.messageId));sa._errored=Wa;ia();}},error:function(Pa){Pa instanceof ib && (Pa.setEntity(Ua.masterToken),Pa.setEntity(Ua.entityAuthenticationData),Pa.setUser(Ua.userIdToken),Pa.setUser(Ua.userAuthenticationData),Pa.setMessageId(Ua.messageId));sa._errored=Pa;ia();}});}},error:function(za){sa._errored=za;ia();}});},timeout:function(){sa._timedout=!0;ia();},error:function(ea){sa._errored=ea;ia();}});return this;},sa);},nextData:function(Y,U){var W;W=this;gb(U,function(){var X;function ba(fa){gb(fa,function(){var wa;if(this._jsonIndex < this._json.length)return wa=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(sa){sa && sa.length && 0 < sa.length?(sa.forEach(function(ia){this._json.push(ia);}),ba(fa)):(this._eom=!0,fa.result(null));},timeout:function(){fa.timeout();},error:function(sa){fa.error(sa);}});},W);}X=this.getMessageHeader();if(!X)throw new Bb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ba({result:function(fa){gb(U,function(){if(!fa)return null;if("object" !== typeof fa)throw new Jb(T.MESSAGE_FORMAT_ERROR);Se(fa,this._cryptoContext,{result:function(wa){gb(U,function(){var sa,ia,qa,Ba;sa=X.masterToken;ia=X.entityAuthenticationData;qa=X.userIdToken;Ba=X.getUserAuthenticationData;if(wa.messageId != X.messageId)throw new Ob(T.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + wa.messageId + " header mid " + X.messageId).setEntity(sa).setEntity(ia).setUser(qa).setUser(Ba);if(wa.sequenceNumber != this._payloadSequenceNumber)throw new Ob(T.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + wa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(sa).setEntity(ia).setUser(qa).setUser(Ba);++this._payloadSequenceNumber;wa.isEndOfMessage() && (this._eom=!0);sa=wa.data;this._payloads.push(sa);this._payloadIndex=-1;return sa;},W);},error:function(wa){wa instanceof SyntaxError && (wa=new Jb(T.JSON_PARSE_ERROR,"payloadchunk",wa));U.error(wa);}});},W);},timeout:function(){U.timeout();},error:function(fa){U.error(fa);}});},W);},isReady:function(Y,U){var ba;function W(){gb(U,function(){if(this._aborted)return !1;if(this._timedout)U.timeout();else {if(this._errored)throw this._errored;return !0;}},ba);}ba=this;gb(U,function(){this._ready?W():this._readyQueue.poll(Y,{result:function(X){gb(U,function(){if(X === Gb)return !1;W();},ba);},timeout:function(){U.timeout();},error:function(X){U.error(X);}});},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var Y,U;Y=this.getMessageHeader();if(Y){U=Y.masterToken;return U?U.identity:Y.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var Y;Y=this.getMessageHeader();return Y?Y.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(Y){this._closeSource=Y;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(Y,U,W){var X;function ba(){gb(W,function(){var wa,sa,ia,qa;function fa(Ba){gb(Ba,function(){var ja,Z,aa;if(sa && qa >= sa.length)return sa.subarray(0,qa);ja=-1;if(this._currentPayload){Z=this._currentPayload.length - this._payloadOffset;if(!sa){aa=Z;if(-1 != this._payloadIndex)for(var ea=this._payloadIndex;ea < this._payloads.length;++ea)aa+=this._payloads[ea].length;0 < aa && (sa=new Uint8Array(aa));}Z=Math.min(Z,sa?sa.length - qa:0);0 < Z && (ja=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + Z),sa.set(ja,ia),ja=Z,ia+=Z,this._payloadOffset+=Z);}-1 != ja?(qa+=ja,fa(Ba)):this.nextData(U,{result:function(za){gb(Ba,function(){if(this._aborted)return sa?sa.subarray(0,qa):new Uint8Array(0);this._currentPayload=za;this._payloadOffset=0;if(this._currentPayload)fa(Ba);else return 0 == qa && 0 != Y?null:sa?sa.subarray(0,qa):new Uint8Array(0);},X);},timeout:function(){Ba.timeout(sa?sa.subarray(0,qa):new Uint8Array(0));},error:function(za){gb(Ba,function(){za instanceof ib && (za=new Zb("Error reading the payload chunk.",za));if(0 < qa)return (X._readException=za,sa.subarray(0,qa));throw za;},X);}});},X);}if(this._aborted)return new Uint8Array(0);if(this._timedout)W.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){wa=this._readException;this._readException=null;throw wa;}sa=-1 != Y?new Uint8Array(Y):Gb;ia=0;qa=0;fa(W);}},X);}X=this;gb(W,function(){if(-1 > Y)throw new RangeError("read requested with illegal length " + Y);this._ready?ba():this._readyQueue.poll(U,{result:function(fa){fa === Gb?W.result(!1):ba();},timeout:function(){W.timeout(new Uint8Array(0));},error:function(fa){W.error(fa);}});},X);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(Y,U,W,ba,X,fa,wa){new We(Y,U,W,ba,X,fa,wa);};})();(function(){Ye=ud.extend({init:function(da,Y,U,W,ba,X,fa){var wa;wa=this;gb(fa,function(){var ia,qa,Ba;function sa(){wa._ready=!0;wa._readyQueue.add(!0);}ia=Ud(da.getMessageCapabilities(),W.messageCapabilities);qa=null;ia && (qa=me(ia.compressionAlgorithms));ia={_destination:{value:Y,writable:!1,enumerable:!1,configurable:!1},_charset:{value:U,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ia,writable:!1,enumerable:!1,configurable:!1},_header:{value:W,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:qa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ba,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);Ba=fc(JSON.stringify(W),U);Y.write(Ba,0,Ba.length,X,{result:function(ja){try{wa._aborted?sa():ja < Ba.length?(wa._timedout=!0,sa()):Y.flush(X,{result:function(Z){wa._aborted || (wa._timedout=!Z);sa();},timeout:function(){wa._timedout=!0;sa();},error:function(Z){wa._errored=Z;sa();}});}catch(Z){wa._errored=Z;sa();}},timeout:function(){wa._timedout=!0;sa();},error:function(ja){wa._errored=ja;sa();}});return this;},wa);},setCompressionAlgorithm:function(da,Y,U){var ba;function W(){ba.flush(Y,{result:function(X){gb(U,function(){if(!X)throw new Zb("flush() aborted");this._compressionAlgo=da;return !0;},ba);},timeout:function(){U.timeout();},error:function(X){U.error(X);}});}ba=this;gb(U,function(){if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");if(this._compressionAlgo == da)return !0;if(da){if(!this._capabilities)return !1;for(var X=this._capabilities.compressionAlgorithms,fa=0;fa < X.length;++fa)if(X[fa] == da){W();return;}return !1;}W();},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(da,Y){var U;U=this;gb(Y,function(){if(this._aborted)return !1;if(this._timedout)Y.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(da,{result:function(W){gb(Y,function(){W && (this._currentPayload=null);return W;},U);},timeout:function(){Y.timeout();},error:function(W){Y.error(W);}});}},U);},flush:function(da,Y){var W;function U(){gb(Y,function(){var ba,X,ia;if(this._aborted)return !1;if(this._timedout)Y.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ba=this.getMessageHeader();if(!ba)return !0;X=0;this._currentPayload && this._currentPayload.forEach(function(qa){X+=qa.length;});for(var fa=new Uint8Array(X),wa=0,sa=0;this._currentPayload && sa < this._currentPayload.length;++sa){ia=this._currentPayload[sa];fa.set(ia,wa);wa+=ia.length;}Re(this._payloadSequenceNumber,ba.messageId,this._closed,this._compressionAlgo,fa,this._cryptoContext,{result:function(qa){gb(Y,function(){var Ba;this._payloads.push(qa);Ba=fc(JSON.stringify(qa),this._charset);this._destination.write(Ba,0,Ba.length,da,{result:function(ja){gb(Y,function(){if(this._aborted)return !1;ja < qa.length?Y.timeout():this._destination.flush(da,{result:function(Z){gb(Y,function(){if(this._aborted)return !1;if(Z)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);Y.timeout();},W);},timeout:function(){Y.timeout();},error:function(Z){Z instanceof ib && (Z=new Zb("Error encoding payload chunk [sequence number " + W._payloadSequenceNumber + "].",Z));Y.error(Z);}});},W);},timeout:function(ja){Y.timeout();},error:function(ja){ja instanceof ib && (ja=new Zb("Error encoding payload chunk [sequence number " + W._payloadSequenceNumber + "].",ja));Y.error(ja);}});},W);},error:function(qa){qa instanceof ib && (qa=new Zb("Error encoding payload chunk [sequence number " + W._payloadSequenceNumber + "].",qa));Y.error(qa);}});}},W);}W=this;gb(Y,function(){this._ready?U():this._readyQueue.poll(da,{result:function(ba){ba === Gb?Y.result(!1):U();},timeout:function(){Y.timeout();},error:function(ba){Y.error(ba);}});},W);},write:function(da,Y,U,W,ba){gb(ba,function(){var X;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Zb("Message output stream already closed.");if(0 > Y)throw new RangeError("Offset cannot be negative.");if(0 > U)throw new RangeError("Length cannot be negative.");if(Y + U > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");X=da.subarray(Y,Y + U);this._currentPayload.push(X);return X.length;}},this);}});zd=function(da,Y,U,W,ba,X,fa){new Ye(da,Y,U,W,ba,X,fa);};})();Cf=Hb.Class.create({sentHeader:function(da){},receivedHeader:function(da){}});Object.freeze({USERDATA_REAUTH:Ia.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ia.SSOTOKEN_REJECTED});Ze=Hb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(da,Y,U,W){},getCustomer:function(){},getKeyRequestData:function(da){},updateServiceTokens:function(da,Y,U){},write:function(da,Y,U){},getDebugContext:function(){}});Hb.Class.create({getInputStream:function(da){},getOutputStream:function(da){}});(function(){var wa,sa,ia,qa,Ba,ja,Z,aa,ea,za,Ua,Pa;function da(Ta){return function(){Ta.abort();};}function Y(Ta,Wa){Object.defineProperties(this,{masterToken:{value:Ta,writable:!1,configurable:!1},ticket:{value:Wa,writable:!1,configurable:!1}});}function U(Ta,Wa){Object.defineProperties(this,{builder:{value:Ta,writable:!1,configurable:!1},msgCtx:{value:Wa,writable:!1,configurable:!1}});}function W(Ta,Wa,na){Object.defineProperties(this,{requestHeader:{value:Ta,writable:!1,configurable:!1},payloads:{value:Wa,writable:!1,configurable:!1},handshake:{value:na,writable:!1,configurable:!1}});}function ba(Ta,Wa){Object.defineProperties(this,{requestHeader:{value:Wa.requestHeader,writable:!1,configurable:!1},payloads:{value:Wa.payloads,writable:!1,configurable:!1},handshake:{value:Wa.handshake,writable:!1,configurable:!1},response:{value:Ta,writable:!1,configurable:!1}});}function X(Ta){for(;Ta;){if(Ta instanceof cc)return !0;Ta=Ta instanceof ib?Ta.cause:Gb;}return !1;}function fa(Ta,Wa,na,Aa,Ga,La,Da,Xa,Ka){Ue(Wa,Aa,Ga,La,{result:function(bb){na && na.sentHeader(bb);zd(Wa,Da,Ub,bb,null,null,Xa,{result:function(fb){Ta.setAbort(function(){fb.abort();});fb.close(Xa,{result:function(Ya){gb(Ka,function(){if(!Ya)throw new cc("sendError aborted.");return Ya;});},timeout:function(){Ka.timeout();},error:function(Ya){Ka.error(Ya);}});},timeout:function(){},error:function(fb){Ka.error(fb);}});},error:function(bb){Ka.error(bb);}});}wa=ud.extend({close:function(Ta,Wa){Wa.result(!0);},write:function(Ta,Wa,na,Aa,Ga){Qa(Ga,function(){return Math.min(Ta.length - Wa,na);});},flush:function(Ta,Wa){Wa.result(!0);}});sa=Bf.extend({getUserMessage:function(Ta,Wa){return null;}});ia=Ze.extend({init:function(Ta){Object.defineProperties(this,{_appCtx:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ta,Wa,na,Aa){this._appCtx.getUserAuthData(Ta,Wa,na,Aa);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ta){this._appCtx.getKeyRequestData(Ta);},updateServiceTokens:function(Ta,Wa,na){this._appCtx.updateServiceTokens(Ta,Wa,na);},write:function(Ta,Wa,na){this._appCtx.write(Ta,Wa,na);},getDebugContext:function(){return this._appCtx.getDebugContext();}});qa=ia.extend({init:function Aa(Wa,na){Aa.base.call(this,na);Object.defineProperties(this,{_payloads:{value:Wa,writable:!1,enumerable:!1,configurable:!1}});},write:function(Wa,na,Aa){var La;function Ga(Da,Xa){var Ka;if(Da == La._payloads.length)Aa.result(!0);else {Ka=La._payloads[Da];Wa.setCompressionAlgorithm(Ka.compressionAlgo,na,{result:function(bb){Wa.write(Ka.data,0,Ka.data.length,na,{result:function(fb){gb(Aa,function(){Ka.isEndOfMessage()?Ga(Da + 1,Xa):Wa.flush(na,{result:function(Ya){Aa.result(Ya);},timeout:function(){Aa.timeout();},error:function(Ya){Aa.error(Ya);}});},La);},timeout:function(fb){Aa.timeout(fb);},error:function(fb){Aa.error(fb);}});},timeout:function(){},error:function(bb){Aa.error(bb);}});}}La=this;Ga(0);}});Ba=ia.extend({init:function Aa(na){Aa.base.call(this,na);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(na,Aa,Ga){Ga.result(!0);}});ja={};Z=Hb.Class.create({init:function(na){na || (na=new sa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:na,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(na){this._filterFactory=na;},getNewestMasterToken:function(na,Aa,Ga,La){var Da;Da=this;gb(La,function(){var Xa,Ka,bb,fb,Ya;Xa=Aa.getMslStore();Ka=Xa.getMasterToken();if(!Ka)return null;bb=Ka.uniqueKey();fb=this._masterTokenLocks[bb];fb || (fb=new Fd(),this._masterTokenLocks[bb]=fb);Ya=fb.readLock(Ga,{result:function(nb){gb(La,function(){var rb;if(nb === Gb)throw new cc("getNewestMasterToken aborted.");rb=Xa.getMasterToken();if(Ka.equals(rb))return new Y(Ka,nb);fb.unlock(nb);fb.writeLock(Ga,{result:function(tb){gb(La,function(){if(tb === Gb)throw new cc("getNewestMasterToken aborted.");delete this._masterTokenLocks[bb];fb.unlock(tb);return this.getNewestMasterToken(na,Aa,Ga,La);},Da);},timeout:function(){La.timeout();},error:function(tb){La.error(tb);}});},Da);},timeout:function(){La.timeout();},error:function(nb){La.error(nb);}});na.setAbort(function(){Ya && (fb.cancel(Ya),Ya=Gb);});},Da);},deleteMasterToken:function(na,Aa){var Ga;if(Aa){Ga=this;setTimeout(function(){var La,Da;La=Aa.uniqueKey();Da=Ga._masterTokenLocks[La];Da || (Da=new Fd(),Ga._masterTokenLocks[La]=Da);Da.writeLock(-1,{result:function(Xa){na.getMslStore().removeCryptoContext(Aa);delete Ga._masterTokenLocks[La];Da.unlock(Xa);},timeout:function(){throw new Bb("Unexpected timeout received.");},error:function(Xa){throw Xa;}});},0);}},releaseMasterToken:function(na){var Aa;if(na && na.masterToken){Aa=na.masterToken.uniqueKey();Aa=this._masterTokenLocks[Aa];if(!Aa)throw new Bb("Master token read/write lock does not exist when it should.");Aa.unlock(na.ticket);}},updateOutgoingCryptoContexts:function(na,Aa,Ga){var La;La=na.getMslStore();!na.isPeerToPeer() && Ga && (La.setCryptoContext(Ga.keyResponseData.masterToken,Ga.cryptoContext),this.deleteMasterToken(na,Aa.masterToken));},updateIncomingCryptoContexts:function(na,Aa,Ga){var La,Da;La=Ga.getMessageHeader();if(La){Da=na.getMslStore();if(La=La.keyResponseData)(Da.setCryptoContext(La.masterToken,Ga.getKeyExchangeCryptoContext()),this.deleteMasterToken(na,Aa.masterToken));}},storeServiceTokens:function(na,Aa,Ga,La){var Ka,bb;na=na.getMslStore();for(var Da=[],Xa=0;Xa < La.length;++Xa){Ka=La[Xa];if(!Ka.isBoundTo(Aa) || !Aa.isVerified()){bb=Ka.data;bb && 0 == bb.length?na.removeServiceTokens(Ka.name,Ka.isMasterTokenBound()?Aa:null,Ka.isUserIdTokenBound()?Ga:null):Da.push(Ka);}}0 < Da.length && na.addServiceTokens(Da);},buildRequest:function(na,Aa,Ga,La,Da){var Xa;Xa=this;this.getNewestMasterToken(na,Aa,La,{result:function(Ka){Qa(Da,function(){var bb,fb,Ya;bb=Ka && Ka.masterToken;if(bb){fb=Ga.getUserId();Ya=Aa.getMslStore();fb=(fb=fb?Ya.getUserIdToken(fb):null) && fb.isBoundTo(bb)?fb:null;}else fb=null;Oc(Aa,bb,fb,null,{result:function(nb){Qa(Da,function(){nb.setNonReplayable(Ga.isNonReplayable());return {builder:nb,tokenTicket:Ka};});},error:function(nb){Qa(Da,function(){this.releaseMasterToken(Ka);nb instanceof ib && (nb=new Bb("User ID token not bound to master token despite internal check.",nb));throw nb;},Xa);}});},Xa);},timeout:function(){Da.timeout();},error:function(Ka){Da.error(Ka);}});},buildResponse:function(na,Aa,Ga,La,Da,Xa){var Ka;Ka=this;Te(Aa,La,{result:function(bb){gb(Xa,function(){bb.setNonReplayable(Ga.isNonReplayable());if(!Aa.isPeerToPeer() && !La.keyResponseData)return {builder:bb,tokenTicket:null};this.getNewestMasterToken(na,Aa,Da,{result:function(fb){gb(Xa,function(){var Ya,nb,rb;Ya=fb && fb.masterToken;if(Ya){nb=Ga.getUserId();rb=Aa.getMslStore();nb=(nb=nb?rb.getUserIdToken(nb):null) && nb.isBoundTo(Ya)?nb:null;}else nb=null;bb.setAuthTokens(Ya,nb);return {builder:bb,tokenTicket:fb};},Ka);},timeout:function(){Xa.timeout();},error:function(fb){Xa.error(fb);}});},Ka);},error:function(bb){Xa.error(bb);}});},buildErrorResponse:function(na,Aa,Ga,La,Da,Xa,Ka){var Ya;function bb(nb,rb){gb(Ka,function(){var tb,vb;tb=Nc(Da.messageId);vb=new qa(rb,Ga);Oc(Aa,null,null,tb,{result:function(wb){gb(Ka,function(){Aa.isPeerToPeer() && wb.setPeerAuthTokens(nb.peerMasterToken,nb.peerUserIdToken);wb.setNonReplayable(vb.isNonReplayable());return {errorResult:new U(wb,vb),tokenTicket:null};},Ya);},error:function(wb){Ka.error(wb);}});},Ya);}function fb(nb,rb){Ya.getNewestMasterToken(na,Aa,Xa,{result:function(tb){gb(Ka,function(){var vb,wb,Fb;vb=tb && tb.masterToken;wb=Nc(Da.messageId);Fb=new qa(rb,Ga);Oc(Aa,vb,null,wb,{result:function(Db){gb(Ka,function(){Aa.isPeerToPeer() && Db.setPeerAuthTokens(nb.peerMasterToken,nb.peerUserIdToken);Db.setNonReplayable(Fb.isNonReplayable());return {errorResult:new U(Db,Fb),tokenTicket:tb};},Ya);},error:function(Db){Ka.error(Db);}});},Ya);},timeout:function(){Ka.timeout();},error:function(tb){Ka.error(tb);}});}Ya=this;gb(Ka,function(){var nb,rb,tb,vb;nb=La.requestHeader;rb=La.payloads;tb=Da.errorCode;switch(tb){case Ia.ENTITYDATA_REAUTH:case Ia.ENTITY_REAUTH:Aa.getEntityAuthenticationData(tb,{result:function(wb){gb(Ka,function(){if(!wb)return null;bb(nb,rb);},Ya);},error:function(wb){Ka.error(wb);}});break;case Ia.USERDATA_REAUTH:case Ia.SSOTOKEN_REJECTED:Ga.getUserAuthData(tb,!1,!0,{result:function(wb){gb(Ka,function(){if(!wb)return null;fb(nb,rb);},Ya);},error:function(wb){Ka.error(wb);}});break;case Ia.USER_REAUTH:fb(nb,rb);break;case Ia.KEYX_REQUIRED:tb=Nc(Da.messageId);vb=new qa(rb,Ga);Oc(Aa,null,null,tb,{result:function(wb){gb(Ka,function(){Aa.isPeerToPeer() && wb.setPeerAuthTokens(nb.peerMasterToken,nb.peerUserIdToken);wb.setRenewable(!0);wb.setNonReplayable(vb.isNonReplayable());return {errorResult:new U(wb,vb),tokenTicket:null};},Ya);},error:function(wb){Ka.error(wb);}});break;case Ia.EXPIRED:this.getNewestMasterToken(na,Aa,Xa,{result:function(wb){gb(Ka,function(){var Fb,Db,pa,Ha;Fb=wb && wb.masterToken;Db=nb.userIdToken;pa=Nc(Da.messageId);Ha=new qa(rb,Ga);Oc(Aa,Fb,Db,pa,{result:function(Ra){gb(Ka,function(){Aa.isPeerToPeer() && Ra.setPeerAuthTokens(nb.peerMasterToken,nb.peerUserIdToken);nb.masterToken.equals(Fb) && Ra.setRenewable(!0);Ra.setNonReplayable(Ha.isNonReplayable());return {errorResult:new U(Ra,Ha),tokenTicket:wb};},Ya);},error:function(Ra){Ka.error(Ra);}},Ya);},Ya);},timeout:function(){Ka.timeout();},error:function(wb){Ka.error(wb);}});break;case Ia.REPLAYED:this.getNewestMasterToken(na,Aa,Xa,{result:function(wb){gb(Ka,function(){var Fb,Db,pa,Ha;Fb=wb && wb.masterToken;Db=nb.userIdToken;pa=Nc(Da.messageId);Ha=new qa(rb,Ga);Oc(Aa,Fb,Db,pa,{result:function(Ra){gb(Ka,function(){Aa.isPeerToPeer() && Ra.setPeerAuthTokens(nb.peerMasterToken,nb.peerUserIdToken);nb.masterToken.equals(Fb)?(Ra.setRenewable(!0),Ra.setNonReplayable(!1)):Ra.setNonReplayable(Ha.isNonReplayable());return {errorResult:new U(Ra,Ha),tokenTicket:wb};},Ya);},error:function(Ra){Ka.error(Ra);}});},Ya);},timeout:function(){Ka.timeout();},error:function(wb){Ka.error(wb);}});break;default:return null;}},Ya);},cleanupContext:function(na,Aa,Ga){switch(Ga.errorCode){case Ia.ENTITY_REAUTH:this.deleteMasterToken(na,Aa.masterToken);break;case Ia.USER_REAUTH:(Ga=Aa.userIdToken,Aa.masterToken && Ga && na.getMslStore().removeUserIdToken(Ga));}},send:function(na,Aa,Ga,La,Da,Xa,Ka){var tb;function bb(vb,wb,Fb){gb(Ka,function(){var Db;Db=Da.getPeerUserIdToken();!Aa.isPeerToPeer() && !wb || Aa.isPeerToPeer() && !Db?(Db=Ga.getCustomer())?Da.setCustomer(Db,{result:function(pa){gb(Ka,function(){wb=Da.getUserIdToken();fb(vb,wb,Fb);},tb);},error:function(pa){Ka.error(pa);}}):fb(vb,wb,Fb):fb(vb,wb,Fb);},tb);}function fb(vb,wb,Fb){gb(Ka,function(){var Db,pa;Db=!Fb && (!Ga.isEncrypted() || Da.willEncryptPayloads()) && (!Ga.isIntegrityProtected() || Da.willIntegrityProtectPayloads()) && (!Ga.isNonReplayable() || Da.isNonReplayable() && vb);Db || Da.setNonReplayable(!1);pa=[];Da.isRenewable() && (!vb || vb.isRenewable() || Ga.isNonReplayable())?Ga.getKeyRequestData({result:function(Ha){gb(Ka,function(){var r;for(var Ra=0;Ra < Ha.length;++Ra){r=Ha[Ra];pa.push(r);Da.addKeyRequestData(r);}Ya(vb,wb,Db,pa);},tb);},error:function(Ha){Ka.error(Ha);}}):Ya(vb,wb,Db,pa);},tb);}function Ya(vb,wb,Fb,Db){gb(Ka,function(){var pa;pa=new Ve(Aa,Ga,Da);Ga.updateServiceTokens(pa,!Fb,{result:function(Ha){Da.getHeader({result:function(Ra){gb(Ka,function(){var r,b;r=Ga.getDebugContext();r && r.sentHeader(Ra);r=Da.getKeyExchangeData();this.updateOutgoingCryptoContexts(Aa,Ra,r);this.storeServiceTokens(Aa,vb,wb,Ra.serviceTokens);r=!Aa.isPeerToPeer() && r?r.cryptoContext:Ra.cryptoContext;if(na.isAborted())throw new cc("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(La):La;zd(Aa,b,Ub,Ra,r,Xa,{result:function(a){na.setAbort(function(){a.abort();});nb(a,Ra,Fb);},timeout:function(){Ka.timeout();},error:function(a){Ka.error(a);}});},tb);},timeout:function(){Ka.timeout();},error:function(Ra){Ka.error(Ra);}});},error:function(Ha){Ka.error(Ha);}});},tb);}function nb(vb,wb,Fb){var Db,pa;if(Fb)Ga.write(vb,Xa,{result:function(Ha){gb(Ka,function(){if(na.isAborted())throw new cc("MessageOutputStream write aborted.");rb(vb,wb,Fb);},tb);},timeout:function(){Ka.timeout();},error:function(Ha){Ka.error(Ha);}});else {Db=new wa();pa=new Vc();zd(Aa,Db,Ub,wb,pa,Xa,{result:function(Ha){Ga.write(Ha,Xa,{result:function(Ra){gb(Ka,function(){if(na.isAborted())throw new cc("MessageOutputStream proxy write aborted.");Ha.close(Xa,{result:function(r){gb(Ka,function(){var b;if(!r)throw new cc("MessageOutputStream proxy close aborted.");b=Ha.getPayloads();rb(vb,wb,Fb,b);},tb);},timeout:function(){Ka.timeout();},error:function(r){Ka.error(r);}});},tb);},timeout:function(){Ka.timeout();},error:function(Ra){Ka.error(Ra);}});},timeout:function(){Ka.timeout();},error:function(Ha){Ka.error(Ha);}});}}function rb(vb,wb,Fb,Db){vb.close(Xa,{result:function(pa){gb(Ka,function(){if(!pa)throw new cc("MessageOutputStream close aborted.");Db || (Db=vb.getPayloads());return new W(wb,Db,!Fb);},tb);},timeout:function(){Ka.timeout();},error:function(pa){Ka.error(pa);}});}tb=this;gb(Ka,function(){var vb,wb,Fb,Db;vb=Da.getMasterToken();wb=Da.getUserIdToken();Fb=!1;if(Ga.getUserId()){Db=!wb;Ga.getUserAuthData(null,Da.isRenewable(),Db,{result:function(pa){gb(Ka,function(){pa && (Da.willEncryptHeader() && Da.willIntegrityProtectHeader()?Da.setUserAuthenticationData(pa):Fb=!0);bb(vb,wb,Fb);},tb);},error:function(pa){Ka.error(pa);}});}else bb(vb,wb,Fb);},tb);},receive:function(na,Aa,Ga,La,Da,Xa,Ka){var bb;bb=this;gb(Ka,function(){var fb,Ya,nb;if(na.isAborted())throw new cc("receive aborted.");fb=[];Da && (fb=Da.keyRequestData.filter(function(){return !0;}));Ya=Ga.getCryptoContexts();nb=this._filterFactory?this._filterFactory.getInputStream(La):La;Xe(Aa,nb,Ub,fb,Ya,Xa,{result:function(rb){na.setAbort(function(){rb.abort();});rb.isReady(Xa,{result:function(tb){gb(Ka,function(){var vb,wb,Fb,Db;if(!tb)throw new cc("MessageInputStream aborted.");vb=rb.getMessageHeader();wb=rb.getErrorHeader();Fb=Ga.getDebugContext();Fb && Fb.receivedHeader(vb?vb:wb);if(Da && (Fb=wb?wb.errorCode:null,vb || Fb != Ia.FAIL && Fb != Ia.TRANSIENT_FAILURE && Fb != Ia.ENTITY_REAUTH && Fb != Ia.ENTITYDATA_REAUTH)){Fb=vb?vb.messageId:wb.messageId;Db=Nc(Da.messageId);if(Fb != Db)throw new Ob(T.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Db + "; received " + Fb);}Aa.getEntityAuthenticationData(null,{result:function(pa){gb(Ka,function(){var Ha,Ra,r,b;Ha=pa.getIdentity();if(vb){Ra=vb.entityAuthenticationData;r=vb.masterToken;Ra=r?vb.sender:Ra.getIdentity();if(r && r.isDecrypted() && r.identity != Ra || Ha == Ra)throw new Ob(T.UNEXPECTED_MESSAGE_SENDER,Ra);Da && this.updateIncomingCryptoContexts(Aa,Da,rb);Ha=vb.keyResponseData;Aa.isPeerToPeer()?(Ha=Ha?Ha.masterToken:vb.peerMasterToken,r=vb.peerUserIdToken,Ra=vb.peerServiceTokens):(Ha=Ha?Ha.masterToken:vb.masterToken,r=vb.userIdToken,Ra=vb.serviceTokens);b=Ga.getUserId();b && r && !r.isVerified() && Aa.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(Aa,Ha,r,Ra);}else if((Ra=wb.entityAuthenticationData.getIdentity(),Ha == Ra))throw new Ob(T.UNEXPECTED_MESSAGE_SENDER,Ra);return rb;},bb);},error:Ka.error});},bb);},timeout:function(){Ka.timeout();},error:function(tb){Ka.error(tb);}});},timeout:function(){Ka.timeout();},error:function(rb){Ka.error(rb);}});},bb);},sendReceive:function(na,Aa,Ga,La,Da,Xa,Ka,bb,fb){var nb;function Ya(rb,tb){gb(fb,function(){Xa.setRenewable(tb);this.send(na,Aa,Ga,Da,Xa,Ka,{result:function(vb){gb(fb,function(){var wb;wb=vb.requestHeader.keyRequestData;bb || vb.handshake || !wb.isEmpty()?this.receive(na,Aa,Ga,La,vb.requestHeader,Ka,{result:function(Fb){gb(fb,function(){tb && this.releaseRenewalLock(Aa,rb,Fb);return new ba(Fb,vb);},nb);},timeout:function(){gb(fb,function(){tb && this.releaseRenewalLock(Aa,rb,null);fb.timeout();},nb);},error:function(Fb){gb(fb,function(){tb && this.releaseRenewalLock(Aa,rb,null);throw Fb;},nb);}}):gb(fb,function(){tb && this.releaseRenewalLock(Aa,rb,null);return new ba(null,vb);},nb);},nb);},timeout:function(){gb(fb,function(){tb && this.releaseRenewalLock(Aa,rb,null);fb.timeout();},nb);},error:function(vb){gb(fb,function(){tb && this.releaseRenewalLock(Aa,rb,null);throw vb;},nb);}});},nb);}nb=this;gb(fb,function(){var rb;rb=new Zc();this.acquireRenewalLock(na,Aa,Ga,rb,Xa,Ka,{result:function(tb){Ya(rb,tb);},timeout:function(){fb.timeout();},error:function(tb){tb instanceof cc?fb.result(null):fb.error(tb);}});},nb);},acquireRenewalLock:function(na,Aa,Ga,La,Da,Xa,Ka){var Ya;function bb(nb,rb,tb){gb(Ka,function(){var Fb,Db;if(na.isAborted())throw new cc("acquireRenewalLock aborted.");for(var vb=null,wb=0;wb < this._renewingContexts.length;++wb){Fb=this._renewingContexts[wb];if(Fb.ctx === Aa){vb=Fb.queue;break;}}if(!vb)return (this._renewingContexts.push({ctx:Aa,queue:La}),!0);Db=vb.poll(Xa,{result:function(pa){gb(Ka,function(){var Ha;if(pa === Gb)throw new cc("acquireRenewalLock aborted.");vb.add(pa);if(pa === ja || pa.isExpired())bb(pa,rb,tb);else {if(tb && !rb || rb && !rb.isBoundTo(pa)){Ha=Aa.getMslStore().getUserIdToken(tb);rb=Ha && Ha.isBoundTo(pa)?Ha:null;}Da.setAuthTokens(pa,rb);Da.isRenewable() && pa.equals(nb)?bb(pa,rb,tb):Ga.isRequestingTokens() && !rb?bb(pa,rb,tb):fb(pa,rb);}},Ya);},timeout:function(){},error:function(pa){}});na.setAbort(function(){Db && (vb.cancel(Db),Db=Gb);});},Ya);}function fb(nb,rb){gb(Ka,function(){var wb;if(na.isAborted())throw new cc("acquireRenewalLock aborted.");if(!nb || nb.isRenewable() || !rb && Ga.getUserId() || rb && rb.isRenewable()){for(var tb=null,vb=0;vb < this._renewingContexts.length;++vb){wb=this._renewingContexts[vb];if(wb.ctx === Aa){tb=wb.queue;break;}}if(!tb)return (this._renewingContexts.push({ctx:Aa,queue:La}),!0);}return !1;},Ya);}Ya=this;gb(Ka,function(){var nb,rb,tb;nb=Da.getMasterToken();rb=Da.getUserIdToken();tb=Ga.getUserId();Ga.isEncrypted() && !Da.willEncryptPayloads() || Ga.isIntegrityProtected() && !Da.willIntegrityProtectPayloads() || Da.isRenewable() || !nb && Ga.isNonReplayable() || nb && nb.isExpired() || !(rb || !tb || Da.willEncryptHeader() && Da.willIntegrityProtectHeader()) || Ga.isRequestingTokens() && (!nb || tb && !rb)?bb(nb,rb,tb):fb(nb,rb);},Ya);},releaseRenewalLock:function(na,Aa,Ga){var Ka;for(var La,Da,Xa=0;Xa < this._renewingContexts.length;++Xa){Ka=this._renewingContexts[Xa];if(Ka.ctx === na){La=Xa;Da=Ka.queue;break;}}if(Da !== Aa)throw new Bb("Attempt to release renewal lock that is not owned by this queue.");Ga?(Ga=Ga.messageHeader)?(Da=Ga.keyResponseData)?Aa.add(Da.masterToken):(na=na.isPeerToPeer()?Ga.peerMasterToken:Ga.masterToken)?Aa.add(na):Aa.add(ja):Aa.add(ja):Aa.add(ja);this._renewingContexts.splice(La,1);}});$e=Hb.Class.create({init:function(){var na;na={_impl:{value:new Z(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);},setFilterFactory:function(na){this._impl.setFilterFactory(na);},shutdown:function(){this._shutdown=!0;},receive:function(na,Aa,Ga,La,Da,Xa){var Ka;if(this._shutdown)throw new ib("MslControl is shutdown.");Ka=new aa(this._impl,na,Aa,Ga,La,Da);setTimeout(function(){Ka.call(Xa);},0);return da(Ka);},respond:function(na,Aa,Ga,La,Da,Xa,Ka){var bb;if(this._shutdown)throw new ib("MslControl is shutdown.");bb=new ea(this._impl,na,Aa,Ga,La,Da,Xa);setTimeout(function(){bb.call(Ka);},0);return da(bb);},error:function Ga(na,Aa,Ga,La,Da,Xa,Ka){var bb;if(this._shutdown)throw new ib("MslControl is shutdown.");bb=new za(this._impl,na,Aa,Ga,La,Da,Xa);setTimeout(function(){bb.call(Ka);},0);return da(bb);},request:function(na,Aa){var Ga,La,Da,Xa,Ka,bb;if(this._shutdown)throw new ib("MslControl is shutdown.");if(5 == arguments.length){La=arguments[2];Da=Ga=null;Xa=arguments[3];Ka=arguments[4];if(na.isPeerToPeer()){Ka.error(new Bb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (La=null,Ga=arguments[2],Da=arguments[3],Xa=arguments[4],Ka=arguments[5],!na.isPeerToPeer())){Ka.error(new Bb("This method cannot be used in trusted network mode."));return;}bb=new Pa(this._impl,na,Aa,La,Ga,Da,null,0,Xa);setTimeout(function(){bb.call(Ka);},0);return da(bb);}});aa=Hb.Class.create({init:function(na,Aa,Ga,La,Da,Xa){Object.defineProperties(this,{_ctrl:{value:na,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_input:{value:La,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Xa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(na){this._abortFunc=na;},call:function(na){var Da;function Aa(Xa){gb(na,function(){var Ka;Ka=Xa.messageHeader;if(!Ka)return Xa;this.setAbort(function(){Xa.abort();});Xa.mark(Number.MAX_VALUE);Xa.read(1,Da._timeout,{result:function(bb){gb(na,function(){if(bb && 0 == bb.length)return null;if(bb)return (Xa.reset(),Xa);Ga(Xa);},Da);},timeout:function(){na.timeout();},error:function(bb){gb(na,function(){var fb,Ya,nb;if(X(bb))return null;fb=Ka?Ka.messageId:null;if(bb instanceof Zb){Ya=T.MSL_COMMS_FAILURE;nb=bb;}else (Ya=T.INTERNAL_EXCEPTION,nb=new Bb("Error peeking into the message payloads."));fa(this,this._ctx,this._msgCtx.getDebugContext(),fb,Ya,null,this._output,this._timeout,{result:function(rb){na.error(nb);},timeout:function(){na.timeout();},error:function(rb){gb(na,function(){if(X(rb))return null;throw new kc("Error peeking into the message payloads.",rb,bb);},Da);}});},Da);}});},Da);}function Ga(Xa){gb(na,function(){Xa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Xa.messageHeader,this._timeout,{result:function(Ka){gb(na,function(){var bb,fb,Ya,nb,rb;bb=Ka.builder;fb=Ka.tokenTicket;Ya=Xa.messageHeader;nb=new Ba(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData)La(Ya,bb,nb,fb);else {rb=new Pa(this._ctrl,this._ctx,nb,null,this._input,this._output,Ka,1,this._timeout);this.setAbort(function(){rb.abort();});rb.call(na);}},Da);},timeout:function(){na.timeout();},error:function(Ka){gb(na,function(){var bb,fb,Ya,nb;if(X(Ka))return null;if(Ka instanceof ib){bb=Ka.messageId;fb=Ka.error;Ya=Xa.messageHeader.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(fb,Ya?Ya.languages:null);nb=Ka;}else (bb=requestHeader?requestHeader.messageId:null,fb=T.INTERNAL_EXCEPTION,Ya=null,nb=new Bb("Error creating an automatic handshake response.",Ka));fa(this,this._ctx,this._msgCtx.getDebugContext(),bb,fb,Ya,this._output,this._timeout,{result:function(rb){na.error(nb);},timeout:function(){na.timeout();},error:function(rb){gb(na,function(){if(X(rb))return null;throw new kc("Error creating an automatic handshake response.",rb,Ka);},Da);}});},Da);}});},Da);}function La(Xa,Ka,bb,fb){gb(na,function(){Ka.setRenewable(!1);this._ctrl.send(this._ctx,bb,this._output,Ka,this._timeout,{result:function(Ya){gb(na,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(fb);return null;},Da);},timeout:function(){gb(na,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(fb);na.timeout();},Da);},error:function(Ya){gb(na,function(){var nb,rb,tb,vb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(fb);if(X(Ya))return null;if(Ya instanceof ib){nb=Ya.messageId;rb=Ya.error;tb=Xa?Xa.messageCapabilities:null;tb=this._ctrl.messageRegistry.getUserMessage(rb,tb?tb.languages:null);vb=Ya;}else Ya instanceof Zb?(nb=Xa?Xa.messageId:null,rb=T.MSL_COMMS_FAILURE,tb=null,vb=Ya):(nb=Xa?Xa.messageId:null,rb=T.INTERNAL_EXCEPTION,tb=null,vb=new Bb("Error sending an automatic handshake response.",Ya));fa(this,this._ctx,this._msgCtx.getDebugContext(),nb,rb,tb,this._output,this._timeout,{result:function(wb){na.error(vb);},timeout:function(){na.timeout();},error:function(wb){gb(na,function(){if(X(wb))return null;throw new kc("Error sending an automatic handshake response.",wb,Ya);},Da);}});},Da);}});},Da);}Da=this;gb(na,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Xa){Aa(Xa);},timeout:function(){na.timeout();},error:function(Xa){gb(na,function(){var Ka,bb,fb,Ya;if(X(Xa))return null;if(Xa instanceof ib){Ka=Xa.messageId;bb=Xa.error;fb=this._ctrl.messageRegistry.getUserMessage(bb,null);Ya=Xa;}else (Ka=null,bb=T.INTERNAL_EXCEPTION,fb=null,Ya=new Bb("Error receiving the message header.",Xa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ka,bb,fb,this._output,this._timeout,{result:function(nb){na.error(Ya);},timeout:function(){na.timeout();},error:function(nb){gb(na,function(){if(X(nb))return null;throw new kc("Error receiving the message header.",nb,Xa);},Da);}});},Da);}});},Da);}});ea=Hb.Class.create({init:function(na,Aa,Ga,La,Da,Xa,Ka){Object.defineProperties(this,{_ctrl:{value:na,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_input:{value:La,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_request:{value:Xa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(na){this._abortFunc=na;},trustedNetworkExecute:function(na,Aa,Ga){var La;La=this;gb(Ga,function(){var Da,Xa;if(12 < Aa + 1)return !1;if(Da=this._msgCtx.isIntegrityProtected() && !na.willIntegrityProtectHeader()?T.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !na.willEncryptPayloads()?T.RESPONSE_REQUIRES_ENCRYPTION:null){Xa=Wc(na.getMessageId());fa(this,this._ctx,this._msgCtx.getDebugContext(),Xa,Da,null,this._output,this._timeout,{result:function(Ka){Ga.result(!1);},timeout:function(){Ga.timeout();},error:function(Ka){gb(Ga,function(){if(X(Ka))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Da,Ka,null);},La);}});}else !this._msgCtx.getCustomer() || na.getMasterToken() || na.getKeyExchangeData()?(na.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,na,this._timeout,{result:function(Ka){Ga.result(!0);},timeout:function(){Ga.timeout();},error:function(Ka){Ga.error(Ka);}})):(Xa=Wc(na.getMessageId()),fa(this,this._ctx,this._msgCtx.getDebugContext(),Xa,T.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ka){Ga.result(!1);},timeout:function(){Ga.timeout();},error:function(Ka){gb(Ga,function(){if(X(Ka))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Ka,null);},La);}}));},La);},peerToPeerExecute:function(na,Aa,Ga,La){var Xa;function Da(Ka){gb(La,function(){var bb;bb=Ka.response;bb.close();bb=bb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ka.requestHeader,bb);this._ctrl.buildErrorResponse(this,this._ctx,na,Ka,bb,{result:function(fb){gb(La,function(){var Ya,nb;if(!fb)return !1;Ya=fb.errorResult;nb=fb.tokenTicket;this.peerToPeerExecute(Ya.msgCtx,Ya.builder,Ga,{result:function(rb){gb(La,function(){this._ctrl.releaseMasterToken(nb);return rb;},Xa);},timeout:function(){gb(La,function(){this._ctrl.releaseMasterToken(nb);La.timeout();},Xa);},error:function(rb){gb(La,function(){this._ctrl.releaseMasterToken(nb);throw rb;},Xa);}});},Xa);}});},Xa);}Xa=this;gb(La,function(){var Ka;if(12 < Ga + 2)return !1;if(null != na.getCustomer() && null == Aa.getPeerMasterToken() && null == Aa.getKeyExchangeData()){Ka=Wc(Aa.getMessageId());fa(this,this._ctx,na.getDebugContext(),Ka,T.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(bb){La.result(!1);},timeout:function(){La.timeout();},error:function(bb){gb(La,function(){if(X(bb))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",bb,null);},Xa);}});}else this._ctrl.sendReceive(this._ctx,na,this._input,this._output,Aa,this._timeout,!1,{result:function(bb){gb(La,function(){var nb,rb,tb;function fb(){nb.read(32768,Xa._timeout,{result:function(vb){gb(La,function(){vb?fb():Ya();},Xa);},timeout:function(){La.timeout();},error:function(vb){La.error(vb);}});}function Ya(){gb(La,function(){var vb;vb=new qa(bb.payloads,na);this._ctrl.buildResponse(this,this._ctx,vb,rb,this._timeout,{result:function(wb){gb(La,function(){var Fb;Fb=wb.tokenTicket;this.peerToPeerExecute(vb,wb.builder,Ga,{result:function(Db){gb(La,function(){this._ctrl.releaseMasterToken(Fb);return Db;},Xa);},timeout:function(){gb(La,function(){this._ctrl.releaseMasterToken(Fb);La.timeout();},Xa);},error:function(Db){gb(La,function(){this._ctrl.releaseMasterToken(Fb);throw Db;},Xa);}});},Xa);},timeout:function(){La.timeout();},error:function(wb){La.error(wb);}});},Xa);}nb=bb.response;Ga+=2;if(!nb)return !0;rb=nb.getMessageHeader();if(rb){tb=bb.payloads;tb=0 < tb.length && 0 < tb[0].data.length;if(bb.handshake && tb)fb();else return !0;}else Da(bb);},Xa);},timeout:function(){La.timeout();},error:function(bb){La.error(bb);}});},Xa);},call:function(na){var Aa;Aa=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ga){gb(na,function(){var La,Da;La=Ga.builder;Da=Ga.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,La,3,{result:function(Xa){gb(na,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Xa;},Aa);},timeout:function(){gb(na,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);na.timeout();},Aa);},error:function(Xa){gb(na,function(){var Ka,bb,fb,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(X(Xa))return !1;Ka=Wc(La.getMessageId());if(Xa instanceof ib){bb=Xa.error;fb=this._request.messageCapabilities;fb=this._ctrl.messageRegistry.getUserMessage(bb,fb?fb.languages:null);Ya=Xa;}else Xa instanceof Zb?(bb=T.MSL_COMMS_FAILURE,fb=null,Ya=Xa):(bb=T.INTERNAL_EXCEPTION,fb=null,Ya=new Bb("Error sending the response.",Xa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ka,bb,fb,this._output,this._timeout,{result:function(nb){na.error(Ya);},timeout:function(){na.timeout();},error:function(nb){gb(na,function(){if(X(nb))return !1;throw new kc("Error sending the response.",nb,null);},Aa);}});},Aa);}}):this.trustedNetworkExecute(La,3,{result:function(Xa){gb(na,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Xa;},Aa);},timeout:function(){gb(na,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);na.timeout();},Aa);},error:function(Xa){gb(na,function(){var Ka,bb,fb,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(X(Xa))return !1;Ka=Wc(La.getMessageId());if(Xa instanceof ib){bb=Xa.error;fb=this._request.messageCapabilities;fb=this._ctrl.messageRegistry.getUserMessage(bb,fb?fb.languages:null);Ya=Xa;}else Xa instanceof Zb?(bb=T.MSL_COMMS_FAILURE,fb=null,Ya=Xa):(bb=T.INTERNAL_EXCEPTION,fb=null,Ya=new Bb("Error sending the response.",Xa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ka,bb,fb,this._output,this._timeout,{result:function(nb){na.error(Ya);},timeout:function(){na.timeout();},error:function(nb){gb(na,function(){if(X(nb))return !1;throw new kc("Error sending the response.",nb,null);},Aa);}});},Aa);}});},Aa);},timeout:function(){na.timeout();},error:function(Ga){gb(na,function(){var La,Da,Xa,Ka;if(X(Ga))return !1;if(Ga instanceof ib){La=Ga.messageId;Da=Ga.error;Xa=this._request.messageCapabilities;Xa=this._ctrl.messageRegistry.getUserMessage(Da,Xa?Xa.languages:null);Ka=Ga;}else (La=null,Da=T.INTERNAL_EXCEPTION,Xa=null,Ka=new Bb("Error building the response.",Ga));fa(this,this._ctx,this._msgCtx.getDebugContext(),La,Da,Xa,this._output,this._timeout,{result:function(bb){na.error(Ka);},timeout:function(){na.timeout();},error:function(bb){gb(na,function(){if(X(bb))return null;throw new kc("Error building the response.",bb,Ga);},Aa);}});},Aa);}});}});za=Hb.Class.create({init:function(na,Aa,Ga,La,Da,Xa,Ka){Object.defineProperties(this,{_ctrl:{value:na,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_appError:{value:La,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Xa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(na){this._abortFunc=na;},call:function(na){var Aa;Aa=this;gb(na,function(){var Ga,La;if(this._appError == ENTITY_REJECTED)Ga=this._request.masterToken?T.MASTERTOKEN_REJECTED_BY_APP:T.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ga=this._request.userIdToken?T.USERIDTOKEN_REJECTED_BY_APP:T.USER_REJECTED_BY_APP;else throw new Bb("Unhandled application error " + this._appError + ".");La=this._request.messageCapabilities;La=this._ctrl.messageRegistry.getUserMessage(Ga,La?La.languages:null);fa(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ga,La,this._output,this._timeout,{result:function(Da){na.result(Da);},timeout:na.timeout,error:function(Da){gb(na,function(){if(X(Da))return !1;if(Da instanceof ib)throw Da;throw new Bb("Error building the error response.",Da);},Aa);}});},Aa);}});Ua={result:function(){},timeout:function(){},error:function(){}};Pa=Hb.Class.create({init:function(na,Aa,Ga,La,Da,Xa,Ka,bb,fb){var Ya;if(Ka){Ya=Ka.builder;Ka=Ka.tokenTicket;}else Ka=Ya=null;Object.defineProperties(this,{_ctrl:{value:na,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:La,writable:!1,enumerable:!1,configurable:!1},_input:{value:Da,writable:!0,enumerable:!1,configurable:!1},_output:{value:Xa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ya,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ka,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:fb,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:bb,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(na){this._abortFunc=na;},execute:function(na,Aa,Ga,La,Da){var bb;function Xa(fb){function Ya(nb){gb(Da,function(){var rb;rb=fb.response;return nb?nb:rb;},bb);}gb(Da,function(){var nb,rb;nb=fb.response;nb.close();rb=nb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,fb.requestHeader,rb);this._ctrl.buildErrorResponse(this,this._ctx,na,fb,rb,Ga,{result:function(tb){gb(Da,function(){var vb,wb,Fb,Db;if(!tb)return nb;vb=tb.errorResult;wb=tb.tokenTicket;Fb=vb.builder;vb=vb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(vb,Fb,this._timeout,La,{result:function(pa){gb(Da,function(){this._ctrl.releaseMasterToken(wb);Ya(pa);},bb);},timeout:function(){gb(Da,function(){this._ctrl.releaseMasterToken(wb);Da.timeout();},bb);},error:function(pa){gb(Da,function(){this._ctrl.releaseMasterToken(wb);Da.error(pa);},bb);}});else {this._openedStreams && (this._input.close(),this._output.close(Ga,Ua));Db=new Pa(this._ctrl,this._ctx,vb,this._remoteEntity,null,null,{builder:Fb,tokenTicket:wb},La,this._timeout);this.setAbort(function(){Db.abort();});Db.call({result:function(pa){Ya(pa);},timeout:function(){Da.timeout();},error:function(pa){Da.error(pa);}});}},bb);},timeout:function(){Da.timeout();},error:function(tb){Da.error(tb);}});},bb);}function Ka(fb){gb(Da,function(){var rb,tb,vb,wb,Fb;function Ya(){rb.read(32768,bb._timeout,{result:function(Db){Db?Ya():nb();},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}function nb(){gb(Da,function(){var Db;Db=new qa(fb.payloads,na);this._ctrl.buildResponse(this,this._ctx,na,tb,Ga,{result:function(pa){gb(Da,function(){var Ha;Ha=pa.tokenTicket;this.execute(Db,pa.builder,this._timeout,La,{result:function(Ra){gb(Da,function(){this._ctrl.releaseMasterToken(Ha);return Ra;},bb);},timeout:function(){gb(Da,function(){this._ctrl.releaseMasterToken(Ha);Da.timeout();},bb);},error:function(Ra){gb(Da,function(){this._ctrl.releaseMasterToken(Ha);throw Ra;},bb);}});},bb);},timeout:function(){Da.timeout();},error:function(pa){Da.error(pa);}});},bb);}rb=fb.response;tb=rb.getMessageHeader();vb=fb.payloads;vb=0 < vb.length && 0 < vb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!fb.handshake || !vb)return rb;this._openedStreams && (this._input.close(),this._output.close(Ga,Ua));wb=new qa(fb.payloads,na);this._ctrl.buildResponse(this,this._ctx,na,tb,Ga,{result:function(Db){gb(Da,function(){var pa;pa=new Pa(this._ctrl,this._ctx,wb,this._remoteEntity,null,null,Db,La,this._timeout);this.setAbort(function(){pa.abort();});pa.call(Da);},bb);},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}else if(fb.handshake && vb)Ya();else if(0 < tb.keyRequestData.length){Fb=new Ba(na);this._ctrl.buildResponse(this,this._ctx,Fb,tb,Ga,{result:function(Db){gb(Da,function(){var pa,Ha;pa=Db.builder;Ha=Db.tokenTicket;rb.mark();rb.read(1,this._timeout,{result:function(Ra){gb(Da,function(){function r(){rb.read(32768,bb._timeout,{result:function(a){a?r():b();},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});}function b(){bb.execute(Fb,pa,bb._timeout,La,{result:function(a){gb(Da,function(){this._ctrl.releaseMasterToken(Ha);return a;},bb);},timeout:function(){gb(Da,function(){this._ctrl.releaseMasterToken(Ha);Da.timeout();},bb);},error:function(a){gb(Da,function(){this._ctrl.releaseMasterToken(Ha);throw a;},bb);}});}if(Ra){if((rb.reset(),12 >= La + 1))(pa.setRenewable(!1),this._ctrl.send(this,this._ctx,Fb,this._output,pa,this._timeout,{result:function(a){gb(Da,function(){this.releaseMasterToken(Ha);return rb;},bb);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}}));else return (this.releaseMasterToken(Ha),rb);}else r();},bb);},timeout:function(){gb(Da,function(){this.releaseMasterToken(Ha);Da.timeout();},bb);},error:function(Ra){gb(Da,function(){this.releaseMasterToken(Ha);throw Ra;},bb);}});},bb);},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}},bb);}bb=this;gb(Da,function(){if(12 < La + 2)return null;this._ctrl.sendReceive(this,this._ctx,na,this._input,this._output,Aa,Ga,!0,{result:function(fb){gb(Da,function(){var Ya;if(!fb)return null;Ya=fb.response;La+=2;Ya.getMessageHeader()?Ka(fb):Xa(fb);},bb);},timeout:function(){Da.timeout();},error:function(fb){Da.error(fb);}});},bb);},call:function(na){var Ga;function Aa(La,Da,Xa){gb(na,function(){this.execute(this._msgCtx,La,Xa,this._msgCount,{result:function(Ka){gb(na,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && this._output.close(Xa,Ua);Ka && Ka.closeSource(this._openedStreams);return Ka;},Ga);},timeout:function(){gb(na,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Xa,Ua),this._input.close());na.timeout();},Ga);},error:function(Ka){gb(na,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Xa,Ua),this._input.close());if(X(Ka))return null;throw Ka;},Ga);}});},Ga);}Ga=this;gb(na,function(){var La,Da,Xa;La=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Da=Date.now();Xa=this._remoteEntity.openConnection();this._output=Xa.output;this._input=Xa.input;-1 != La && (La=this._timeout - (Date.now() - Da));this._openedStreams=!0;}catch(Ka){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ua);this._input && this._input.close();if(X(Ka))return null;throw Ka;}this._builder?Aa(this._builder,this._tokenTicket,La):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ka){gb(na,function(){Aa(Ka.builder,Ka.tokenTicket,La);},Ga);},timeout:function(){gb(na,function(){this._openedStreams && (this._output.close(this._timeout,Ua),this._input.close());na.timeout();},Ga);},error:function(Ka){gb(na,function(){this._openedStreams && (this._output.close(this._timeout,Ua),this._input.close());if(X(Ka))return null;throw Ka;},Ga);}});},Ga);}});})();(function(){Xd=Hb.Class.create({init:function(da){Object.defineProperties(this,{id:{value:da,writable:!1,configurable:!1}});},toJSON:function(){var da;da={};da.id=this.id;return da;},equals:function(da){return this === da?!0:da instanceof Xd?this.id == da.id:!1;},uniqueKey:function(){return this.id;}});af=function(da){var Y;Y=da.id;if(!Y)throw new Jb(T.JSON_PARSE_ERROR,JSON.stringify(da));return new Xd(Y);};})();Hb.Class.create({isNewestMasterToken:function(da,Y,U){},isMasterTokenRevoked:function(da,Y){},acceptNonReplayableId:function(da,Y,U,W){},createMasterToken:function(da,Y,U,W,ba){},isMasterTokenRenewable:function(da,Y,U){},renewMasterToken:function(da,Y,U,W,ba){},isUserIdTokenRevoked:function(da,Y,U,W){},createUserIdToken:function(da,Y,U,W){},renewUserIdToken:function(da,Y,U,W){}});(function(){function da(Y,U,W,ba){this.sessiondata=Y;this.tokendata=U;this.signature=W;this.verified=ba;}jc=Hb.Class.create({init:function(Y,U,W,ba,X,fa,wa,sa,ia,qa,Ba){var ja;ja=this;Qa(Ba,function(){var Z,aa,ea,za,Ua;if(W.getTime() < U.getTime())throw new Bb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ba || ba > Tb)throw new Bb("Sequence number " + ba + " is outside the valid range.");if(0 > X || X > Tb)throw new Bb("Serial number " + X + " is outside the valid range.");Z=Math.floor(U.getTime() / 1E3);aa=Math.floor(W.getTime() / 1E3);if(qa)ea=qa.sessiondata;else {za={};fa && (za.issuerdata=fa);za.identity=wa;za.encryptionkey=Lb(sa.toByteArray());za.hmackey=Lb(ia.toByteArray());ea=fc(JSON.stringify(za),Ub);}if(qa)return (Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,configurable:!1},serialNumber:{value:X,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:ia,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:qa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ua=Y.getMslCryptoContext();Ua.encrypt(ea,{result:function(Pa){Qa(Ba,function(){var Ta,Wa;Ta={};Ta.renewalwindow=Z;Ta.expiration=aa;Ta.sequencenumber=ba;Ta.serialnumber=X;Ta.sessiondata=Lb(Pa);Wa=fc(JSON.stringify(Ta),Ub);Ua.sign(Wa,{result:function(na){Qa(Ba,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:X,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:ia,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);},error:function(na){Ba.error(na);}});},ja);},error:function(Pa){Ba.error(Pa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(Y){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(Y){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(Y){var U;if(this.sequenceNumber == Y.sequenceNumber)return this.expiration > Y.expiration;if(this.sequenceNumber > Y.sequenceNumber){U=this.sequenceNumber - Tb + 127;return Y.sequenceNumber >= U;}U=Y.sequenceNumber - Tb + 127;return this.sequenceNumber < U;},toJSON:function(){var Y;Y={};Y.tokendata=Lb(this.tokendata);Y.signature=Lb(this.signature);return Y;},equals:function(Y){return this === Y?!0:Y instanceof jc?this.serialNumber == Y.serialNumber && this.sequenceNumber == Y.sequenceNumber && this.expiration.getTime() == Y.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});ed=function(Y,U,W){Qa(W,function(){var ba,X,fa,wa,sa;ba=Y.getMslCryptoContext();X=U.tokendata;fa=U.signature;if("string" !== typeof X || "string" !== typeof fa)throw new Jb(T.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(U));try{wa=Mb(X);}catch(ia){throw new ib(T.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(U),ia);}if(!wa || 0 == wa.length)throw new Jb(T.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(U));try{sa=Mb(fa);}catch(ia){throw new ib(T.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(U),ia);}ba.verify(wa,sa,{result:function(ia){Qa(W,function(){var qa,Ba,ja,Z,aa,ea,za,Ua,Pa,Ta;qa=ec(wa,Ub);try{Ba=JSON.parse(qa);ja=parseInt(Ba.renewalwindow);Z=parseInt(Ba.expiration);aa=parseInt(Ba.sequencenumber);ea=parseInt(Ba.serialnumber);za=Ba.sessiondata;}catch(Wa){if(Wa instanceof SyntaxError)throw new Jb(T.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa,Wa);throw Wa;}if(!ja || ja != ja || !Z || Z != Z || "number" !== typeof aa || aa != aa || "number" !== typeof ea || ea != ea || "string" !== typeof za)throw new Jb(T.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa);if(Z < ja)throw new ib(T.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + qa);if(0 > aa || aa > Tb)throw new ib(T.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);if(0 > ea || ea > Tb)throw new ib(T.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);Ua=new Date(1E3 * ja);Pa=new Date(1E3 * Z);try{Ta=Mb(za);}catch(Wa){throw new ib(T.MASTERTOKEN_SESSIONDATA_INVALID,za,Wa);}if(!Ta || 0 == Ta.length)throw new ib(T.MASTERTOKEN_SESSIONDATA_MISSING,za);ia?ba.decrypt(Ta,{result:function(Wa){Qa(W,function(){var na,Aa,Ga,La,Da,Xa;na=ec(Wa,Ub);try{Aa=JSON.parse(na);Ga=Aa.issuerdata;La=Aa.identity;Da=Aa.encryptionkey;Xa=Aa.hmackey;}catch(Ka){if(Ka instanceof SyntaxError)throw new Jb(T.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + na,Ka);throw Ka;}if(Ga && "object" !== typeof Ga || !La || "string" !== typeof Da || "string" !== typeof Xa)throw new Jb(T.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + na);tc(Da,oc,Dc,{result:function(Ka){tc(Xa,pc,Mc,{result:function(bb){Qa(W,function(){var fb;fb=new da(Wa,wa,sa,ia);new jc(Y,Ua,Pa,aa,ea,Ga,La,Ka,bb,fb,W);});},error:function(bb){W.error(new zb(T.MASTERTOKEN_KEY_CREATION_ERROR,bb));}});},error:function(Ka){W.error(new zb(T.MASTERTOKEN_KEY_CREATION_ERROR,Ka));}});});},error:function(Wa){W.error(Wa);}}):(ja=new da(null,wa,sa,ia),new jc(Y,Ua,Pa,aa,ea,null,null,null,null,ja,W));});},error:function(ia){W.error(ia);}});});};})();(function(){function da(Y,U,W){this.tokendata=Y;this.signature=U;this.verified=W;}Tc=Hb.Class.create({init:function(Y,U,W,ba,X,fa,wa,sa,ia){var qa;qa=this;Qa(ia,function(){var Ba,ja,Z,aa,ea,za,Ua;if(W.getTime() < U.getTime())throw new Bb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ba)throw new Bb("Cannot construct a user ID token without a master token.");if(0 > X || X > Tb)throw new Bb("Serial number " + X + " is outside the valid range.");Ba=Math.floor(U.getTime() / 1E3);ja=Math.floor(W.getTime() / 1E3);Z=ba.serialNumber;if(sa){aa=sa.tokendata;ea=sa.signature;za=sa.verified;Z=ba.serialNumber;Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Ba,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ja,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},serialNumber:{value:X,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:za,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;}aa={};fa && (aa.issuerdata=fa);aa.identity=wa;aa=fc(JSON.stringify(aa),Ub);Ua=Y.getMslCryptoContext();Ua.encrypt(aa,{result:function(Pa){Qa(ia,function(){var Ta,Wa;Ta={};Ta.renewalwindow=Ba;Ta.expiration=ja;Ta.mtserialnumber=Z;Ta.serialnumber=X;Ta.userdata=Lb(Pa);Wa=fc(JSON.stringify(Ta),Ub);Ua.sign(Wa,{result:function(na){Qa(ia,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Ba,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ja,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ba.serialNumber,writable:!1,configurable:!1},serialNumber:{value:X,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(na){Qa(ia,function(){na instanceof ib && na.setEntity(ba);throw na;},qa);}});},qa);},error:function(Pa){Qa(ia,function(){Pa instanceof ib && Pa.setEntity(ba);throw Pa;},qa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(Y){return Y && Y.serialNumber == this.mtSerialNumber;},toJSON:function(){var Y;Y={};Y.tokendata=Lb(this.tokendata);Y.signature=Lb(this.signature);return Y;},equals:function(Y){return this === Y?!0:Y instanceof Tc?this.serialNumber == Y.serialNumber && this.mtSerialNumber == Y.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});vd=function(Y,U,W,ba){Qa(ba,function(){var X,fa,wa,sa,ia;X=Y.getMslCryptoContext();fa=U.tokendata;wa=U.signature;if("string" !== typeof fa || "string" !== typeof wa)throw new Jb(T.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(U)).setEntity(W);try{sa=Mb(fa);}catch(qa){throw new ib(T.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(U),qa).setEntity(W);}if(!sa || 0 == sa.length)throw new Jb(T.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(U)).setEntity(W);try{ia=Mb(wa);}catch(qa){throw new ib(T.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(U),qa).setEntity(W);}X.verify(sa,ia,{result:function(qa){Qa(ba,function(){var Ba,ja,Z,aa,ea,za,Ua,Pa,Ta,Wa;Ba=ec(sa,Ub);try{ja=JSON.parse(Ba);Z=parseInt(ja.renewalwindow);aa=parseInt(ja.expiration);ea=parseInt(ja.mtserialnumber);za=parseInt(ja.serialnumber);Ua=ja.userdata;}catch(na){if(na instanceof SyntaxError)throw new Jb(T.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Ba,na).setEntity(W);throw na;}if(!Z || Z != Z || !aa || aa != aa || "number" !== typeof ea || ea != ea || "number" !== typeof za || za != za || "string" !== typeof Ua)throw new Jb(T.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Ba).setEntity(W);if(aa < Z)throw new ib(T.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ba).setEntity(W);if(0 > ea || ea > Tb)throw new ib(T.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Ba).setEntity(W);if(0 > za || za > Tb)throw new ib(T.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Ba).setEntity(W);Pa=new Date(1E3 * Z);Ta=new Date(1E3 * aa);if(!W || ea != W.serialNumber)throw new ib(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea + "; mt " + JSON.stringify(W)).setEntity(W);try{Wa=Mb(Ua);}catch(na){throw new ib(T.USERIDTOKEN_USERDATA_INVALID,Ua,na).setEntity(W);}if(!Wa || 0 == Wa.length)throw new ib(T.USERIDTOKEN_USERDATA_MISSING,Ua).setEntity(W);qa?X.decrypt(Wa,{result:function(na){Qa(ba,function(){var Aa,Ga,La,Da,Xa;Aa=ec(na,Ub);try{Ga=JSON.parse(Aa);La=Ga.issuerdata;Da=Ga.identity;}catch(Ka){if(Ka instanceof SyntaxError)throw new Jb(T.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Aa).setEntity(W);throw Ka;}if(La && "object" !== typeof La || "object" !== typeof Da)throw new Jb(T.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Aa).setEntity(W);try{Xa=af(Da);}catch(Ka){throw new ib(T.USERIDTOKEN_IDENTITY_INVALID,"userdata " + Aa,Ka).setEntity(W);}Da=new da(sa,ia,qa);new Tc(Y,Pa,Ta,W,za,La,Xa,Da,ba);});},error:function(na){Qa(ba,function(){na instanceof ib && na.setEntity(W);throw na;});}}):(Z=new da(sa,ia,qa),new Tc(Y,Pa,Ta,W,za,null,null,Z,ba));});},error:function(qa){Qa(ba,function(){qa instanceof ib && qa.setEntity(W);throw qa;});}});});};})();(function(){function da(U,W){var ba,X,fa;ba=U.tokendata;if("string" !== typeof ba)throw new Jb(T.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U));try{X=Mb(ba);}catch(wa){throw new ib(T.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(U),wa);}if(!X || 0 == X.length)throw new Jb(T.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(U));try{fa=JSON.parse(ec(X,Ub)).name;}catch(wa){if(wa instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U),wa);throw wa;}if(!fa)throw new Jb(T.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U));return W[fa]?W[fa]:W[""];}function Y(U,W,ba){this.tokendata=U;this.signature=W;this.verified=ba;}Fc=Hb.Class.create({init:function(U,W,ba,X,fa,wa,sa,ia,qa,Ba){var ja;ja=this;Qa(Ba,function(){var Z,aa,ea,za,Ua;if(X && fa && !fa.isBoundTo(X))throw new Bb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");Z=X?X.serialNumber:-1;aa=fa?fa.serialNumber:-1;if(qa)return (Ua=qa.tokendata,Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:W,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(sa){ea=Wd(sa,ba);ea.length < ba.length || (sa=null,ea=ba);}else (sa=null,ea=ba);za={};za.name=W;-1 != Z && (za.mtserialnumber=Z);-1 != aa && (za.uitserialnumber=aa);za.encrypted=wa;sa && (za.compressionalgo=sa);if(wa && 0 < ea.length)ia.encrypt(ea,{result:function(Pa){Qa(Ba,function(){var Ta;za.servicedata=Lb(Pa);Ta=fc(JSON.stringify(za),Ub);ia.sign(Ta,{result:function(Wa){Qa(Ba,function(){Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:W,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:Wa,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);},error:function(Wa){Qa(Ba,function(){Wa instanceof ib && (Wa.setEntity(X),Wa.setUser(fa));throw Wa;});}});},ja);},error:function(Pa){Qa(Ba,function(){Pa instanceof ib && (Pa.setEntity(X),Pa.setUser(fa));throw Pa;});}});else {za.servicedata=Lb(ea);Ua=fc(JSON.stringify(za),Ub);ia.sign(Ua,{result:function(Pa){Qa(Ba,function(){Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:W,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);},error:function(Pa){Qa(Ba,function(){Pa instanceof ib && (Pa.setEntity(X),Pa.setUser(fa));throw Pa;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(U){return U?U instanceof jc?U.serialNumber == this.mtSerialNumber:U instanceof Tc?U.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var U;U={};U.tokendata=Lb(this.tokendata);U.signature=Lb(this.signature);return U;},equals:function(U){return this === U?!0:U instanceof Fc?this.name == U.name && this.mtSerialNumber == U.mtSerialNumber && this.uitSerialNumber == U.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(U,W,ba,X,fa,wa,sa,ia,qa){new Fc(U,W,ba,X,fa,wa,sa,ia,null,qa);};wd=function(U,W,ba,X,fa,wa){Qa(wa,function(){var sa,ia,qa,Ba,ja,Z,aa,ea,za,Ua,Pa,Ta,Wa;!fa || fa instanceof Uc || (fa=da(W,fa));sa=W.tokendata;ia=W.signature;if("string" !== typeof sa || "string" !== typeof ia)throw new Jb(T.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(W)).setEntity(ba).setEntity(X);try{qa=Mb(sa);}catch(na){throw new ib(T.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(W),na).setEntity(ba).setEntity(X);}if(!qa || 0 == qa.length)throw new Jb(T.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(W)).setEntity(ba).setEntity(X);try{Ba=Mb(ia);}catch(na){throw new ib(T.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(W),na).setEntity(ba).setEntity(X);}ja=ec(qa,Ub);try{Z=JSON.parse(ja);aa=Z.name;ea=Z.mtserialnumber?parseInt(Z.mtserialnumber):-1;za=Z.uitserialnumber?parseInt(Z.uitserialnumber):-1;Ua=Z.encrypted;Pa=Z.compressionalgo;Ta=Z.servicedata;}catch(na){if(na instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"servicetokendata " + ja,na).setEntity(ba).setEntity(X);throw na;}if(!aa || "number" !== typeof ea || ea != ea || "number" !== typeof za || za != za || "boolean" !== typeof Ua || Pa && "string" !== typeof Pa || "string" !== typeof Ta)throw new Jb(T.JSON_PARSE_ERROR,"servicetokendata " + ja).setEntity(ba).setEntity(X);if(Z.mtserialnumber && 0 > ea || ea > Tb)throw new ib(T.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ja).setEntity(ba).setEntity(X);if(Z.uitserialnumber && 0 > za || za > Tb)throw new ib(T.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ja).setEntity(ba).setEntity(X);if(-1 != ea && (!ba || ea != ba.serialNumber))throw new ib(T.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ea + "; mt " + ba).setEntity(ba).setEntity(X);if(-1 != za && (!X || za != X.serialNumber))throw new ib(T.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + za + "; uit " + X).setEntity(ba).setEntity(X);Ua=!0 === Ua;if(Pa){if(!Kc[Pa])throw new ib(T.UNIDENTIFIED_COMPRESSION,Pa);Wa=Pa;}else Wa=null;fa?fa.verify(qa,Ba,{result:function(na){Qa(wa,function(){var Aa,Ga;if(na){try{Aa=Mb(Ta);}catch(La){throw new ib(T.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ja,La).setEntity(ba).setEntity(X);}if(!Aa || 0 != Ta.length && 0 == Aa.length)throw new ib(T.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ja).setEntity(ba).setEntity(X);if(Ua && 0 < Aa.length)fa.decrypt(Aa,{result:function(La){Qa(wa,function(){var Da,Xa;Da=Wa?xd(Wa,La):La;Xa=new Y(qa,Ba,na);new Fc(U,aa,Da,-1 != ea?ba:null,-1 != za?X:null,Ua,Wa,fa,Xa,wa);});},error:function(La){Qa(wa,function(){La instanceof ib && (La.setEntity(ba),La.setUser(X));throw La;});}});else {Aa=Wa?xd(Wa,Aa):Aa;Ga=new Y(qa,Ba,na);new Fc(U,aa,Aa,-1 != ea?ba:null,-1 != za?X:null,Ua,Wa,fa,Ga,wa);}}else (Aa="" == Ta?new Uint8Array(0):null,Ga=new Y(qa,Ba,na),new Fc(U,aa,Aa,-1 != ea?ba:null,-1 != za?X:null,Ua,Wa,fa,Ga,wa));});},error:function(na){Qa(wa,function(){na instanceof ib && (na.setEntity(ba),na.setUser(X));throw na;});}}):(sa="" == Ta?new Uint8Array(0):null,ia=new Y(qa,Ba,!1),new Fc(U,aa,sa,-1 != ea?ba:null,-1 != za?X:null,Ua,Wa,fa,ia,wa));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){$c=Hb.Class.create({init:function(da){Object.defineProperties(this,{scheme:{value:da,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(da){return this === da?!0:da instanceof $c?this.scheme == da.scheme:!1;},toJSON:function(){var da;da={};da.scheme=this.scheme;da.authdata=this.getAuthData();return da;}});Qe=function(da,Y,U,W){Qa(W,function(){var ba,X,fa;ba=U.scheme;X=U.authdata;if(!ba || !X)throw new Jb(T.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(U));if(!Gc[ba])throw new Cc(T.UNIDENTIFIED_USERAUTH_SCHEME,ba);fa=da.getUserAuthenticationFactory(ba);if(!fa)throw new Cc(T.USERAUTH_FACTORY_NOT_FOUND,ba);fa.createData(da,Y,X,W);});};})();bf=Hb.Class.create({init:function(da){Object.defineProperties(this,{scheme:{value:da,writable:!1,configurable:!1}});},createData:function(da,Y,U,W){},authenticate:function(da,Y,U,W){}});(function(){hd=$c.extend({init:function W(Y,U){W.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:Y,writable:!1,configurable:!1},secureNetflixId:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.netflixid=this.netflixId;this.secureNetflixId && (Y.securenetflixid=this.secureNetflixId);return Y;},equals:function W(U){return this === U?!0:U instanceof hd?W.base.call(this,U) && this.netflixId == U.netflixId && this.secureNetflixId == U.secureNetflixId:!1;}});cf=function(U){var W,ba;W=U.netflixid;ba=U.securenetflixid;if(!W)throw new Jb(T.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(U));return new hd(W,ba);};})();Df=bf.extend({init:function Y(){Y.base.call(this,Gc.NETFLIXID);},createData:function(Y,U,W,ba){Qa(ba,function(){return cf(W);});},authenticate:function(Y,U,W,ba){if(!(W instanceof hd))throw new Bb("Incorrect authentication data type " + W + ".");Y=W.secureNetflixId;if(!W.netflixId || !Y)throw new Cc(T.NETFLIXID_COOKIES_BLANK).setUser(W);throw new Cc(T.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(W);}});(function(){id=$c.extend({init:function ba(U,W){ba.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:U,writable:!1,configurable:!1},password:{value:W,writable:!1,configurable:!1}});},getAuthData:function(){var U;U={};U.email=this.email;U.password=this.password;return U;},equals:function ba(W){return this === W?!0:W instanceof id?ba.base.call(this,this,W) && this.email == W.email && this.password == W.password:!1;}});df=function(W){var ba,X;ba=W.email;X=W.password;if(!ba || !X)throw new Jb(T.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(W));return new id(ba,X);};})();Ef=bf.extend({init:function U(){U.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(U,W,ba,X){Qa(X,function(){return df(ba);});},authenticate:function(U,W,ba,X){if(!(ba instanceof id))throw new Bb("Incorrect authentication data type " + ba + ".");U=ba.password;if(!ba.email || !U)throw new Cc(T.EMAILPASSWORD_BLANK).setUser(ba);throw new Cc(T.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ba);}});Object.freeze({ENTITY_REAUTH:Ia.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ia.ENTITYDATA_REAUTH});Ff=Hb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(U,W){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(U){},getUserAuthenticationFactory:function(U){},getTokenFactory:function(){},getKeyExchangeFactory:function(U){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Hb.Class.create({setCryptoContext:function(U,W){},getMasterToken:function(){},getNonReplayableId:function(U){},getCryptoContext:function(U){},removeCryptoContext:function(U){},clearCryptoContexts:function(){},addUserIdToken:function(U,W){},getUserIdToken:function(U){},removeUserIdToken:function(U){},clearUserIdTokens:function(){},addServiceTokens:function(U){},getServiceTokens:function(U,W){},removeServiceTokens:function(U,W,ba){},clearServiceTokens:function(){}});(function(){var U;U=Kc;Wd=function(W,ba){var X;X={};switch(W){case U.LZW:return ke(ba,X);case U.GZIP:return gzip$compress(ba);default:throw new ib(T.UNSUPPORTED_COMPRESSION,W);}};xd=function(W,ba,X){switch(W){case U.LZW:return le(ba);case U.GZIP:return gzip$uncompress(ba);default:throw new ib(T.UNSUPPORTED_COMPRESSION,W.name());}};})();ef.extend({setCryptoContext:function(U,W){},getMasterToken:function(){return null;},getNonReplayableId:function(U){return 1;},getCryptoContext:function(U){return null;},removeCryptoContext:function(U){},clearCryptoContexts:function(){},addUserIdToken:function(U,W){},getUserIdToken:function(U){return null;},removeUserIdToken:function(U){},clearUserIdTokens:function(){},addServiceTokens:function(U){},getServiceTokens:function(U,W){if(W){if(!U)throw new ib(T.USERIDTOKEN_MASTERTOKEN_NULL);if(!W.isBoundTo(U))throw new ib(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + W.mtSerialNumber + "; mt " + U.serialNumber);}return [];},removeServiceTokens:function(U,W,ba){if(ba && W && !ba.isBoundTo(W))throw new ib(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.masterTokenSerialNumber + "; mt " + W.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function W(){W.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(W,ba){var X;if(ba){X=W.uniqueKey();this.masterTokens[X]=W;this.cryptoContexts[X]=ba;}else this.removeCryptoContext(W);},getMasterToken:function(){var W,ba,X;W=null;for(ba in this.masterTokens){X=this.masterTokens[ba];if(!W || X.isNewerThan(W))W=X;}return W;},getNonReplayableId:function(W){var ba;W=W.serialNumber;ba=this.nonReplayableIds[W] !== Gb?this.nonReplayableIds[W]:0;if(0 > ba || ba > Tb)throw new Bb("Non-replayable ID " + ba + " is outside the valid range.");ba=ba == Tb?0:ba + 1;return this.nonReplayableIds[W]=ba;},getCryptoContext:function(W){return this.cryptoContexts[W.uniqueKey()];},removeCryptoContext:function(W){var ba,X,fa,wa;ba=W.uniqueKey();if(this.masterTokens[ba]){X=W.serialNumber;for(fa in this.masterTokens){wa=this.masterTokens[fa];if(!wa.equals(W) && wa.serialNumber == X){delete this.masterTokens[ba];delete this.cryptoContexts[ba];return;}}Object.keys(this.userIdTokens).forEach(function(sa){sa=this.userIdTokens[sa];sa.isBoundTo(W) && this.removeUserIdToken(sa);},this);try{this.removeServiceTokens(null,W,null);}catch(sa){if(sa instanceof ib)throw new Bb("Unexpected exception while removing master token bound service tokens.",sa);throw sa;}delete this.nonReplayableIds[X];delete this.masterTokens[ba];delete this.cryptoContexts[ba];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(W){for(var ba in W)delete W[ba];},this);},addUserIdToken:function(W,ba){var X,fa;X=!1;for(fa in this.masterTokens)if(ba.isBoundTo(this.masterTokens[fa])){X=!0;break;}if(!X)throw new ib(T.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ba.mtSerialNumber);this.userIdTokens[W]=ba;},getUserIdToken:function(W){return this.userIdTokens[W];},removeUserIdToken:function(W){var ba,X,fa;ba=null;for(X in this.masterTokens){fa=this.masterTokens[X];if(W.isBoundTo(fa)){ba=fa;break;}}Object.keys(this.userIdTokens).forEach(function(wa){if(this.userIdTokens[wa].equals(W)){try{this.removeServiceTokens(null,ba,W);}catch(sa){if(sa instanceof ib)throw new Bb("Unexpected exception while removing user ID token bound service tokens.",sa);throw sa;}delete this.userIdTokens[wa];}},this);},clearUserIdTokens:function(){for(var W in this.userIdTokens)this.removeUserIdToken(this.userIdTokens[W]);},addServiceTokens:function(W){W.forEach(function(ba){var X,fa;if(ba.isMasterTokenBound()){X=!1;for(fa in this.masterTokens)if(ba.isBoundTo(this.masterTokens[fa])){X=!0;break;}if(!X)throw new ib(T.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ba.mtSerialNumber);}if(ba.isUserIdTokenBound()){X=!1;for(var wa in this.userIdTokens)if(ba.isBoundTo(this.userIdTokens[wa])){X=!0;break;}if(!X)throw new ib(T.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ba.uitSerialNumber);}},this);W.forEach(function(ba){var X;if(ba.isUnbound())this.unboundServiceTokens[ba.uniqueKey()]=ba;else {if(ba.isMasterTokenBound()){X=this.mtServiceTokens[ba.mtSerialNumber];X || (X={});X[ba.uniqueKey()]=ba;this.mtServiceTokens[ba.mtSerialNumber]=X;}ba.isUserIdTokenBound() && ((X=this.uitServiceTokens[ba.uitSerialNumber]) || (X={}),X[ba.uniqueKey()]=ba,this.uitServiceTokens[ba.uitSerialNumber]=X);}},this);},getServiceTokens:function(W,ba){var X,fa,wa;if(ba){if(!W)throw new ib(T.USERIDTOKEN_MASTERTOKEN_NULL);if(!ba.isBoundTo(W))throw new ib(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + W.serialNumber);}X={};for(fa in this.unboundServiceTokens){wa=this.unboundServiceTokens[fa];X[wa.uniqueKey()]=wa;}if(W && (fa=this.mtServiceTokens[W.serialNumber]))for(var sa in fa)(wa=fa[sa],wa.isUserIdTokenBound() || (X[sa]=wa));if(ba && (ba=this.uitServiceTokens[ba.serialNumber]))for(var ia in ba)(sa=ba[ia],sa.isBoundTo(W) && (X[ia]=sa));W=[];for(var qa in X)W.push(X[qa]);return W;},removeServiceTokens:function(W,ba,X){var fa,wa,sa;if(X && ba && !X.isBoundTo(ba))throw new ib(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + X.mtSerialNumber + "; mt " + ba.serialNumber);!W || ba || X || Object.keys(this.unboundServiceTokens).forEach(function(ia){this.unboundServiceTokens[ia].name == W && delete this.unboundServiceTokens[ia];},this);if(ba && !X && (fa=this.mtServiceTokens[ba.serialNumber])){sa=Object.keys(fa);sa.forEach(function(ia){var qa;qa=fa[ia];W && qa.name != W || delete fa[ia];},this);this.mtServiceTokens[ba.serialNumber]=fa;}X && (wa=this.uitServiceTokens[X.serialNumber]) && (ba=Object.keys(wa),ba.forEach(function(ia){var qa;qa=wa[ia];W && qa.name != W || delete wa[ia];},this),this.uitServiceTokens[X.serialNumber]=wa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(W){for(var ba in W)delete W[ba];},this);}});})();Af.extend({init:function W(){W.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(W,ba){ba && W && W.length && (W=Lb(W),this._contextMap[W]=ba);},getCryptoContext:function(W){return W && W.length?(W=Lb(W),this._contextMap[W] || null):null;},removeCryptoContext:function(W){W && W.length && (W=Lb(W),delete this._contextMap[W]);}});sf.extend({init:function sa(ba,X,fa,wa){sa.base.call(this,ba);Object.defineProperties(this,{_kde:{value:X,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:fa,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,X){if(!(X instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(X) + ".");if(X.identity != this.localIdentity)throw new rc(T.ENTITY_NOT_FOUND,"mgk " + X.identity);return new rd(ba,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function ia(X,fa,wa,sa){ia.base.call(this,X);Object.defineProperties(this,{_kpe:{value:fa,writable:!1,enumerable:!1,configurable:!1},_kph:{value:wa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(X,fa){if(!(fa instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(fa) + ".");if(fa.identity != this.localIdentity)throw new rc(T.ENTITY_NOT_FOUND,"psk " + fa.identity);return new rd(X,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function ja(fa,wa,sa,ia,qa,Ba){ja.base.call(this);this._log=fa;this._esn=wa;this._keyRequestData=sa;this._createKeyRequestData=ia;this._systemKeyName=qa;this._systemKeyWrapFormat=Ba;},setCryptoContext:function qa(wa,sa,ia){var Ba;Ba=this;Ba._log.trace("Adding MasterToken",{SequenceNumber:wa.sequenceNumber,SerialNumber:wa.serialNumber,Expiration:wa.expiration.getTime()});qa.base.call(this,wa,sa);!ia && (wa=Ba._createKeyRequestData) && (Ba._log.trace("Generating new keyx request data"),wa().then(function(ja){Ba._keyRequestData=ja;},function(ja){Ba._log.error("Unable to generate new keyx request data","" + ja);}));},addUserIdToken:function qa(sa,ia){this._log.trace("Adding UserIdToken",{UserId:sa,SerialNumber:ia.serialNumber,MTSerialNumber:ia.mtSerialNumber,Expiration:ia.expiration.getTime()});qa.base.call(this,sa,ia);},addServiceTokens:function qa(ia){qa.base.call(this,ia.filter(function(Ba){return !Gf[Ba.name];}));},getUserIdTokenKeys:function(){var ia,qa;ia=[];for(qa in this.userIdTokens)ia.push(qa);return ia;},rekeyUserIdToken:function(ia,qa){this.userIdTokens[ia] && (this.userIdTokens[qa]=this.userIdTokens[ia],delete this.userIdTokens[ia]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ia){var qa;qa=this;Qa(ia,function(){var Ba;Ba=qa.getMasterToken();Ba?qa.getKeysForStore(Ba,{result:function(ja){Qa(ia,function(){var Z,aa,ea;Z=qa.userIdTokens;aa=Object.keys(Z).map(function(za){var Ua;Ua=Z[za];return {userId:za,userIdTokenJSON:Z[za].toJSON(),serviceTokenJSONList:qa.getServiceTokens(Ba,Ua).map(mf)};});ja.esn=qa._esn;ja.masterTokenJSON=Ba.toJSON();ja.userList=aa;ea=qa._keyRequestData.storeData;ea && Object.keys(ea).forEach(function(za){ja[za]=ea[za];});return ja;});},timeout:ia.timeout,error:ia.error}):ia.result(null);});},getKeysForStore:function(ia,qa){var Ba;Ba=this;Qa(qa,function(){var ja;ja=Ba.getCryptoContext(ia);ja={encryptionKey:ja.encryptionKey,hmacKey:ja.hmacKey};if(ja.encryptionKey && ja.hmacKey){if(Ba._systemKeyWrapFormat)Ba.wrapKeysWithSystemKey(ja,qa);else return ja;}else throw new ib(T.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ia,qa){var Ba;Ba=this;ee(this._systemKeyName,{result:function(ja){Qa(qa,function(){var Z,aa,ea,za;Z=ia.encryptionKey;aa=ia.hmacKey;ea=Z[Xc];za=aa[Xc];if(ea && za)return {wrappedEncryptionKey:ea,wrappedHmacKey:za};Promise.resolve().then(function(){return Promise.all([Sb.wrapKey(Ba._systemKeyWrapFormat,Z,ja,ja.algorithm),Sb.wrapKey(Ba._systemKeyWrapFormat,aa,ja,ja.algorithm)]);}).then(function(Ua){ea=Lb(Ua[0]);Z[Xc]=ea;za=Lb(Ua[1]);aa[Xc]=za;qa.result({wrappedEncryptionKey:ea,wrappedHmacKey:za});}).catch(function(Ua){qa.error(new ib(T.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ua));});});},timeout:qa.timeout,error:qa.error});},unwrapKeysWithSystemKey:function(ia,qa){var Ba;Ba=this;ee(this._systemKeyName,{result:function(ja){Qa(qa,function(){var Z,aa;Z=Mb(ia.wrappedEncryptionKey);aa=Mb(ia.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Sb.unwrapKey(Ba._systemKeyWrapFormat,Z,ja,ja.algorithm,oc,!1,Dc),Sb.unwrapKey(Ba._systemKeyWrapFormat,aa,ja,ja.algorithm,pc,!1,Mc)]);}).then(function(ea){var za;za=ea[0];ea=ea[1];za[Xc]=ia.wrappedEncryptionKey;ea[Xc]=ia.wrappedHmacKey;qa.result({encryptionKey:za,hmacKey:ea});}).catch(function(ea){qa.error(new ib(T.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ea));});});},timeout:qa.timeout,error:qa.error});},loadStoreState:function(ia,qa,Ba,ja){var ea,za;function Z(Ua,Pa){var Ta;try{Ta=Ba.userList.slice();}catch(Wa){}Ta?(function na(){var Aa;Aa=Ta.shift();Aa?vd(qa,Aa.userIdTokenJSON,Ua,{result:function(Ga){try{ea.addUserIdToken(Aa.userId,Ga);aa(Ua,Ga,Aa.serviceTokenJSONList,{result:na,timeout:na,error:na});}catch(La){na();}},timeout:na,error:na}):Pa.result();})():Pa.result();}function aa(Ua,Pa,Ta,Wa){var na,Aa;try{na=Ta.slice();}catch(Ga){}if(na){Aa=ea.getCryptoContext(Ua);(function La(){var Da;Da=na.shift();Da?wd(qa,Da,Ua,Pa,Aa,{result:function(Xa){ea.addServiceTokens([Xa]);La();},timeout:function(){La();},error:function(){La();}}):Wa.result();})();}else Wa.result();}ea=this;za=ea._log;Ba.esn != ea._esn?(za.error("Esn mismatch, starting fresh"),ja.error()):(function(Ua){var Wa,na,Aa,Ga;function Pa(){var La;if(!Wa && na && Aa && Ga){Wa=!0;La=new mc(qa,na,ia.esn,{rawKey:Aa},{rawKey:Ga});ea.setCryptoContext(na,La,!0);Ua.result(na);}}function Ta(La,Da){za.error(La,Da && "" + Da);Wa || (Wa=!0,Ua.error());}Ba.masterTokenJSON?(ed(qa,Ba.masterTokenJSON,{result:function(La){na=La;Pa();},timeout:function(){Ta("Timeout parsing MasterToken");},error:function(La){Ta("Error parsing MasterToken",La);}}),ea._systemKeyWrapFormat?ea.unwrapKeysWithSystemKey(Ba,{result:function(La){Aa=La.encryptionKey;Ga=La.hmacKey;Pa();},timeout:function(){Ta("Timeout unwrapping keys");},error:function(La){Ta("Error unwrapping keys",La);}}):Promise.resolve().then(function(){return Sb.encrypt({name:oc.name,iv:new Uint8Array(16)},Ba.encryptionKey,new Uint8Array(1));}).then(function(La){Aa=Ba.encryptionKey;}).catch(function(La){Ta("Error loading encryptionKey");}).then(function(){return Sb.sign(pc,Ba.hmacKey,new Uint8Array(1));}).then(function(La){Ga=Ba.hmacKey;Pa();}).catch(function(La){Ta("Error loading hmacKey");})):Ta("Persisted store is corrupt");})({result:function(Ua){Z(Ua,ja);},timeout:ja.timeout,error:ja.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Xc="$netflix$msl$wrapsys";If=Ff.extend({init:function(ia,qa,Ba,ja,Z,aa){var ea,za;ea=new fd([Kc.LZW]);za=new vf();za.addPublicKey(qa,Ba);ja[Xb.RSA]=new uf(za);qa={};qa[Gc.EMAIL_PASSWORD]=new Ef();qa[Gc.NETFLIXID]=new Df();ia={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ea,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:Z,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ja,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:qa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:aa,writable:!1,enumerable:!1,configurable:!1},_store:{value:ia,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ia,qa){qa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ia){return this._entityAuthFactories[ia];},getUserAuthenticationFactory:function(ia){return this._userAuthFactories[ia];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ia){return this._keyExchangeFactories.filter(function(qa){return qa.scheme == ia;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(ia,qa,Ba,ja){this._log=ia;this._mslContext=qa;this._mslRequest=Ba;this._keyRequestData=ja;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ia,qa,Ba,ja){var Z;Z=this._mslRequest;Qa(ja,function(){return ia || !Z.shouldSendUserAuthData?null:Z.email?new id(Z.email,Z.password):Z.useNetflixUserAuthData || Ba && Z.sendUserAuthIfRequired?new hd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ia){ia.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ia,qa,Ba){var ja,Z,aa,ea,za,Ua;ja=this._log;Z=(this._mslRequest.serviceTokens || []).slice();aa=this._mslContext;qa=aa.getMslStore();ea=ia.builder.getMasterToken();za=this.getUserId();Ua=qa.getUserIdToken(za);(function Ta(){var Wa;Wa=Z.shift();if(Wa)try{Wa instanceof Fc?(ia.addPrimaryServiceToken(Wa),Ta()):wd(aa,Wa,ea,Ua,null,{result:function(na){try{ia.addPrimaryServiceToken(na);}catch(Aa){ja.warn("Exception adding service token","" + Aa);}Ta();},timeout:function(){ja.warn("Timeout parsing service token");Ta();},error:function(na){ja.warn("Error parsing service token","" + na);Ta();}});}catch(na){ja.warn("Exception processing service token","" + na);Ta();}else Ba.result(!0);})();},write:function(ia,qa,Ba){var ja;ja=fc(this._mslRequest.body);ia.write(ja,0,ja.length,qa,{result:function(Z){Z != ja.length?Ba.error(new Zb("Not all data was written to output.")):ia.flush(qa,{result:function(){Ba.result(!0);},timeout:function(){Ba.timeout();},error:function(aa){Ba.error(aa);}});},timeout:function(){Ba.timeout();},error:function(Z){Ba.error(Z);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(ia,qa){this._log=ia;this._mslRequest=qa;},sentHeader:function(ia){this._log.trace("Sent MSL header",fe(this._mslRequest,ia),ia.serviceTokens && ia.serviceTokens.map(nf).join("\n"));},receivedHeader:function(ia){var qa,Ba;qa=fe(this._mslRequest,ia);Ba=ia.errorCode;Ba?this._log.warn("Received MSL error header",qa,{errorCode:Ba,errorMessage:ia.errorMessage,internalCode:ia.internalCode}):this._log.trace("Received MSL header",qa);}});Kf={JWK_RSA:function(ia){return pf(ia,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};qb.netflix=qb.netflix || ({});qb.netflix.msl={createMslClient:function(ia,qa){var Ba,ja,Z,aa,ea;Ba=ia.log;ea=ia.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Wb && Wb.generateKey && Wb.importKey && Wb.unwrapKey))throw new ib(T.INTERNAL_EXCEPTION,"No WebCrypto");dc=Wb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?md.V2014_02:md.LEGACY;ea("mslisik");return Sb.importKey("spki",ia.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(za){return new Promise(function(Ua,Pa){Jc(za,{result:Ua,error:function(){Pa(new ib(T.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(za){ja=za;if(za=Kf.JWK_RSA)return (ea("mslcc"),za(ia));throw new ib(T.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(za){var Ua;Z=new Hf(Ba,ia.esn,za.keyRequestData,za.createKeyRequestData,ia.authenticationKeyNames.s,ia.systemKeyWrapFormat);aa=new If(Z,ia.serverIdentityId,ja,za.entityAuthFactories,za.entityAuthData,za.keyExchangeFactories);Ua=ia.storeState;if(Ua)return (ea("mslss"),Ba.info("Loading store state"),new Promise(function(Pa,Ta){Z.loadStoreState(ia,aa,Ua,{result:Pa,timeout:Pa,error:Pa});}));Ba.info("No store state, starting fresh");}).then(function(){var za;za=new $e();ea("msldone");qa.result(new of(Ba,za,aa,Z,ia.ErrorSubCodes));}).catch(function(za){qa.error(za);});},IHttpLocation:yf,MslIoException:Zb};(function(){var fb,Ya,nb,rb,tb,vb,wb,Fb,Db;function ia(pa){var Ha;Ha=0;return function(){return Ha < pa.length?{done:!1,value:pa[Ha++]}:{done:!0};};}function qa(pa,Ha){var Ra,b;if(Ha)a:{Ra=Ya;pa=pa.split(".");for(var r=0;r < pa.length - 1;r++){b=pa[r];if(!((b in Ra)))break a;Ra=Ra[b];}pa=pa[pa.length - 1];r=Ra[pa];Ha=Ha(r);Ha != r && null != Ha && fb(Ra,pa,{configurable:!0,writable:!0,value:Ha});}}function Ba(pa){pa={next:pa};pa[Symbol.iterator]=function(){return this;};return pa;}function ja(pa){var Ha;Ha="undefined" != typeof Symbol && Symbol.iterator && pa[Symbol.iterator];return Ha?Ha.call(pa):{next:ia(pa)};}function Z(pa){for(var Ha,Ra=[];!(Ha=pa.next()).done;)Ra.push(Ha.value);return Ra;}function aa(pa){return pa instanceof Array?pa:Z(ja(pa));}function ea(pa,Ha){var r;pa.prototype=nb(Ha.prototype);pa.prototype.constructor=pa;if(Fb)Fb(pa,Ha);else for(var Ra in Ha)if("prototype" != Ra)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Ha,Ra);r && Object.defineProperty(pa,Ra,r);}else pa[Ra]=Ha[Ra];pa.qoc=Ha.prototype;}function za(){this.IW=!1;this.XD=null;this.K_=void 0;this.Bw=1;this.u1a=this.Wla=0;this.BF=null;}function Ua(pa){if(pa.IW)throw new TypeError("Generator is already running");pa.IW=!0;}function Pa(pa,Ha,Ra){pa.Bw=Ra;return {value:Ha};}function Ta(pa){this.Bf=new za();this.P2b=pa;}function Wa(pa,Ha){var Ra;Ua(pa.Bf);Ra=pa.Bf.XD;if(Ra)return na(pa,("return" in Ra)?Ra["return"]:function(r){return {value:r,done:!0};},Ha,pa.Bf.return);pa.Bf.return(Ha);return Aa(pa);}function na(pa,Ha,Ra,r){var b,a;try{b=Ha.call(pa.Bf.XD,Ra);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (pa.Bf.IW=!1,b);a=b.value;}catch(c){return (pa.Bf.XD=null,pa.Bf.VZ(c),Aa(pa));}pa.Bf.XD=null;r.call(pa.Bf,a);return Aa(pa);}function Aa(pa){var Ha;for(;pa.Bf.Bw;)try{Ha=pa.P2b(pa.Bf);if(Ha)return (pa.Bf.IW=!1,{value:Ha.value,done:!1});}catch(Ra){pa.Bf.K_=void 0;pa.Bf.VZ(Ra);}pa.Bf.IW=!1;if(pa.Bf.BF){Ha=pa.Bf.BF;pa.Bf.BF=null;if(Ha.nTb)throw Ha.T0a;return {value:Ha.return,done:!0};}return {value:void 0,done:!0};}function Ga(pa){this.next=function(Ha){return pa.MX(Ha);};this.throw=function(Ha){return pa.VZ(Ha);};this.return=function(Ha){return Wa(pa,Ha);};this[Symbol.iterator]=function(){return this;};}function La(pa,Ha){Ha=new Ga(new Ta(Ha));Fb && pa.prototype && Fb(Ha,pa.prototype);return Ha;}function Da(pa,Ha){return Object.prototype.hasOwnProperty.call(pa,Ha);}function Xa(pa,Ha,Ra){var a;pa instanceof String && (pa=String(pa));for(var r=pa.length,b=0;b < r;b++){a=pa[b];if(Ha.call(Ra,a,b,pa))return {K5a:b,eda:a};}return {K5a:-1,eda:void 0};}function Ka(pa,Ha,Ra){if(null == pa)throw new TypeError("The 'this' value for String.prototype." + Ra + " must not be null or undefined");if(Ha instanceof RegExp)throw new TypeError("First argument to String.prototype." + Ra + " must not be a regular expression");return pa + "";}function bb(pa,Ha){var Ra,r,b;pa instanceof String && (pa+="");Ra=0;r=!1;b={next:function(){var a;if(!r && Ra < pa.length){a=Ra++;return {value:Ha(a,pa[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}fb="function" == typeof Object.defineProperties?Object.defineProperty:function(pa,Ha,Ra){if(pa == Array.prototype || pa == Object.prototype)return pa;pa[Ha]=Ra.value;return pa;};Ya=(function(pa){var Ra;pa=["object" == typeof globalThis && globalThis,pa,"object" == typeof qb && qb,"object" == typeof self && self,"object" == typeof global && global];for(var Ha=0;Ha < pa.length;++Ha){Ra=pa[Ha];if(Ra && Ra.Math == Math)return Ra;}throw Error("Cannot find global object");})(this);qa("Symbol",function(pa){var r;function Ha(b){if(this instanceof Ha)throw new TypeError("Symbol is not a constructor");return new Ra("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Ra(b,a){this.Ekb=b;fb(this,"description",{configurable:!0,writable:!0,value:a});}if(pa)return pa;Ra.prototype.toString=function(){return this.Ekb;};r=0;return Ha;});qa("Symbol.iterator",function(pa){var r;if(pa)return pa;pa=Symbol("Symbol.iterator");for(var Ha=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Ra=0;Ra < Ha.length;Ra++){r=Ya[Ha[Ra]];"function" === typeof r && "function" != typeof r.prototype[pa] && fb(r.prototype,pa,{configurable:!0,writable:!0,value:function(){return Ba(ia(this));}});}return pa;});nb="function" == typeof Object.create?Object.create:function(pa){function Ha(){}Ha.prototype=pa;return new Ha();};rb=(function(){var Ha;function pa(){function Ra(){}new Ra();Reflect.construct(Ra,[],function(){});return new Ra() instanceof Ra;}if("undefined" != typeof Reflect && Reflect.construct){if(pa())return Reflect.construct;Ha=Reflect.construct;return function(Ra,r,b){Ra=Ha(Ra,r);b && Reflect.setPrototypeOf(Ra,b.prototype);return Ra;};}return function(Ra,r,b){void 0 === b && (b=Ra);b=nb(b.prototype || Object.prototype);return Function.prototype.apply.call(Ra,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)tb=Object.setPrototypeOf;else {a:{vb={a:!0};wb={};try{wb.__proto__=vb;tb=wb.a;break a;}catch(pa){}tb=!1;}tb=tb?function(pa,Ha){pa.__proto__=Ha;if(pa.__proto__ !== Ha)throw new TypeError(pa + " is not extensible");return pa;}:null;}Fb=tb;za.prototype.MX=function(pa){this.K_=pa;};za.prototype.VZ=function(pa){this.BF={T0a:pa,nTb:!0};this.Bw=this.Wla || this.u1a;};za.prototype.return=function(pa){this.BF={return:pa};this.Bw=this.u1a;};Ta.prototype.MX=function(pa){Ua(this.Bf);if(this.Bf.XD)return na(this,this.Bf.XD.next,pa,this.Bf.MX);this.Bf.MX(pa);return Aa(this);};Ta.prototype.VZ=function(pa){Ua(this.Bf);if(this.Bf.XD)return na(this,this.Bf.XD["throw"],pa,this.Bf.MX);this.Bf.VZ(pa);return Aa(this);};qa("Reflect",function(pa){return pa?pa:{};});qa("Reflect.construct",function(){return rb;});qa("Reflect.setPrototypeOf",function(pa){return pa?pa:Fb?function(Ha,Ra){try{return (Fb(Ha,Ra),!0);}catch(r){return !1;}}:null;});qa("WeakMap",function(pa){var c,m;function Ha(g){this.jW=(m+=Math.random() + 1).toString();if(g){g=ja(g);for(var k;!(k=g.next()).done;)(k=k.value,this.set(k[0],k[1]));}}function Ra(){}function r(g){var k;k=typeof g;return "object" === k && null !== g || "function" === k;}function b(g){var k;if(!Da(g,c)){k=new Ra();fb(g,c,{value:k});}}function a(g){var k;k=Object[g];k && (Object[g]=function(d){if(d instanceof Ra)return d;Object.isExtensible(d) && b(d);return k(d);});}if((function(){var g,k,d;if(!pa || !Object.seal)return !1;try{g=Object.seal({});k=Object.seal({});d=new pa([[g,2],[k,3]]);if(2 != d.get(g) || 3 != d.get(k))return !1;d.delete(g);d.set(k,4);return !d.has(g) && 4 == d.get(k);}catch(f){return !1;}})())return pa;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");m=0;Ha.prototype.set=function(g,k){if(!r(g))throw Error("Invalid WeakMap key");b(g);if(!Da(g,c))throw Error("WeakMap key fail: " + g);g[c][this.jW]=k;return this;};Ha.prototype.get=function(g){return r(g) && Da(g,c)?g[c][this.jW]:void 0;};Ha.prototype.has=function(g){return r(g) && Da(g,c) && Da(g[c],this.jW);};Ha.prototype.delete=function(g){return r(g) && Da(g,c) && Da(g[c],this.jW)?delete g[c][this.jW]:!1;};return Ha;});qa("Map",function(pa){var a,c;function Ha(){var m;m={};return m.km=m.next=m.head=m;}function Ra(m,g){var k;k=m.Wy;return Ba(function(){if(k){for(;k.head != m.Wy;)k=k.km;for(;k.next != k.head;)return (k=k.next,{done:!1,value:g(k)});k=null;}return {done:!0,value:void 0};});}function r(m,g){var k,d,f;k=g && typeof g;"object" == k || "function" == k?a.has(g)?k=a.get(g):(k="" + ++c,a.set(g,k)):k="p_" + g;d=m.Dy[k];if(d && Da(m.Dy,k))for(m=0;m < d.length;m++){f=d[m];if(g !== g && f.key !== f.key || g === f.key)return {id:k,list:d,index:m,entry:f};}return {id:k,list:d,index:-1,entry:void 0};}function b(m){this.Dy={};this.Wy=Ha();this.size=0;if(m){m=ja(m);for(var g;!(g=m.next()).done;)(g=g.value,this.set(g[0],g[1]));}}if((function(){var m,g,k,d;if(!pa || "function" != typeof pa || !pa.prototype.entries || "function" != typeof Object.seal)return !1;try{m=Object.seal({x:4});g=new pa(ja([[m,"s"]]));if("s" != g.get(m) || 1 != g.size || g.get({x:4}) || g.set({x:4},"t") != g || 2 != g.size)return !1;k=g.entries();d=k.next();if(d.done || d.value[0] != m || "s" != d.value[1])return !1;d=k.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !k.next().done?!1:!0;}catch(f){return !1;}})())return pa;a=new WeakMap();b.prototype.set=function(m,g){var k;m=0 === m?0:m;k=r(this,m);k.list || (k.list=this.Dy[k.id]=[]);k.entry?k.entry.value=g:(k.entry={next:this.Wy,km:this.Wy.km,head:this.Wy,key:m,value:g},k.list.push(k.entry),this.Wy.km.next=k.entry,this.Wy.km=k.entry,this.size++);return this;};b.prototype.delete=function(m){m=r(this,m);return m.entry && m.list?(m.list.splice(m.index,1),m.list.length || delete this.Dy[m.id],m.entry.km.next=m.entry.next,m.entry.next.km=m.entry.km,m.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.Dy={};this.Wy=this.Wy.km=Ha();this.size=0;};b.prototype.has=function(m){return !!r(this,m).entry;};b.prototype.get=function(m){return (m=r(this,m).entry) && m.value;};b.prototype.entries=function(){return Ra(this,function(m){return [m.key,m.value];});};b.prototype.keys=function(){return Ra(this,function(m){return m.key;});};b.prototype.values=function(){return Ra(this,function(m){return m.value;});};b.prototype.forEach=function(m,g){for(var k=this.entries(),d;!(d=k.next()).done;)(d=d.value,m.call(g,d[1],d[0],this));};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});qa("Set",function(pa){function Ha(Ra){this.xw=new Map();if(Ra){Ra=ja(Ra);for(var r;!(r=Ra.next()).done;)this.add(r.value);}this.size=this.xw.size;}if((function(){var Ra,r,b,a;if(!pa || "function" != typeof pa || !pa.prototype.entries || "function" != typeof Object.seal)return !1;try{Ra=Object.seal({x:4});r=new pa(ja([Ra]));if(!r.has(Ra) || 1 != r.size || r.add(Ra) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Ra || a.value[1] != Ra)return !1;a=b.next();return a.done || a.value[0] == Ra || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return pa;Ha.prototype.add=function(Ra){Ra=0 === Ra?0:Ra;this.xw.set(Ra,Ra);this.size=this.xw.size;return this;};Ha.prototype.delete=function(Ra){Ra=this.xw.delete(Ra);this.size=this.xw.size;return Ra;};Ha.prototype.clear=function(){this.xw.clear();this.size=0;};Ha.prototype.has=function(Ra){return this.xw.has(Ra);};Ha.prototype.entries=function(){return this.xw.entries();};Ha.prototype.values=function(){return this.xw.values();};Ha.prototype.keys=Ha.prototype.values;Ha.prototype[Symbol.iterator]=Ha.prototype.values;Ha.prototype.forEach=function(Ra,r){var b;b=this;this.xw.forEach(function(a){return Ra.call(r,a,a,b);});};return Ha;});qa("Array.prototype.find",function(pa){return pa?pa:function(Ha,Ra){return Xa(this,Ha,Ra).eda;};});qa("Number.isFinite",function(pa){return pa?pa:function(Ha){return "number" !== typeof Ha?!1:!isNaN(Ha) && Infinity !== Ha && -Infinity !== Ha;};});qa("Promise",function(pa){var b,a;function Ha(c){var m;this.CP=0;this.$Y=void 0;this.kO=[];this.a7a=!1;m=this.hna();try{c(m.resolve,m.reject);}catch(g){m.reject(g);}}function Ra(){this.BB=null;}function r(c){return c instanceof Ha?c:new Ha(function(m){m(c);});}if(pa)return pa;Ra.prototype.oWa=function(c){var m;if(null == this.BB){this.BB=[];m=this;this.pWa(function(){m.bKb();});}this.BB.push(c);};b=Ya.setTimeout;Ra.prototype.pWa=function(c){b(c,0);};Ra.prototype.bKb=function(){var c,g;for(;this.BB && this.BB.length;){c=this.BB;this.BB=[];for(var m=0;m < c.length;++m){g=c[m];c[m]=null;try{g();}catch(k){this.Ayb(k);}}}this.BB=null;};Ra.prototype.Ayb=function(c){this.pWa(function(){throw c;});};Ha.prototype.hna=function(){var m,g;function c(k){return function(d){g || (g=!0,k.call(m,d));};}m=this;g=!1;return {resolve:c(this.s5b),reject:c(this.iya)};};Ha.prototype.s5b=function(c){var m;if(c === this)this.iya(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Ha)this.O7b(c);else {a:switch(typeof c){case "object":m=null != c;break a;case "function":m=!0;break a;default:m=!1;}m?this.r5b(c):this.g2a(c);}};Ha.prototype.r5b=function(c){var m;m=void 0;try{m=c.then;}catch(g){this.iya(g);return;}"function" == typeof m?this.P7b(m,c):this.g2a(c);};Ha.prototype.iya=function(c){this.Tfb(2,c);};Ha.prototype.g2a=function(c){this.Tfb(1,c);};Ha.prototype.Tfb=function(c,m){if(0 != this.CP)throw Error("Cannot settle(" + c + ", " + m + "): Promise already settled in state" + this.CP);this.CP=c;this.$Y=m;2 === this.CP && this.g6b();this.cKb();};Ha.prototype.g6b=function(){var c;c=this;b(function(){var m;if(c.kZb()){m=Ya.console;"undefined" !== typeof m && m.error(c.$Y);}},1);};Ha.prototype.kZb=function(){var c,m,g;if(this.a7a)return !1;c=Ya.CustomEvent;m=Ya.Event;g=Ya.dispatchEvent;if("undefined" === typeof g)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof m?c=new m("unhandledrejection",{cancelable:!0}):(c=Ya.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.$Y;return g(c);};Ha.prototype.cKb=function(){if(null != this.kO){for(var c=0;c < this.kO.length;++c)a.oWa(this.kO[c]);this.kO=null;}};a=new Ra();Ha.prototype.O7b=function(c){var m;m=this.hna();c.a5(m.resolve,m.reject);};Ha.prototype.P7b=function(c,m){var g;g=this.hna();try{c.call(m,g.resolve,g.reject);}catch(k){g.reject(k);}};Ha.prototype.then=function(c,m){var k,d,f;function g(n,h){return "function" == typeof n?function(l){try{k(n(l));}catch(p){d(p);}}:h;}f=new Ha(function(n,h){k=n;d=h;});this.a5(g(c,k),g(m,d));return f;};Ha.prototype.catch=function(c){return this.then(void 0,c);};Ha.prototype.a5=function(c,m){var k;function g(){switch(k.CP){case 1:c(k.$Y);break;case 2:m(k.$Y);break;default:throw Error("Unexpected state: " + k.CP);}}k=this;null == this.kO?a.oWa(g):this.kO.push(g);this.a7a=!0;};Ha.resolve=r;Ha.reject=function(c){return new Ha(function(m,g){g(c);});};Ha.race=function(c){return new Ha(function(m,g){for(var k=ja(c),d=k.next();!d.done;d=k.next())r(d.value).a5(m,g);});};Ha.all=function(c){var m,g;m=ja(c);g=m.next();return g.done?r([]):new Ha(function(k,d){var n,h;function f(l){return function(p){n[l]=p;h--;0 == h && k(n);};}n=[];h=0;do (n.push(void 0),h++,r(g.value).a5(f(n.length - 1),d),g=m.next());while(!g.done);});};return Ha;});Db="function" == typeof Object.assign?Object.assign:function(pa,Ha){var r;for(var Ra=1;Ra < arguments.length;Ra++){r=arguments[Ra];if(r)for(var b in r)Da(r,b) && (pa[b]=r[b]);}return pa;};qa("Object.assign",function(pa){return pa || Db;});qa("Object.is",function(pa){return pa?pa:function(Ha,Ra){return Ha === Ra?0 !== Ha || 1 / Ha === 1 / Ra:Ha !== Ha && Ra !== Ra;};});qa("Array.prototype.includes",function(pa){return pa?pa:function(Ha,Ra){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Ra=Ra || 0;for(0 > Ra && (Ra=Math.max(Ra + b,0));Ra < b;Ra++){a=r[Ra];if(a === Ha || Object.is(a,Ha))return !0;}return !1;};});qa("String.prototype.includes",function(pa){return pa?pa:function(Ha,Ra){return -1 !== Ka(this,Ha,"includes").indexOf(Ha,Ra || 0);};});qa("Object.entries",function(pa){return pa?pa:function(Ha){var Ra,r;Ra=[];for(r in Ha)Da(Ha,r) && Ra.push([r,Ha[r]]);return Ra;};});qa("Object.values",function(pa){return pa?pa:function(Ha){var Ra,r;Ra=[];for(r in Ha)Da(Ha,r) && Ra.push(Ha[r]);return Ra;};});qa("Array.prototype.keys",function(pa){return pa?pa:function(){return bb(this,function(Ha){return Ha;});};});qa("Array.prototype.entries",function(pa){return pa?pa:function(){return bb(this,function(Ha,Ra){return [Ha,Ra];});};});qa("Array.prototype.findIndex",function(pa){return pa?pa:function(Ha,Ra){return Xa(this,Ha,Ra).K5a;};});qa("Promise.prototype.finally",function(pa){return pa?pa:function(Ha){return this.then(function(Ra){return Promise.resolve(Ha()).then(function(){return Ra;});},function(Ra){return Promise.resolve(Ha()).then(function(){throw Ra;});});};});qa("Number.parseInt",function(pa){return pa || parseInt;});qa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});qa("Array.prototype.values",function(pa){return pa?pa:function(){return bb(this,function(Ha,Ra){return Ra;});};});qa("String.prototype.endsWith",function(pa){return pa?pa:function(Ha,Ra){var r;r=Ka(this,Ha,"endsWith");Ha+="";void 0 === Ra && (Ra=r.length);Ra=Math.max(0,Math.min(Ra | 0,r.length));for(var b=Ha.length;0 < b && 0 < Ra;)if(r[--Ra] != Ha[--b])return !1;return 0 >= b;};});qa("Array.from",function(pa){return pa?pa:function(Ha,Ra,r){var b,a;Ra=null != Ra?Ra:function(m){return m;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Ha[Symbol.iterator];if("function" == typeof a){Ha=a.call(Ha);for(var c=0;!(a=Ha.next()).done;)b.push(Ra.call(r,a.value,c++));}else for((a=Ha.length,c=0);c < a;c++)b.push(Ra.call(r,Ha[c],c));return b;};});qa("String.prototype.startsWith",function(pa){return pa?pa:function(Ha,Ra){var r,b,a;r=Ka(this,Ha,"startsWith");Ha+="";b=r.length;a=Ha.length;Ra=Math.max(0,Math.min(Ra | 0,r.length));for(var c=0;c < a && Ra < b;)if(r[Ra++] != Ha[c++])return !1;return c >= a;};});qa("Number.isNaN",function(pa){return pa?pa:function(Ha){return "number" === typeof Ha && isNaN(Ha);};});qa("Object.getOwnPropertySymbols",function(pa){return pa?pa:function(){return [];};});qa("Reflect.apply",function(pa){var Ha;if(pa)return pa;Ha=Function.prototype.apply;return function(Ra,r,b){return Ha.call(Ra,r,b);};});qa("Object.setPrototypeOf",function(pa){return pa || Fb;});qa("Math.tanh",function(pa){return pa?pa:function(Ha){var Ra;Ha=Number(Ha);if(0 === Ha)return Ha;Ra=Math.exp(-2 * Math.abs(Ha));Ra=(1 - Ra) / (1 + Ra);return 0 > Ha?-Ra:Ra;};});qa("String.fromCodePoint",function(pa){return pa?pa:function(Ha){var b;for(var Ra="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Ra+=String.fromCharCode(b):(b-=65536,Ra+=String.fromCharCode(b >>> 10 & 1023 | 55296),Ra+=String.fromCharCode(b & 1023 | 56320));}return Ra;};});(function(){var Ha,Ra;function pa(r){var b;b=Ra[r];if(void 0 !== b)return b.exports;b=Ra[r]={exports:{}};Ha[r].call(b.exports,b,b.exports,pa);return b.exports;}Ha={71501:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vJa="Injector";b.Ex=145152E5;b.vK="ProfileSymbol";},66523:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.Co=b.E9b=b.cab=void 0;b.cab=function(a,c){return a - c;};b.E9b=function(a,c){return a.localeCompare(c);};b.Co=function(a,c){var m;m=Object.getOwnPropertyDescriptor(a,c);m && Object.defineProperty(a,c,{configurable:m.configurable,enumerable:!1,value:m.value,writable:m.writable});};b.flatten=function(a){return [].concat.apply([],aa(a));};},24747:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.S_="ApiInfoSymbol";},99198:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.SVa=void 0;c=a(7700);m=a(24747);r=a(22674);g=a(71501);k=a(4203);b.SVa=new r.md(function(d){d(m.S_).to(c.mDa).ia();});b.profile=new r.md(function(d){d(g.vK).JD(function(f){return (f=f.nb.get(k.Zb)()) && f.Ny?"browsertest":"browser";});});},7700:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q){h=d.Ve.call(this,h,void 0 === q?"AppInfoConfigImpl":q) || this;h.config=l;h.Qca=p;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=void 0;r=a(5163);m=a(22674);g=a(34231);k=a(12501);d=a(64174);f=a(83767);a=a(70865);ea(c,d.Ve);c.prototype.ZOb=function(h){return "" + this.J0a + (this.Qca.cca(h)?"/msl_v1":"");};c.prototype.jPb=function(h){return "" + this.host + (this.Qca.cca(h)?"/msl":"") + "/playapi";};Ya.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},J0a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},I0a:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.vG){case g.Rs.Kha:case g.Rs.ufa:h="logs.test.netflix.com";break;default:h="logs.netflix.com";}return "https://" + h + "/log";}},host:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.vG){case g.Rs.Srb:h="www.stage";break;case g.Rs.Kha:h="www-qa.test";break;case g.Rs.ufa:h="www-int.test";break;default:h="www";}return "https://" + h + ".netflix.com";}},OWa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});n=c;r.__decorate([k.config(k.string,"apiEndpoint")],n.prototype,"endpoint",null);r.__decorate([k.config(k.string,"nqEndpoint")],n.prototype,"J0a",null);r.__decorate([k.config(k.string,"logsEndpoint")],n.prototype,"I0a",null);r.__decorate([k.config(k.string,"bindService")],n.prototype,"OWa",null);n=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(f.Hl)),r.__param(1,(0,m.l)(g.Kn)),r.__param(2,(0,m.l)(a.J2)),r.__param(3,(0,m.l)(f.f0)),r.__param(3,(0,m.optional)())],n);b.mDa=n;},85405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ADa="AseIntegrationFactorySymbol";},31034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wMa="OpenConnectSideChannelSymbol";b.wLa="MediaRequestDownloaderSymbol";},13494:function(r,b){function a(m,g,k){var d,f,n,h;d=[];m.forEach(function(l){-1 == d.indexOf(l.wd) && d.push(l.wd);});f=null;n=null;g.forEach(function(l){null === f?n=f=l.bitrate:n < l.bitrate?n=l.bitrate:f > l.bitrate && (f=l.bitrate);});h=[];d.forEach(function(l){var p;p={ranges:[],profile:l};f && n && (p.ranges.push({min:f,max:n}),k && (p.disallowed=k.filter(function(q){return q.stream.wd === l;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.f6};})),h.push(p));});return h;}function c(m,g){var k;k=void 0;return {q1a:m.filter(function(d){var f;f=g(d);f && (k=k || [],k.push({stream:d,f6:f}));return !f;}),JHb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.Nt=b.OFb=b.N4a=void 0;b.N4a=function(m,g){g=c(m,g);return a(m,g.q1a,g.JHb);};b.OFb=a;b.Nt=c;},92692:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.eb=void 0;r=a(22674);c=a(67263);m=a(13005);g=a(24240);k=a(22806);d=a(31034);f=a(76457);n=a(77425);h=a(51790);l=a(89936);b.eb=new r.md(function(p){p(c.Iea).to(m.pGa).ia();p(g.mLa).to(k.lLa).ia();p(d.wMa).to(f.vMa).ia();p(d.wLa).to(n.vLa).ia();p(h.uLa).to(l.tLa).ia();});},67263:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iea=b.qGa=void 0;b.qGa=function(){this.Y=0;this.X=1;this.Unb=2;this.Cf=function(){};};b.Iea="DownloadTrackConstructorFactorySymbol";},24240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mLa="MediaHttpSymbol";},51790:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uLa="MediaRequestConstructorFactorySymbol";},48220:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.dd=void 0;b.dd=a;a.Kk={mMa:"mr1",lMa:"mr2",nMa:"mr3",LR:"mr4",Qpb:"mr5",JA:"mr6"};a.Rc={UNSENT:0,OPENED:1,Ox:2,Fl:3,DONE:5,Ns:7,name:("UNSENT OPENED SENT RECEIVING PAUSED DONE FAILED ABORTED").split(" ")};a.F0={NO_ERROR:-1,Nmb:0,LFa:1,Zmb:2,Rmb:3,emb:4,TEa:5,REa:6,fmb:7,gmb:8,hmb:9,bmb:10,dmb:11,SEa:12,cmb:13,amb:14,Ynb:15,nIa:16,mIa:17,ifa:18,kfa:19,jfa:20,lfa:21,$nb:22,B1:23,oIa:24,Znb:25,Umb:26,Omb:27,Erb:28,Emb:29,Fmb:30,Gmb:31,Hmb:32,Imb:33,Jmb:34,Kmb:35,Lmb:36,Mmb:37,Pmb:38,Qmb:39,Smb:40,Tmb:41,Vmb:42,Wmb:43,Xmb:44,Ymb:45,$mb:46,anb:47,Drb:48,TIMEOUT:49,jIa:50,kIa:51,Xnb:52,qIa:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.Af={Kya:{Zdc:!0,vha:!1,Ngc:!0}};},92720:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y;function c(x,z,A,B,D){var C;C=this;this.tb=x;this.j=z;this.debug=A;this.jyb=D;this.HS=this.Ih=this.Xx=!1;this.dT=this.cT=void 0;x={};this.vw=(x[w.u.Y]={},x[w.u.X]={},x[w.u.Da]={},x);this.$A=void 0;this.dk=function(){var E,G,F,I,P,M;C.debug.assert(C.Fa,"has access to asePlaygraph");C.debug.assert(C.Gc,"has access to internalLogger");C.debug.assert(C.pu,"has access to mediaBufferGetLogFields");P=C.eo;M=null === (G=null === (E=C.Hc.get()) || void 0 === E?void 0:E.cb) || void 0 === G?void 0:G.Aa;E={type:"logdata",target:"startplay",fields:{hasasereport:C.j.dM,hashindsight:!1,buffCompleteReason:P.reason,actualbw:M,initSelReason:null !== (F=P.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:P.vBufferLevelMs,bcABufferLevelMs:P.aBufferLevelMs}};(0,f.w4)({Qoa:E,Bo:C.Bo,loadTime:C.loadTime});C.Fa.wBa("startplay",m.jc.kj);null !== (I=C.xb) && void 0 !== I && I.Td?(C.Gc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:P},C.pu()),C.j.eo=P,C.j.pr.set(n.uf.oe),C.CLb || (C.CLb=!0,C.j.ue("pb")),C.nf.value !== m.Fb.u2 && C.nf.value !== m.Fb.$s && C.play()):C.Gc.error("Shim received buffering complete but player has no position (player " + (C.xb?"":"un") + "defined, state " + C.j.state + ")");};this.hib=function(){var E,G;C.debug.assert(C.Gc,"has access to internalLogger");!1;C.cT=void 0;C.dT=void 0;C.j.paused.value && C.aI && (C.aI=!1,C.j.paused.set(!1,{dO:!0}));null === (E=C.j.ae) || void 0 === E?void 0:E.yCb();null === (G=C.xab) || void 0 === G?void 0:G.call(C);C.xab=void 0;};this.events=new y();this.Vd=new v.Uha(this.Xv.bind(this),function(E,G){return C.j.Yw(E,G);});}b.Ofa=void 0;m=a(45247);g=a(90745);k=a(32219);d=a(36129);f=a(30326);n=a(85001);h=a(29204);l=a(32687);p=a(5021);q=a(64302);u=a(8825);t=a(81734);v=a(64213);a(2762);w=a(26388);y=a(17187).EventEmitter;c.prototype.Ce=function(){var x;!1;this.HS=!1;this.Hc.Vba(null);this.debug.assert(this.Yh,"has access to streamingEngine");this.Fa && this.Yh.Ww(this.Fa);this.xb && this.Yh.Cdb(this.xb);this.Yh.Edb(this.Vd.en(this.tb.da.J));this.Vd.clear();null === (x=this.Fo) || void 0 === x?void 0:x.Sp();};c.prototype.Q7b=function(x){var z,A,B,D,C,E,G,F,I,P,M,L,Q;z=x.config;A=x.Fp;B=x.Gc;D=x.ke;C=x.pu;E=x.Zi;G=x.oZ;x=x.II;this.Gc=B;this.log=B.F5("AseIntegrationImpl");!1;this.pu=C;this.oZ=G;this.II=x;C=this.j.da;this.debug.assert(C,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Yh,"has access to streamingEngine");this.debug.assert(C.Dc,"has access to parsedManifest");this.debug.assert(C.W,"has access to manifest");this.config=z;this.Yh=A.Yh;A.zj.set(a(87141)(z),!0,E("ASE"));A.zj.set({maxNumberTitlesScheduled:null !== (I=null === (F=z.F1b) || void 0 === F?void 0:F.maxNumberTitlesScheduled) && void 0 !== I?I:1},!0,B);z.cDb && !C.xd.Z && 3E5 > C.W.Ca.duration?A.zj.lwa({expandDownloadTime:!1},!0,B):A.zj.lwa({expandDownloadTime:A.zj.M0b().expandDownloadTime},!0,B);z=null === (Q=null === (L=null === (M=null === (P=C.Og) || void 0 === P?void 0:P.value) || void 0 === M?void 0:M.streams) || void 0 === L?void 0:L[0]) || void 0 === Q?void 0:Q.wd;A.zj.lwa((0,h.NYa)(!!C.bb.yg,!!C.bb.rN,z),!0,B);B=D.OH({},(0,h.r5)(C.Md));C.xd.Z && (B=D.OH(B,(0,h.r5)("live")));this.zj=A.zj.ho(B);m.platform.events.emit("networkchange",C.Dc.R6b);this.Xx=!0;};c.prototype.rW=function(x){var z,A;this.debug.assert(this.Yh,"has access to streamingEngine");z=this.j.$i(x.H);this.debug.assert(z.Dc,"has access to playback parsedManifest");!1;A=x.flags;this.Hc.reset();this.Kg=new Set([w.u.Y,w.u.X]);(A.Rjb || A.njc) && this.Kg.delete(A.Rjb?w.u.Y:w.u.X);this.yJ=[z.Dc.JGb,z.Dc.PGb,z.Dc.OGb];this.Xv(z.O,void 0,x.PZa);this.DSb(x);this.NL();};c.prototype.QD=function(x){var z;!1;null === (z=this.Fa) || void 0 === z?void 0:z.QD(x);};c.prototype.yzb=function(x){var z,A,B,D;z=this;A=x.loadTime;B=x.Bo;this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;this.Bo=B;this.loadTime=A;x=this.Fa.events;D=this.xb.events;x.addListener("error",function(C){!1;"NFErr_MC_StreamingFailure" === C.error && (z.Gc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(C)),z.Gc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.pu())),(0,k.Mf)(function(){var E,G,F;E=d.V.Mkb;G=C.nativeCode;F=C.context;"adBreakHydration" === (null === F || void 0 === F?void 0:F.type) && (E=d.V.wE,G=d.R.Xkb);z.j.vd(E,{wa:G,Yb:C.errormsg,Wl:C.httpCode,v$:C.networkErrorCode,Le:C.httpCode});}));});x.addListener("logdata",function(C){var E;!1;"string" === typeof C.target && "object" === typeof C.fields && (C.fields.aseApiVersion=null === (E=z.Fa) || void 0 === E?void 0:E.Oxb,(0,f.w4)({Qoa:C,Bo:B,loadTime:A}));});D.addListener("logdata",function(C){!1;"string" === typeof C.target && "object" === typeof C.fields && (0,f.w4)({Qoa:C,Bo:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.pr.set(n.uf.me);});x.addListener("bufferingComplete",function(C){!1;z.eo=C;});this.j.paused.addListener(function(C){var E;z.debug.assert(z.Gc,"has access to internalLogger");null !== (E=C.Lh) && void 0 !== E && E.dO || !z.Xx || (C.newValue && z.nf.value === m.Fb.Ie?(z.nf.set(m.Fb.Sg),z.zi.emit("paused",{type:"paused",pts:z.zi.Tc})):C.newValue || z.nf.value !== m.Fb.Sg || (z.nf.set(m.Fb.Ie),z.zi.emit("playing",{type:"playing",pts:z.zi.Tc})));C.newValue || (z.aI=!1);z.Gc.info("Paused changed",{From:C.oldValue,To:C.newValue,MediaTime:(0,u.mh)(z.j.mediaTime.value)});});this.j.ac.addListener(function(C){var E,G,F,I;if(z.Xx)if((z.debug.assert(z.Gc,"has access to internalLogger"),C.Lh && C.Lh.g4))z.Gc.trace("Not processing already applied track",null === (E=C.newValue) || void 0 === E?void 0:E.trackId);else {I=C.newValue;z.rhb({Hp:I.trackId,toJSON:function(){return I.Ag;}})?z.Gc.trace("ASE accepted the audio track switch",null === (F=C.newValue) || void 0 === F?void 0:F.trackId):(z.Gc.trace("ASE rejected the audio track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.trackId !== I.trackId && z.j.ac.set(C.oldValue,{g4:!0}));}});this.j.xd.Z && this.j.Nb.addListener(function(C){var E,G,F,I;if(z.Xx)if((z.debug.assert(z.Gc,"has access to internalLogger"),C.Lh && C.Lh.g4))z.Gc.trace("Not processing already applied track",null === (E=C.newValue) || void 0 === E?void 0:E.trackId);else {I=C.newValue;z.rhb({Ahb:I.trackId,toJSON:function(){return I.Ag;}})?z.Gc.trace("ASE accepted the text track switch",null === (F=C.newValue) || void 0 === F?void 0:F.trackId):(z.Gc.trace("ASE rejected the text track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.trackId !== I.trackId && z.j.Nb.set(C.oldValue,{g4:!0}));}});x.addListener("serverSwitch",function(C){var E;!1;z.j.fireEvent(n.ha.lZ,C);if("video" === C.mediatype)E=w.u.X;else "audio" === C.mediatype && (E=w.u.Y);(0,l.$c)(E) && z.oZ(C.segmentId,C.server,E);});x.addListener("streamSelected",function(C){var E,G,F,I;!1;if(z.HS){G=C.manifest.Ad;if(!z.j.lRb(G) && z.config.EKb)return z.j.vd(d.V.Zob,{wG:G});G=(null === (E=z.Fa) || void 0 === E?void 0:E.ZG(C.position)).Ul.v;E=[];if(C.mediaType === w.u.X){F=z.j.l5a(C.streamId);I=z.j.Ue;E=z.j.mC();}else C.mediaType === w.u.Y && (F=z.j.W4a(C.streamId),I=z.j.Vg,E=z.j.NMb());F && I?(!1,I.set(F,{WF:G,WT:C.bandwidth})):C.mediaType !== w.u.Da && z.Gc.error("no matching stream for streamSelected event",{streamId:C.streamId,mediaType:C.mediaType,streamList:E,cachedManifest:z.j.TF});}});x.addListener("segmentNormalized",function(C){var E,G,F;!1;E=C.segmentId;G=Math.floor(C.viewableContentEnd.v);C=Math.floor(C.viewableEarliestContentEnd.v);G=(0,p.Ob)(G);C=(0,p.Ob)(C);z.j.h5a(E) || (!1,z.IEb(E));F=z.j.$i(E);F && (z.debug.assert(F.H === E,"segmentNormalized: playbackViewableData segmentId should match the value in the event"),F.yy=G,F.v9a=C);z.j.tq || (z.j.xd.Z && Infinity === G.ea(p.ma)?z.j.tq=p.Ba:z.j.tq=G);});D.addListener("segmentPresenting",function(C){var E,G,F,I;!1;z.debug.assert(z.Fa,"has access to asePlaygraph");z.debug.assert(z.xb,"has access to asePlayer");z.debug.assert(z.II,"has access to segmentPresentingHandler");G=z.Fa.ZG(C.position);F=void 0;I=null === (E=C.inner) || void 0 === E?void 0:E.position;I && z.Bj && (F=z.Bj.aa[I.H]);z.II({J:G.J,ZF:F,kH:!1});z.j.fireEvent(n.ha.HI,{type:"segmentPresenting",position:{segmentId:C.position.H,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});!1;z.$A=z.xb.ro();});D.addListener("ptsChanged",function(C){var E;!1;z.j.ae.a3b({Gpa:null === (E=C.forcedTimestamp) || void 0 === E?void 0:E.Ow,BSb:C.initialTimestamp.Ow});z.zi.emit("skipped");});D.addListener("fragmentsMissing",function(C){var E,G;G=null === (E=z.Fa) || void 0 === E?void 0:E.ZG(C.y$a);z.j.ae.seek(G.Ul.v,n.pc.YQ,C.y$a.H);});x.addListener("locationSelected",function(C){!1;z.j.fireEvent(n.ha.aX,C);});x.addListener("aseReportEnabled",function(){!1;z.j.dM=!0;});x.addListener("aseReport",function(C){!1;z.j.fireEvent(n.ha.KF,C);});x.addListener("liveReport",function(C){!1;z.j.fireEvent(n.ha.B9,C);});x.addListener("mediaRequestComplete",function(C){C=null === C || void 0 === C?void 0:C.T4b;(C=null === C || void 0 === C?void 0:C.cadmiumResponse) && z.j.fireEvent(n.ha.mG,{response:C,O:z.j.da.O});});x.addListener("transportReport",function(C){var E;(C=null === (E=C.XJb) || void 0 === E?void 0:E.cadmiumResponse) && z.j.fireEvent(n.ha.mG,{response:C,O:z.j.da.O});});x.addListener("liveEventTimesUpdated",function(C){var E,G;E=C.H;G=C.startTime;C=C.endTime;z.j.h5a(E) && (E=z.j.$i(E),E.xd.Z && E.xd.Hza(G,C));});x.addListener("liveLoggingInfoUpdated",function(C){var E,G;E=C.mediaType;G=z.vw[E];z.vw[E]=C.info;C=z.vw[E].ZB !== G.ZB && void 0 !== G.ZB;(z.vw[E].YB !== G.YB && void 0 !== G.YB || C) && z.j.fireEvent(n.ha.A9,{mediaType:E,km:G,current:z.vw[E]});});};c.prototype.IEb=function(x){var z,A,B,D;if(this.Bj && this.Bj.aa[x]){z=this.Bj.aa[x];x=this.j.eua;A=x.W;if(null === A || void 0 === A?0:A.Ip)B=null === A || void 0 === A?void 0:A.Ip.find(function(C){return C.Ca.O === z.J;});B || (B=this.j.n3a(z.J));if(!B && (null === A || void 0 === A?0:A.Ca.bc)){D=this.jyb.oPb({bc:null === A || void 0 === A?void 0:A.Ca.bc,Gd:x.O,J:z.J});D && (B=D.W);}B && B.Ca.bc === (null === A || void 0 === A?void 0:A.Ca.bc) && this.j.rZa(z.J,{Jf:{bc:B.Ca.bc,Gd:x.O}},x.na,B);}};c.prototype.ro=function(){var x,z,A,B,D,C,E,G,F;G=null === (x=this.xb) || void 0 === x?void 0:x.i8();x=(null !== (z=this.$A) && void 0 !== z?z:G && this.xb.ro()) || ({});z=x.I;G=x.Kd;F=x.gI;x=x.rs;return {id:String(null === z || void 0 === z?void 0:z.id),wla:null !== (A=null === G || void 0 === G?void 0:G.v) && void 0 !== A?A:0,w5:null !== (B=null === z || void 0 === z?void 0:z.uc.v) && void 0 !== B?B:Infinity,QCb:null !== (D=null === z || void 0 === z?void 0:z.fd.v) && void 0 !== D?D:0,h1b:null !== (C=null === F || void 0 === F?void 0:F.v) && void 0 !== C?C:Infinity,Ywa:null !== (E=null === x || void 0 === x?void 0:x.v) && void 0 !== E?E:0};};c.prototype.y6a=function(){var x,z;this.debug.assert(this.Fa,"has access to asePlaygraph");x={};z=this.Fa.KG();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;x.tbuflmsec=z.totaltbuflmsecs;x.tbuflbytes=z.tbuflbytes;return x;};c.prototype.paused=function(){};c.prototype.b1b=function(){!1;this.zi.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.zi.Tc});};c.prototype.NF=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");A=this.yJ[w.u.Y];return x.O === this.j.W.Ca.O?A:this.fLb(this.j.W.Ca.It[A],z);};c.prototype.kJ=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");if(this.j.xd.Z){this.debug.assert(x.O === this.j.W.Ca.O);A=this.yJ[w.u.Da];if((x=this.j.fh.find(function(B){return B.trackId === z[A].eg;})) && (!x.vo() || x.rn()))return A;}};c.prototype.fLb=function(x,z){var A,B,D;this.debug.assert(this.Gc,"has access to internalLogger");!1;A=z.filter(function(C){return C.profile === x.profile;}).sort(function(C,E){var G,F,I;G=(C.language === x.language || "zxx" === C.language?0:1) - (E.language === x.language || "zxx" === E.language?0:1);0 === G && (G=(C.Bh === x.Bh?0:1) - (E.Bh === x.Bh?0:1));if(0 === G){C=(null !== (F=C.dc) && void 0 !== F?F:0) - (null !== (I=E.dc) && void 0 !== I?I:0);}else C=G;return C;});B=0;D=ja(A).next().value;D && z.some(function(C,E){if(C === D)return (B=E,!0);});!1;return B;};c.prototype.rhb=function(x){var z,A,B,D,C,E;this.debug.assert(this.Gc,"has access to internalLogger");this.debug.assert(this.xb,"has access to asePlayer");this.debug.assert(this.j.W,"has access to playback manifest");if(this.mBa)return (!1,!1);A=x.Hp;B=this.yJ[w.u.Y];if(void 0 === A)D=B;else if(!this.j.W.Ca.audio_tracks.some(function(G,F){if(G.new_track_id === A)return (D=F,!0);}))return (!1,!1);C=x.Ahb;x=this.yJ[w.u.Da];if(void 0 === C)E=x;else if(!this.j.W.Ca.timedtexttracks.some(function(G,F){if(G.new_track_id === C)return (E=F,!0);}))return (!1,!1);!1;this.cT=D;this.dT=E;null === (z=this.j.ae) || void 0 === z?void 0:z.l9b();this.j.paused.value || (this.xb.pause([w.u.Y,w.u.Da]),this.aI=!0,this.j.paused.set(!0,{dO:!0}));this.debug.t4(this.cT,"has access to valid requestedAudioTrackIndex number");this.yJ[w.u.Y]=this.cT;this.debug.t4(this.dT,"has access to valid requestedTextTrackIndex number");this.yJ[w.u.Da]=this.dT;(this.Zz() || this.aI) && this.xb.resume(this.aI?[w.u.Y,w.u.Da]:void 0);this.IJ(this.hib);return !0;};c.prototype.Zz=function(){var x;x=this;this.debug.assert(this.Fa,"has access to asePlaygraph");return this.Fa.Zz({nP:this.NF.bind(this)},{nP:function(){return x.yJ[w.u.X];}},{nP:this.kJ.bind(this)});};c.prototype.xm=function(){var x;!1;this.nf.set(m.Fb.Zj);null === (x=this.Fa) || void 0 === x?void 0:x.wBa("intrplay",m.jc.xm);this.zi.emit("underflow",{type:"underflow",pts:this.zi.Tc});this.IJ(this.dk);};c.prototype.Zba=function(x,z){this.oda.Zba(x,z);};c.prototype.open=function(){this.HS || (this.debug.assert(this.Fa,"has access to asePlaygraph"),this.debug.assert(this.xb,"has access to asePlayer"),!1,this.HS=this.Ih=!0,this.Fa.open(),this.debug.assert(this.cx,"invalid start position relative to playgraph"),this.Fa.vD(this.cx,m.K.Na(this.j.jb)),this.nf.set(m.Fb.me),this.IJ(this.dk),this.Fa.Nv(this.xb),this.pVb());};c.prototype.play=function(){this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;0 !== this.Fa.state && (this.xb.resume(this.aI?[w.u.Y,w.u.Da]:void 0),this.nf.set(m.Fb.Ie),this.zi.emit("playing",{type:"playing",pts:this.zi.Tc}));};c.prototype.stop=function(){var x;!1;this.nf.set(m.Fb.u2);null === (x=this.xb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.zi.emit("paused",{type:"paused",pts:this.zi.Tc});};c.prototype.flush=function(){this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.Yh,"has access to streamingEngine");!1;this.HS && this.nf.value !== m.Fb.$s && this.nf.value !== m.Fb.u2 && this.stop();this.Fa.wBa("endplay",m.jc.mi);this.Fa.Lf();this.Yh.Gj.save();this.Yh.KX.save();};c.prototype.no=function(){var x;return null === (x=this.Fa) || void 0 === x?void 0:x.Zc;};c.prototype.Yma=function(x){var z;this.debug.assert(this.Fa,"has access to asePlaygraph");z=m.K.Na(x);return (z=this.Fa.ql(z,{K8b:!0,J8b:!0}))?this.Fa.$.aa[z.H].hb + Number(z.offset.v.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.$ma=function(x,z){this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.Gc,"has access to internalLogger");!1;this.Fa.$.aa[x] || (x=this.jpa(z));this.debug.u4(x,"has access to segmentId");x={H:x,offset:m.K.Na(z - this.Fa.$.aa[x].hb)};if(x=this.Fa.oC(x))return x.v;!1;return z;};c.prototype.NAb=function(x,z){var A,B,D,C;this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;z && this.Fa.$.aa[z] || (z=null !== (A=this.jpa(x)) && void 0 !== A?A:null === (B=this.xb) || void 0 === B?void 0:B.Fg.H);z=this.j.$i(z);x={Ul:m.K.Na(x),J:z.O};return null === (C=null === (D=this.Fa.Jr(x)) || void 0 === D?void 0:D.Ia) || void 0 === C?void 0:C.v;};c.prototype.m6=function(x){var z;z=void 0 === z?!0:z;!1;this.Ih?Number.isFinite(x) && (this.debug.assert(this.xb,"has access to asePlayer"),z?this.xb.qfb(x):this.xb.pfb(x)):this.fail("Must call open prior to drmReady");};c.prototype.d5a=function(){var x;return null !== (x=this.xb) && void 0 !== x && x.Td?this.xb.zW(this.tb.da.J):!1;};c.prototype.ji=function(x){var z,A;!1;if(!this.xb)return (!1,!1);z=this.no();x=m.K.Na(x);A=this.xb.ji(x);return z && this.j.dN()?A && z.ji(x):A;};c.prototype.l6b=function(x,z){var A;this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;z && this.Fa.$.aa[z] || (z=null !== (A=this.jpa(x)) && void 0 !== A?A:this.tb.ph);this.debug.u4(z,"has access to segmentId");this.debug.assert(this.Fa.$.aa[z],"segment exists in playgraph map");z={H:z,offset:m.K.Na(x - this.Fa.$.aa[z].hb)};this.Fa.vD(z,m.K.Na(x));this.xb.resume();this.nf.set(m.Fb.me);this.IJ(this.dk);x=this.Fa.Beb(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.mbc=function(x,z){var A;!1;A={};this.Fa.Ji((A[x]=z,A));};c.prototype.f5=function(x,z){var A,B;this.debug.assert(this.Gc,"has access to internalLogger");this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;A=this.ro().id;B=this.Fa.KV(A,x);if(z){if(!B.ncc)return (this.Gc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.jva && (!1,B.jva !== x))return !1;this.Fa.Sj(A,x,!1,z);return !0;}if(void 0 !== B.jva)return (!1,!1);B.aU && (this.xb.reset(),this.Fa.Sj(A,x,!1,z),this.xb.resume(),this.nf.set(m.Fb.me),this.IJ(this.dk));return !!B.aU;};c.prototype.Sj=function(x,z,A,B){this.debug.assert(this.Fa,"has access to asePlaygraph");!1;this.Fa.Sj(x,z,A,B);};c.prototype.XI=function(){var x;this.debug.assert(this.Gc,"has access to internalLogger");!1;x=this.zi.Tc;!1;this.zi.emit("skipped",{type:"skipped",pts:x});return new m.cS(Promise.resolve()).y5b;};c.prototype.B7=function(x,z){var A;return null === (A=this.Fa) || void 0 === A?void 0:A.B7(x,z);};c.prototype.jpa=function(x){var z,A,B,D,C,E,G,F;this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.Gc,"has access to internalLogger");!1;z=this.Fa.$;A=[];B=Infinity;for(D in z.aa){C=z.aa[D];E=C.hb;C=C.wb;G=x < Number(null !== C && void 0 !== C?C:Infinity);if(E <= x && G)(!1,A.push(D));else if((E=Math.min(Math.abs(x - E),Math.abs(x - C)),E < B)){B=E;F=D;}}x=A[0] || F;this.debug.u4(x,"has access to locatedSegmentId");!1;return x;};c.prototype.pVb=function(){var x,z;x=this;this.debug.assert(this.j.Gb,"has access to mediaElement");z=this.j.Gb.fa;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.nf.value === m.Fb.Sg && (x.nf.set(m.Fb.Ie),x.zi.emit("playing",{type:"playing",pts:x.zi.Tc}));});z.addEventListener("pause",function(){x.nf.value === m.Fb.Ie && (x.nf.set(m.Fb.Sg),x.zi.emit("paused",{type:"paused",pts:x.zi.Tc}));});};c.prototype.fail=function(x){var z;null === (z=this.Fa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.IJ=function(x){var z,A,B,D,C,E,G,F;z=this;if(x !== this.hib && this.mBa)(!1,this.xab=x);else {F=null === (A=this.xb) || void 0 === A?void 0:A.js.value;A=null === (B=this.Fa) || void 0 === B?void 0:B.Xd.value;B=!0 === F;F=A === m.Yc.Gl;!1;null === (D=this.xb) || void 0 === D?void 0:D.js.removeListener(this.z9a);null === (C=this.Fa) || void 0 === C?void 0:C.Xd.removeListener(this.cXa);B && F?x():(this.z9a=function(){return z.IJ(x);},this.cXa=function(){return z.IJ(x);},null === (E=this.xb) || void 0 === E?void 0:E.js.addListener(this.z9a),null === (G=this.Fa) || void 0 === G?void 0:G.Xd.addListener(this.cXa));}};c.prototype.m2a=function(x){var z,A;z=this;x=this.j.lk(x);return Promise.resolve(null !== (A=x.W) && void 0 !== A?A:this.Yaa(x)).then(function(B){B=B.Ca;return {W:B,Vv:B.b8 && !B.qC,config:z.zj,Kg:[].concat(aa(z.Kg))};});};c.prototype.Yaa=function(x){var z,A,B,D,C;z=this;!1;B=Promise.resolve();if(x.Kf){D=x.Kf.Gd;(C=null === (A=this.j.lk(D).W) || void 0 === A?void 0:A.Ca)?x.Kf.iY=C:B=this.Vd.en(D).Hq.then(function(E){return E.W;}).then(function(E){x.Kf.iY=E;}).catch(function(){return z.j.vd(d.V.wE,d.R.Ykb);});}return B.then(function(){return z.j.Yaa(x);}).then(function(){return x.W;});};c.prototype.Xv=function(x,z,A){var B,D,C,E,G,F,I,P,M,L,Q,J,H;B=this;this.debug.assert(this.Yh,"has access to streamingEngine");!1;M={J:x,Gd:null === (D=null === z || void 0 === z?void 0:z.Jf) || void 0 === D?void 0:D.Gd,bc:null === (C=null === z || void 0 === z?void 0:z.Jf) || void 0 === C?void 0:C.bc};if(!this.Vd.has(M)){if(!this.j.h8(x) && (null === (E=null === z || void 0 === z?void 0:z.Jf) || void 0 === E?0:E.Gd) && this.j.h8(null === (G=null === z || void 0 === z?void 0:z.Jf) || void 0 === G?void 0:G.Gd)){D=this.j.lk(null === (F=z.Jf) || void 0 === F?void 0:F.Gd);F=null === (I=D.W) || void 0 === I?void 0:I.Ca.bc;I=this.j.n3a(x);(null === (P=null === I || void 0 === I?void 0:I.Ca) || void 0 === P?0:P.bc) && I.Ca.bc === F && (L=I);this.j.rZa(x,z,D.na,L);}this.j.h8(x) && (Q=this.j.lk(x));J=A?A.na:Q?Q.na:void 0;P=A?A.Lg:Q?Q.hf:void 0;this.Vd.store(M,{yXa:function(){},equals:function(K){return K && K.J === M.J && (J === K.na || !K.na || !J);},get Hq() {H || (H=B.m2a(x));return H;},set Hq(K) {H=K;},events:new g.EventEmitter(),na:J,J:M.J,Hr:!1,MAa:!1});this.zj.iM && this.Yh.pP(this.Vd.en(M.J,z),{na:J,Lg:P,Xna:null === A || void 0 === A?void 0:A.WB});}};c.prototype.aQ=function(x){var z,A,B;this.debug.assert(this.Yh,"has access to streamingEngine");!1;z=this.j.$i(x);A=z.Kf;x=this.tb.Pr(x).J;if(!this.Vd.has({J:z.O,Gd:null === A || void 0 === A?void 0:A.Gd,bc:null === A || void 0 === A?void 0:A.bc}))return Promise.resolve();A && (B={Jf:{bc:null === A || void 0 === A?void 0:A.bc,Gd:A.Gd}});z=this.Vd.en(x,B);z.Hq=this.m2a(x);return this.Yh.aQ(z);};c.prototype.KV=function(x){var z;this.debug.assert(this.xb,"has access to asePlayer");this.debug.assert(this.Fa,"has access to asePlaygraph");return this.Fa.KV(null === (z=this.xb.ro().I) || void 0 === z?void 0:z.id,x);};c.prototype.Ry=function(x){var z;x=null === (z=this.Fa) || void 0 === z?void 0:z.Ry(x);!1;return x;};c.prototype.DSb=function(x){var z,A;z=x.PZa;A=x.H;this.debug.assert(this.Yh,"has access to streamingEngine");this.debug.assert(this.Gc,"has access to internalLogger");!1;x=this.j.$i(A);x=this.tb.I7(x);A=x.aa[A];this.debug.assert(A,"segment exists");this.cx=(0,q.x4a)(A.J,x,this.j.jb,A.hb);z=Object.create(this.zj,{WB:{value:z.WB},jM:{value:this.j.background.value}});this.nf=new t.Jb(m.Fb.Pn);this.Fa=this.Yh.AT(x,this.zj.p1b,z,this.Vd);this.oda=new m.hS(this.Gc);z=this.Fa.LL(this.oda);x=this.Fa.KL();this.Fa.Oza(x,z);this.Zz();this.aI=!1;};c.prototype.NL=function(){var x,z,A;x=this;this.debug.assert(this.Yh,"has access to streamingEngine");this.debug.assert(this.j.W,"has access to playback manifest");!1;A=null === (z=this.j.W) || void 0 === z?void 0:z.Ca;z=void 0 !== this.kJ(A,A.qJ);A=[].concat(aa(this.Kg));z && A.push(w.u.Da);z=Object.create(this.zj,{Kg:{value:A},Cqa:{value:function(){return x.dPb();}}});this.zi=Object.create(new g.EventEmitter(),{Tc:{get:function(){x.debug.t4(x.j.mediaTime.value,"has access to mediaTime.value");return m.K.Na(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},JOb:{value:function(){x.debug.assert(x.j.Gb,"has access to mediaElement");return x.j.Gb;}}});this.xb=this.Yh.$wb(this.zi,z);};c.prototype.dPb=function(){this.Fo || (this.Fo=new m.platform.MediaSource(this.zi),this.Fo.Af || (this.Fo.Af=m.platform.MediaSource.Af));return this.Fo;};Ya.Object.defineProperties(c.prototype,{mBa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.cT && void 0 !== this.dT;}},Hc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Yh,"has access to streamingEngine");return this.Yh.Hc;}},Bj:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.Fa) || void 0 === x?void 0:x.Bj;null === z || void 0 === z?0:z.Bj;)z=z.Bj;return null === z || void 0 === z?void 0:z.$;}},BYa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.xb;null === x || void 0 === x?0:x.sW;)x=x.sW;return x;}},bGb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.BYa) || void 0 === x?0:x.Td){A=(x=this.BYa.Fg) && (null === (z=this.Bj) || void 0 === z?void 0:z.aa[x.H]);if(A)return {Ul:m.K.Na(x.offset.v + A.hb),J:A.J};}}}});b.Ofa=c;},13005:function(r,b,a){var m,g,k,d;function c(f){function n(h,l){this.T=h;this.Xsb=l;this.$oa=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Ni=f.Za("DownloadTrack");}n.prototype.Sp=function(){!1;this.jT=void 0;this.emit("destroyed");};n.prototype.toString=function(){return "id:" + this.jT + " config: " + JSON.stringify(this.T);};n.prototype.toJSON=function(){return "Download Track id:" + this.jT + " config: " + JSON.stringify(this.T);};n.prototype.wN=function(){return void 0 === this.jT?!1:!0;};n.prototype.bya=function(h){this.T.connections !== h.connections && (this.T=h);};Ya.Object.defineProperties(n.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.jT;}},Vl:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.jT;}},config:{configurable:!0,enumerable:!0,get:function(){return this.T;}},yaa:{configurable:!0,enumerable:!0,get:function(){return this.Ni;}},wX:{configurable:!0,enumerable:!0,get:function(){return this.Xsb.wX;}},nhb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});this.VQ=Object.assign(n,new k.qGa());}Object.defineProperty(b,"__esModule",{value:!0});b.pGa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(67263);d=a(17187).EventEmitter;c=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a))],c);b.pGa=c;},22806:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u,t,v,w){this.oL=q;this.Ne=t;this.Cb=v;this.Ea=w;this.log=u.Za("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;r=a(5163);m=a(48220);g=a(24550);k=a(36129);d=a(87386);f=a(22674);n=a(32934);h=a(42207);l=a(81918);p=a(5021);c.prototype.OG=function(){return this.Ea.Lb().ea(p.ma);};c.prototype.aZb=function(q,u){q.dZb({mediaRequest:q,timestamp:u});};c.prototype.Y$=function(q){var u,t;t=q.mediaRequest.QC;t.S$a(Object.assign(Object.assign({},q),{timestamp:q.connect?q.timestamp:this.OG(),connect:null !== (u=q.connect) && void 0 !== u?u:!1,mediaRequest:t,readyState:t.readyState}));};c.prototype.iO=function(q){this.aZb(q.mediaRequest.QC,q.timestamp);};c.prototype.VH=function(q){var u,t;u=q.mediaRequest.QC;t=q.bytes;"undefined" === typeof u?!1:(u.readyState === m.dd.Rc.Ox && this.Y$(q),this.Cb.ck(t) && (q.mediaRequest=u,q.timestamp=this.OG(),t > u.bytesReceived && (q.newBytes=t - u.bytesReceived,q.bytesLoaded=t,u.gZb(q))));};c.prototype.ls=function(q){var u,t,v,w;u=q.mediaRequest;t=q.errorcode;v=q.httpcode;w=m.dd.F0;if("undefined" === typeof u)!1;else if((u=u.QC,"undefined" === typeof u))!1;else if(t === k.R.nE)(q.mediaRequest=u,q.readyState=u.readyState,u.ZYb(q));else {switch(t){case k.R.hR:v=w.REa;break;case k.R.mfa:v=w.ifa;break;case k.R.eR:v=400 < v && 500 > v?452 === v?w.qIa:w.kfa:500 <= v?w.lfa:w.ifa;break;case k.R.fR:v=w.jfa;break;case k.R.dR:v=w.SEa;break;case k.R.gR:v=w.B1;break;case k.R.oE:v=w.B1;break;case k.R.pIa:v=w.oIa;break;case k.R.lIa:v=w.kfa;break;case k.R.cnb:v=w.jfa;break;default:v=w.B1;}q.mediaRequest=u;q.readyState=u.readyState;q.errorcode=v;q.nativecode=t;u.uva(q);}};c.prototype.hO=function(q,u){var t,v;t=u.request.QC;if(t)if(u.pa){if((!1,q.j && t.readyState !== m.dd.Rc.DONE)){switch(t.readyState){case m.dd.Rc.Ns:!1;return;case m.dd.Rc.Fl:break;case m.dd.Rc.Ox:this.Y$({mediaRequest:u.request,responseHeaders:u.headers,httpCode:u.ln});break;default:!1;}if(!t.Ee){v={mediaRequest:t,readyState:t.readyState,timestamp:this.OG(),cadmiumResponse:u};q.j.kBa+=1;t.lQb();t.PTb() && (q.j.Jya+=1,u.em.hj=Math.ceil(t.rpa),u.em.Cq=Math.ceil(t.$F),u.em.Rz=Math.floor(t.JC));t.ACb=v;t.eO(v);}}}else (!1,t.readyState === m.dd.Rc.Ns?!1:this.ls({mediaRequest:u.request,errorcode:u.wa,httpcode:u.Wl,responseHeaders:u.headers,cadmiumResponse:u}));};c.prototype.download=function(q,u){var t;t=this;u=this.Ne.download(q,u);q.QC && q.QC.readyState === m.dd.Rc.OPENED && u.q7b(function(v){t.iO(v);});u.Z3(function(v){t.hO(q,v);});u.x7b(function(v){t.VH(v);});return u;};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.yQ)),r.__param(1,(0,f.l)(d.$a)),r.__param(2,(0,f.l)(n.gv)),r.__param(3,(0,f.l)(h.$f)),r.__param(4,(0,f.l)(l.Kc))],a);b.lLa=a;},77425:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z){this.Ea=t;this.Wt=v;this.config=w;this.Ne=x;this.wXb=z;this.log=y.Za("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(32934);d=a(24240);f=a(51344);n=a(48220);h=a(81918);l=a(5021);p=a(34231);q=a(4203);u=a(26388);c.prototype.qV=function(t,v,w){var x,z,A,B;function y(){var D;t.removeEventListener(n.dd.Kk.JA,y);D=x.config().zKb;void 0 === t.uM?t.uM=0:t.uM++;t.uM >= D.length && (t.uM=D.length - 1);qb.clearTimeout(t.Zoa);t.Zoa=qb.setTimeout(function(){x.qV(t,v,w);},D[t.uM]);}x=this;t.Nlc=!0;z=0 === v.start && -1 === v.end;z={url:t.url,responseType:this.Ne.o2.$Da,withCredentials:!1,SB:t.mediaType === u.u.Y?"audio":"video",offset:z?void 0:v.start,length:z?void 0:t.um,track:{type:t.mediaType === u.u.Y?f.Yj.audio:f.Yj.video},stream:{Wb:t.Vb,bitrate:t.bitrate},Ec:{id:t.Wc},QC:t,SI:w,Js:this.Wt.Js,Ds:t.Ds};A=t.lM;void 0 !== A && void 0 !== A.Iu && void 0 !== A.tw && void 0 !== A.Yr && (z.lM=[A.Yr,A.tw,A.Iu,A.oYa]);B=this.OG();z=this.wXb.download(z,function(D){D.pa && t.readyState !== n.dd.Rc.DONE && (t.readyState === n.dd.Rc.Ns?!1:(t.readyState === n.dd.Rc.Ox?t.S$a({mediaRequest:t,readyState:t.readyState,timestamp:t.Ee?B:x.OG(),connect:!1,responseHeaders:D.headers,httpCode:D.ln}):t.readyState !== n.dd.Rc.Ox && t.readyState !== n.dd.Rc.Fl && !1,D={mediaRequest:t,readyState:t.readyState,timestamp:x.OG(),cadmiumResponse:D,response:D.content},t.ACb=D,t.eO(D)));});t.addEventListener(n.dd.Kk.JA,y);t.Xra=z.abort;};c.prototype.PUa=function(t){try{qb.clearTimeout(t.Zoa);t.Zoa=void 0;t.uM=void 0;t.Xra();}catch(v){this.log.warn("exception aborting request");}};c.prototype.OG=function(){return this.Ea.Lb().ea(l.ma);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(h.Kc)),r.__param(1,(0,m.l)(p.Kn)),r.__param(2,(0,m.l)(q.Zb)),r.__param(3,(0,m.l)(g.$a)),r.__param(4,(0,m.l)(k.gv)),r.__param(5,(0,m.l)(d.mLa))],a);b.vLa=a;},89936:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u,t,v,w,y,x){function z(B,D){this.track=B;this.label=D;this.Ye=l.dd.Rc.UNSENT;this.bytesReceived=0;this.XY=[];}function A(B,D,C){this.requestId=x.LB().toString();this.Cb=v;this.log=t.Za("MediaRequest");this.config=u;this.Kb=new h.Xj();this.label=D;"notification" === this.label?this.config().iM && (this.wX=w):this.wX=y;C && (this.mediaType=C.mediaType,this.Vb=C.Vb,this.bitrate=C.bitrate,this.Wc=C.Wc || 0,this.iu=C.iu,this.H=C.H);this.tW=this.T4=this.U4=void 0;this.track=B;this.wL=this.url=this.responseType=void 0;this.Ye=l.dd.Rc.UNSENT;this.ej=this.cC=this.xg=this.status=void 0;this.bytesReceived=0;this.connect=this.rpa=this.$F=this.JC=this.sta=this.th=this.qpa=this.loadTime=this.pUa=void 0;this.XY=[];this.Vl=!1;!1;}z.prototype.addEventListener=function(B,D,C){this.Kb.addListener.call(this,B,D,C);};z.prototype.removeEventListener=function(B,D){this.Kb.removeListener.call(this,B,D);};z.prototype.emit=function(B,D,C){this.Kb.Fc.call(this,B,D,C);};z.prototype.dZb=function(B){this.Ye === l.dd.Rc.OPENED && (this.tW=!0,this.loadTime=this.th=B.timestamp,!1,this.Ye=l.dd.Rc.Ox,this.emit(l.dd.Kk.mMa,B));};z.prototype.S$a=function(B){var D;B.responseHeaders && (this.qba=B.responseHeaders);B.httpCode && (this.status=B.httpCode);if(this.Ye < l.dd.Rc.Fl){this.XY=[];D=B.timestamp - this.loadTime;!this.Ee && 0 < D && (this.connect=!0,this.XY.push(D));!0 === this.config().XRb?this.qpa=B.timestamp:this.qpa=this.th=B.timestamp;!1;this.Ye=l.dd.Rc.Fl;200 <= this.status && 299 >= this.status && this.emit(l.dd.Kk.lMa,B);}};z.prototype.gZb=function(B){this.Ye === l.dd.Rc.Fl && (!1,this.sta=this.th=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.Cb.wg(this.sta) && 200 <= this.status && 299 >= this.status && this.emit(l.dd.Kk.nMa,B));};z.prototype.eO=function(B){var D;if(-1 < [l.dd.Rc.Ox,l.dd.Rc.Fl].indexOf(this.Ye)){this.tW=!1;!1;this.th=B.timestamp;this.Ye=l.dd.Rc.DONE;D=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.em.qU;(0,q.oa)(this.bytesReceived === this.um,"bytesReceived do not match expected totalBytes.");B.newBytes=this.um - D;this.Cb.wg(this.$F) && (this.th=this.$F,0 === B.newBytes && (this.sta=this.$F));this.Cb.wg(this.JC) && (this.loadTime=this.JC);this.pUa=B.response;this.emit(l.dd.Kk.LR,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",T4b:B});}};z.prototype.ZYb=function(B){this.tW=!1;!1;this.emit(l.dd.Kk.Qpb,B);};z.prototype.uva=function(B){var D,C;this.th=B.timestamp;this.status=null !== (D=B.httpcode) && void 0 !== D?D:this.status;this.qba=null !== (C=B.responseHeaders) && void 0 !== C?C:this.qba;this.xg=B.errorcode;this.cC=l.dd.F0.name[this.xg];this.ej=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",XJb:B});this.emit(l.dd.Kk.JA,B);this.tW=!1;};z.prototype.open=function(B,D,C,E,G,F,I,P,M){this.dx=!1;this.wL=D;this.SI=I;this.Ds=P;this.lM=M;this.url=B;this.responseType=C;!1;return this.url?this.pH():(!1,!1);};z.prototype.pH=function(){this.Ye=l.dd.Rc.OPENED;this.status=this.bytesReceived=0;this.ej=this.cC=this.xg=this.qba=void 0;this.wX.qV(this,this.wL,this.SI);return !0;};z.prototype.Ce=function(){!1;-1 !== [l.dd.Rc.OPENED,l.dd.Rc.Ox,l.dd.Rc.Fl].indexOf(this.Ye) && this.abort();return !0;};z.prototype.LP=function(B){!1;this.url=B;return this.Ye > l.dd.Rc.UNSENT?(this.abort(),this.pH()):!0;};z.prototype.abort=function(){this.Ye=l.dd.Rc.Ns;this.wX.PUa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var D,C;return null !== (C=null === (D=this.qba) || void 0 === D?void 0:D[B.toLowerCase()]) && void 0 !== C?C:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.SO=function(){};z.prototype.ri=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.ri(),segmentId:this.H,isHeader:this.Ee,ptsStart:this.NO,ptsOffset:this.Vaa,responseType:this.responseType,duration:this.St,readystate:this.Ye,bitrate:this.bitrate};return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.lQb=function(){var B,D;if(this.config().Bjb && d.ov && d.ov.getEntriesByType && (!this.Cb.wg(this.JC) || !this.Cb.wg(this.$F) && this.Cb.wg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.U4 + "-" + this.T4 + "*");D=new RegExp(B);B=d.ov.getEntriesByType("resource").filter(function(C){return D.exec(C.name);})[0];this.Cb.wg(B) && (0 < B.startTime && (this.JC=B.startTime,0 < B.requestStart && (this.JC=Math.max(this.JC,B.requestStart))),0 < B.responseStart && (this.rpa=B.responseStart),0 < B.responseEnd && (this.$F=B.responseEnd));}};z.prototype.PTb=function(){return this.Cb.wg(this.JC) && this.Cb.wg(this.$F) && this.Cb.wg(this.rpa);};Ya.Object.defineProperties(z.prototype,{um:{configurable:!0,enumerable:!0,get:function(){return 0 === this.wL.start && -1 === this.wL.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.wL.end - this.wL.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.T4 - this.U4 + 1;}},gRb:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Ee:{configurable:!0,enumerable:!0,get:function(){return !this.iu;}},response:{configurable:!0,enumerable:!0,get:function(){return this.pUa;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Ye;}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var D;D=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,D);});this.ep=Object.assign(A,l.dd);}Object.defineProperty(b,"__esModule",{value:!0});b.tLa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(4203);d=a(22365);f=a(42207);n=a(31034);h=a(94886);l=a(48220);p=a(62665);q=a(45146);c=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Zb)),r.__param(1,(0,m.l)(g.$a)),r.__param(2,(0,m.l)(f.$f)),r.__param(3,(0,m.l)(n.wMa)),r.__param(4,(0,m.l)(n.wLa)),r.__param(5,(0,m.l)(p.Cx))],c);b.tLa=c;},76457:function(r,b,a){var m,g,k;function c(d,f){this.Ne=f;this.log=d.Za("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.vMa=void 0;r=a(5163);m=a(22674);g=a(87386);a=a(32934);c.prototype.qV=function(d,f,n){f={url:d.url,i6b:n};!1;d.Xra=this.Ne.u8b(f);};c.prototype.PUa=function(d){try{d.Xra();}catch(f){this.log.warn("exception aborting request");}};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(a.gv))],k);b.vMa=k;},64213:function(r,b,a){var m,g,k,d;function c(f,n){this.Xv=void 0 === f?function(){}:f;this.uya=n;this.nx=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Uha=void 0;m=a(5163);g=a(45247);k=a(45146);d=a(31149);c.prototype.store=function(f,n){var h,q;h=this.generateKey(f);this.nx.has(h) && this.rva(this.nx.get(h),!0);if(!f.Gd)for(var l=ja(this.nx),p=l.next();!p.done;p=l.next()){q=ja(p.value);p=q.next().value;q=q.next().value;p.includes(":" + f.J + ":") && (this.rva(q,!0),this.nx.delete(p));}this.nx.set(h,n);};c.prototype.en=function(f,n){var h,l,p;p=null === (h=null === n || void 0 === n?void 0:n.Jf) || void 0 === h?void 0:h.bc;h=null === (l=null === n || void 0 === n?void 0:n.Jf) || void 0 === l?void 0:l.Gd;l={J:f,Gd:h,bc:p};this.has(l) || this.Xv(f,n);return this.get(l);};c.prototype.Yw=function(f,n){var h;return m.__awaiter(this,void 0,void 0,function p(){var q,u;q=this;return La(p,function(t){var v;if(1 == t.Bw)return ((0,k.oa)(n.Jf,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,k.oa)(!!n.Jf.bc,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),t.Wla=2,Pa(t,q.uya(f,n),4));if(2 != t.Bw)return t.return(t.K_);t.Wla=0;v=t.BF.T0a;t.BF=null;u=v;throw new g.Tga("Could not hydrate adBreak",{Sm:0,ooc:0,errorCode:null !== (h=u.code) && void 0 !== h?h:0,context:{error:u instanceof d.Qc?u.toJSON():u,type:"adBreakHydration"}});});});};c.prototype.has=function(f){f=this.generateKey(f);return this.nx.has(f) && !this.nx.get(f).Hr;};c.prototype.clear=function(){var f;f=this;this.nx.forEach(function(n){f.rva(n,!1);});this.nx.clear();};c.prototype.get=function(f){return this.nx.get(this.generateKey(f));};c.prototype.generateKey=function(f){var n,h;n=f.bc;h=f.Gd;return f.J.toString() + (h?":" + h:"") + (n?":" + n:"");};c.prototype.rva=function(f,n){var h;null === (h=f.events) || void 0 === h?void 0:h.emit("viewableEvicted",{type:"viewableEvicted"});f.MAa=n;};b.Uha=c;},30326:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.w4=void 0;c=a(32687);b.w4=function(m){var g,k,d,f;g=m.Bo;k=m.loadTime;m=m.Qoa;d=(0,c.Tb)(k)?k:0;f=g[m.target] || ({});g[m.target] !== f && (g[m.target]=f);Object.entries(m.fields).forEach(function(n){var h,l,p,q;h=ja(n);n=h.next().value;h=h.next().value;if("object" !== typeof h || null === h)f[n]=h;else {l=h.type;if("count" === l)(void 0 === f[n] && (f[n]=0),++f[n]);else if(void 0 !== h.value){if("array" === l){l=f[n];p=h.adjust;q=h.value;l || (l=f[n]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});l.push(q);}else f[n]="sum" === l?(f[n] || 0) + h.value:h.value;}else f[n]=h;}});};},64302:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.x4a=void 0;c=a(45247);m=a(45146);b.x4a=function(g,k,d,f){return k.aa[k.Oe].hb === f?(g=(0,c.Qp)(k,g,c.K.Na(d)),(0,m.oa)(g,"has valid start position relative to playgraph"),g):{H:k.Oe,offset:c.K.Ba};};},11479:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zh="AsyncComponentLoaderSymbol";},87284:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.qWa=void 0;r=a(22674);c=a(31073);m=a(11479);b.qWa=new r.md(function(g){g(m.Zh).to(c.QDa).ia();});},31073:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v;function c(w,y,x,z,A,B){var D;D=this;this.Dk=w;this.config=x;this.Ko=z;this.debug=A;this.Ea=B;this.Whb=[];this.yd={};this.log=y.Za("loadAsync");this.rWb=(0,u.DHa)(function(C){D.j4b=!0;D.startTime=D.Ea.Lb().ea(p.ma);D.load(D.Whb).then(function(){D.endTime=D.Ea.Lb().ea(p.ma);C(v.ig);}).catch(function(E){D.endTime=D.Ea.Lb().ea(p.ma);C(E);});});}Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;r=a(5163);m=a(77134);g=a(36129);k=a(96813);d=a(63156);f=a(22674);n=a(87386);h=a(4203);l=a(59818);p=a(5021);q=a(90597);u=a(22894);t=a(81918);v=a(33096);c.prototype.ZW=function(w){this.rWb(w);};c.prototype.register=function(w,y){this.debug.assert(!this.j4b);this.Whb.push({NVb:this.RAb(y),errorCode:w});};c.prototype.ue=function(w){this.debug.assert(void 0 === this.yd[w]);this.yd[w]=this.Ea.Lb().ea(p.ma);};c.prototype.load=function(w){var y;y=this;return (0,k.icb)(w).then(function(x){y.Dk.mark(d.Lk.qj.Ukb);return x.reduce(function(z,A){return z.then(function(){return y.LVb(A);});},Promise.resolve()).then(function(){y.Dk.mark(d.Lk.qj.Skb);});});};c.prototype.LVb=function(w){var y,x;y=this;x=w.NVb;!1;return this.Ko.Bq((0,p.Ob)(this.config().zyb),x()).catch(function(z){y.log.error("Failed to load component " + w.errorCode,z);y.Dk.mark(d.Lk.qj.Tkb);if(z instanceof l.Wq)throw {wa:g.R.Rkb,errorCode:w.errorCode};z.errorCode=z.errorCode || w.errorCode;z.wa=z.wa || g.R.Qkb;throw z;});};c.prototype.RAb=function(w){return function(){return new Promise(function(y,x){w(function(z){z.pa?y():x(z);});});};};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(m.zK)),r.__param(1,(0,f.l)(n.$a)),r.__param(2,(0,f.l)(h.Zb)),r.__param(3,(0,f.l)(l.NA)),r.__param(4,(0,f.l)(q.vx)),r.__param(5,(0,f.l)(t.Kc))],a);b.QDa=a;},96813:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.icb=void 0;c=a(36129);m=[c.V.tob,c.V.YIa,c.V.ZIa,c.V.cJa,c.V.VIa,c.V.TIa,c.V.pfa,c.V.xob,c.V.WIa,c.V.UIa,c.V.DA,c.V.QIa,c.V.SIa,c.V.$Ia,c.V.aJa,c.V.bJa,c.V.XIa,c.V.RIa];(function(k){k.Kpb=function(d){var h;for(var f={},n=0;n < d.length;n++){h=d[n];if(f[h.errorCode])return {errorCode:h.errorCode,wa:c.R.Okb};f[h.errorCode]=1;}};k.Lpb=function(d){var n;for(var f=0;f < d.length;f++){n=d[f];if(-1 === m.indexOf(n.errorCode))return {errorCode:n.errorCode,wa:c.R.Pkb};}};})(g || (g={}));b.icb=function(k){return new Promise(function(d,f){var n;n=g.Lpb(k);n && f(n);(n=g.Kpb(k)) && f(n);d(k.sort(function(h,l){return m.indexOf(h.errorCode) - m.indexOf(l.errorCode);}));});};},81918:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kc="ApplicationSymbol";},6405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vA="Base16EncoderSymbol";},2248:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ih="Base64EncoderSymbol";},22816:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dE="BrowserInfoSymbol";},33258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oea="CachedErrorsSymbol";},30869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hg="ClockSymbol";},87061:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oFa="ClockConfigSymbol";},58098:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FFa="CsvEncoderSymbol";},34043:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v0="DebouncerFactorySymbol";},90597:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UFa="DebugConfigSymbol";b.vx="DebugSymbol";},2762:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.arb=b.gnb=b.VFa=void 0;r=b.VFa || (b.VFa={});r.whc="PboDebugEvent";r.zhc="PlaygraphEvent";b.gnb={ugc:"Manifest",Event:"Event",hgc:"Logblob"};b.arb={tic:"UX",Jec:"Combined_1",Kec:"Combined_2"};},28131:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va,S,ma,Ja,Na,Za,V,la,ra,N,ha,xa,$a,ab,db,ub,Ma,cb,kb,sb,pb,Ab,Eb,Kb,Nb,Qb;Object.defineProperty(b,"__esModule",{value:!0});b.wy=void 0;r=a(22674);c=a(63368);m=a(30869);g=a(53085);k=a(62665);d=a(10306);f=a(61909);n=a(11629);h=a(67525);l=a(691);p=a(84408);q=a(6405);u=a(2248);t=a(74870);v=a(42207);w=a(15160);y=a(59818);x=a(67572);z=a(53399);A=a(33543);B=a(30033);D=a(24900);C=a(4734);E=a(76564);G=a(31811);F=a(55099);I=a(88490);P=a(57180);M=a(9002);L=a(81918);Q=a(58098);J=a(76928);H=a(69997);K=a(90597);O=a(85125);R=a(87386);ca=a(87061);oa=a(84183);ta=a(77134);Fa=a(1639);ua=a(91591);ya=a(69216);Ca=a(49721);Va=a(45842);S=a(22365);ma=a(78789);Ja=a(20483);Na=a(77687);Za=a(6214);V=a(31298);la=a(4203);ra=a(91581);N=a(79274);ha=a(36582);xa=a(22816);$a=a(66057);ab=a(44720);db=a(95947);ub=a(4246);Ma=a(84130);cb=a(34043);kb=a(61453);sb=a(90030);pb=a(2010);Ab=a(50093);Eb=a(75236);Kb=a(76892);Nb=a(33258);Qb=a(19699);b.wy=new r.md(function(Ib){Ib(c.d2).JD(function(){return {};}).ia();Ib(c.rE).xl(JSON);Ib(c.hSa).xl(qb);Ib(d.TQa).xl(Math);Ib(c.lKa).xl(S.S1);Ib(c.Iga).xl(S.ov);Ib(c.IRa).xl(S.BE);Ib(c.RFa).xl(Date);Ib(c.mK).xl(S.He);Ib(c.upb).xl(S.HA);Ib(ca.oFa).to(oa.nFa).ia();Ib(L.Kc).to(M.qDa).ia();Ib(m.hg).to(l.pFa).ia();Ib(g.bi).to(f.UPa).ia();Ib(k.Cx).to(n.kJa).ia();Ib(y.NA).to(C.gPa).ia();Ib(d.p2).to(h.pPa).ia();Ib(ha.$fa).to(Ab.jLa).ia();Ib(K.vx).to(H.WFa).ia();Ib(K.UFa).to(O.TFa).ia();Ib(p.Zq).to(z.JRa).ia();Ib(q.vA).to(A.fea).ia();Ib(u.ih).to(B.gEa).ia();Ib(t.Fh).to(D.KRa).ia();Ib(v.$f).xl(E.qE);Ib(ab.XQ).to(db.kHa).ia();Ib(w.Uea).to(G.Xj).dsa();Ib(w.w0).to(G.Xj).ia();Ib(w.iGa).to(G.Xj).ia();Ib(w.Yea).to(G.Xj).ia();Ib(I.PQa).to(P.JE).ia();Ib(Q.FFa).to(J.EFa).ia();Ib(ta.zK).to(Fa.Lha).ia();Ib(ta.GR).to(Fa.Lha).ia();Ib("Factory<LoggerFactory>").Vhb(R.$a);Ib(ua.Fea).to(ya.YFa).ia();Ib(Va.KE).je(function(Pb){return function(Rb){return new Ca.bRa(Pb.nb.get(L.Kc),Pb.nb.get(g.bi),Rb);};});Ib(cb.v0).je(function(Pb){return function(Rb){return new kb.SFa(Pb.nb.get(g.bi),Rb);};});Ib(ma.hha).dac(Ja.gha);Ib(ma.frb).je(function(Pb){var Rb;Rb=Pb.nb.get(ma.hha);return function(){return new Rb(!1);};});Ib(ma.grb).je(function(Pb){var Rb;Rb=Pb.nb.get(ma.hha);return function(){return new Rb(!0);};});Ib(Na.FRa).je(function(){return function(Pb){return new Za.GRa(Pb);};});Ib(N.PR).je(function(Pb){return function(Rb,Yb,ic){return new V.sOa(Pb.nb.get(K.vx),Pb.nb.get(la.Zb),Pb.nb.get(ra.gp),Pb.nb.get(ha.$fa),Rb,Yb,ic);};});Ib(x.tMa).je(function(){return function(Pb){return new F.uMa(Pb);};});Ib(xa.dE).to($a.vEa);Ib(Eb.L2).to(Kb.HRa).ia();Ib(ub.bS).je(function(Pb){return function(Rb,Yb){return new Ma.nRa(Pb.nb.get(g.bi),Rb,Yb);};});Ib(sb.dHa).to(pb.cHa).ia();Ib(Nb.oea).to(Qb.$Ea).ia();});},90030:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rj="_ANY_";b.dHa="EnricherSymbol";},15160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uea="EventSourceSymbol";b.Yea="GlobalEventSourceSymbol";b.w0="DebugEventSourceSymbol";b.iGa="DiagnosticsEventSourceSymbol";},44720:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XQ="EventSourceFactorySymbol";},62665:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cx="IdProviderSymbol";},42207:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$f="IsTypeSymbol";},43193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EA=void 0;r=b.EA || (b.EA={});r[r.xec=8]="Backspace";r[r.nic=9]="Tab";r[r.wfc=13]="Enter";r[r.gic=16]="Shift";r[r.Pec=17]="Ctrl";r[r.cec=18]="Alt";r[r.vhc=19]="PauseBreak";r[r.Gec=20]="CapsLock";r[r.yfc=27]="Escape";r[r.iic=32]="Space";r[r.uhc=33]="PageUp";r[r.thc=34]="PageDown";r[r.vfc=35]="End";r[r.$fc=36]="Home";r[r.fgc=37]="LeftArrow";r[r.vic=38]="UpArrow";r[r.Ehc=39]="RightArrow";r[r.cfc=40]="DownArrow";r[r.cgc=45]="Insert";r[r.afc=46]="Delete";r[r.Eic=48]="Zero";r[r.khc=49]="One";r[r.qic=50]="Two";r[r.oic=51]="Three";r[r.Vfc=52]="Four";r[r.Tfc=53]="Five";r[r.hic=54]="Six";r[r.fic=55]="Seven";r[r.ufc=56]="Eight";r[r.Wgc=57]="Nine";r[r.Vdc=65]="A";r[r.W_=66]="B";r[r.Aec=67]="C";r[r.smb=68]="D";r[r.E=69]="E";r[r.zfc=70]="F";r[r.Xea=71]="G";r[r.Yfc=72]="H";r[r.agc=73]="I";r[r.dgc=74]="J";r[r.zfa=75]="K";r[r.Rob=76]="L";r[r.Ofa=77]="M";r[r.ygc=78]="N";r[r.hhc=79]="O";r[r.mhc=80]="P";r[r.Q=81]="Q";r[r.Bhc=82]="R";r[r.Ghc=83]="S";r[r.bsb=84]="T";r[r.ric=85]="U";r[r.wic=86]="V";r[r.yic=87]="W";r[r.Aic=88]="X";r[r.Cic=89]="Y";r[r.Dic=90]="Z";r[r.ggc=91]="LeftWindowKey";r[r.Fhc=92]="RightWindowKey";r[r.dic=93]="SelectKey";r[r.Ygc=96]="Numpad0";r[r.Zgc=97]="Numpad1";r[r.$gc=98]="Numpad2";r[r.ahc=99]="Numpad3";r[r.bhc=100]="Numpad4";r[r.chc=101]="Numpad5";r[r.dhc=102]="Numpad6";r[r.ehc=103]="Numpad7";r[r.fhc=104]="Numpad8";r[r.ghc=105]="Numpad9";r[r.xgc=106]="Multiply";r[r.bec=107]="Add";r[r.jic=109]="Subtract";r[r.$ec=110]="DecimalPoint";r[r.bfc=111]="Divide";r[r.Afc=112]="F1";r[r.Efc=113]="F2";r[r.Ffc=114]="F3";r[r.Gfc=115]="F4";r[r.Hfc=116]="F5";r[r.Ifc=117]="F6";r[r.Jfc=118]="F7";r[r.Kfc=119]="F8";r[r.Lfc=120]="F9";r[r.Bfc=121]="F10";r[r.Cfc=122]="F11";r[r.Dfc=123]="F12";r[r.Xgc=144]="NumLock";r[r.bic=145]="ScrollLock";r[r.eic=186]="SemiColon";r[r.xfc=187]="Equals";r[r.Lec=188]="Comma";r[r.Zec=189]="Dash";r[r.xhc=190]="Period";r[r.Ufc=191]="ForwardSlash";r[r.pic=192]="Tilde";r[r.lhc=219]="OpenBracket";r[r.wec=220]="BackSlash";r[r.Iec=221]="CloseBracket";r[r.Ahc=222]="Quote";},67572:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tMa="OneWayCounterFactorySymbol";},91591:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fea="DecoderTimeoutPathologistSymbol";},91581:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gp="PlatformSymbol";b.e2="PlatformMutableSymbol";},63368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hSa="WindowTimersSymbol";b.rE="JSONSymbol";b.IRa="UserAgentSymbol";b.mK="NavigatorSymbol";b.upb="MediaSourceSymbol";b.lKa="LocationSymbol";b.RFa="DateSymbol";b.Iga="PerformanceSymbol";b.d2="PlatformExtraInfoSymbol";},79274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PR="PlayerErrorFactorySymbol";},78789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hha="PrioritizedSetOfListsSymbol";b.frb="PrioritizedSetOfListsFactorySymbol";b.grb="PrioritizedSetOfSetsFactorySymbol";},59818:function(r,b){function a(c){var m;m=Error.call(this,"TimeoutError");this.message=m.message;("stack" in m) && (this.stack=m.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.NA=b.Wq=void 0;ea(a,Error);b.Wq=a;b.NA="PromiseTimerSymbol";},10306:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TQa="SystemRandomSymbol";b.p2="RandomGeneratorSymbol";},53085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bi="SchedulerSymbol";},88490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PQa="StringUtilsSymbol";},14423:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gha=void 0;m=a(22365);c.g4a=function(){var g;g=m.pv && m.pv.height;return g?1080 <= g?1080:720:720;};b.Gha=c;},45842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KE="ThrottleFactorySymbol";},4246:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bS="TimeoutMonitorFactorySymbol";},77134:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zK="TimingApiSymbol";b.GR="MilestoneTimingApiSymbol";},77687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FRa="UrlFactorySymbol";},84408:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zq="Utf8EncoderSymbol";},74870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fh="UtilitiesSymbol";},36258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DNa="PboPlaydataValidatorSymbol";b.uNa="PboPlaydataArrayValidatorSymbol";b.wNa="PboPlaydataCollectionValidatorSymbol";},63156:function(r,b){var c,m;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lk=b.Pa=b.qj=void 0;(function(g){g[g.On=0]="STANDARD";g[g.Ln=1]="LIMITED";g[g.ohc=2]="PREVIEW";})(c || (c={}));(function(g){g[g.HAVE_NOTHING=0]="HAVE_NOTHING";g[g.HAVE_METADATA=1]="HAVE_METADATA";g[g.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";g[g.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";g[g.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(m || (m={}));(function(g){g.Ukb="asl_start";g.Skb="asl_comp";g.aec="asl_exc";g.Tkb="asl_fail";g.Irb="stf_creat";g.job="idb_open";g.gob="idb_block";g.qob="idb_upgr";g.pob="idb_succ";g.hob="idb_error";g.iob="idb_invalid_state";g.lob="idb_open_timeout";g.nob="idb_open_wrkarnd";g.oob="idb_storelen_exc";g.kob="idb_open_exc";g.mob="idb_timeout_invalid_storelen";g.mpb="msl_load_data";g.opb="msl_load_no_data";g.npb="msl_load_failed";})(r=b.qj || (b.qj={}));(function(g){g.tga="PlaybackRequestStart";g.sga="PlaybackRequestEnd";g.n2="RequestPrefetchManifestStart";g.m2="RequestPrefetchManifestEnd";g.l2="RequestManifestStart";g.k2="RequestManifestEnd";g.j2="RequestLicenseStart";g.i2="RequestLicenseEnd";g.IQ="RequestTimedTextUrlStart";g.HQ="RequestTimedTextUrlEnd";g.GQ="RequestAudioUrlStart";g.FQ="RequestAudioUrlEnd";g.KQ="RequestVideoUrlStart";g.JQ="RequestVideoUrlEnd";g.Cda="AppendBufferStart";g.Bda="AppendBufferEnd";g.rha="SetMediaKeysStart";g.qha="SetMediaKeysEnd";g.L0="GenerateChallengeStart";g.K0="GenerateChallengeEnd";g.N_="ApplyLicenseStart";g.M_="ApplyLicenseEnd";})(b.Pa || (b.Pa={}));b.Lk=a;a.LJa=c;a.$Ya=function(g){return ["STANDARD","LIMITED","PREVIEW"][g];};a.qj=r;a.CA=m;},36129:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ax=b.iHa=b.hHa=b.Sea=b.gHa=b.G0=b.O1=b.D1=b.fHa=b.R=b.V=void 0;(function(m){m[m.jp=7001]="UNKNOWN";m[m.DRa=7002]="UNHANDLED_EXCEPTION";m[m.tob=7003]="INIT_COMPONENT_LOG_TO_REMOTE";m[m.Vnb=7004]="HLS_NOT_SUPPORTED";m[m.ofa=7010]="INIT_ASYNCCOMPONENT";m[m.xob=7011]="INIT_HTTP";m[m.rob=7014]="INIT_BADMOVIEID";m[m.eJa=7020]="INIT_PLAYBACK_LOCK";m[m.fJa=7022]="INIT_SESSION_LOCK";m[m.yob=7029]="INIT_POSTAUTHORIZE";m[m.dJa=7031]="INIT_HEADER_MEDIA";m[m.zob=7034]="INIT_TIMEDTEXT_TRACK";m[m.Mkb=7037]="ASE_SESSION_ERROR";m[m.Lkb=7038]="ASE_SEEK_THREW";m[m.Nkb=7039]="ASE_SKIPPED_THREW";m[m.uob=7041]="INIT_CORE_OBJECTS1";m[m.vob=7042]="INIT_CORE_OBJECTS2";m[m.wob=7043]="INIT_CORE_OBJECTS3";m[m.YIa=7053]="INIT_COMPONENT_STORAGE";m[m.ZIa=7054]="INIT_COMPONENT_STORAGELOCK";m[m.VIa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";m[m.pfa=7059]="INIT_COMPONENT_DEVICE";m[m.WIa=7063]="INIT_COMPONENT_MSL";m[m.UIa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";m[m.DA=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";m[m.cJa=7083]="INIT_COMPONENT_WEBCRYPTO";m[m.TIa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";m[m.RIa=7088]="INIT_COMPONENT_BATTERY_MANAGER";m[m.QIa=7089]="INIT_COMPONENT_ASE";m[m.aK=7091]="INIT_COMPONENT_DRM_CACHE";m[m.sob=7092]="INIT_COMPONENT_DRM";m[m.SIa=7094]="INIT_COMPONENT_FTL";m[m.XIa=7095]="INIT_COMPONENT_PREPARE_MODEL";m[m.$Ia=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";m[m.aJa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";m[m.bJa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";m[m.wE=7111]="MANIFEST";m[m.Zob=7114]="MANIFEST_MISTMATCH";m[m.GKa=7117]="MANIFEST_VERIFY";m[m.Grb=7120]="START";m[m.mR=7121]="LICENSE";m[m.kPa=7122]="RELEASE";m[m.Hrb=7123]="STOP";m[m.Afa=7125]="KEEPALIVE";m[m.tqb=7131]="PING";m[m.Fnb=7134]="ENGAGE";m[m.Vob=7137]="LOGBLOB";m[m.nhc=7138]="PAUSE";m[m.Dhc=7139]="RESUME";m[m.MPa=7140]="SPLICE";m[m.nlb=7142]="BIND";m[m.olb=7144]="BIND_DEVICE";m[m.Rnb=7145]="GENERATE_SCREENSHOTS";m[m.xCa=7146]="AD_EVENT";m[m.xqb=7202]="PLAY_INIT_EXCEPTION";m[m.uga=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";m[m.Eqb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";m[m.GMa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";m[m.Fqb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";m[m.vga=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";m[m.Dqb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";m[m.IMa=7351]="PLAY_MSE_NOTSUPPORTED";m[m.FMa=7353]="PLAY_MSE_DECODER_TIMEOUT";m[m.yga=7355]="PLAY_MSE_SOURCEADD";m[m.yqb=7356]="PLAY_MSE_CREATE_MEDIAKEYS";m[m.wga=7357]="PLAY_MSE_GENERATEKEYREQUEST";m[m.HMa=7361]="PLAY_MSE_EVENT_ERROR";m[m.a2=7362]="PLAY_MSE_SETMEDIAKEYS";m[m.KA=7363]="PLAY_MSE_EVENT_KEYERROR";m[m.Jqb=7364]="PLAY_MSE_EME_SESSION_CLOSE";m[m.Kqb=7365]="PLAY_MSE_GETCURRENTTIME";m[m.Lqb=7367]="PLAY_MSE_SETCURRENTTIME";m[m.Mqb=7371]="PLAY_MSE_SOURCEAPPEND";m[m.Qqb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";m[m.Pqb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";m[m.Oqb=7377]="PLAY_MSE_UNEXPECTED_REWIND";m[m.Nqb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";m[m.JMa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";m[m.zqb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";m[m.Aqb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";m[m.Bqb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";m[m.Gqb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";m[m.Hqb=7395]="PLAY_MSE_EME_MISSING_PSSH";m[m.Iqb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";m[m.Cqb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";m[m.xga=7399]="PLAY_MSE_SET_LICENSE_ERROR";m[m.SGa=7400]="EXTERNAL";m[m.Z1=7500]="PAUSE_TIMEOUT";m[m.F1=7502]="INACTIVITY_TIMEOUT";m[m.Wkb=7510]="AUTHORIZATION_EXPIRED";m[m.xnb=7700]="EME_INVALID_KEYSYSTEM";m[m.GGa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";m[m.D0=7702]="EME_CREATE_MEDIAKEYS_FAILED";m[m.E0=7703]="EME_GENERATEREQUEST_FAILED";m[m.MGa=7704]="EME_UPDATE_FAILED";m[m.ynb=7705]="EME_KEYSESSION_ERROR";m[m.KGa=7706]="EME_KEYMESSAGE_EMPTY";m[m.Cnb=7707]="EME_REMOVE_FAILED";m[m.Anb=7708]="EME_LOAD_FAILED";m[m.tnb=7709]="EME_CREATE_SESSION_FAILED";m[m.Mea=7710]="EME_LDL_RENEWAL_ERROR";m[m.IGa=7711]="EME_INVALID_INITDATA_DATA";m[m.JGa=7712]="EME_INVALID_LICENSE_DATA";m[m.znb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";m[m.FGa=7716]="EME_CLOSE_FAILED";m[m.Nea=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";m[m.Enb=7718]="EME_SET_SERVER_CERTIFICATE";m[m.uqb=7800]="PLAYDATA_STORE_FAILURE";m[m.AQ=7900]="BRANCH_PLAY_FAILURE";m[m.BQ=7901]="BRANCH_QUEUE_FAILURE";m[m.cEa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";m[m.vlb=7903]="BRANCH_CHOICE_MAP_MISSING";m[m.eqb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.V || (b.V={}));(function(m){m[m.jp=1001]="UNKNOWN";m[m.Bm=1003]="EXCEPTION";m[m.Cob=1004]="INVALID_DI";m[m.Qkb=1011]="ASYNCLOAD_EXCEPTION";m[m.Rkb=1013]="ASYNCLOAD_TIMEOUT";m[m.$dc=1015]="ASYNCLOAD_BADCONFIG";m[m.Okb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";m[m.Pkb=1017]="ASYNCLOAD_COMPONENT_MISSING";m[m.hR=1101]="HTTP_UNKNOWN";m[m.mfa=1102]="HTTP_XHR";m[m.eR=1103]="HTTP_PROTOCOL";m[m.dR=1104]="HTTP_OFFLINE";m[m.gR=1105]="HTTP_TIMEOUT";m[m.oE=1106]="HTTP_READTIMEOUT";m[m.nE=1107]="HTTP_ABORT";m[m.pIa=1108]="HTTP_PARSE";m[m.lIa=1110]="HTTP_BAD_URL";m[m.fR=1111]="HTTP_PROXY";m[m.Vfa=1203]="MSE_AUDIO";m[m.Wfa=1204]="MSE_VIDEO";m[m.hpb=1250]="MSE_MEDIA_ERR_BASE";m[m.ngc=1251]="MSE_MEDIA_ERR_ABORTED";m[m.qgc=1252]="MSE_MEDIA_ERR_NETWORK";m[m.ogc=1253]="MSE_MEDIA_ERR_DECODE";m[m.rgc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";m[m.pgc=1255]="MSE_MEDIA_ERR_ENCRYPTED";m[m.BA=1260]="EME_MEDIA_KEYERR_BASE";m[m.lfc=1261]="EME_MEDIA_KEYERR_UNKNOWN";m[m.gfc=1262]="EME_MEDIA_KEYERR_CLIENT";m[m.kfc=1263]="EME_MEDIA_KEYERR_SERVICE";m[m.jfc=1264]="EME_MEDIA_KEYERR_OUTPUT";m[m.ifc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";m[m.hfc=1266]="EME_MEDIA_KEYERR_DOMAIN";m[m.mfc=1269]="EME_MEDIA_UNAVAILABLE_CDM";m[m.wnb=1270]="EME_INTERNAL_ERROR";m[m.snb=1271]="EME_CLOSED_BY_APPLICATION";m[m.Bnb=1272]="EME_RELEASE_ACKNOWLEDGED";m[m.Lea=1273]="EME_HARDWARE_CONTEXT_RESET";m[m.Dnb=1274]="EME_RESOURCE_EVICTED";m[m.vnb=1280]="EME_ERROR_NODRMSESSSION";m[m.unb=1281]="EME_ERROR_NODRMREQUESTS";m[m.dfc=1282]="EME_ERROR_INDIV_FAILED";m[m.efc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";m[m.ofc=1284]="EME_TIMEOUT_MESSAGE";m[m.nfc=1285]="EME_TIMEOUT_KEYCHANGE";m[m.LGa=1286]="EME_UNDEFINED_DATA";m[m.VJ=1287]="EME_INVALID_STATE";m[m.ffc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";m[m.HGa=1289]="EME_EMPTY_DATA";m[m.WQ=1290]="EME_TIMEOUT";m[m.Ggc=1303]="NCCP_METHOD_NOT_SUPPORTED";m[m.Jgc=1305]="NCCP_PARSEXML";m[m.Tqb=1309]="PROCESS_EXCEPTION";m[m.Igc=1311]="NCCP_NETFLIXID_MISSING";m[m.Kgc=1312]="NCCP_SECURENETFLIXID_MISSING";m[m.Dgc=1313]="NCCP_HMAC_MISSING";m[m.Cgc=1315]="NCCP_HMAC_MISMATCH";m[m.Bgc=1317]="NCCP_HMAC_FAILED";m[m.Agc=1321]="NCCP_CLIENTTIME_MISSING";m[m.zgc=1323]="NCCP_CLIENTTIME_MISMATCH";m[m.EHa=1331]="GENERIC";m[m.zpb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";m[m.Apb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";m[m.Lgc=1341]="NCCP_TRANSACTION";m[m.Egc=1343]="NCCP_INVALID_DRMTYPE";m[m.Fgc=1344]="NCCP_INVALID_LICENCE_RESPONSE";m[m.Hgc=1345]="NCCP_MISSING_PAYLOAD";m[m.shc=1346]="PROTOCOL_NOT_INITIALIZED";m[m.rhc=1347]="PROTOCOL_MISSING_FIELD";m[m.qhc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";m[m.Px=1402]="STORAGE_NODATA";m[m.Mhc=1403]="STORAGE_EXCEPTION";m[m.Uhc=1405]="STORAGE_QUOTA_NOT_GRANTED";m[m.Vhc=1407]="STORAGE_QUOTA_TO_SMALL";m[m.PPa=1411]="STORAGE_LOAD_ERROR";m[m.Jrb=1412]="STORAGE_LOAD_TIMEOUT";m[m.QPa=1414]="STORAGE_SAVE_ERROR";m[m.Mrb=1415]="STORAGE_SAVE_TIMEOUT";m[m.uha=1417]="STORAGE_DELETE_ERROR";m[m.OPa=1418]="STORAGE_DELETE_TIMEOUT";m[m.Thc=1421]="STORAGE_FS_REQUESTFILESYSTEM";m[m.Qhc=1423]="STORAGE_FS_GETDIRECTORY";m[m.Shc=1425]="STORAGE_FS_READENTRIES";m[m.Nhc=1427]="STORAGE_FS_FILEREAD";m[m.Phc=1429]="STORAGE_FS_FILEWRITE";m[m.Ohc=1431]="STORAGE_FS_FILEREMOVE";m[m.Rhc=1432]="STORAGE_FS_PARSEJSON";m[m.Lrb=1451]="STORAGE_NO_LOCALSTORAGE";m[m.Krb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";m[m.Vgc=1501]="NTBA_UNKNOWN";m[m.Ugc=1502]="NTBA_EXCEPTION";m[m.Qgc=1504]="NTBA_CRYPTO_KEY";m[m.Sgc=1506]="NTBA_CRYPTO_OPERATION";m[m.Rgc=1508]="NTBA_CRYPTO_KEYEXCHANGE";m[m.Tgc=1515]="NTBA_DECRYPT_UNSUPPORTED";m[m.KFa=1553]="DEVICE_NO_ESN";m[m.Cmb=1555]="DEVICE_ERROR_GETTING_ESN";m[m.Qfc=1701]="FORMAT_UNKNOWN";m[m.Nnb=1713]="FORMAT_XML";m[m.Rfc=1715]="FORMAT_XML_CONTENT";m[m.Ofc=1721]="FORMAT_BASE64";m[m.Pfc=1723]="FORMAT_DFXP";m[m.eob=1801]="INDEXDB_OPEN_EXCEPTION";m[m.OIa=1802]="INDEXDB_NOT_SUPPORTED";m[m.dob=1803]="INDEXDB_OPEN_ERROR";m[m.PIa=1804]="INDEXDB_OPEN_NULL";m[m.cob=1805]="INDEXDB_OPEN_BLOCKED";m[m.fob=1807]="INDEXDB_OPEN_TIMEOUT";m[m.bob=1808]="INDEXDB_INVALID_STORE_STATE";m[m.G1=1809]="INDEXDB_ACCESS_EXCEPTION";m[m.rpb=1901]="MSL_UNKNOWN";m[m.kpb=1911]="MSL_INIT_NO_MSL";m[m.NKa=1913]="MSL_INIT_ERROR";m[m.lpb=1915]="MSL_INIT_NO_WEBCRYPTO";m[m.ipb=1931]="MSL_ERROR";m[m.qpb=1933]="MSL_REQUEST_TIMEOUT";m[m.ppb=1934]="MSL_READ_TIMEOUT";m[m.jpb=1935]="MSL_ERROR_HEADER";m[m.sgc=1936]="MSL_ERROR_ENVELOPE";m[m.tgc=1937]="MSL_ERROR_MISSING_PAYLOAD";m[m.MKa=1957]="MSL_ERROR_REAUTH";m[m.Wha=2103]="WEBCRYPTO_MISSING";m[m.zic=2105]="WEBCRYPTOKEYS_MISSING";m[m.ksb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";m[m.Bec=2200]="CACHEDDATA_PARSEJSON";m[m.FEa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";m[m.Cec=2202]="CACHEDDATA_UPGRADE_FAILED";m[m.yA=2203]="CACHEDDATA_INVALID_FORMAT";m[m.Xdc=3E3]="ACCOUNT_CHANGE_INFLIGHT";m[m.Ydc=3001]="ACCOUNT_INVALID";m[m.Yec=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";m[m.Xec=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";m[m.Vec=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";m[m.Wec=3201]="DOWNLOADED_LICENSE_UNUSEABLE";m[m.Uec=3202]="DOWNLOADED_LICENSE_EXCEPTION";m[m.Whc=3300]="STORAGE_VA_LOAD_ERROR";m[m.Xhc=3301]="STORAGE_VA_LOAD_TIMEOUT";m[m.$hc=3302]="STORAGE_VA_SAVE_ERROR";m[m.aic=3303]="STORAGE_VA_SAVE_TIMEOUT";m[m.Yhc=3304]="STORAGE_VA_REMOVE_ERROR";m[m.Zhc=3305]="STORAGE_VA_REMOVE_TIMEOUT";m[m.qga=3077]="PBO_DEVICE_EOL_WARNING";m[m.yMa=3078]="PBO_DEVICE_EOL_FINAL";m[m.BMa=3100]="PBO_DEVICE_RESET";m[m.AMa=3101]="PBO_DEVICE_RELOAD";m[m.zMa=3102]="PBO_DEVICE_EXIT";m[m.rqb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";m[m.Upb=5005]="PBO_ACCOUNT_ON_HOLD";m[m.cqb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";m[m.rga=5007]="PBO_INCORRECT_PIN";m[m.oqb=5008]="PBO_MOBILE_ONLY";m[m.sqb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";m[m.Vpb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";m[m.Ypb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";m[m.Wpb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";m[m.Xpb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";m[m.Zpb=5014]="PBO_ADS_VPN_USE_DETECTED";m[m.lqb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";m[m.kqb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";m[m.dqb=5017]="PBO_CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION";m[m.iqb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";m[m.aqb=5059]="PBO_BLACKLISTED_IP";m[m.$pb=5070]="PBO_AGE_VERIFICATION_REQUIRED";m[m.bqb=5080]="PBO_CHOICE_MAP_ERROR";m[m.pqb=5090]="PBO_RESTRICTED_TO_TESTERS";m[m.mqb=5091]="PBO_MALFORMED_REQUEST";m[m.jqb=5092]="PBO_INVALID_SERVICE_VERSION";m[m.nqb=5093]="PBO_MDX_INVALID_CTICKET";m[m.hqb=5094]="PBO_FREE_PREVIEW_ENDED";m[m.qqb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";m[m.gqb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";m[m.fqb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";m[m.xmb=5100]="DECODER_TIMEOUT_BUFFERING";m[m.zmb=5101]="DECODER_TIMEOUT_PRESENTING";m[m.ymb=5102]="DECODER_TIMEOUT_PLAYING";m[m.cnb=5200]="DOWNLOADER_IO_ERROR";m[m.bEa=5300]="BRANCHING_SEGMENT_NOTFOUND";m[m.rlb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";m[m.jec=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";m[m.eea=5303]="BRANCHING_ASE_UNINITIALIZED";m[m.fec=5304]="BRANCHING_ASE_FAILURE";m[m.gec=5305]="BRANCHING_MOMENT_FAILURE";m[m.plb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";m[m.iec=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";m[m.slb=5308]="BRANCHING_SEEK_THREW";m[m.hec=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";m[m.qlb=5310]="BRANCHING_PLAY_TIMEDOUT";m[m.tlb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";m[m.ulb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";m[m.Nrb=5500]="STUDIO_MUXED_MANIFEST";m[m.Qfa=5600]="MANIFEST_HYDRATION_FAILURE";m[m.Ykb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";m[m.Zkb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";m[m.Xkb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(c=b.R || (b.R={}));(function(m){m[m.uec=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";m[m.kec=5005]="BR_ACCOUNT_ON_HOLD";m[m.oec=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";m[m.rec=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";m[m.nec=5059]="BR_BLACKLISTED_IP";m[m.lec=5070]="BR_AGE_VERIFICATION_REQUIRED";m[m.sec=2204]="BR_PLAYBACK_CONTEXT_CREATION";m[m.pec=2205]="BR_DRM_LICENSE_AQUISITION";m[m.tec=2206]="BR_PLAYBACK_SERVICE_ERROR";m[m.qec=2207]="BR_ENDPOINT_ERROR";m[m.mec=2208]="BR_AUTHORIZATION_ERROR";})(b.fHa || (b.fHa={}));b.D1={Clb:"400",uic:"401",RMa:"413"};b.O1={Mfc:1,mic:2,rfc:3,sic:4,egc:5,qfc:6,Qha:7,tfc:8,Chc:9,Khc:10};b.G0=function(m,g,k,d){return m == a.Z1 || m == a.F1 || m == a.uga && 432E5 <= k || m == a.Nea && g === c.Lea && 0 < Number(d);};b.gHa=function(m){return 1100 <= m && 1199 >= m;};b.Sea=function(m,g){return 1 <= m && 9 >= m?g + m:g;};b.hHa=function(m){return (0,b.Sea)(m,c.hpb);};b.iHa=function(m){return (0,b.Sea)(m,c.BA);};b.Ax=function(m){var g,k,d;g={};k=m.errorExternalCode || m.Le;d=m.errorDetails || m.Yb;g.ErrorSubCode=m.errorSubCode || m.wa || c.jp;k && (g.ErrorExternalCode=k);d && (g.ErrorDetails=d);return g;};},9002:function(r,b,a){var m,g,k,d;function c(f,n){this.va=f;this.c7=this.va.se.ea(k.ma) - 1;this.ZVb=this.n9=0;this.id="" + n.LB();}Object.defineProperty(b,"__esModule",{value:!0});b.qDa=void 0;r=a(5163);m=a(22674);g=a(30869);k=a(5021);a=a(62665);c.prototype.Lb=function(){var f,n;f=this.va.se.ea(k.ma) - this.c7;if(f < this.n9){n=this.n9 + 1;this.c7-=n - f;f=n;}this.n9=f;return (0,k.Ob)(this.n9);};c.prototype.BOb=function(){return this.ZVb++;};Ya.Object.defineProperties(c.prototype,{nz:{configurable:!0,enumerable:!0,get:function(){return (0,k.Ob)(this.c7);}}});d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.hg)),r.__param(1,(0,m.l)(a.Cx))],d);b.qDa=d;},33543:function(r,b,a){var m,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fea=void 0;r=a(5163);a=a(22674);m={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(k){for(var d=new Uint8Array(k.length / 2),f=0;f < d.length;f++)d[f]=this.Zhb(k.substr(2 * f,2));return d;};c.prototype.encode=function(k){var h;for(var d="",f=k.length,n=0;n < f;n++){h=k[n];d+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return d;};c.prototype.CM=function(k,d){var f;f="";for(d<<=1;d--;)(f=(("0123456789ABCDEF")[k & 15] || "0") + f,k>>>=4);return f;};c.prototype.Zhb=function(k){var d;d=k.length;if(7 < d)throw Error("hex to long");for(var f=0,n=0;n < d;n++)f=16 * f + m[k[n]];return f;};g=c;g=r.__decorate([(0,a.U)()],g);b.fea=g;},30033:function(r,b,a){var m,g,k,d,f,n,h,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gEa=void 0;r=a(5163);a=a(22674);g=Array.prototype.slice;k=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");g=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};n={};h={};l=/\s+/g;[k,g].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;f[u]=q << 12;n[u]=q << 6;h[u]=q;}});c.prototype.encode=function(p){return m.toa(p,k,"=");};c.prototype.decode=function(p){return m.Cna(p);};c.Cna=function(p){var q,u,t;p=p.replace(l,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var v=0,w=0,y;w < u;){y=d[p[v++]] + f[p[v++]] + n[p[v++]] + h[p[v++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[w++]=y >>> 16;q[w++]=y >>> 8 & 255;q[w++]=y & 255;}if(0 < t && (y=d[p[v++]] + f[p[v++]],q[w++]=y >>> 16,1 < t && (y+=n[p[v++]],q[w++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.toa=function(p,q,u){for(var t="",v=0,w=p.length,y=w - 2,x;v < y;){x=(p[v++] << 16) + (p[v++] << 8) + p[v++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(v == y){x=(p[v++] << 8) + p[v++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(v == w - 1){x=p[v++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};g=m=c;g=m=r.__decorate([(0,a.U)()],g);b.gEa=g;},66057:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p){this.userAgentData=p;this.ud=this.uKb(h,l.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.ORa=b.vEa=void 0;r=a(5163);m=a(22674);g=a(4203);k=a(83767);d=a(63368);a=a(75236);c.prototype.V7=function(h,l){var p;if(l=this.wQb(l))switch(h){case n.uz:p=0 < l.length?Number(l[0]):0;break;case n.VN:p=1 < l.length?Number(l[1]):0;break;case n.sO:p=2 < l.length?Number(l[2]):0;break;case n.tba:p=3 < l.length?Number(l[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.wQb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.zC=function(h){return this.ud.name === h;};c.prototype.mH=function(h){return this.ud.gaa.name === h;};c.prototype.tTb=function(h){return this.ud.$Qb === h;};c.prototype.uKb=function(h,l){return Object.assign(Object.assign({$Qb:this.wKb(h,l)},this.tKb(h,l)),{gaa:this.xKb(h,l)});};c.prototype.wKb=function(h,l){return l && l.hardware?l.hardware:(/Mobile|iPhone/).test(h)?g.C1.phone:(/Android/).test(h)?g.C1.s$b:g.C1.DCb;};c.prototype.tKb=function(h,l){return l && l.name && l.version?{name:l.name,version:l.version}:(/OPR/).test(h)?{name:g.Hk.opera,version:""}:(/Tesla/).test(h)?{name:g.Hk.yhb,version:""}:(/Quest/).test(h)?{name:g.Hk.Hcb,version:""}:(l=h.match(/Edge\/(\d*)\./))?{name:g.Hk.Up,version:l[1]}:(l=h.match(/Edg\/(\d*)\./))?{name:g.Hk.c0a,version:l[1]}:(l=h.match(/Chrome\/(\d*)\./))?{name:g.Hk.nma,version:l[1]}:(l=h.match(/Firefox\/(\d*)\./))?{name:g.Hk.K1a,version:l[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:g.Hk.xeb,version:h[1]}:{name:g.Hk.nma,version:""};};c.prototype.xKb=function(h,l){return l && l.os && l.os.name && l.os.version?{name:l.os.name,version:l.os.version}:(/CrOS/).test(h)?{name:g.Nn.$Xa,version:""}:(l=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:g.Nn.I8a,version:l[1] + "." + l[2] + "." + l[3]}:(/Windows NT/).test(h)?{name:g.Nn.rCa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:g.Nn.Hka,version:""}:(/Linux/).test(h)?{name:g.Nn.f8a,version:""}:(/iPhone/).test(h)?{name:g.Nn.B6a,version:""}:{name:g.Nn.rCa,version:""};};Ya.Object.defineProperties(c.prototype,{L6a:{configurable:!0,enumerable:!0,get:function(){return this.zC(g.Hk.nma);}},Isa:{configurable:!0,enumerable:!0,get:function(){return this.zC(g.Hk.Up);}},AW:{configurable:!0,enumerable:!0,get:function(){return this.zC(g.Hk.c0a);}},N8:{configurable:!0,enumerable:!0,get:function(){return this.zC(g.Hk.K1a);}},Ssa:{configurable:!0,enumerable:!0,get:function(){return this.zC(g.Hk.opera);}},JW:{configurable:!0,enumerable:!0,get:function(){return this.zC(g.Hk.xeb);}},d7a:{configurable:!0,enumerable:!0,get:function(){return this.zC(g.Hk.yhb);}},V8:{configurable:!0,enumerable:!0,get:function(){return this.zC(g.Hk.Hcb);}},xW:{configurable:!0,enumerable:!0,get:function(){return this.mH(g.Nn.Hka);}},lH:{configurable:!0,enumerable:!0,get:function(){return this.mH(g.Nn.B6a);}},I8:{configurable:!0,enumerable:!0,get:function(){return this.mH(g.Nn.Hka) && this.tTb(g.C1.phone);}},yW:{configurable:!0,enumerable:!0,get:function(){return this.mH(g.Nn.$Xa);}},Osa:{configurable:!0,enumerable:!0,get:function(){return this.mH(g.Nn.f8a);}},iz:{configurable:!0,enumerable:!0,get:function(){return this.mH(g.Nn.I8a);}},rw:{configurable:!0,enumerable:!0,get:function(){return this.mH(g.Nn.rCa);}},Lp:{configurable:!0,enumerable:!0,get:function(){return this.V7(n.uz,this.ud.version);}},O_b:{configurable:!0,enumerable:!0,get:function(){return this.V7(n.uz,this.ud.gaa.version);}},P_b:{configurable:!0,enumerable:!0,get:function(){return this.V7(n.VN,this.ud.gaa.version);}},Q_b:{configurable:!0,enumerable:!0,get:function(){return this.V7(n.sO,this.ud.gaa.version);}}});f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(d.IRa)),r.__param(1,(0,m.l)(k.jR)),r.__param(2,(0,m.l)(a.L2))],f);b.vEa=f;(function(h){h[h.uz=0]="major";h[h.VN=1]="minor";h[h.sO=2]="patch";h[h.tba=3]="revision";})(n=b.ORa || (b.ORa={}));},19699:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t;function c(v,w,y,x,z,A){this.ul=v;this.config=y;this.Ko=x;this.va=z;this.is=A;this.log=w.Za("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=b.nea=void 0;r=a(5163);g=a(22674);k=a(36129);d=a(87386);f=a(5021);n=a(17892);h=a(4203);l=a(59818);p=a(30869);q=a(42207);u=a(17612);t=a(82100);b.nea="errors";c.prototype.load=function(){var v,w;v=this;if(!this.config().p0a)return Promise.resolve([]);w=(0,f.Ob)(this.config().pAb);return this.Ko.Bq(w,this.k8a([])).catch(function(y){v.log.error("Load failed.",y);return [];});};c.prototype.add=function(v,w,y,x,z){var A;A=this;return this.config().p0a && w && y && (w === u.fb.Mga || w === u.fb.iS + "." + t.Ss)?this.k8a([{time:v,keySystem:w,code:y,Pc:x,De:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.KVb=function(){var v;v=this;return this.ul.create().then(function(w){return w.load(b.nea).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.wa === k.R.Px)return (v.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.fMb=function(v){return {time:(0,f.zh)(v[0]),keySystem:v[1],code:v[2],Pc:v[3],De:v[4]};};c.bac=function(v){return [v.time.ea(f.Qn),v.keySystem,v.code,v.Pc,v.De];};c.prototype.Z5b=function(v){var w;w={version:1,errors:v.map(m.bac)};return this.ul.create().then(function(y){return y.save(b.nea,w,!1);}).then(function(){return v;});};c.prototype.UKb=function(v){var w,y;w=(0,f.zh)(this.config().oAb);y=this.va.se.qa(w);return v.filter(function(x){return x.time.qa(y).Z6a();});};c.prototype.pcc=function(v){return v.filter(this.eTb.bind(this)).map(this.fMb);};c.prototype.eTb=function(v){return this.is.ck(v[0]) && this.is.Bp(v[1]) && this.is.ck(v[2]) && (this.is.ck(v[3]) || void 0 === v[3]) && (this.is.Bp(v[4]) || void 0 === v[4])?!0:!1;};c.prototype.PKb=function(v){var w;w=this;return v.filter(function(y){return w.config().UJb.includes(y.code);});};c.prototype.QKb=function(v){return v.slice(-this.config().mAb);};c.prototype.k8a=function(v){var w;w=this;return this.KVb().then(function(y){return w.pcc(y);}).then(function(y){return w.UKb(y);}).then(function(y){return y.concat(v);}).then(function(y){return w.PKb(y);}).then(function(y){return w.QKb(y);}).then(function(y){return w.Z5b(y);});};a=m=c;a=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(n.rx)),r.__param(1,(0,g.l)(d.$a)),r.__param(2,(0,g.l)(h.Zb)),r.__param(3,(0,g.l)(l.NA)),r.__param(4,(0,g.l)(p.hg)),r.__param(5,(0,g.l)(q.$f))],a);b.$Ea=a;},31149:function(r,b,a){var m;function c(g,k,d,f,n,h,l,p,q,u,t,v,w,y){this.code=void 0 === g?m.V.jp:g;this.Pc=k;this.De=d;this.Iy=f;this.Dz=n;this.message=h;this.details=l;this.data=p;this.Tt=q;this.c1b=u;this.alert=t;this.Aka=v;this.Ad=w;this.kY=y;this.pa=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Qc=void 0;m=a(36129);c.Nf=function(g){var k,d,f;if(g){k=g.stack;d=g.number;f=g.message;f || (f="" + g);k?(g="" + k,0 !== g.indexOf(f) && (g=f + "\n" + g)):g=f;d && (g+="\nnumber:" + d);return g;}return "";};c.prototype.EU=function(g){this.details=c.Nf(g);this.data=g;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Pc,extCode:this.De,edgeCode:this.Iy,mslCode:this.Dz,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Tt,playbackServiceError:this.c1b};};c.Kpa=function(g,k){return new c(g,m.R.Bm,void 0,void 0,void 0,void 0,k.message,k.stack);};c.mkb=function(g,k){return new c(g,k,void 0,void 0,void 0,void 0,void 0,void 0);};c.mdc=function(g,k,d){return new c(g,k,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Qc=c;},84183:function(r,b,a){var m,g,k,d;function c(f){return g.CQ.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;r=a(5163);m=a(12501);g=a(64174);k=a(22674);a=a(83767);ea(c,g.CQ);Ya.Object.defineProperties(c.prototype,{zjb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([m.config(m.od,"usePerformanceApi")],d.prototype,"zjb",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.qea))],d);b.nFa=d;},691:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u){var t;t=this;this.config=l;this.fGb=p;this.Kb=q;this.performance=u;this.w_b=function(v){t.yza=v.qa(t.se);};(0,m.Co)(this,"date");(0,m.Co)(this,"performance");this.Mxb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.yza=g.Ba;this.Kb.addListener(h.vfa.efb,this.w_b);}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;r=a(5163);m=a(66523);g=a(5021);k=a(22674);d=a(63368);f=a(87061);n=a(15160);h=a(85001);c.prototype.txb=function(l){return l.add(this.yza);};Ya.Object.defineProperties(c.prototype,{se:{configurable:!0,enumerable:!0,get:function(){return this.i$a?(0,g.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,g.Ob)(this.fGb.now());}},MI:{configurable:!0,enumerable:!0,get:function(){return this.se.add(this.yza);}},i$a:{configurable:!0,enumerable:!0,get:function(){return this.config.zjb && this.Mxb;}}});a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.oFa)),r.__param(1,(0,k.l)(d.RFa)),r.__param(2,(0,k.l)(n.Yea)),r.__param(3,(0,k.l)(d.Iga)),r.__param(3,(0,k.optional)())],a);b.pFa=a;},76928:function(r,b,a){var m,g,k,d;function c(f,n){this.is=f;this.ke=n;}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;r=a(5163);g=a(22674);k=a(42207);a=a(74870);c.prototype.encode=function(f){var n,h;n=this;h="";this.ke.aC(f,function(l,p){l=n.E0a(l) + "=" + n.E0a(p);h=h?h + ("," + l):l;});return h;};c.prototype.E0a=function(f){return this.is.hG(f)?this.is.ck(f)?"" + f:this.is.Bp(f)?(f=f.replace(m.fya,this.nua.bind(this)),!m.l3b.test(f) && m.BYb.test(f) && (f='"' + f + '"'),f):this.is.M3(f)?"" + f:this.is.Xja(f)?"NaN":"":"";};c.prototype.nua=function(f){return m.map[f];};d=m=c;d.map={'"':'""',"\r":"","\n":" "};d.fya=/(?!^.+)["\r\n](?=.+$)/g;d.l3b=/["].*["]/g;d.BYb=/[", ]/;d=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.$f)),r.__param(1,(0,g.l)(a.Fh))],d);b.EFa=d;},61453:function(r,b,a){var m,g;function c(k,d){this.Ac=k;this.y5=d;}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;r=a(5163);m=a(22674);a=a(53085);c.prototype.yh=function(k){this.Gg();this.ij=this.Ac.xk(this.y5,k);};c.prototype.Gg=function(){this.ij && this.ij.cancel();this.ij=void 0;};g=c;g=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.bi))],g);b.SFa=g;},85125:function(r,b,a){var m,g,k,d;function c(f){f=g.CQ.call(this,f,"DebugConfigImpl") || this;f.bkc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;r=a(5163);m=a(12501);g=a(64174);k=a(22674);a=a(83767);ea(c,g.CQ);Ya.Object.defineProperties(c.prototype,{Kzb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([m.config(m.od,"breakOnError")],d.prototype,"Kzb",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.qea))],d);b.TFa=d;},69997:function(r,b,a){var m,g,k,d;function c(f,n,h){this.config=f;this.Cb=n;this.la=h.Za("General");}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;r=a(5163);m=a(22674);g=a(42207);k=a(90597);a=a(87386);c.prototype.assert=function(){};c.prototype.pyb=function(f,n){this.assert(this.Cb.hG(f),n);};c.prototype.qyb=function(f,n){this.assert(this.Cb.wg(f),n);};c.prototype.u4=function(f,n){this.assert(this.Cb.Bp(f),n);};c.prototype.wyb=function(f,n){this.assert(this.Cb.Nm(f),n);};c.prototype.uyb=function(f,n){this.assert(this.Cb.Bp(f) || null === f || void 0 === f,n);};c.prototype.t4=function(f,n){this.assert(this.Cb.ck(f),n);};c.prototype.syb=function(f,n){this.assert(this.Cb.Fka(f),n);};c.prototype.vyb=function(f,n){this.assert(this.Cb.IT(f),n);};c.prototype.tyb=function(f,n){this.assert(this.Cb.nT(f),n);};c.prototype.oyb=function(f,n){this.assert(this.Cb.M3(f),n);};c.prototype.ryb=function(f,n){this.assert(this.Cb.O3(f),n);};c.prototype.SSb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.UFa)),r.__param(1,(0,m.l)(g.$f)),r.__param(2,(0,m.l)(a.$a))],d);b.WFa=d;},69216:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u){this.Ea=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;r=a(5163);g=a(22674);k=a(81918);d=a(31149);f=a(36129);n=a(85001);h=a(5021);l=a(22365);a=a(21801);c.prototype.D_a=function(q){var u,t,v,w,y,x,z,A,B,D;u=this;w=q.mediaTime.value;y=q.pr.value;x=q.Ab.value;z=q.state.value;A={segmentId:q.Qqa(),mediaTime:w,segmentTime:q.jC(),bufferingState:m.Xzb[y],presentingState:m.h2b[x],playbackState:m.d1b[z],mseBuffersBusy:this.QPb(q),intBuffersBusy:this.iOb(q),tabVisible:this.r$b(),decodedFrameCount:this.EGb(q),videoElementInDom:this.Ecc(q),lastVideoSync:this.Ea.Lb().qa((0,h.Ob)(q.NZ)).ea(h.ma)};B=x === n.kb.If?q.bb.yg?this.config.Cab:this.config.Bab:this.config.a$a;if(y !== n.uf.oe){if((y=f.R.xmb,this.WWa(A.mseBuffersBusy,A.intBuffersBusy)))D=m.dEa;}else (x !== n.kb.Ie?y=f.R.zmb:(y=f.R.ymb,(x=q.ae) && 0 === x.r7() && (D=m.psb)),(x=q.ae) && x.Gb.sourceBuffers.forEach(function(C){var E,G;E=m.Kg[C.mediaType];A[E + "Ranges"]=C.h7();try{G=C.buffered();}catch(F){G=void 0;}G && 0 !== G.length?(C=1E3 * G.end(0) - w,A[E + "Undecoded"]=C,1 < G.length && (D=m.xlb),w < 1E3 * G.start(0) || w > 1E3 * G.end(0)?D=m.ylb:C < B.ea(h.ma)?D=m.zlb:u.WWa(A.mseBuffersBusy,A.intBuffersBusy) && (D=m.dEa)):(A[E + "Undecoded"]=0,D=m.wlb);}));x=q.Pdb.B4a();z=w === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (v=q.eb) || void 0 === v?void 0:v.mBa;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(C){q="Cannot stringify details: " + C;}return new d.Qc(f.V.FMa,y,D,void 0,void 0,void 0,q,void 0);};c.prototype.QPb=function(q){var u;if(q.Gb){u={};q.Gb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.iOb=function(q){var u;if(q.Gb){u={};q.Gb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.sh()};});return u;}};c.prototype.r$b=function(){return !l.Qg.hidden;};c.prototype.EGb=function(q){return (q=q.ae) && (q=q.Gb.fa) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.Ecc=function(q){if(q=q.ae)if(q=q.Gb.fa)return l.Qg.body.contains(q);return !1;};c.prototype.WWa=function(q,u){var t,v,w,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (v=u.audio) || void 0 === v?void 0:v.updating) && (null === (w=q.video) || void 0 === w?void 0:w.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=m=c;p.wlb="1";p.xlb="2";p.ylb="3";p.dEa="4";p.zlb="5";p.psb="6";p.Kg=["Audio","Video"];p.Xzb=["","NORMAL","BUFFERING","STALLED"];p.h2b=["","WAITING","PLAYING ","PAUSED","ENDED"];p.d1b=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.Kc)),r.__param(1,(0,g.l)(a.fga))],p);b.YFa=p;},2010:function(r,b,a){var m,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;r=a(5163);m=a(22674);g=a(90030);c.prototype.nM=function(k,d){var f;f=this;k && Object.entries(d).forEach(function(n){var h,l,p;h=ja(n);n=h.next().value;h=h.next().value;if(f.gTb(h)){l=ja(h);h=l.next().value;p=l.next().value;l=k[h];Array.isArray(l)?(f.Mna(k,n,h),l.forEach(function(q){f.nM(q,p);})):h === g.rj?Object.values(k).forEach(function(q){f.nM(q,p);}):(f.Mna(k,n,h),"object" === typeof l && f.nM(l,p));}else f.Mna(k,n,h);});};c.prototype.gTb=function(k){return Array.isArray(k);};c.prototype.Mna=function(k,d,f){k.hasOwnProperty(d) || d === f || Object.defineProperty(k,d,{get:function(){return k[f];},set:function(n){return k[f]=n;},enumerable:!0});};a=c;a=r.__decorate([(0,m.U)()],a);b.cHa=a;},95947:function(r,b,a){var m,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XQ=b.kHa=void 0;r=a(5163);m=a(31811);a=a(22674);c.prototype.create=function(){return new m.Xj();};g=c;g=r.__decorate([(0,a.U)()],g);b.kHa=g;b.XQ="EventSourceFactorySymbol";},31811:function(r,b,a){var m,g;function c(){this.Wp={};this.id="$es$" + m.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Xj=void 0;r=a(5163);a=a(22674);c.prototype.addListener=function(k,d,f){var n,h;n="$netflix$player$order" + this.id + "$" + k;if(this.Wp){h=this.Wp[k]?this.Wp[k].slice():[];f && (d[n]=f);0 > h.indexOf(d) && (h.push(d),h.sort(function(l,p){return (l[n] || 0) - (p[n] || 0);}));this.Wp[k]=h;}};c.prototype.removeListener=function(k,d){if(this.Wp && this.Wp[k]){for(var f=this.Wp[k].slice(),n;0 <= (n=f.indexOf(d));)f.splice(n,1);this.Wp[k]=f;}};c.prototype.Fc=function(k,d,f){var n;if(this.Wp){n=this.kqa(k);for(k={LJ:0};k.LJ < n.length;(k={LJ:k.LJ},k.LJ++))f?(function(h){return function(){var l;l=n[h.LJ];setTimeout(function(){l(d);},0);};})(k)():n[k.LJ].call(this,d);}};c.prototype.Gg=function(){this.Wp=void 0;};c.prototype.on=function(k,d,f){this.addListener(k,d,f);};c.prototype.kqa=function(k){var d;return null !== (d=this.Wp && (this.Wp[k] || (this.Wp[k]=[]))) && void 0 !== d?d:[];};g=m=c;g.counter=0;g=m=r.__decorate([(0,a.U)()],g);b.Xj=g;},11629:function(r,b,a){var m,g,k,d,f;function c(n,h){this.va=n;this.random=h;}Object.defineProperty(b,"__esModule",{value:!0});b.kJa=void 0;r=a(5163);g=a(22674);k=a(5021);d=a(30869);a=a(10306);c.prototype.LB=function(){return this.va.se.ea(k.Qn) * m.UEa + Math.floor(this.random.random() * m.UEa);};f=m=c;f.UEa=1E8;f=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.hg)),r.__param(1,(0,g.l)(a.p2))],f);b.kJa=f;},52657:function(r,b,a){var m;function c(g,k,d,f,n){this.version=g;this.cI=k;this.yAa=d;this.ul=f;this.Ru=n;this.yk=new m.lJa(g,k,d,f,n);this.Ql=[];}Object.defineProperty(b,"__esModule",{value:!0});b.rfa=void 0;m=a(51665);c.prototype.load=function(g){var k;k=this;return this.yk.load(g).then(function(){var d;k.Ql=null !== (d=k.yk.Ql) && void 0 !== d?d:[];});};c.prototype.add=function(g){this.Ql.push(g);return this.yk.set(this.Ql);};c.prototype.remove=function(g,k){g=this.F2a(this.GM(g,k));return 0 <= g?(this.Ql.splice(g,1),this.yk.set(this.Ql)):Promise.resolve();};c.prototype.update=function(g,k){k=this.F2a(this.GM(g,k));return 0 <= k?(this.Ql[k]=g,this.yk.set(this.Ql)):Promise.resolve();};c.prototype.GM=function(g,k){for(var d=0;d < this.Ql.length;++d)if(k(this.Ql[d],g))return this.Ql[d];};c.prototype.F2a=function(g){return g?this.Ql.indexOf(g):-1;};b.rfa=c;},51665:function(r,b,a){var m,g;function c(k,d,f,n,h){this.version=k;this.cI=d;this.yAa=f;this.ul=n;this.Ru=h;}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;m=a(36129);g=a(31149);c.prototype.load=function(k){return this.JVb(k);};c.prototype.set=function(k){this.Ql=k;return this.K0b();};c.prototype.JVb=function(k){var d;d=this;this.o8a || (this.o8a=new Promise(function(f,n){function h(l){d.eHb().then(function(){n(l);}).catch(function(){n(l);});}d.dra().then(function(l){d.storage=l;return d.storage.load(d.cI);}).then(function(l){var p;l=l.value;try{p=k(l);d.version=p.version;d.Ql=p.data;f();}catch(q){h(q);}}).catch(function(l){l.wa !== m.R.Px?n(l):f();});}));return this.o8a;};c.prototype.K0b=function(){var k,d,f,n,h;k=this;if(!this.yAa)return Promise.resolve();if(this.tca){n=new Promise(function(l,p){d=l;f=p;});h=function(){k.tca=n;k.Pgb().then(function(){d();}).catch(function(l){f(l);});};this.tca.then(h).catch(h);return n;}return this.tca=this.Pgb();};c.prototype.Pgb=function(){var k,d;k=this;d=this.Ru();return new Promise(function(f,n){k.dra().then(function(h){return h.save(k.cI,d,!1);}).then(function(){f();}).catch(function(h){n(c.cac(m.V.uqb,h));});});};c.prototype.eHb=function(){var k;k=this;return this.yAa?new Promise(function(d,f){k.dra().then(function(n){return n.remove(k.cI);}).then(function(){d();}).catch(function(n){f(n);});}):Promise.resolve();};c.prototype.dra=function(){return this.storage?Promise.resolve(this.storage):this.ul.create();};c.cac=function(k,d){var f;if(d.wa && d.ic)return new g.Qc(k,d.wa,void 0,void 0,void 0,void 0,void 0,d.ic);if(void 0 !== d.Pc){f=d.message?d.message + " ":"";d.code=k;d.message="" === f?void 0:f;return d;}return d instanceof Error?new g.Qc(k,m.R.Bm,void 0,void 0,void 0,void 0,d.stack,d):new g.Qc(k,m.R.jp,void 0,void 0,void 0,void 0,void 0,d);};b.lJa=c;},76564:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qE=void 0;c=/^\S+$/;a.prototype.hG=function(m){return void 0 !== m;};a.prototype.wg=function(m){return null !== m && void 0 !== m;};a.prototype.HT=function(m){return a.MVa(m);};a.prototype.Yja=function(m){return !(!m || !a.MVa(m));};a.prototype.wB=function(m){return Array.isArray(m);};a.prototype.NVa=function(m){return !(!m || m.constructor != Uint8Array);};a.prototype.ck=function(m,g,k){return a.NUa(m,g,k);};a.prototype.Xja=function(m){return a.Xja(m);};a.prototype.Fka=function(m,g,k){return a.h4(m,g,k) && 0 === m % 1;};a.prototype.IT=function(m,g,k){return a.h4(m,g || 0,k);};a.prototype.nT=function(m){return a.h4(m,1);};a.prototype.fwb=function(m){return a.h4(m,0,255);};a.prototype.gwb=function(m){return m === +m && (0 === m || m !== (m | 0)) && !0;};a.prototype.OVa=function(m){return !(!m || !c.test(m));};a.prototype.Bp=function(m){return a.OUa(m);};a.prototype.Nm=function(m){return !(!a.OUa(m) || !m);};a.prototype.M3=function(m){return !0 === m || !1 === m;};a.prototype.O3=function(m){return "function" == typeof m;};a.OUa=function(m){return "string" == typeof m;};a.NUa=function(m,g,k){return "number" == typeof m && !isNaN(m) && isFinite(m) && (void 0 === g || m >= g) && (void 0 === k || m <= k);};a.Xja=function(m){return "number" == typeof m && isNaN(m);};a.h4=function(m,g,k){return a.NUa(m,g,k) && 0 === m % 1;};a.MVa=function(m){return "object" == typeof m;};b.qE=new a();},81734:function(r,b,a){var m,g,k;function c(d,f){this.Av=f?[f]:[];this.Sia="$op$" + k++;this.Qa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Jb=void 0;m=a(33096);g=a(45146);k=0;c.prototype.addListener=function(d,f){var n;n=this;(0,g.yna)(d);(0,g.oa)(0 > this.Av.indexOf(d));d[m.X1 + this.Sia]=f;this.Av=this.Av.slice();this.Av.push(d);this.Av.sort(function(h,l){return n.P8b(h,l);});};c.prototype.removeListener=function(d){var f;(0,g.yna)(d);this.Av=this.Av.slice();0 <= (f=this.Av.indexOf(d)) && this.Av.splice(f,1);};c.prototype.set=function(d,f){var n;if(this.Qa !== d){n={oldValue:this.Qa,newValue:d,Lh:f};this.Qa=d;this.Zsb=f;d=this.Av;f=d.length;for(var h=0;h < f;h++)d[h](n);}};c.prototype.when=function(d){var f;f=this;return new Promise(function(n){function h(l){if(d(l.newValue))return (f.removeListener(h),n(l.newValue));}if(d(f.Qa))return n(f.Qa);f.addListener(h);});};c.prototype.P8b=function(d,f){return (d[m.X1 + this.Sia] || 0) - (f[m.X1 + this.Sia] || 0);};Ya.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Qa;}},Lh:{configurable:!0,enumerable:!0,get:function(){return this.Zsb;}}});b.Jb=c;},55099:function(r,b,a){var m;function c(g){this.EMb=g;this.d8=!1;this.o8=this.Xf=this.NP=0;this.lW=!1;this.p8=0;}Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;m=a(32687);c.prototype.rka=function(g){g < this.NP && (this.Xf+=this.NP);this.NP=g;this.d8=!0;};c.prototype.rNb=function(){if(this.d8)return this.lW?this.p8 - this.o8:this.Xf + this.NP - this.o8;};c.prototype.refresh=function(){var g;g=this.EMb();(0,m.Tb)(g) && this.rka(g);};c.prototype.Z8b=function(){this.lW || (this.d8 && (this.p8=this.Xf + this.NP),this.lW=!0);};c.prototype.q9b=function(){this.lW && (this.d8 && (this.o8+=this.Xf + this.NP - this.p8),this.p8=0,this.lW=!1);};b.uMa=c;},72465:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.oga=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.oga=a;},20483:function(r,b,a){var m;function c(g){this.Vtb=void 0 === g?!1:g;this.Ze={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.gha=void 0;r=a(5163);a=a(22674);c.prototype.add=function(g,k){var d;k=void 0 === k?0:k;d=this.Ze[k];d?this.Vtb && -1 !== d.indexOf(g) || d.push(g):this.Ze[k]=[g];};c.prototype.remove=function(g,k){this.cy(g,void 0 === k?0:k);};c.prototype.removeAll=function(g){this.cy(g);};c.prototype.flatten=function(){var g;g=this;return Object.keys(this.Ze).sort().reduce(function(k,d){return k.concat(g.Ze[d]);},[]);};c.prototype.cy=function(g,k){Object.entries(this.Ze).forEach(function(d){var f,n;f=ja(d);d=f.next().value;f=f.next().value;if(void 0 === k || k === parseInt(d)){-1 < (n=f.indexOf(g)) && f.splice(n,1);}});};m=c;m=r.__decorate([(0,a.U)()],m);b.gha=m;},94293:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.h2=void 0;b.h2=function(){var a;a=this;this.promise=new Promise(function(c,m){a.resolve=c;a.reject=m;});};},4734:function(r,b,a){var m,g,k;function c(d){this.Ac=d;}Object.defineProperty(b,"__esModule",{value:!0});b.gPa=void 0;r=a(5163);m=a(22674);g=a(53085);k=a(59818);c.prototype.Bq=function(d,f){var n;n=this;return new Promise(function(h,l){var p;p=n.Ac.xk(d,function(){l(new k.Wq(d));});f.then(function(q){h(q);p.cancel();}).catch(function(q){l(q);p.cancel();});});};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.bi))],a);b.gPa=a;},67525:function(r,b,a){var m,g;function c(k){this.q$b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.pPa=void 0;r=a(5163);m=a(22674);a=a(10306);c.prototype.random=function(){return this.q$b.random();};c.prototype.Ncb=function(k,d){if("number" !== typeof k)(d=k.end,k=k.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(k + this.random() * (d - k));};g=c;g=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.TQa))],g);b.pPa=g;},74267:function(r,b){function a(c,m,g){if(null != g){if(0 < g(c,m))throw a.yZa(c,m);}else if(c.Tk && 0 < c.Tk(m))throw a.yZa(c,m);this.start=c;this.end=m;}Object.defineProperty(b,"__esModule",{value:!0});b.mha=void 0;a.yZa=function(c,m){return new RangeError("end [" + m + "] must be >= start [" + c + "]");};b.mha=a;},61909:function(r,b,a){var g,k,d,f;function c(n){this.Uj=n;(0,k.Co)(this,"timers");}function m(n,h){this.Uj=n;this.$Ab=h;}Object.defineProperty(b,"__esModule",{value:!0});b.UPa=void 0;r=a(5163);g=a(22674);k=a(66523);d=a(63368);f=a(5021);m.prototype.cancel=function(){this.$Ab(this.Uj);};c.prototype.yh=function(n){return this.xk(f.Ba,n);};c.prototype.xk=function(n,h){var l;l=this.Uj.setTimeout(h,n.ea(f.ma));return new m(this.Uj,function(p){p.clearTimeout(l);});};c.prototype.GI=function(n,h){var l;l=this.Uj.setInterval(h,n.ea(f.ma));return new m(this.Uj,function(p){p.clearInterval(l);});};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.hSa))],a);b.UPa=a;},57180:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JE=void 0;r=a(5163);a=a(22674);c.prototype.format=function(g,k){var f;for(var d=1;d < arguments.length;++d);f=Array.prototype.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(n,h){return "undefined" != typeof f[h]?f[h]:n;});};c.prototype.F9b=function(g){for(var k=g.length,d=new Uint16Array(k),f=0;f < k;f++)d[f]=g.charCodeAt(f);return d.buffer;};c.prototype.ahb=function(g){return JSON.stringify(g,null,"  ");};m=c;m=r.__decorate([(0,a.U)()],m);b.JE=m;},49721:function(r,b,a){var m,g,k,d;function c(f,n,h){var l;l=this;this.ag=f;this.Ac=n;this.y5=h;this.lO=function(p){l.ij=void 0;l.Hac(p || l.y5);};this.K7a=(0,k.Ob)(-this.y5.ea(k.ma));}Object.defineProperty(b,"__esModule",{value:!0});b.bRa=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(5021);a=a(53085);c.prototype.yh=function(f){this.dza=f;this.ij=this.ij || this.Mf(this.lO);};c.prototype.Gg=function(){this.ij && this.ij.cancel();this.ij=void 0;};c.prototype.Hac=function(f){var n,h;n=this.ag.Lb();if(this.dza){h=f.qa(n.qa(this.K7a));0 >= h.Tk(k.Ba)?(f=this.dza,this.dza=void 0,this.K7a=n,f()):this.ij=this.ij || this.Ac.xk(h,this.lO.bind(this,f));}};c.prototype.Mf=function(f){return this.Ac.xk(k.Ba,f);};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Kc)),r.__param(1,(0,m.l)(a.bi))],d);b.bRa=d;},84130:function(r,b,a){var m,g,k;function c(d,f,n){this.Ac=d;this.eBa=f;this.kw=n;}Object.defineProperty(b,"__esModule",{value:!0});b.nRa=void 0;r=a(5163);m=a(53085);g=a(22674);k=a(5021);c.prototype.$B=function(){this.ij || (this.ij=this.Ac.xk((0,k.Ob)(this.eBa),this.kw));};c.prototype.Ro=function(){this.ij && this.ij.cancel();this.ij=void 0;};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(m.bi))],a);b.nRa=a;},1639:function(r,b,a){var m,g,k,d;function c(f,n){this.Ea=f;this.entries=new Set();this.la=n.Za("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Lha=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(5021);a=a(87386);c.prototype.mark=function(f,n,h){f={name:f,Hs:this.Ea.Lb()};n && (f.na=n);h && (f.hf=h);this.entries.add(f);return f;};c.prototype.Aqa=function(){var f;f=[];this.entries.forEach(function(n){return f.push(n);});return f;};c.prototype.F3a=function(f){return this.Aqa().filter(function(n){return n.na === f;});};c.prototype.EOb=function(){var f;f={};try{f=this.Aqa().filter(function(n){return !n.na;}).reduce(function(n,h){n[h.name]=h.Hs.ea(k.ma);return n;},{});}catch(n){this.la.error(" getMapOfCommonMarks exception",n);}return f;};c.prototype.zdb=function(f){var n;n=this;this.Aqa().forEach(function(h){h.na === f && n.entries.delete(h);});};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Kc)),r.__param(1,(0,m.l)(a.$a))],d);b.Lha=d;},6214:function(r,b){function a(){this.searchParams={};}function c(m){this.Jp=m;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.GRa=void 0;c.prototype.toString=function(){return this.href;};Ya.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Jp + this.searchParams.toString();}}});b.GRa=c;a.prototype.get=function(m){return this.searchParams[m];};a.prototype.set=function(m,g){this.searchParams[m]=g;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(m,g,k){var d;d=ja(g);g=d.next().value;d=d.next().value;return "" + m + (0 == k?"?":"&") + g + "=" + d;},"");};},53399:function(r,b,a){var m,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JRa=void 0;r=a(5163);a=a(22674);c.prototype.encode=function(k){return m.toa(k);};c.prototype.decode=function(k){return m.Cna(k);};c.toa=function(k){if(!k)throw new TypeError("Invalid byte array");for(var d=0,f,n=k.length,h="";d < n;){f=k[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (k[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((k[d++] & 63) << 6) + (k[d++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(f);}return h;};c.Cna=function(k){var d,f,n,h,l;d=k.length;f=0;h=0;if(!(0 <= d))throw Error("bad string");for(n=d;n--;){l=k.charCodeAt(n);128 > l?f++:f=2048 > l?f + 2:f + 3;}f=new Uint8Array(f);for(n=0;n < d;n++)(l=k.charCodeAt(n),128 > l?f[h++]=l:(2048 > l?f[h++]=192 | l >>> 6:(f[h++]=224 | l >>> 12,f[h++]=128 | l >>> 6 & 63),f[h++]=128 | l & 63));return f;};g=m=c;g=m=r.__decorate([(0,a.U)()],g);b.JRa=g;},24900:function(r,b,a){var m,g,k,d;function c(f,n){this.is=f;this.Ui=n;}Object.defineProperty(b,"__esModule",{value:!0});b.KRa=void 0;r=a(5163);m=a(22674);a(36129);g=a(42207);k=a(6405);d=a(22365);c.prototype.OH=function(f,n,h){var l,p,q,u;l=this;if(n)if(h){p=h.iX;q=h.prefix;u=h.eaa;this.aC(n,function(t,v){if(!u || l.is.wg(v))f[(q || "") + (p?t.toLowerCase():t)]=v;});}else this.aC(n,function(t,v){f[t]=v;});return f;};c.prototype.aC=function(f,n){for(var h in f)f.hasOwnProperty(h) && n(h,f[h]);};c.prototype.IB=function(f,n){if(f.length == n.length){for(var h=f.length;h--;)if(f[h] != n[h])return !1;return !0;}return !1;};c.prototype.UYa=function(f,n){if(f.length != n.length)return !1;f.sort();n.sort();for(var h=f.length;h--;)if(f[h] !== n[h])return !1;return !0;};c.prototype.Nf=function(f){var n,h,l;if(f){n=f.stack;h=f.number;l=f.message;l || (l="" + f);n?(f="" + n,0 !== f.indexOf(l) && (f=l + "\n" + f)):f=l;h && (f+="\nnumber:" + h);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.cqa=function(f){return this.getFunctionName(f.constructor);};c.prototype.yva=function(f){var n,h;n=this;h="";this.is.wB(f) || this.is.NVa(f)?h=Array.prototype.reduce.call(f,function(l,p){return l + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Bp(f)?h=f:this.aC(f,function(l,p){h+=(h?", ":"") + "{" + l + ": " + (n.is.O3(p)?n.getFunctionName(p) || "function":p) + "}";});return "[" + this.cqa(f) + " " + h + "]";};c.prototype.createElement=function(f,n,h,l){var p;p=d.Qg.createElement(f);n && (p.style.cssText=n);h && (p.innerHTML=h);l && this.aC(l,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.OKb=function(f,n){return function(h){return h[f] === n;};};c.prototype.jY=function(f){var n;n={};(f || "").split("&").forEach(function(h){var l,p;h=h.trim();l=h.indexOf("=");if(0 <= l){p=decodeURIComponent(h.substr(0,l)).toLowerCase();n[p]=decodeURIComponent(h.substr(l + 1));}else n[h.toLowerCase()]=void 0;});return n;};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$f)),r.__param(1,(0,m.l)(k.vA))],a);b.KRa=a;},38385:function(r,b,a){var c,m,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.C8a=void 0;c=a(80401);m=a(76989);r=a(22674);g=a(36410);k=a(87386);d=a(42790);b.C8a=new r.md(function(f){f(k.$a).to(m.DKa).ia();f(g.fK).to(c.EKa).ia();f(k.Jfa).to(d.sKa).ia();});},87386:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UQ=b.$a=b.Jfa=b.nj=void 0;r=b.nj || (b.nj={});r[r.Lnb=0]="FATAL";r[r.Jk=1]="ERROR";r[r.Vha=2]="WARN";r[r.nfa=3]="INFO";r[r.XQa=4]="TRACE";r[r.L=5]="DEBUG";b.Jfa="LogFieldBuilderFactorySymbol";b.$a="LoggerFactorySymbol";b.UQ={};},36410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fK="LoggerSinksSymbol";},34126:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lfa=void 0;b.Lfa=a;a.Dmb="display";a.imb="console";},22097:function(r,b,a){var m,g;function c(k,d,f,n,h,l,p){this.level=k;this.Sm=d;this.timestamp=f;this.message=n;this.zc=h;this.prefix=l;this.index=void 0 === p?0:p;this.H9b=this.K9b();}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=void 0;m=a(5021);g={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Mca=function(k){k=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (k?"":" " + this.H9b);return (this.timestamp.ea(m.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (g[this.level] || this.level) + "|" + this.Sm + "| " + k;};c.prototype.K9b=function(){var n;for(var k=this.zc.length,d="",f=0;f < k;++f){n=this.zc[f].Cu;f && d.length && (d+=" ");if("object" === typeof n){if(null === n)d+="null";else if(n instanceof Error)d+=this.J9b(n);else try{d+=JSON.stringify(n);}catch(h){d+=this.I9b(n);}}else d+=n;}return d;};c.prototype.J9b=function(k){return k.toString() + (k.stack?"\n" + k.stack:"") + "\n";};c.prototype.I9b=function(k){var d;d=[];return JSON.stringify(k,function(f,n){if("object" === typeof n && null !== n){if(-1 !== d.indexOf(n))return "<cycle>";d.push(n);}return n;});};b.BDa=c;},98895:function(r,b,a){var m,g;function c(k,d,f,n,h,l){k=m.eK.call(this,k,d,f,n) || this;k.groups=h;Array.isArray(l)?k.prefix=l:l && "string" === typeof l && (k.prefix=[],k.prefix.push(l));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;m=a(29045);g=a(22097);ea(c,m.eK);c.prototype.pB=function(k,d,f){k=new g.BDa(k,this.Sm,this.Ea.Lb(),d,f,this.prefix);d=ja(this.Dn.Dn);for(f=d.next();!f.done;f=d.next())(f=f.value,f(k));};c.prototype.F5=function(k){return new c(this.Ea,this.R4,this.Dn,k,this.groups,this.prefix);};b.CDa=c;},37960:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fXa=void 0;b.fXa=function(a,c){var g;a=a.yOb();for(var m=0;m < c.length;++m){g=c[m];void 0 != g && null != g && (g.Ag && (g=g.Ag),g.constructor === Uint8Array?a.hxb(g):"MediaRequest" === g.constructor.name?a.Twb(g):"string" === typeof g?a.exb(g):"function" === typeof g?a.Nwb(g):g instanceof Error?a.Mwb(g):g instanceof Object && "function" === typeof g.toJSON?a.sVa(g.toJSON()):g instanceof Object?a.sVa(g):a.jxb(g));}return a.Wg();};},90694:function(r,b,a){var m;function c(g,k,d,f,n,h){this.level=g;this.Sm=k;this.timestamp=d;this.message=f;this.zc=n;this.index=void 0 === h?0:h;this.Sob={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Ifa=void 0;m=a(5021);c.prototype.Mca=function(g){var k;k="" + this.message;this.zc.forEach(function(d){k+=d.sJ(g);});return (this.timestamp.ea(m.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Sob[this.level] || this.level) + "|" + this.Sm + "| " + k;};b.Ifa=c;},42790:function(r,b,a){var m,g,k,d;function c(f,n){this.oc=f;this.ke=n;}Object.defineProperty(b,"__esModule",{value:!0});b.sKa=void 0;r=a(5163);m=a(22674);g=a(14600);k=a(2248);a=a(74870);c.prototype.yOb=function(){return new g.tKa(this.oc,this.ke);};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.ih)),r.__param(1,(0,m.l)(a.Fh))],d);b.sKa=d;},14600:function(r,b,a){var p,q,u;function c(t,v){this.oc=t;this.ke=v;this.zc=[];}function m(t){return l.call(this,t,function(v){return {Details:v};}) || this;}function g(t){return l.call(this,t,function(v){return JSON.parse(v.toJSON());}) || this;}function k(t,v){v=l.call(this,v,function(w){return {Base64:t.encode(w)};}) || this;v.oc=t;return v;}function d(t,v){v=l.call(this,v,function(w){return w();}) || this;v.ke=t;return v;}function f(t){return l.call(this,t,function(v){return {Exception:v.message || "" + v,StackTrace:v.stack || "nostack"};}) || this;}function n(t,v,w){v=l.call(this,v,w) || this;v.ke=t;return v;}function h(t){return l.call(this,t,function(v){return {Details:v};}) || this;}function l(t,v){this.Cu=t;this.value=v?v(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.tKa=void 0;r=a(5163);p=a(22674);q=a(74870);a=a(2248);l.prototype.XU=function(t){return this.Cu === t;};ea(h,l);h.prototype.sJ=function(){return "\r\n" + this.Cu;};ea(n,l);n.prototype.sJ=function(){var t;t="";this.ke.aC(this.value,function(v,w){try{t+=", " + v + ": " + w;}catch(y){try{t+=", " + v + ": " + JSON.stringify(w);}catch(x){t+=", error stringifying " + v;}}});return t.replace(/[\r\n]+ */g," ");};ea(f,l);f.prototype.sJ=function(t){var v;v="\r\n" + this.Cu.message;t || (v+="\r\n" + this.Cu.stack);return v;};ea(d,l);d.prototype.sJ=function(){var t;t="";this.ke.aC(this.value,function(v,w){t+=", " + v + ": " + w;});return t.replace(/[\r\n]+ */g," ");};ea(k,l);k.prototype.sJ=function(){return this.Cu?"\r\n" + this.oc.encode(this.Cu):"";};ea(g,l);g.prototype.sJ=function(){return this.Cu?this.Cu.toJSON():"";};ea(m,l);m.prototype.sJ=function(){return ", " + (this.Cu.toString?"" + this.Cu.toString():"");};c.prototype.exb=function(t){this.zc.push(new h(t));};c.prototype.sVa=function(t){this.zc.push(new n(this.ke,t));};c.prototype.Mwb=function(t){this.zc.push(new f(t));};c.prototype.Nwb=function(t){this.zc.push(new d(this.ke,t));};c.prototype.hxb=function(t){this.zc.push(new k(this.oc,t));};c.prototype.Twb=function(t){this.zc.push(new g(t));};c.prototype.jxb=function(t){this.zc.push(new m(t));};c.prototype.Wg=function(){return this.zc;};u=c;u=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(a.ih)),r.__param(1,(0,p.l)(q.Fh))],u);b.tKa=u;},76989:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q){this.Ea=l;this.Dn=p;this.Ota=q;}Object.defineProperty(b,"__esModule",{value:!0});b.DKa=void 0;r=a(5163);m=a(29045);g=a(22674);k=a(51742);d=a(81918);f=a(36410);n=a(87386);h=a(98895);c.prototype.Za=function(l,p,q,u,t){q=void 0 === q?this.Dn:q;return p?new k.hOa(this.Ea,this.Ota,q,p,l):t?new h.CDa(this.Ea,this.Ota,q,l,u || "",t):new m.eK(this.Ea,this.Ota,q,l);};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.Kc)),r.__param(1,(0,g.l)(f.fK)),r.__param(2,(0,g.l)(n.Jfa))],a);b.DKa=a;},29045:function(r,b,a){var m,g,k;function c(d,f,n,h){this.Ea=d;this.R4=f;this.Dn=n;this.Sm=void 0 === h?"General":h;this.Dma={};}Object.defineProperty(b,"__esModule",{value:!0});b.eK=void 0;m=a(87386);g=a(90694);k=a(37960);c.prototype.fVa=function(d,f){this.Dma[d]=f;};c.prototype.fatal=function(d,f){for(var n=[],h=1;h < arguments.length;++h)n[h - 1]=arguments[h];this.pB(m.nj.Lnb,d,this.fQ(d,n));};c.prototype.error=function(d,f){for(var n=[],h=1;h < arguments.length;++h)n[h - 1]=arguments[h];this.pB(m.nj.Jk,d,this.fQ(d,n));};c.prototype.warn=function(d,f){for(var n=[],h=1;h < arguments.length;++h)n[h - 1]=arguments[h];this.pB(m.nj.Vha,d,this.fQ(d,n));};c.prototype.info=function(d,f){for(var n=[],h=1;h < arguments.length;++h)n[h - 1]=arguments[h];this.pB(m.nj.nfa,d,this.fQ(d,n));};c.prototype.trace=function(d,f){for(var n=[],h=1;h < arguments.length;++h)n[h - 1]=arguments[h];this.pB(m.nj.XQa,d,this.fQ(d,n));};c.prototype.debug=function(d,f){for(var n=1;n < arguments.length;++n);!1;};c.prototype.log=function(d,f){for(var n=[],h=1;h < arguments.length;++h)n[h - 1]=arguments[h];this.debug.apply(this,[d].concat(aa(n)));};c.prototype.write=function(d,f,n){for(var h=[],l=2;l < arguments.length;++l)h[l - 2]=arguments[l];this.pB(d,f,this.fQ(f,h));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Sm};};c.prototype.F5=function(d){return new c(this.Ea,this.R4,this.Dn,d);};c.prototype.pB=function(d,f,n){d=new g.Ifa(d,this.Sm,this.Ea.Lb(),f,n);f=ja(this.Dn.Dn);for(n=f.next();!n.done;n=f.next())(n=n.value,n(d));};c.prototype.kNb=function(d){return 0 < Object.keys(this.Dma).length?[this.Dma].concat(aa(d)):d;};c.prototype.fQ=function(d,f){var n;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (n=Error("Empty message").stack) && void 0 !== n?n:"nostack"});return (0,k.fXa)(this.R4,this.kNb(f));};b.eK=c;},80401:function(r,b,a){var m;function c(){this.igb={};this.Dn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;r=a(5163);a=a(22674);c.prototype.eba=function(g,k){k && (this.igb[g]=k,this.Dn=Object.values(this.igb));};m=c;m=r.__decorate([(0,a.U)()],m);b.EKa=m;},51742:function(r,b,a){var m,g,k;function c(d,f,n,h,l){d=k.eK.call(this,d,f,n,l) || this;d.j=h;(0,m.Co)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.hOa=void 0;m=a(66523);g=a(90694);k=a(29045);ea(c,k.eK);c.prototype.F5=function(d){return new c(this.Ea,this.R4,this.Dn,this.j,d);};c.prototype.pB=function(d,f,n){d=new g.Ifa(d,this.Sm,this.Ea.Lb(),f,n,this.j.index);f=ja(this.Dn.Dn);for(n=f.next();!n.done;n=f.next())(n=n.value,n(d,this.j));};b.hOa=c;},56371:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.e$a=void 0;r=a(22674);c=a(76193);m=a(25857);b.e$a=new r.md(function(g){g(c.JLa).to(m.ILa).ia();});},76193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JLa="MomentObserverFactory";},25857:function(r,b,a){var m,g,k;function c(d){this.Ac=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ILa=void 0;r=a(5163);m=a(22674);g=a(89350);a=a(53085);c.prototype.pZa=function(d,f){return new g.KLa(this.Ac,d,f);};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.bi))],k);b.ILa=k;},89350:function(r,b){function a(c,m,g){this.Ac=c;this.config=m;this.getTime=g;}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;a.prototype.observe=function(c,m){var g;g=this;this.cancel();this.ij=this.Ac.GI(this.config.e4a(),function(){g.getTime() >= c && (g.cancel(),m());});};a.prototype.cancel=function(){this.ij && (this.ij.cancel(),this.ij=void 0);};b.KLa=a;},64274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sWb=b.KN=b.qWb=void 0;b.qWb=function(a){return a;};b.KN=function(a){return a;};b.sWb=function(a){return Object.assign({},a);};},33194:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.aa=void 0;r=a(22674);c=a(2911);m=a(93488);g=a(12242);k=a(71807);d=a(25830);f=a(49310);b.aa=new r.md(function(n){n(c.yha).to(g.eQa).ia();n(m.aQa).to(k.$Pa).ia();n(d.rRa).to(f.qRa).ia();});},93488:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aQa="SegmentConfigFactorySymbol";},2911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yha="SegmentManagerFactorySymbol";},25830:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rRa="TransitionLoggerSymbol";},61494:function(r,b,a){var k,d,f,n;function c(h,l,p,q,u,t,v){var w;w=this;this.ba=l;this.j=p;this.WN=q;this.Ac=u;this.oL=t;this.config=v;this.CL=function(){w.XC && (w.XC.cancel(),w.XC=void 0);};this.log=h.Za("SegmentManager",this.j);this.aa=new Map();this.j.bb.yg && (this.j.addEventListener(f.ha.HI,function(y){return w.Iw(y);}),this.j.addEventListener(f.ha.closed,this.CL));}function m(h,l){this.id=h;this.mma=l;}function g(h,l,p,q){return d.Qc.call(this,h,p,void 0,void 0,void 0,l,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uEa=void 0;k=a(36129);d=a(31149);f=a(85001);n=a(5021);ea(g,d.Qc);g.prototype.toString=function(){return this.code + "-" + this.Pc + " : " + this.message + "\n" + JSON.stringify(this.data);};m.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.hb,contentEndPts:this.wb};};Ya.Object.defineProperties(m.prototype,{hb:{configurable:!0,enumerable:!0,get:function(){return this.mma.startTimeMs;}},wb:{configurable:!0,enumerable:!0,get:function(){return this.mma.endTimeMs;}},Dw:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.mma.next);}}});c.prototype.Iw=function(h){var l;l=this;!1;h=h.position.segmentId;0 === this.aa.size && Object.entries(this.j.vV()).forEach(function(p){var q;q=ja(p);p=q.next().value;q=q.next().value;l.aa.set(p,new m(p,q));});this.da=this.aa.get(h);};c.prototype.play=function(h){this.OO && (this.OO=void 0);this.CL();this.log.trace("Playing segment",h);return this.S6a(h)?this.$0b(h):this.lY(h);};c.prototype.Lo=function(h){this.log.trace("Queueing segment",h);return this.S6a(h)?this.i3b(h):this.j3b(h);};c.prototype.Ji=function(h,l){var p,q;p=this;q=this.j.eb;if(null === q || void 0 === q || !q.Ih)return Promise.reject(this.getError(k.V.cEa,"ASE session manager is not yet initialized",k.R.eea,{segmentId:h,updates:l}));this.log.trace("Updating next segment weights",h,l);return new Promise(function(u,t){try{q.mbc(h,l);p.j.fireEvent(f.ha.KBa,{H:h,Qbc:l});u();}catch(v){t(p.getError(k.V.cEa,"updateNextSegmentWeights threw an exception",k.R.ulb,{segmentId:h,updates:l,error:v}));}});};c.prototype.S6a=function(h){return this.da?void 0 !== this.j.vV()[this.da.id].next[h]:!1;};c.prototype.Uqa=function(){var h;h=this.j.eb;if(null === h || void 0 === h?0:h.Ih)return h.ro().h1b;};c.prototype.qPb=function(){var h;h=this.j.eb;if(null === h || void 0 === h?0:h.Ih)return h.ro().id;};c.prototype.hNb=function(){var h;h=this.j.eb;if(null === h || void 0 === h?0:h.Ih)return (h={wla:0},h.wla);};c.prototype.$0b=function(h){var l,p;l=this;p=this.j.eb;return null !== p && void 0 !== p && p.Ih?this.da && 1 === this.da.Dw.length?this.lY(h):this.j.ae?void 0 === this.hNb()?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.lY(h)):new Promise(function(q,u){var x,z,A,B,D,C;function t(){!A && z && x && (C.cancel(),A=!0,l.log.trace("Telling ASE to choose the next segment",{id:h,stopped:z,repositioned:x,completed:A}),p.f5(h,!1)?(q(),A=!0):(A=!0,l.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),l.lY(h).then(q).catch(u)));}function v(){x=!0;l.log.trace("Player is repositioned",{id:h,stopped:z,repositioned:x,completed:A});l.j.removeEventListener(f.ha.Kj,v);t();}function w(){l.j.removeEventListener(f.ha.qD,w);p.stop();}function y(){z=!0;l.log.trace("ASE is stopped",{id:h,stopped:z,repositioned:x,completed:A});p.removeEventListener("stop",y);t();}x=!1;z=!1;A=!1;B=l.aa.get(h);D=l.Uqa();if(void 0 === D)return (l.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),l.lY(h));l.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:D,currentSegment:l.da,nextSegment:B},null,"  "));l.j.fireEvent(f.ha.z$,{ph:l.da && l.da.id,aO:h});p.addEventListener("stop",y);l.j.addEventListener(f.ha.qD,w);l.j.addEventListener(f.ha.Kj,v);C=l.Ac.xk((0,n.zh)(10),function(){A=!0;C.cancel();u(l.getError(k.V.AQ,"Timed out waiting for the player to be repositioned and ASE to be stopped",k.R.qlb,{id:h,stopped:z,repositioned:x,completed:A}));});l.ba.seek(D,f.pc.HE);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(k.V.AQ,"MediaPresenter is not initialized",k.R.rlb,{id:h}))):Promise.reject(this.getError(k.V.AQ,"ASE session manager is not yet initialized",k.R.eea,{id:h}));};c.prototype.lY=function(h){var l;l=this.aa.get(h);return l?this.dZ(l,k.V.AQ):Promise.reject(this.getError(k.V.AQ,"Unable to find the separated segment",k.R.bEa,{id:h}));};c.prototype.i3b=function(h){var l;l=this.j.eb;if(null === l || void 0 === l || !l.Ih)return Promise.reject(this.getError(k.V.BQ,"ASE session manager is not yet initialized",k.R.eea,{id:h}));this.j.fireEvent(f.ha.z$,{ph:this.da && this.da.id,aO:h});if(l.f5(h,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.t_a(h);};c.prototype.j3b=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.O,srcsegment:this.qPb()});return this.t_a(h);};c.prototype.t_a=function(h){var l,p;l=this;if(this.OO)return Promise.reject(this.getError(k.V.BQ,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",k.R.tlb,{currentSegment:this.da?this.da.id:void 0,queuedSegment:this.OO.id,failedSegment:h}));if(!this.da)return Promise.reject(this.getError(k.V.BQ,"Unable to queue segment for delayed seek because there is no currently playing segment",k.R.plb,{nextSegmentid:h}));p=this.aa.get(h);if(!p)return Promise.reject(this.getError(k.V.BQ,"Unable to find the separated segment",k.R.bEa,{nextSegmentid:h,currentSegmentId:this.da.id}));this.OO={id:h,promise:new Promise(function(q,u){var t;l.XC=l.WN.pZa({e4a:function(){return (0,n.Ob)(100);}},function(){return l.ba.Or() || 0;});t=l.Uqa() - l.config().b$a;l.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:t});l.XC.observe(t,function(){l.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:l.da.id,playerEndPts:l.Uqa(),pts:t});l.OO=void 0;l.CL();l.dZ(p,k.V.BQ).then(q).catch(u);});})};this.OO.promise.catch(function(q){l.j.vd(q.code,q);});return Promise.resolve();};c.prototype.dZ=function(h,l){var p;p=this;return new Promise(function(q,u){var t;try{t=h.hb;!1;p.ba.seek(t,f.pc.Nx);q();}catch(v){u(p.getError(l,"Seek threw an exception",k.R.slb,{id:h.id,error:v}));}});};c.prototype.getError=function(h,l,p,q){this.log.warn(l,q);return new g(h,l,p,q);};b.uEa=c;},71807:function(r,b,a){var g,k;function c(){}function m(d,f,n,h,l){this.debug=d;this.version=f;this.uUb=n;this.X0b=h;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.$Pa=void 0;r=a(5163);g=a(22674);k=a(5021);m.prototype.ZNb=function(){return this.config().$G;};m.prototype.Wpa=function(){return this.config().SWa;};m.prototype.e4a=function(){return (0,k.Ob)(this.config().x1b);};m.prototype.B3a=function(){return this.config().OVb;};m.prototype.E3a=function(){return this.config().IWb;};c.prototype.LG=function(d,f,n,h,l){return new m(d,f,n,h,l);};a=c;a=r.__decorate([(0,g.U)()],a);b.$Pa=a;},12242:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w;function c(y,x,z,A,B,D,C,E,G,F,I){this.Ea=y;this.Ff=x;this.WN=z;this.hCa=A;this.mY=B;this.Ac=D;this.oL=C;this.wh=E;this.Noa=G;this.Ch=F;this.config=I;}Object.defineProperty(b,"__esModule",{value:!0});b.eQa=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(87386);d=a(76193);f=a(79274);n=a(51038);h=a(58872);l=a(64181);p=a(61494);q=a(24550);u=a(53085);t=a(95947);v=a(74870);a=a(4203);c.prototype.qFb=function(y,x,z){return new l.fQa(this.Ea,this.Ff,this.WN,this.hCa,x,y,this.wh,this.mY,this.Ch,this.Noa,z);};c.prototype.JEb=function(y,x){return new p.uEa(this.Ff,y,x,this.WN,this.Ac,this.oL,this.config);};w=c;w=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Kc)),r.__param(1,(0,m.l)(k.$a)),r.__param(2,(0,m.l)(d.JLa)),r.__param(3,(0,m.l)(h.TRa)),r.__param(4,(0,m.l)(n.dOa)),r.__param(5,(0,m.l)(u.bi)),r.__param(6,(0,m.l)(q.yQ)),r.__param(7,(0,m.l)(f.PR)),r.__param(8,(0,m.l)(t.XQ)),r.__param(9,(0,m.l)(v.Fh)),r.__param(10,(0,m.l)(a.Zb))],w);b.eQa=w;},64181:function(r,b,a){var d,f,n;function c(h,l,p,q,u,t,v,w,y,x,z){var A;A=this;this.Ea=h;this.WN=p;this.Wwa=q;this.config=u;this.tb=t;this.wh=v;this.mY=w;this.Ch=y;this.Wj=z;this.aKb=Object.values(d.Ka).map(function(B){return {event:B,kw:function(D){return A.Kb.Fc(B,D);}};});this.Kb=x.create();this.mD=[];this.log=l.Za("SegmentManager");this.AG=!0;this.wk=this.Ch.createElement("div",n.lha);}function m(h,l,p,q,u,t,v,w,y,x,z){var A;A=this;this.log=h;this.config=l;this.xZb=p;this.Wwa=q;this.wh=u;this.mY=t;this.Gu=v;this.I=w;this.wk=y;this.tb=x;this.Wj=z;this.CL=function(){A.XC && (A.XC.cancel(),A.XC=void 0);};this.zra=function(B){A.log.trace("Received the transition event",{movieId:B.O});A.u3b();};this.Hta=function(){};this.log.debug("Constructing session data",g(w));this.Z$b=new Promise(function(B){A.u3b=B;});}function g(h){return {movieId:h.O};}function k(h){return JSON.stringify({movieId:h.O,startPts:h.jb,logicalEnd:h.dj,params:h.sb?{trackingId:h.sb.Vj,authParams:h.sb.F4,sessionParams:h.sb.mm,disableTrackStickiness:h.sb.Vna,uiPlayStartTime:h.sb.ND,loadImmediately:h.sb.E9,playbackState:h.sb.playbackState?{currentTime:h.sb.playbackState.currentTime,volume:h.sb.playbackState.volume,muted:h.sb.playbackState.muted,playbackRate:h.sb.playbackState.playbackRate}:void 0,pin:h.sb.pbb,heartbeatCooldown:h.sb.Kra,uiLabel:h.sb.Md,uxLabels:h.sb.dda}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.fQa=void 0;d=a(85001);f=a(5021);n=a(33096);m.prototype.load=function(h){var l,p;l=this;this.log.trace("Loading new segment",g(this.I));this.ba=this.Wwa.NL(this.config,this.mY,this.wh,this.I,this.tb,this.Wj);this.ba.addEventListener(d.Ka.gN,function(q){l.log.trace("Segment is inactive",g(l.I));l.Gu.close(l.wh(q.errorCode));});this.ba.addEventListener(d.Ka.closed,this.CL);if(h)(this.log.debug("Pausing background segment",g(this.I)),this.ba.addEventListener(d.Ka.$sa,this.zra),this.ba.gbb());else {this.wk.appendChild(this.ba.gn());p=function(q){l.zra(q);l.ba.removeEventListener(d.Ka.loaded,p);};this.ba.addEventListener(d.Ka.loaded,p);}};m.prototype.observe=function(){var h,l,p;h=this;this.log.trace("Observing segment",k(this.I));if(this.XC)this.log.trace("Segment is currently observing",g(this.I));else if(this.I.sb && this.I.sb.E9)this.Hta(this);else {l=this.xZb.pZa(this.config,function(){var q;if(h.ba){q=h.ba.Or();if(q)return q;}return 0;});p=this.AAb(this.I);this.log.trace("Adding a moment to watch",{time:p});l.observe(p,function(){h.log.trace("Segment has reached its loading point",g(h.I));h.Hta(h);h.CL();});}};m.prototype.close=function(h){this.log.info("Closing segment",{segment:k(this.I),error:h});return this.ba?(this.ba.removeEventListener(d.Ka.$sa,this.zra),this.ba.close(h)):Promise.resolve();};m.prototype.z_b=function(h){this.Hta=h;};m.prototype.AAb=function(h){var l,p;l=h.dj;h=h.sb?h.sb.E9:!1;p=0;l && !h && (p=l - this.config.B3a(),p < this.config.E3a() && (h=l - this.config.E3a(),p=l - h / 2));return p;};c.prototype.yPb=function(){return this.Xg && this.Xg.ba?this.Xg.ba.pw():!1;};c.prototype.gn=function(){return this.wk;};c.prototype.SG=function(){if(!this.Xg || !this.Xg.ba)throw Error("Player not ready");return this.Xg.ba;};c.prototype.Fbc=function(h){var l,p;p=this.kpa(h);p?this.hjb(p,h):this.tb.Pr(h.id) || this.log.error("Tried to update a non-existent segment",{segment:k(h),currentMovieId:this.Xg.I.O,queuedMovieIds:this.mD.map(function(q){return q.I.O;}),xid:null === (l=this.Xg.ba) || void 0 === l?void 0:l.au()});};c.prototype.Je=function(h){var l;this.log.info("Adding segment",k(h));if(this.AG){this.log.trace("First segment, loading",g(h));l=this.p8a(h);this.AG=!1;}else (this.log.trace("Subsequent segment, caching",g(h)),(l=this.kpa(h))?this.hjb(l,h):(l=this.createSession(h),this.mD.push(l),this.Xg.observe()));return l?l.Z$b:null;};c.prototype.transition=function(h,l){var p,q,u;q=this.SH;u=null === q || void 0 === q?void 0:q.ba;if(q && u)return (this.SH=void 0,this.log.info("Transitioning segment",k(q.I)),u.Vza(this.Ea.Lb().ea(f.ma)),this.pib(q,l));l=null === q || void 0 === q?void 0:q.I;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Xg.I.O,xid:null === (p=this.Xg.ba) || void 0 === p?void 0:p.au(),nextSegmentId:h,currentSegment:k(this.Xg.I),nextSegment:l?k(l):void 0,queuedMovieIds:this.mD.map(function(t){return t.I.O;})});return Promise.reject();};c.prototype.close=function(h){var l;l=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(g(this.Xg.I)),nextSession:this.SH?JSON.stringify(g(this.SH.I)):void 0});h=[this.Xg.close(h)];this.SH && h.push(this.SH.close());return Promise.all(h).then(function(){l.SH=void 0;l.mD=[];l.AG=!0;});};c.prototype.addListener=function(h,l,p){this.Kb.addListener(h,l,p);};c.prototype.removeListener=function(h,l){this.Kb.removeListener(h,l);};c.prototype.hjb=function(h,l){this.X_b(h.I,l);this.log.trace("Overwrote existing segment data",k(h.I));};c.prototype.p8a=function(h){var l,p;l=this;this.log.info("Loading the next episode",g(h));if(this.Xg){this.config.Wpa()[h.O]=h.jb;p=this.kpa(h);}else p=this.createSession(h);if(p)return (this.log.trace("Found the next session",g(h)),p.z_b(function(q){l.Nhb(q);}),this.Xg?(this.log.trace("Subsequent playback, caching player and pausing",g(h)),this.SH=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",g(h)),p.load(!1),this.pib(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",g(h));};c.prototype.pib=function(h,l){var p,q,u,t,v;l=void 0 === l?{}:l;t=h.ba?null === (p=h.ba) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=h.ba) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Xg.I.O,mid:h.I.O,error:t,xid:null === (u=h.ba) || void 0 === u?void 0:u.au()}),Promise.reject());this.log.trace("Playing episode",g(h.I));p=this.Xg;this.Xg=h;h=this.Xg.ba;h.Eza(!1);this.KJ(h,p?p.ba:void 0);if(p && p.ba){v=p.ba.gn();q=h.gn();v.style.display="none";p=p.close();this.wk.appendChild(q);p.then(function(){v.parentElement && v.parentElement.removeChild(v);});q.style.display="block";h.Yca(l);h.zP();h.play();}return Promise.resolve();};c.prototype.Nhb=function(h){var l,p,q,u,t;if(this.mD.length && h.ba){l=h.ba.Or();p=this.mD[0];q=this.Xg.I.dj;u=this.Xg.I.sb?this.Xg.I.sb.E9:!1;if(q || u){u?t=0:q && (t=q - this.config.B3a());null !== l && l >= t && (this.log.info("Got a time change, loading the next player",g(p.I)),this.p8a(p.I),this.mD.splice(0,1),this.Nhb(h));}}};c.prototype.kpa=function(h){return this.Xg.I.O === h.O?this.Xg:this.mD.find(function(l){return l.I.O === h.O;});};c.prototype.X_b=function(h,l){h.jb=l.jb || h.jb;h.dj=l.dj || h.dj;h.sb=l.sb || h.sb;h.W=l.W || h.W;};c.prototype.createSession=function(h){return new m(this.log,this.config,this.WN,this.Wwa,this.wh,this.mY,this,h,this.wk,this.tb,this.Wj);};c.prototype.KJ=function(h,l){this.aKb.forEach(function(p){l && l.removeEventListener(p.event,p.kw);h.addEventListener(p.event,p.kw);});this.Kb.Fc(d.FE.hZ);};b.fQa=c;},49310:function(r,b,a){var m,g,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qRa=void 0;r=a(5163);m=a(22674);g=a(4203);k=a(3887);c.prototype.M2b=function(d,f,n,h){this.config().J6b && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (n={isBranching:h || void 0,isPlaygraph:!h || void 0,mid:f.O,xid:f.na,srcxid:n.na,srcmid:n.O,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!h && d.auxMid && d.auxMid !== f.O && (n.moffms=(0,k.cg)(f.vU)),f.IN.gb.transition(n)));};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Zb))],a);b.qRa=a;},24550:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yQ=b.ilb=b.wDa=b.yDa=void 0;(function(a){a[a.eIb=0]="downloading";a[a.dIb=1]="downloaded";a[a.KT=2]="appended";a[a.buffered=3]="buffered";a[a.Du=4]="removed";a[a.Ooc=5]="unused";})(b.yDa || (b.yDa={}));(function(a){a[a.waiting=1]="waiting";a[a.$mc=2]="ondeck";a[a.eIb=4]="downloading";a[a.dIb=8]="downloaded";a[a.tW=6]="inprogress";})(b.wDa || (b.wDa={}));b.ilb="AseBufferViewSymbol";b.yQ="AseBufferAccountingSymbol";},1891:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p){return function(){return new Promise(function(q,u){var t;t=p.nb.get(g.CGa);t.Eb().then(function(){q(t);}).catch(function(v){u(v);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.Y_a=void 0;r=a(22674);m=a(2413);g=a(31701);k=a(98281);d=a(24550);f=a(64372);n=a(52476);h=a(14188);l=a(33633);b.Y_a=new r.md(function(p){p(n.qKa).to(h.pKa).ia();p(m.zGa).to(l.rKa);p(d.yQ).to(f.uDa).ia();p(g.CGa).to(k.AGa).ia();p(g.BGa).a_(c);});},2413:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zGa="DxDisplaySymbol";},31701:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CGa="DxManagerSymbol";b.BGa="DxManagerProviderSymbol";},52476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qKa="LogDisplayConfigSymbol";},64372:function(r,b,a){var m;function c(){this.q6b="";this.Occ=[[],[],[]];this.Ga=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=void 0;r=a(5163);m=a(22674);a(5021);a(24550);c.prototype.update=function(g){this.Occ[g.mediaType].forEach(function(k){k.Poc(g);});};Ya.Object.defineProperties(c.prototype,{H:{configurable:!0,enumerable:!0,get:function(){return this.q6b;}}});a=c;a=r.__decorate([(0,m.U)()],a);b.uDa=a;},44133:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;m=a(22365);c.bDb=function(g){var k;if(m.Qg.queryCommandSupported && m.Qg.queryCommandSupported("copy")){k=m.Qg.createElement("textarea");k.textContent=g;k.style.position="fixed";m.Qg.body.appendChild(k);k.select();try{m.Qg.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{m.Qg.body.removeChild(k);}}};b.mFa=c;},98281:function(r,b,a){var m,g;function c(k){this.NHb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;r=a(5163);m=a(22674);a=a(2413);c.prototype.Eb=function(){var k;k=this;this.tC || (this.tC=new Promise(function(d,f){var n;n=[];k.NHb.forEach(function(h){n.push(h.Eb());});Promise.all(n).then(function(){d();}).catch(function(h){f(h);});}));return this.tC;};g=c;g=r.__decorate([(0,m.U)(),r.__param(0,(0,m.QH)(a.zGa))],g);b.AGa=g;},14188:function(r,b,a){var m,g,k,d,f;function c(n,h){n=k.Ve.call(this,n,"LogDisplayConfigImpl") || this;n.Dj=h;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.pKa=void 0;r=a(5163);m=a(22674);g=a(12501);k=a(64174);d=a(83767);a=a(5614);ea(c,k.Ve);Ya.Object.defineProperties(c.prototype,{JY:{configurable:!0,enumerable:!0,get:function(){return !0;}},HN:{configurable:!0,enumerable:!0,get:function(){return this.Dj.HN;}},z8a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;r.__decorate([g.config(g.od,"renderDomDiagnostics")],f.prototype,"JY",null);r.__decorate([g.config(g.wC,"logDisplayMaxEntryCount")],f.prototype,"HN",null);r.__decorate([g.config(g.wC,"logDisplayAutoshowLevel")],f.prototype,"z8a",null);f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(d.Hl)),r.__param(1,(0,m.l)(a.sK))],f);b.pKa=f;},33633:function(r,b,a){var k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A;function c(B,D,C,E,G,F,I,P,M,L){var Q;Q=this;this.va=B;this.ag=D;this.Ch=C;this.Ac=E;this.Dn=G;this.config=F;this.kG=I;this.VAa=P;this.xna=M;this.ul=L;this.I$b=function(){Q.n_.yh(function(){Q.update();});};this.clear=function(){Q.entries=[];Q.update();};this.U9a=function(){Q.Re.tN=!Q.Re.tN;Q.MC && Q.RC && (Q.Re.tN?(Q.MC.style.display="inline-block",Q.RC.style.display="none"):(Q.RC.style.display="inline-block",Q.MC.style.display="none"));Q.RI(!1);};this.bWb=function(J){var H;Q.entries.push(J);H=Q.config.HN;0 <= H && Q.entries.length > H && Q.entries.shift();void 0 === Q.Re.ry[J.Sm] && (Q.Re.ry[J.Sm]=!0,Q.RI(!1));Q.Re.isVisible && !Q.Bhb?Q.I$b():Q.n_.yh();};this.WHb=function(){g.download("all",Q.entries.map(function(J){return J.Mca(!1);})).catch(function(J){console.error("Unable to download all logs to the file",J);});};this.uC=!1;this.Re={isVisible:!1,tN:!0,Wna:!0,Pta:t.nj.nfa,ry:{}};this.n_=this.VAa((0,p.zh)(1));this.RKb=this.xna((0,p.Ob)(250));this.entries=[];!1;!1;}function m(B){var D;this.elements=[];D=document.createElementNS(m.MZ,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.rKa=void 0;r=a(5163);k=a(22674);d=a(74870);f=a(45842);n=a(34043);h=a(53085);l=a(30869);p=a(5021);q=a(81918);u=a(33554);t=a(87386);v=a(36410);w=a(34126);y=a(52476);x=a(17892);z=a(43193);A=a(44133);g.download=function(B,D){return g.QNb(B).then(function(C){return g.gQb(C,D.join("\r\n")).then(function(E){return g.THb(E.filename,E.text);});});};g.QNb=function(B){return new Promise(function(D,C){var E,G,F,I,P,M,L;try{E=new Date();G=E.getDate().toString();F=(E.getMonth() + 1).toString();I=E.getFullYear().toString();P=E.getHours().toString();M=E.getMinutes().toString();L=E.getSeconds().toString();1 === G.length && (G="0" + G);1 === F.length && (F="0" + F);1 === P.length && (P="0" + P);1 === M.length && (M="0" + M);1 === L.length && (L="0" + L);D(I + F + G + P + M + L + "." + B + ".log");}catch(Q){C(Q);}});};g.gQb=function(B,D){return new Promise(function(C,E){try{C({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(G){E(G);}});};g.THb=function(B,D){var C;try{C=document.createElement("a");C.setAttribute("href",D);C.setAttribute("download",B);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(E){return Promise.reject(E);}};m.prototype.yP=function(){var B;B=document.createElementNS(m.MZ,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};m.prototype.BP=function(B,D,C){var E;E=document.createElementNS(m.MZ,"path");E.setAttribute("d",B);D && E.setAttribute("fill",D);C && E.setAttribute("fill-rule",C);this.addElement(E);return this;};m.prototype.xZ=function(B,D,C,E,G){var F;G=void 0 === G?"#000000":G;F=document.createElementNS(m.MZ,"rect");F.setAttribute("x",B.toString());F.setAttribute("y",D.toString());F.setAttribute("height",C.toString());F.setAttribute("width",E.toString());G && F.setAttribute("fill",G);this.addElement(F);return this;};m.prototype.g9b=function(){var B;B=document.createElementNS(m.MZ,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};m.prototype.end=function(){this.elements.pop();return this;};m.prototype.Wg=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};m.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ya.Object.defineProperties(m,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},fG:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});m.MZ="http://www.w3.org/2000/svg";c.prototype.Eb=function(){var B;B=this;this.tC || (this.tC=new Promise(function(D){qb.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == z.EA.Rob?B.toggle():C.keyCode == z.EA.E && A.mFa.bDb(B.kG().hk));});B.Dn.eba(w.Lfa.Dmb,B.bWb);D();}));return this.tC;};c.prototype.show=function(){document.body && (this.element || (this.QEb(),this.uC=!0),!this.Re.isVisible && this.element && (document.body.appendChild(this.element),this.Re.isVisible=!0,this.update(!0)));};c.prototype.lw=function(){this.uC && this.Re.isVisible && this.element && (document.body.removeChild(this.element),this.Re.isVisible=!1);};c.prototype.toggle=function(){this.Re.isVisible?this.lw():this.show();this.RI(!1);};c.prototype.QEb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.Uo=this.LFb());B.appendChild(this.MFb());B.appendChild(this.KEb());this.element=B;}catch(C){console.error("Unable to create the log console",C);}};c.prototype.LFb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.Bhb=!0;B.update();B.Uo && (B.Uo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.Bhb=!1;B.update();B.Uo && (B.Uo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.MFb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.oFb());B.appendChild(this.$Eb());B.appendChild(this.VEb());B.appendChild(this.NFb());B.appendChild(this.OEb());B.appendChild(this.vFb());B.appendChild(this.sFb());B.appendChild(this.WEb());B.appendChild(this.PEb());return B;};c.prototype.KEb=function(){var B,D,C,E,G,F;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");E=this.createElement("select",this.gw(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(C);D.appendChild(G);C.appendChild(E);C.addEventListener("mousedown",function(I){I.preventDefault();});F=!1;C.addEventListener("click",function(){F?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.Re.ry).sort()).forEach(function(I){G.appendChild(B.LEb(I,C));}),G.style.display="block");F=!F;});return D;};c.prototype.LEb=function(B,D){var C,E,G;C=this;E=this.createElement("label","display: block;margin:1px");E.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.Re.ry[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(C.Re.ry).forEach(function(F){C.Re.ry[F]="all" === B;}),D.click()):C.Re.ry[B]=!C.Re.ry[B];C.RI(!0);});E.appendChild(G);E.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return E;};c.prototype.oFb=function(){var B,D;B=this;D=this.createElement("select",this.gw(22,NaN,1,2),'<option value="' + t.nj.Jk + '">Error</option><option value="' + (t.nj.Vha + '">Warn</option><option value="') + (t.nj.nfa + '">Info</option><option value="') + (t.nj.XQa + '">Trace</option><option value="') + (t.nj.L + '">Debug</option>'));D.value=this.Re.Pta.toString();D.addEventListener("change",function(C){B.Re.Pta=parseInt(C.target.value);B.RI(!0);},!1);return D;};c.prototype.$Eb=function(){var D,C;function B(E){return D.RKb.yh(function(){var G;G=E.target.value;D.Re.filter=G?new RegExp(G):void 0;D.RI(!0);});}D=this;C=this.createElement("input",this.gw(14,150,1,2));C.value=this.Re.filter?this.Re.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",B,!1);C.addEventListener("change",B,!1);return C;};c.prototype.VEb=function(){var B,D,C,E;B=this;D=this.createElement("div",this.gw(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.Re.Wna;C.addEventListener("change",function(G){B.Re.Wna=G.target.checked;B.RI(!0);},!1);E=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");E.setAttribute("for","details");E.innerHTML="View details";D.appendChild(C);D.appendChild(E);return D;};c.prototype.NFb=function(){var B,D,C;B=this;D=this.createElement("button",this.gw());C=new m("0 0 24 24").yP().g9b().end().BP("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",m.fG,"nonzero").end().end().Wg();D.appendChild(C);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.OEb=function(){var B,D;B=this.createElement("button",this.gw());D=new m("0 0 24 24").yP().xZ(0,0,24,24,m.background).end().BP("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",m.fG).end().end().Wg();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.vFb=function(){var B;this.RC=this.createElement("button",this.gw());this.RC.style.display=this.Re.tN?"none":"inline-block";B=new m("0 0 24 24").yP().xZ(0,0,24,24,m.background).end().BP("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",m.fG,"nonzero").end().end().Wg();this.RC.addEventListener("click",this.U9a,!1);this.RC.appendChild(B);this.RC.setAttribute("title","Shrink the log console");return this.RC;};c.prototype.sFb=function(){var B;this.MC=this.createElement("button",this.gw());this.MC.style.display=this.Re.tN?"inline-block":"none";B=new m("0 0 24 24").yP().xZ(4,4,16,16,m.background).end().BP("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",m.fG,"nonzero").end().end().Wg();this.MC.addEventListener("click",this.U9a,!1);this.MC.appendChild(B);this.MC.setAttribute("title","Expand the log console");return this.MC;};c.prototype.WEb=function(){var B,D;B=this.createElement("button",this.gw());D=new m("0 0 26 26").yP().xZ(0,0,24,24,m.background).end().BP("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",m.fG,"nonzero").end().end().Wg();B.appendChild(D);B.addEventListener("click",this.WHb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.PEb=function(){var B,D,C;B=this;D=this.createElement("button",this.gw());C=new m("0 0 24 24").yP().xZ(0,0,24,24,m.background).end().BP("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",m.fG,"nonzero").end().end().Wg();D.appendChild(C);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.RI=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.JY && Promise.resolve(this.Zzb() + this.RNb().join("\r\n")).then(function(C){D.element && D.Uo && (D.Uo.value=C,D.element.style.cssText=D.Re.tN?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.Ac.xk(p.Ba,function(){D.Uo.scrollTop=D.Uo.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};c.prototype.RNb=function(){var B,D;B=this;D=[];this.entries.forEach(function(C){(C.level || C.level) <= B.Re.Pta && B.Re.ry[C.Sm] && (C=C.Mca(!B.Re.Wna),B.Re.filter && !B.Re.filter.test(C) || D.push(C));});return D;};c.prototype.Zzb=function(){var B;B=this.kG();return "Version: 6.0044.603.911 \n" + ((B?"Esn: " + B.hk:"") + "\nJsSid: ") + (this.ag.id + ", Epoch: " + this.va.se.ea(p.Qn) + ", Start: " + this.ag.nz.ea(p.Qn) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,C,E){return this.Ch.createElement(B,D,C,E);};c.prototype.gw=function(B,D,C,E){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + m.fG + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (E?"border-radius:" + E + "px;":"");};a=c;a.r9b="logDxDisplay";a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(l.hg)),r.__param(1,(0,k.l)(q.Kc)),r.__param(2,(0,k.l)(d.Fh)),r.__param(3,(0,k.l)(h.bi)),r.__param(4,(0,k.l)(v.fK)),r.__param(5,(0,k.l)(y.qKa)),r.__param(6,(0,k.l)(u.xx)),r.__param(7,(0,k.l)(f.KE)),r.__param(8,(0,k.l)(n.v0)),r.__param(9,(0,k.l)(x.rx))],a);b.rKa=a;},72574:function(r,b,a){var g;function c(){return g.eS.apply(this,arguments) || this;}function m(k){return new g.Ws(k,b.bE);}Object.defineProperty(b,"__esModule",{value:!0});b.Ba=b.ALa=b.Cfa=b.Ps=b.bE=b.xXb=b.EUb=b.ta=b.ur=b.Vlb=void 0;g=a(35201);ea(c,g.eS);b.Vlb=c;b.ur=m;b.ta=function(k){return new g.Ws(k,b.Ps);};b.EUb=function(k){return new g.Ws(k,b.Cfa);};b.xXb=function(k){return new g.Ws(k,b.ALa);};b.bE=new c(1,"b");b.Ps=new c(8 * b.bE.Yf,"B",b.bE);b.Cfa=new c(1024 * b.Ps.Yf,"KB",b.bE);b.ALa=new c(1024 * b.Cfa.Yf,"MB",b.bE);b.Ba=m(0);},5021:function(r,b,a){var g;function c(){return g.eS.apply(this,arguments) || this;}function m(k){return new g.Ws(k,b.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.Ba=b.CIa=b.ega=b.Qn=b.ma=b.zE=b.timestamp=b.CRb=b.n$=b.zh=b.Ob=b.Vbb=b.HXb=b.dsb=void 0;g=a(35201);ea(c,g.eS);b.dsb=c;b.HXb=function(k){return new g.Ws(k,b.zE);};b.Vbb=function(k){return new g.Ws(k * b.Qn.Yf,b.zE);};b.Ob=m;b.zh=function(k){return new g.Ws(k,b.Qn);};b.n$=function(k){return new g.Ws(k,b.ega);};b.CRb=function(k){return new g.Ws(k,b.CIa);};b.timestamp=function(k){return m(k);};b.zE=new c(1,"\u03bcs");b.ma=new c(1E3,"ms",b.zE);b.Qn=new c(1E3 * b.ma.Yf,"s",b.zE);b.ega=new c(60 * b.Qn.Yf,"min",b.zE);b.CIa=new c(60 * b.ega.Yf,"hr",b.zE);b.Ba=m(0);},35201:function(r,b,a){var g;function c(k,d){this.Yf=d;this.rz=Math.floor(k);this.display=this.rz + " " + this.Yf.name;}function m(k,d,f){this.Yf=k;this.name=d;this.Jp=f?f:this;(0,g.Co)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Ws=b.eS=void 0;g=a(66523);m.prototype.XU=function(k){return this.Yf == k.Yf;};m.prototype.toJSON=function(){return this.name;};b.eS=m;c.prototype.ea=function(k){return this.Yf.XU(k)?this.rz:Math.floor(this.rz * this.Yf.Yf / k.Yf);};c.prototype.ixa=function(k){return this.Yf.XU(k)?this.rz:this.rz * this.Yf.Yf / k.Yf;};c.prototype.as=function(k){return new c(this.ea(k),k);};c.prototype.to=function(k){return new c(this.ea(k),k);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.rz,units:this.Yf.name};};c.prototype.add=function(k){return this.AYa(k);};c.prototype.qa=function(k){return this.AYa(k,function(d){return -d;});};c.prototype.scale=function(k){return new c(this.ea(this.Yf.Jp) * k,this.Yf.Jp);};c.prototype.Tk=function(k){return this.ea(this.Yf.Jp) - k.ea(this.Yf.Jp);};c.prototype.XU=function(k){return 0 == this.Tk(k);};c.prototype.k7a=function(){return 0 == this.rz;};c.prototype.Rsa=function(){return 0 > this.rz;};c.prototype.Z6a=function(){return 0 < this.rz;};c.prototype.AYa=function(k,d){d=void 0 === d?function(f){return f;}:d;return new c(this.ea(this.Yf.Jp) + d(k.ea(this.Yf.Jp)),this.Yf.Jp);};b.Ws=c;},4203:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hk={Ijc:"casttv",nma:"chrome",Ojc:"chromecast",Up:"edge",c0a:"edgeoss",K1a:"firefox",Elc:"ie",opera:"opera",Hcb:"quest",xeb:"safari",yhb:"tesla"};b.Nn={Hka:"android",B6a:"ios",$Xa:"chromeos",f8a:"linux",I8a:"mac",rCa:"windows"};b.C1={DCb:"computer",phone:"phone",s$b:"tablet"};b.Zb="ConfigSymbol";},12501:function(r,b,a){var k,d,f;function c(n){return function(h,l){return h.Wxa(l,n);};}function m(n,h){return n.Xaa.g3b[h] || g(n,h);}function g(n,h){n=n.az.data[h];switch(typeof n){case "undefined":break;case "string":case "number":case "boolean":return n.toString();default:return JSON.stringify(n);}}Object.defineProperty(b,"__esModule",{value:!0});b.JF=b.fya=b.object=b.PJb=b.url=b.ta=b.sk=b.BBa=b.RSb=b.HP=b.string=b.hA=b.od=b.wC=b.config=void 0;k=a(72574);d=a(5021);f=a(37187);b.config=function(n,h,l){l=void 0 === l?!1:l;return function(p,q,u){var t,v;t=void 0 !== h?h:q;v=u.get;void 0 !== v && (u.get=function(){var w;if(!this.NTb(q))return this.FPb(q);a:{w=(this.Exb || l?m:g)(this,t.toString());if(void 0 !== w)if((w=n(this.RX,w),w instanceof f.fp))this.a2a(t,w);else break a;w=v.bind(this)();}this.cP(q,w);return w;});return u;};};b.wC=function(n,h){return n.Vcb(h);};b.od=function(n,h){return n.Txa(h);};b.hA=function(n,h){return n.xq(h);};b.string=function(n,h){return n.Wxa(h);};b.HP=function(n,h){return n.Jj(h,b.string);};b.RSb=function(n,h){return n.Jj(h,b.wC);};b.BBa=function(n,h){return n.Jj(h,b.hA);};b.sk=function(n,h){n=n.xq(h);return n instanceof f.fp?n:(0,d.Ob)(n);};b.ta=function(n,h){n=n.xq(h);return n instanceof f.fp?n:(0,k.ta)(n);};b.url=c(/^\S+$/);b.PJb=function(n){return function(h,l){return h.Ucb(l,n);};};b.object=function(){return function(n,h){return n.Wcb(h);};};b.fya=c;b.JF=function(n,h){return function(l,p){return l.Jj(p,n,h);};};},83767:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qea="ConfigurableInputsSymbol";b.Hl="ValidatingConfigurableInputsSymbol";b.f0="ConfigNameSymbol";b.jR="InitParamsSymbol";},34231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kn=b.mv=b.Rs=void 0;(function(a){a[a.Kha=0]="Test";a[a.ufa=1]="Int";a[a.Srb=2]="Staging";a[a.hrb=3]="Prod";})(b.Rs || (b.Rs={}));(function(a){a[a.QR=0]="PreferMsl";a[a.SOa=1]="PreferNoMsl";a[a.Mpb=2]="NoMsl";})(b.mv || (b.mv={}));b.Kn="GeneralConfigSymbol";},5614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sK="PlatformConfigDefaultsSymbol";},27081:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Kga=void 0;c=a(5021);m=a(72574);g=a(75568);k={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Kga=function(){this.wza=!0;this.LF=[];this.Dh=[];this.jq=[];this.eM=!1;this.noa=!0;this.Pu=[g.Em.aob,g.Em.tea,g.Em.Brb,g.Em.kK];this.sn=void 0;this.zoa=!0;this.v6=!1;this.p4=(0,m.ta)(288E4);this.s4=(0,m.ta)(335544320);this.r4=(0,m.ta)(1E4);this.vz=(0,c.Ob)(15E3);this.VWb=(0,m.ta)(6291456);this.HN=1E3;this.Tla=!0;this.Kca=k;this.QP=(0,m.ta)(0);this.t8=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.u8=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.v9=["th","ta"];this.Nca=(0,c.Ob)(0);this.kW=!0;this.ada=!1;this.gM=!0;this.DJ=this.XB=this.Wv=!1;this.dG=["start"];};},52033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ONa="PlatformConfigOverridesSymbol";},83810:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(22674);c=a(4203);m=a(80217);g=a(83767);k=a(34231);d=a(33823);f=a(48004);n=a(40158);h=a(69484);l=a(34731);p=a(23563);q=a(18135);b.config=new r.md(function(u){u(c.Zb).je(function(){return function(){return qb._cad_global.config;};});u(g.qea).to(m.uFa).ia();u(g.Hl).to(m.NRa).ia();u(g.jR).to(m.tJa).ia();u(k.Kn).to(d.GHa).ia();u(f.YLa).to(n.XLa).ia();u(h.AHa).to(l.zHa).ia();u(p.Oq).to(q.VGa).ia();});},64174:function(r,b,a){var g,k,d,f;function c(n,h){var l;l=f.call(this,n,h) || this;l.QYa=h;l.debug=n.debug;l.la=n.Ff.Za(l.QYa);return l;}function m(n,h){this.QYa=h;this.Dxa={};this.az=n.az;this.RX=n.RX;this.Xaa=n.Xaa;}Object.defineProperty(b,"__esModule",{value:!0});b.Ve=b.CQ=b.WQa=void 0;r=a(5163);g=a(72465);k=a(22674);d=a(37187);b.WQa="isTestAccount";m.prototype.a2a=function(){};m.prototype.cP=function(n,h){this.Dxa[n]=[h,this.az.tba];};m.prototype.NTb=function(n){return g.oga.of(this.Dxa[n]).map(function(h){return h[1];}).or(-1) < this.az.tba;};m.prototype.FPb=function(n){return g.oga.of(this.Dxa[n]).map(function(h){return h[0];}).or(function(){throw Error("Invalid State Error");});};Ya.Object.defineProperties(m.prototype,{Exb:{configurable:!0,enumerable:!0,get:function(){var n,h;if(this && this.az && this.az.data){n=this.az.data[b.WQa];"undefined" !== typeof n && (h=n.toString());n=this.RX.Txa(h);n=n instanceof d.fp?!1:n;}else n=!1;return n;}}});f=m;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.Xo)()),r.__param(1,(0,k.Xo)())],f);b.CQ=f;ea(c,f);c.prototype.a2a=function(n,h){this.la.error("Invalid configuration value.",{name:n},h);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,k.Xo)()),r.__param(1,(0,k.Xo)())],a);b.Ve=a;},80217:function(r,b,a){var k,d,f,n,h;function c(){this.Dy={};this.qeb=0;}function m(l,p,q,u,t){this.debug=l;this.az=p;this.RX=q;this.Ff=u;this.Xaa=t;}function g(l,p,q){this.az=l;this.RX=p;this.Xaa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.tJa=b.NRa=b.uFa=void 0;r=a(5163);k=a(22674);d=a(90597);f=a(87386);n=a(37187);h=a(17842);a=a(83767);g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.jR)),r.__param(1,(0,k.l)(n.E2)),r.__param(2,(0,k.l)(h.jha))],g);b.uFa=g;m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.vx)),r.__param(1,(0,k.l)(a.jR)),r.__param(2,(0,k.l)(n.E2)),r.__param(3,(0,k.l)(f.$a)),r.__param(4,(0,k.l)(h.jha))],m);b.NRa=m;c.prototype.CXb=function(l){this.Dy=Object.assign({},this.Dy,l);this.qeb++;};Ya.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Dy;}},tba:{configurable:!0,enumerable:!0,get:function(){return this.qeb;}}});a=c;a=r.__decorate([(0,k.U)()],a);b.tJa=a;},33823:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q,u){p=d.Ve.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.Dj=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=b.vG=void 0;r=a(5163);m=a(5021);g=a(22674);k=a(12501);d=a(64174);f=a(34231);n=a(83767);a=a(5614);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.vG=function(p,q){return p.Ucb(h[q] || q,f.Rs);};ea(c,d.Ve);Ya.Object.defineProperties(c.prototype,{vG:{configurable:!0,enumerable:!0,get:function(){return f.Rs.hrb;}},Ogb:{configurable:!0,enumerable:!0,get:function(){return (0,m.zh)(8);}},$G:{configurable:!0,enumerable:!0,get:function(){return "";}},BL:{configurable:!0,enumerable:!0,get:function(){return "";}},i_:{configurable:!0,enumerable:!0,get:function(){return "";}},m4:{configurable:!0,enumerable:!0,get:function(){return !0;}},kW:{configurable:!0,enumerable:!0,get:function(){return this.Dj.kW;}},dKb:{configurable:!0,enumerable:!0,get:function(){return !1;}},ud:{configurable:!0,enumerable:!0,get:function(){return {};}},cta:{configurable:!0,enumerable:!0,get:function(){return !1;}},Js:{configurable:!0,enumerable:!0,get:function(){return !1;}},TU:{configurable:!0,enumerable:!0,get:function(){return !0;}},CD:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Ny:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.Rs.Kha,f.Rs.ufa].indexOf(this.vG);}}});l=c;r.__decorate([k.config(b.vG,"environment")],l.prototype,"vG",null);r.__decorate([k.config(k.sk,"storageTimeout")],l.prototype,"Ogb",null);r.__decorate([k.config(k.string,"groupName")],l.prototype,"$G",null);r.__decorate([k.config(k.string,"canaryGroupName",!0)],l.prototype,"BL",null);r.__decorate([k.config(k.string,"uiGroupName")],l.prototype,"i_",null);r.__decorate([k.config(k.od,"applyIndexedDbOpenWorkaround")],l.prototype,"m4",null);r.__decorate([k.config(k.od,"ignoreIdbOpenError")],l.prototype,"kW",null);r.__decorate([k.config(k.od,"executeStorageMigration")],l.prototype,"dKb",null);r.__decorate([k.config(k.object(),"browserInfo")],l.prototype,"ud",null);r.__decorate([k.config(k.od,"isTestAccount")],l.prototype,"cta",null);r.__decorate([k.config(k.od,"useRangeHeader")],l.prototype,"Js",null);r.__decorate([k.config(k.od,"enableMilestoneEventList")],l.prototype,"TU",null);r.__decorate([k.config(k.object,"storageRules")],l.prototype,"CD",null);l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(n.Hl)),r.__param(1,(0,g.l)(a.sK)),r.__param(2,(0,g.l)(n.f0)),r.__param(2,(0,g.optional)())],l);b.GHa=l;},41605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cFa="CapabilityDetectorFactorySymbol";},22210:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dd=void 0;b.Dd=a;a.dIa=/^hevc-/;a.eIa=/^hevc-main/;a.bIa=/^hevc-hdr-|hevc-dv/;a.$J=/^hevc-hdr-/;a.ux=/^hevc-dv/;a.ZQ=/h264mpl/;a.kE=/h264mpl30/;a.lE=/h264mpl31/;a.sA=/h264hpl.*-dash$/;a.ICa=/h264hpl.*-live$/;a.QA=/^vp9-/;a.Ki=/^av1-/;a.Mnb=/[l|L]4[0-1]-/;a.AK=/-L5[0-1]-/;a.MJa=/-live/;a.Fkb=/^heaac-2-/;a.Wnb=/^heaac-2hq-dash/;a.Rn=/^xheaac-dash/;a.umb=/ddplus-2/;a.vmb=/ddplus-5/;a.wmb=/ddplus-atmos/;},73796:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lc=void 0;m=a(56800);c.JZa=function(g){var k;k={};k[m.ef.UR]=c.ZQ;k[m.ef.T0]=c.ZQ;k[m.ef.AK]=c.bfa;k[m.ef.$J]=c.$J;k[m.ef.ux]=g || c.ux;k[m.ef.sA]=c.ZQ;k[m.ef.QA]=c.fS;k[m.ef.Ki]=c.Ki;return k;};b.Lc=c;c.Pua='video/mp4; codecs="avc1.4d0028"';c.ZQ="avc1.4d0028";c.bfa="hev1.1.6.L93.B0";c.vea="dvhe.05.01";c.PFa="dvhe.05.04";c.wea="dvhe.05.05";c.xea="dvhe.05.06";c.yea="dvhe.05.07";c.zea="dvhe.05.09";c.ux=c.vea;c.$J=c.bfa;c.Pq="mp4a.40.5";c.Rn="mp4a.40.42";c.tmb="ec-3";c.fS="vp09.00.40.08";c.Ki="av01.0.04M.08";},51259:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.Zm=void 0;r=a(22674);c=a(56800);m=a(4203);g=a(98960);k=a(1079);d=a(95162);f=a(57718);n=a(16152);h=a(79974);l=a(57657);p=a(41605);q=a(43466);u=a(22365);t=a(12931);v=a(43551);w=a(28185);y=a(6600);x=a(94800);z=a(74742);A=a(18580);B=a(63368);D=a(33430);C=a(78866);b.Zm=new r.md(function(E){E(d.XR).to(f.sQa).ia();E(c.hE).to(g.cGa).ia();E(n.BJa).to(h.AJa).ia();E(p.cFa).to(q.bFa).ia();E(n.PNa).xl({isTypeSupported:u.HA && u.HA.isTypeSupported});E(l.oHa).JD(function(G){return {ONb:function(){return G.nb.get(B.d2);}};});E(k.TJ).JD(function(G){return G.nb.get(m.Zb);});E(t.iLa).to(v.fLa).ia();E(D.eLa).to(C.dLa).ia();E(w.hLa).to(y.gLa).ia();E(x.Vea).to(z.nHa).ia();E(A.bPa).xl(qb);});},56800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hE=b.XRa=b.isb=b.cp=b.ef=b.Il=b.bv=b.u=void 0;(function(a){a[a.Audio=0]="Audio";a[a.PRa=1]="Video";})(b.u || (b.u={}));(function(a){a[a.wx=0]="Default";a[a.Gx=1]="Microsoft";})(b.bv || (b.bv={}));(function(a){a[a.wx=0]="Default";a[a.SJ=1]="Chrome";a[a.Gx=2]="Microsoft";})(b.Il || (b.Il={}));(function(a){a[a.UR=0]="SD";a[a.T0=1]="HD";a[a.AK=2]="UHD";a[a.ux=3]="DV";a[a.$J=4]="HDR10";a[a.sA=5]="AVCHigh";a[a.QA=6]="VP9";a[a.Ki=7]="AV1";})(b.ef || (b.ef={}));(function(a){a[a.J1=0]="Level_1_4";a[a.tE=1]="Level_2_2";})(b.cp || (b.cp={}));b.isb=function(){};(function(a){a[a.yhc=0]="Platform";a[a.Qec=1]="CurrentTitle";})(b.XRa || (b.XRa={}));b.hE="DeviceCapabilitiesSymbol";},1079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.TJ=b.jnb=void 0;c=a(56800);b.jnb=function(){this.LF=[];this.Dh=[];this.jq=[];this.CVa=[];this.cla=c.bv.wx;this.jda=c.Il.wx;};b.TJ="DeviceCapabilitiesConfigSymbol";},94800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vea=b.Bx=void 0;r=b.Bx || (b.Bx={});r.gsb="unknown";r.JCa="absent";r.aPa="present";r.Error="error";b.Vea="ExternalDisplayLogHelperSymbol";},57657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oHa="ExtraPlatformInfoProviderSymbol";},16152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BJa="IsTypeSupportedProviderFactorySymbol";b.PNa="PlatformIsTypeSupportedSymbol";},17612:function(r,b,a){var m,g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fb=void 0;m=a(53921);g=a(31149);k=a(36129);c.AV=function(d){if(d){if(d.includes("playready"))return m.Ik.BO;if(d.includes("fps"))return m.Ik.vM;if(d.includes("widevine"))return m.Ik.lkb;}throw new g.Qc(k.V.xnb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.hqa=function(d){switch(d){case m.Ik.BO:return "playready";case m.Ik.vM:return "fairplay";default:return "widevine";}};b.fb=c;c.LA="com.microsoft.playready";c.Ed="com.microsoft.playready.hardware";c.DE="com.microsoft.playready.software";c.Onb="com.apple.fps.2_0";c.iS="com.widevine.alpha";c.fSa="com.widevine.alpha.experiment";c.Mga="com.microsoft.playready.recommendation.3000";c.VNa="com.microsoft.playready.recommendation.2000";c.JIa=[c.Mga];},12931:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iLa="MediaCapabilitiesSymbol";},33430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eLa="MediaCapabilitiesDetectorSymbol";},28185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hLa="MediaCapabilitiesLogHelperSymbol";},75568:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.G={kE:"playready-h264mpl30-dash",lE:"playready-h264mpl31-dash",S0:"playready-h264mpl40-dash",NHa:"h264mpl30-dash-playready-prk-qc",OHa:"h264mpl31-dash-playready-prk-qc",PHa:"h264mpl40-dash-playready-prk-qc",LHa:"playready-h264hpl22-dash",M0:"playready-h264hpl30-dash",O0:"playready-h264hpl31-dash",Q0:"playready-h264hpl40-dash",MHa:"h264hpl22-dash-playready-live",N0:"h264hpl30-dash-playready-live",P0:"h264hpl31-dash-playready-live",R0:"h264hpl40-dash-playready-live",Rha:"vp9-profile0-L21-dash-cenc",M2:"vp9-profile0-L30-dash-cenc",N2:"vp9-profile0-L31-dash-cenc",gS:"vp9-profile0-L40-dash-cenc",dfa:"hevc-main10-L30-dash-cenc",efa:"hevc-main10-L31-dash-cenc",ffa:"hevc-main10-L40-dash-cenc",gfa:"hevc-main10-L41-dash-cenc",bR:"hevc-main10-L50-dash-cenc",cR:"hevc-main10-L51-dash-cenc",l1:"hevc-main10-L30-dash-cenc-prk",o1:"hevc-main10-L31-dash-cenc-prk",r1:"hevc-main10-L40-dash-cenc-prk",v1:"hevc-main10-L41-dash-cenc-prk",m1:"hevc-main10-L30-dash-cenc-prk-do",p1:"hevc-main10-L31-dash-cenc-prk-do",t1:"hevc-main10-L40-dash-cenc-prk-do",w1:"hevc-main10-L41-dash-cenc-prk-do",y1:"hevc-main10-L50-dash-cenc-prk-do",A1:"hevc-main10-L51-dash-cenc-prk-do",k1:"hevc-main10-L30-dash-cenc-live",n1:"hevc-main10-L31-dash-cenc-live",q1:"hevc-main10-L40-dash-cenc-live",u1:"hevc-main10-L41-dash-cenc-live",x1:"hevc-main10-L50-dash-cenc-live",z1:"hevc-main10-L51-dash-cenc-live",k0:"hevc-dv5-main10-L30-dash-cenc-prk",m0:"hevc-dv5-main10-L31-dash-cenc-prk",SQ:"hevc-dv5-main10-L40-dash-cenc-prk",p0:"hevc-dv5-main10-L41-dash-cenc-prk",r0:"hevc-dv5-main10-L50-dash-cenc-prk",t0:"hevc-dv5-main10-L51-dash-cenc-prk",Aea:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Bea:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Cea:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Dea:"hevc-dv5-main10-L51-dash-cenc-prk-qc",l0:"hevc-dv5-main10-L30-dash-cenc-prk-do",n0:"hevc-dv5-main10-L31-dash-cenc-prk-do",o0:"hevc-dv5-main10-L40-dash-cenc-prk-do",q0:"hevc-dv5-main10-L41-dash-cenc-prk-do",s0:"hevc-dv5-main10-L50-dash-cenc-prk-do",u0:"hevc-dv5-main10-L51-dash-cenc-prk-do",V0:"hevc-hdr-main10-L30-dash-cenc-prk",Y0:"hevc-hdr-main10-L31-dash-cenc-prk",aR:"hevc-hdr-main10-L40-dash-cenc-prk",c1:"hevc-hdr-main10-L41-dash-cenc-prk",f1:"hevc-hdr-main10-L50-dash-cenc-prk",i1:"hevc-hdr-main10-L51-dash-cenc-prk",W0:"hevc-hdr-main10-L30-dash-cenc-prk-do",Z0:"hevc-hdr-main10-L31-dash-cenc-prk-do",a1:"hevc-hdr-main10-L40-dash-cenc-prk-do",d1:"hevc-hdr-main10-L41-dash-cenc-prk-do",g1:"hevc-hdr-main10-L50-dash-cenc-prk-do",j1:"hevc-hdr-main10-L51-dash-cenc-prk-do",U0:"hevc-hdr-main10-L30-dash-cenc-live",X0:"hevc-hdr-main10-L31-dash-cenc-live",$0:"hevc-hdr-main10-L40-dash-cenc-live",b1:"hevc-hdr-main10-L41-dash-cenc-live",e1:"hevc-hdr-main10-L50-dash-cenc-live",h1:"hevc-hdr-main10-L51-dash-cenc-live",CCa:"av1-main-L20-dash-cbcs-prk",DCa:"av1-main-L21-dash-cbcs-prk",Zu:"av1-main-L30-dash-cbcs-prk",$u:"av1-main-L31-dash-cbcs-prk",qA:"av1-main-L40-dash-cbcs-prk",rA:"av1-main-L41-dash-cbcs-prk",P_:"av1-main-L50-dash-cbcs-prk",Q_:"av1-main-L51-dash-cbcs-prk"};b.Sb={LQ:[b.G.kE,b.G.lE,b.G.S0],vQ:[b.G.M0,b.G.O0,b.G.Q0],uQ:[b.G.N0,b.G.P0,b.G.R0],L_:[b.G.M2,b.G.N2,b.G.gS],QQ:[b.G.dfa,b.G.efa,b.G.ffa,b.G.gfa,b.G.bR,b.G.cR],OQ:[b.G.l1,b.G.o1,b.G.r1,b.G.v1,b.G.bR,b.G.cR],PQ:[b.G.m1,b.G.p1,b.G.t1,b.G.w1,b.G.y1,b.G.A1],c0:[b.G.k1,b.G.n1,b.G.q1,b.G.u1,b.G.x1,b.G.z1],MQ:[b.G.V0,b.G.Y0,b.G.aR,b.G.c1,b.G.f1,b.G.i1],NQ:[b.G.W0,b.G.Z0,b.G.a1,b.G.d1,b.G.g1,b.G.j1],b0:[b.G.U0,b.G.X0,b.G.$0,b.G.b1,b.G.e1,b.G.h1],KEa:[b.G.k0,b.G.SQ,b.G.r0,b.G.m0,b.G.p0,b.G.t0],LEa:[b.G.l0,b.G.o0,b.G.s0,b.G.n0,b.G.q0,b.G.u0],jea:[b.G.Zu,b.G.$u,b.G.qA,b.G.rA,b.G.P_,b.G.Q_]};b.Nd={Pq:"heaac-2-dash",cfa:"heaac-5.1-dash",mE:"heaac-2hq-dash",Rn:"xheaac-dash",h0:"ddplus-2.0-dash",rea:"ddplus-5.1-dash",i0:"ddplus-atmos-dash"};b.Em={Brb:"simplesdh",tea:"dfxp-ls-sdh",P2:"webvtt-lssdh-ios8",aob:"imsc1.1",kK:"nflx-cmisc"};},18580:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bPa="PresentationAPISymbol";},95162:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XR="SourceBufferTypeProviderSymbol";},43466:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x;function c(z,A,B,D,C,E,G,F,I){this.g7a=z;this.config=A;this.Ac=B;this.va=D;this.is=C;this.Eo=E;this.dm=G;this.oc=F;this.wz=I;}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;r=a(5163);m=a(22674);g=a(56800);k=a(16152);d=a(1079);f=a(92049);n=a(75456);h=a(46286);l=a(31741);p=a(53085);q=a(30869);u=a(42207);t=a(5180);v=a(21103);w=a(87386);y=a(2248);a=a(33430);c.prototype.GEb=function(z){var A;A=this.g7a.wZa();switch(z){case g.bv.Gx:return new f.GLa(this.config,A,this.is,this.wz);default:return new l.x0(this.config,A,this.wz);}};c.prototype.QFb=function(z){var A;A=this.g7a.wZa();switch(z){case g.Il.SJ:z=new t.jFa(this.config,A,this.is,this.Eo,this.dm,this.va,this.wz);break;case g.Il.Gx:z=new n.OKa(this.config,A,this.is,this.Ac,this.va,this.dm,this.oc,this.wz,this.Eo);break;default:z=new h.AA(this.config,A,this.is,this.wz);}return z;};x=c;x=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.BJa)),r.__param(1,(0,m.l)(d.TJ)),r.__param(2,(0,m.l)(p.bi)),r.__param(3,(0,m.l)(q.hg)),r.__param(4,(0,m.l)(u.$f)),r.__param(5,(0,m.l)(v.kv)),r.__param(6,(0,m.l)(w.$a)),r.__param(7,(0,m.l)(y.ih)),r.__param(8,(0,m.l)(a.eLa))],x);b.bFa=x;},65264:function(r,b,a){var m,g,k,d,f;function c(n,h,l,p){this.config=n;this.Fo=h;this.mediaType=l;this.wz=p;this.Iua={};this.Iua[m.u.Audio]="audio";this.Iua[m.u.PRa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.fE=void 0;m=a(56800);r=a(57180);g=a(22210);k=a(22365);d=a(7802);f=new r.JE().format;c.prototype.D4a=function(n){return this.yHb(this.sPb(this.i4a(),n));};c.prototype.UF=function(n){return this.Fo.isTypeSupported(n);};c.prototype.uNb=function(){return [g.Dd.Fkb,g.Dd.Wnb,g.Dd.kE,g.Dd.lE];};c.prototype.GSb=function(){this.Jo=[];this.Au=[];this.config().W_b && this.Au.push(g.Dd.Rn);this.config().Qab && this.Au.push(g.Dd.eIa);this.config().Pab && this.Au.push(g.Dd.bIa);this.config().Oab && this.Au.push(g.Dd.ux);this.config().Mab && this.Au.push(g.Dd.sA);this.config().Nab && this.Au.push(g.Dd.ICa);this.config().Rab && this.Au.push(g.Dd.QA);this.config().Lab && this.Au.push(g.Dd.Ki);this.Au=this.Au.concat(this.uNb());!this.config().uJb && this.Jo.push(g.Dd.Rn);!this.config().PIb && this.Jo.push(g.Dd.umb);!this.config().OIb && this.Jo.push(g.Dd.vmb);!this.config().RU && this.Jo.push(g.Dd.wmb);!this.config().gJb && this.Jo.push(/prk$/);this.config().Oab || this.config().QIb || this.Jo.push(g.Dd.ux);this.config().Qab || this.config().VIb || this.Jo.push(g.Dd.eIa);this.config().Pab || this.config().qoa || this.Jo.push(g.Dd.bIa);this.config().Mab || this.config().eM || this.Jo.push(g.Dd.sA);this.config().Nab || this.config().noa || this.Jo.push(g.Dd.ICa);this.config().Rab || this.config().qJb || this.Jo.push(g.Dd.QA);this.config().Lab || this.config().EIb || this.Jo.push(g.Dd.Ki);!this.config().pJb && this.Jo.push(g.Dd.AK);};c.prototype.sPb=function(n,h){var l;l=k.He.hardwareConcurrency && k.He.hardwareConcurrency;return n.filter(function(p){return void 0 !== p.minimumCores && l < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.Md) || !p.restrictToUILabels.includes(h.Md))?!1:!0;}).map(function(p){return p.name;});};c.prototype.cV=function(n){var h,l;h=this;l=n.map(function(p){for(var q=ja(h.Au),u=q.next();!u.done;u=q.next())if(u.value.test(p))return Promise.resolve({supported:!0});q=ja(h.Jo);for(u=q.next();!u.done;u=q.next())if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});return h.bV(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(l).then(function(p){return new d.g2(n,p);});};c.prototype.bV=function(n){var h;h=this;return this.Ysa(n).then(function(l){return l.supported?h.config().cJb?h.wz.bV(n):h.fpa(n):l;});};c.prototype.fpa=function(n){var h;n=this.xY[n];h="";return n?(Array.isArray(n) && (h=1 < n.length?" " + n[1]:"",n=n[0]),n=f("{0}/mp4;codecs={1};{2}",this.Iua[this.mediaType],n,h),this.UF(n)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.yHb=function(n){this.GSb();return this.cV(n);};c.prototype.Ysa=function(){return Promise.resolve({supported:!0});};Ya.Object.defineProperties(c.prototype,{xY:{configurable:!0,enumerable:!0,get:function(){this.ZTa || (this.ZTa=this.Br());return this.ZTa;}}});b.fE=c;},5180:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q,u,t,v){h=m.AA.call(this,h,l,p,v) || this;h.Eo=q;h.dm=u;h.va=t;h.wz=v;h.type=g.Il.SJ;h.log=h.dm.Za("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;m=a(46286);g=a(56800);k=a(5021);d=a(82100);f=a(22210);n=a(17612);ea(c,m.AA);c.prototype.fJ=function(h){switch(h){case g.cp.tE:return this.h$b;default:return Promise.resolve(!1);}};c.prototype.OV=function(){var h;h=this;return this.fJ(g.cp.tE).then(function(l){return l?g.cp.tE:void 0;}).then(function(l){return h.C5(l);});};c.prototype.ika=function(h){this.qq=h;};c.prototype.gUb=function(h){var l;return !(null === (l=h.getConfiguration().videoCapabilities) || void 0 === l || !l.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.Ss;}));};c.prototype.ejb=function(){var h;if(this.qq){h=this.p5a && this.q5a && this.p5a.qa(this.q5a).ea(k.ma);this.qq.itshdcp=JSON.stringify({hdcp2:this.du,time2:h});}};c.prototype.Ysa=function(h){var l;l=this;return this.Eo.gC().then(function(p){var q;q=(0,d.C7)(p);p=q === d.Ss || n.fb.JIa.includes(p.keySystem);return [f.Dd.sA,f.Dd.QA,f.Dd.Ki].some(function(u){return u.test(h);}) && !f.Dd.MJa.test(h) && l.config().J9a && p?{supported:!1,reason:"mcclearen-restricted"}:!p && f.Dd.dIa.test(h) || f.Dd.Mnb.test(h) && !(l.config().UIb || l.config().r0a && q === d.Ss) || f.Dd.AK.test(h) && (!l.config().r0a || q !== d.Ss)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ya.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.C9a || (this.C9a=this.Eo.gC().then(function(h){return h.createMediaKeys();}));return this.C9a;}},h$b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.OAa || (this.config().WIb?this.OAa=Promise.all([this.Eo.gC(),this.mediaKeys]).then(function(l){var p;p=ja(l);l=p.next().value;p=p.next().value;if(!h.gUb(l))return (h.du="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.du),!1);if(p && p.getStatusForPolicy)return (h.q5a=h.va.se,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.p5a=h.va.se;h.du=q;h.log.trace("hdcpStatus: " + h.du);return "usable" === h.du;}));h.du="not available";h.log.trace("hdcpStatus: " + h.du);return !1;}).catch(function(l){h.du="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.du},l);return !1;}).then(function(l){h.ejb();return l;}):(this.du="not enabled",this.log.trace("hdcpStatus: " + this.du),this.ejb(),this.OAa=Promise.resolve(!1)));return this.OAa;}}});b.jFa=c;},31741:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p){p=g.fE.call(this,h,l,m.u.Audio,p) || this;p.config=h;p.Fo=l;p.type=m.bv.wx;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.x0=void 0;m=a(56800);g=a(65264);k=a(73796);r=a(57180);d=a(12187);f=a(7802);n=new r.JE().format;ea(c,g.fE);c.prototype.HZ=function(){var h;h=n(c.Tca,k.Lc.tmb);return Promise.resolve(this.config().RU && this.Fo.isTypeSupported(h));};c.prototype.Br=function(){return d.Gea.Br();};c.prototype.i4a=function(){return this.config().LF;};c.prototype.cV=function(h){return this.config().U_b?Promise.resolve(new f.g2(h,h.map(function(){return {supported:!0};}))):g.fE.prototype.cV.call(this,h);};b.x0=c;c.Tca="audio/mp4;codecs={0};";},12187:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gea=void 0;m=a(75568);c.Br=function(){var g;g={};return (g[m.Nd.Pq]="mp4a.40.2",g[m.Nd.cfa]="mp4a.40.2",g[m.Nd.mE]="mp4a.40.2",g[m.Nd.Rn]="mp4a.40.42",g[m.Nd.h0]="ec-3",g[m.Nd.rea]="ec-3",g[m.Nd.i0]="ec-3",g);};b.Gea=c;},46286:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u){var t;t=k.fE.call(this,l,p,m.u.PRa,u) || this;t.config=l;t.Fo=p;t.is=q;t.V9=u;t.type=m.Il.wx;t.Lcc=d.Lc.JZa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.AA=void 0;m=a(56800);g=a(75568);k=a(65264);r=a(57180);d=a(73796);f=a(48617);n=a(45266);h=a(7802);new r.JE();ea(c,k.fE);c.prototype.fJ=function(){return Promise.resolve(!1);};c.prototype.PM=function(){return Promise.resolve("");};c.prototype.JZ=function(){return this.config().qoa?this.V9.Ksa()?this.V9.bV(g.G.aR).then(function(l){return {result:l.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.Cca=function(){return this.config().qoa?this.V9.Ksa()?this.V9.bV(g.G.SQ).then(function(l){return {result:l.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.KZ=function(){return Promise.resolve(!1);};c.prototype.HZ=function(){return Promise.resolve(!1);};c.prototype.wV=function(l){return this.Lcc[l];};c.prototype.ika=function(){};c.prototype.BWb=function(l){switch(l){case m.cp.J1:return "1.4";case m.cp.tE:return "2.2";}};c.prototype.Br=function(){return f.y0.Br();};c.prototype.i4a=function(){var p;function l(q,u){return (0,n.Kib)(function(t,v){return t.name === v.name;},q,u);}p=l(this.config().CVa,this.config().Dh);return l(p,this.config().jq);};c.prototype.OV=function(){return Promise.resolve(void 0);};c.prototype.H7=function(){return Promise.resolve(void 0);};c.prototype.C5=function(l){var p;p=[];this.is.wg(l) && p.push(this.BWb(l));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.cV=function(l){return this.config().V_b?Promise.resolve(new h.g2(l,l.map(function(){return {supported:!0};}))):k.fE.prototype.cV.call(this,l);};b.AA=c;c.Tca="video/mp4;codecs={0};";},48617:function(r,b,a){var m,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.y0=void 0;m=a(75568);g=a(73796);c.Br=function(){var k;k={};return (k[m.G.kE]="avc1.4D401E",k[m.G.lE]="avc1.4D401F",k[m.G.S0]="avc1.4D4028",k[m.G.NHa]="avc1.4D401E",k[m.G.OHa]="avc1.4D401F",k[m.G.PHa]="avc1.4D4028",k[m.G.dfa]="hev1.2.6.L90.B0",k[m.G.efa]="hev1.2.6.L93.B0",k[m.G.ffa]="hev1.2.6.L120.B0",k[m.G.gfa]="hev1.2.6.L123.B0",k[m.G.l1]="hev1.2.6.L90.B0",k[m.G.o1]="hev1.2.6.L93.B0",k[m.G.r1]="hev1.2.6.L120.B0",k[m.G.v1]="hev1.2.6.L123.B0",k[m.G.bR]="hev1.2.6.L150.B0",k[m.G.cR]="hev1.2.6.L153.B0",k[m.G.m1]="hev1.2.6.L90.B0",k[m.G.p1]="hev1.2.6.L93.B0",k[m.G.t1]="hev1.2.6.L120.B0",k[m.G.w1]="hev1.2.6.L123.B0",k[m.G.y1]="hev1.2.6.L150.B0",k[m.G.A1]="hev1.2.6.L153.B0",k[m.G.k1]="hev1.2.6.L90.B0",k[m.G.n1]="hev1.2.6.L93.B0",k[m.G.q1]="hev1.2.6.L120.B0",k[m.G.u1]="hev1.2.6.L123.B0",k[m.G.x1]="hev1.2.6.L150.B0",k[m.G.z1]="hev1.2.6.L153.B0",k[m.G.V0]="hev1.2.6.L90.B0",k[m.G.Y0]="hev1.2.6.L93.B0",k[m.G.aR]="hev1.2.6.L120.B0",k[m.G.c1]="hev1.2.6.L123.B0",k[m.G.f1]="hev1.2.6.L150.B0",k[m.G.i1]="hev1.2.6.L153.B0",k[m.G.W0]="hev1.2.6.L90.B0",k[m.G.Z0]="hev1.2.6.L93.B0",k[m.G.a1]="hev1.2.6.L120.B0",k[m.G.d1]="hev1.2.6.L123.B0",k[m.G.g1]="hev1.2.6.L150.B0",k[m.G.j1]="hev1.2.6.L153.B0",k[m.G.U0]="hev1.2.6.L90.B0",k[m.G.X0]="hev1.2.6.L93.B0",k[m.G.$0]="hev1.2.6.L120.B0",k[m.G.b1]="hev1.2.6.L123.B0",k[m.G.e1]="hev1.2.6.L150.B0",k[m.G.h1]="hev1.2.6.L153.B0",k[m.G.k0]=g.Lc.vea,k[m.G.m0]=g.Lc.PFa,k[m.G.SQ]=g.Lc.wea,k[m.G.p0]=g.Lc.xea,k[m.G.r0]=g.Lc.yea,k[m.G.t0]=g.Lc.zea,k[m.G.Aea]=g.Lc.wea,k[m.G.Bea]=g.Lc.xea,k[m.G.Cea]=g.Lc.yea,k[m.G.Dea]=g.Lc.zea,k[m.G.l0]=g.Lc.vea,k[m.G.n0]=g.Lc.PFa,k[m.G.o0]=g.Lc.wea,k[m.G.q0]=g.Lc.xea,k[m.G.s0]=g.Lc.yea,k[m.G.u0]=g.Lc.zea,k[m.G.LHa]="avc1.640016",k[m.G.M0]="avc1.64001E",k[m.G.O0]="avc1.64001F",k[m.G.Q0]="avc1.640028",k[m.G.MHa]="avc1.640016",k[m.G.N0]="avc1.64001E",k[m.G.P0]="avc1.64001F",k[m.G.R0]="avc1.640028",k[m.G.Rha]=g.Lc.fS,k[m.G.M2]=g.Lc.fS,k[m.G.N2]=g.Lc.fS,k[m.G.gS]=g.Lc.fS,k[m.G.CCa]=g.Lc.Ki,k[m.G.DCa]=g.Lc.Ki,k[m.G.Zu]=g.Lc.Ki,k[m.G.$u]=g.Lc.Ki,k[m.G.qA]=g.Lc.Ki,k[m.G.rA]=g.Lc.Ki,k[m.G.P_]=g.Lc.Ki,k[m.G.Q_]=g.Lc.Ki,k);};b.y0=c;},98960:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p){this.config=h;this.AXa=l;this.W0b=p;this.N2b=this.CFb();}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;r=a(5163);m=a(56800);g=a(1079);k=a(22674);d=a(75568);f=a(57657);a=a(41605);c.prototype.C4a=function(h){return this.r2a().D4a(h);};c.prototype.E4a=function(h){return this.jw().D4a(h);};c.prototype.r2a=function(){this.bla && this.bla.type == this.config().cla || (this.bla=this.AXa.GEb(this.config().cla));return this.bla;};c.prototype.jw=function(){this.ida && this.ida.type == this.config().jda || (this.ida=this.AXa.QFb(this.config().jda),this.ida.ika(this.W0b.ONb()));return this.ida;};c.prototype.cOb=function(h){var q;if(!h || !h.length)return m.ef.T0;h=this.qLb(h);for(var l=[m.ef.UR,m.ef.T0,m.ef.AK,m.ef.$J,m.ef.ux,m.ef.sA,m.ef.QA,m.ef.Ki],p=l.length;p--;){q=l[p];if((0,this.N2b[q])(h))return q;}return m.ef.UR;};c.prototype.fJ=function(h){return this.jw().fJ(h);};c.prototype.UF=function(h){return this.jw().UF(h);};c.prototype.PM=function(){return this.jw().PM();};c.prototype.JZ=function(){return this.jw().JZ();};c.prototype.HZ=function(){return this.r2a().HZ();};c.prototype.Cca=function(){return this.jw().Cca();};c.prototype.KZ=function(){return this.jw().KZ();};c.prototype.wV=function(h){return this.jw().wV(h);};c.prototype.OV=function(){return this.jw().OV();};c.prototype.H7=function(){return this.jw().H7();};c.prototype.qLb=function(h){var l;l={};h.filter(function(p){return "video" === p.type;}).forEach(function(p){l[p.wd]="";});return Object.keys(l);};c.prototype.CFb=function(){var h;h={};h[m.ef.Ki]=function(l){return l.some(function(p){return -1 < p.indexOf("av1");});};h[m.ef.sA]=function(l){return l.some(function(p){return -1 < p.indexOf("hpl");});};h[m.ef.QA]=function(l){return l.some(function(p){return -1 < p.indexOf("vp9");});};h[m.ef.ux]=function(l){return l.some(function(p){return -1 < p.indexOf("hevc-dv");});};h[m.ef.$J]=function(l){return l.some(function(p){return -1 < p.indexOf("hevc-hdr");});};h[m.ef.AK]=function(l){return l.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};h[m.ef.T0]=(function(l,p){var q;q={};l.forEach(function(u){return q[u]=1;});l=ja(p);for(p=l.next();!p.done;p=l.next())if(q[p.value])return !0;return !1;}).bind(null,[d.G.lE]);h[m.ef.UR]=function(){return !0;};return h;};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.TJ)),r.__param(1,(0,k.l)(a.cFa)),r.__param(2,(0,k.l)(f.oHa))],n);b.cGa=n;},74742:function(r,b,a){var m,g,k;function c(d){this.d2b=d;}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=void 0;r=a(5163);m=a(22674);g=a(94800);a=a(18580);c.prototype.IKb=function(){var d,f;d={sM:g.Bx.gsb};try{f=this.d2b.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(n){var h;d.sM=n.value?g.Bx.aPa:g.Bx.JCa;if(d.sM === g.Bx.JCa){h=function(){n.value && (d.sM=g.Bx.aPa);n.removeEventListener("change",h);};n.addEventListener("change",h);}}).catch(function(){d.sM=g.Bx.Error;});}catch(n){d.sM=g.Bx.Error;}return d;};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.bPa))],k);b.nHa=k;},79974:function(r,b,a){var m,g,k,d,f;function c(n,h){this.config=n;this.MGb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.AJa=void 0;r=a(5163);m=a(22674);g=a(16152);k=a(1079);d=a(56800);f=a(40290);c.prototype.wZa=function(){switch(this.config().jda){case d.Il.Gx:return f.FA.hFb();default:return this.MGb;}};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.TJ)),r.__param(1,(0,m.l)(g.PNa))],a);b.AJa=a;},75456:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E;function c(G,F,I,P,M,L,Q,J,H){G=g.AA.call(this,G,F,I,J) || this;G.Ac=P;G.va=M;G.dm=L;G.oc=Q;G.wz=J;G.Eo=H;G.type=k.Il.Gx;G.RJ="hvc1";G.NEa="avc1";G.xbb={};G.log=G.dm.Za("MicrosoftVideoCapabilityDetector");G.f9b();G.IZ && G.config().IXb?G.fIb=G.YEb():(G.fIb=Promise.resolve(""),G.config().KXb?G.dFb():G.config().JXb && G.cFb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;m=a(75568);g=a(46286);k=a(56800);r=a(57180);d=a(17612);f=a(5021);n=a(33543);h=a(73796);l=a(40290);p=a(82100);q=a(22210);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");C=new r.JE();E=new n.fea();ea(c,g.AA);c.prototype.wV=function(G){return g.AA.prototype.wV.call(this,G);};c.prototype.fJ=function(G){switch(G){case k.cp.J1:return this.jhb();case k.cp.tE:return this.yY;default:return Promise.resolve(!1);}};c.prototype.PM=function(){var F;function G(){return F.IZ?F.KRb?F.jhb().then(function(I){return Promise.resolve(I?d.fb.Ed:d.fb.DE);}):Promise.resolve(d.fb.DE):F.j$b?Promise.resolve(d.fb.DE):Promise.resolve(d.fb.LA);}F=this;this.keySystem || (this.keySystem=this.config().Ks?this.Eo.gC().then(function(I){return I.keySystem;}):G());return this.keySystem;};c.prototype.JZ=function(){return Promise.resolve({result:this.ihb(),reason:"is-type-supported"});};c.prototype.KZ=function(){return this.IZ && this.lhb()?this.yY:Promise.resolve(!1);};c.prototype.Cca=function(){return Promise.resolve(this.hhb()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.ika=function(G){this.qq=G;Object.assign(this.qq,this.xbb);G.itshwdrm=this.IZ;G.itsqhd=this.khb();G.itshevc=this.lhb();G.itshdr=this.ihb();G.itsdv=this.hhb();G.itsav1=this.g$b();G.itshevccl=this.mhb();G.itsavccl=this.e$b();this.LBa();};c.prototype.zT=function(G,F){(this.qq?this.qq:this.xbb)[G]=F;};c.prototype.OV=function(){var G;G=this;return this.fJ(k.cp.tE).then(function(F){return F?G.C5(k.cp.tE):G.fJ(k.cp.J1).then(function(I){return I?G.C5(k.cp.J1):G.C5(void 0);});});};c.prototype.H7=function(){return this.config().Ks?Promise.resolve(void 0):this.PM().then(function(G){return G === d.fb.Ed?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.fpa=function(G){var F;F=this;return this.PM().then(function(I){var P,M,L;P=F.xY[G];if(P){M=[];if(F.is.Bp(P))L=P;else (M=P.features,L=P.Ld,I=P.keySystem);return F.Mt(I,L,M)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Br=function(){var G;G=g.AA.prototype.Br.call(this);G[m.G.gS]=G[m.G.N2]=G[m.G.M2]=G[m.G.Rha]={Ld:"vp09.00.11.08.02",keySystem:d.fb.Ed,features:u};G[m.G.m1]=G[m.G.l1]=G[m.G.k1]={Ld:"hev1.2.6.L90.B0",keySystem:d.fb.Ed,features:t};G[m.G.p1]=G[m.G.o1]=G[m.G.n1]={Ld:"hev1.2.6.L93.B0",keySystem:d.fb.Ed,features:t};G[m.G.t1]=G[m.G.r1]=G[m.G.q1]={Ld:"hev1.2.6.L120.B0",keySystem:d.fb.Ed,features:t};G[m.G.w1]=G[m.G.v1]=G[m.G.u1]={Ld:"hev1.2.6.L123.B0",keySystem:d.fb.Ed,features:t};G[m.G.y1]=G[m.G.bR]=G[m.G.x1]={Ld:"hev1.2.6.L150.B0",keySystem:d.fb.Ed,features:t};G[m.G.A1]=G[m.G.cR]=G[m.G.z1]={Ld:"hev1.2.6.L153.B0",keySystem:d.fb.Ed,features:t};G[m.G.W0]=G[m.G.V0]=G[m.G.U0]={Ld:"hev1.2.6.L90.B0",keySystem:d.fb.Ed,features:w};G[m.G.Z0]=G[m.G.Y0]=G[m.G.X0]={Ld:"hev1.2.6.L93.B0",keySystem:d.fb.Ed,features:w};G[m.G.a1]=G[m.G.aR]=G[m.G.$0]={Ld:"hev1.2.6.L120.B0",keySystem:d.fb.Ed,features:w};G[m.G.d1]=G[m.G.c1]=G[m.G.b1]={Ld:"hev1.2.6.L123.B0",keySystem:d.fb.Ed,features:y};G[m.G.g1]=G[m.G.f1]=G[m.G.e1]={Ld:"hev1.2.6.L150.B0",keySystem:d.fb.Ed,features:y};G[m.G.j1]=G[m.G.i1]=G[m.G.h1]={Ld:"hev1.2.6.L153.B0",keySystem:d.fb.Ed,features:y};G[m.G.l0]=G[m.G.k0]={Ld:"hev1.2.6.L90.B0",keySystem:d.fb.Ed,features:x};G[m.G.n0]=G[m.G.m0]={Ld:"hev1.2.6.L93.B0",keySystem:d.fb.Ed,features:x};G[m.G.o0]=G[m.G.Aea]=G[m.G.SQ]={Ld:"hev1.2.6.L120.B0",keySystem:d.fb.Ed,features:x};G[m.G.q0]=G[m.G.Bea]=G[m.G.p0]={Ld:"hev1.2.6.L123.B0",keySystem:d.fb.Ed,features:z};G[m.G.s0]=G[m.G.Cea]=G[m.G.r0]={Ld:"hev1.2.6.L150.B0",keySystem:d.fb.Ed,features:z};G[m.G.u0]=G[m.G.Dea]=G[m.G.t0]={Ld:"hev1.2.6.L153.B0",keySystem:d.fb.Ed,features:z};G[m.G.Zu]={Ld:"av01.0.04M.10",keySystem:d.fb.Ed,features:u};G[m.G.$u]={Ld:"av01.0.05M.10",keySystem:d.fb.Ed,features:u};G[m.G.qA]={Ld:"av01.0.08M.10",keySystem:d.fb.Ed,features:u};G[m.G.rA]={Ld:"av01.0.09M.10",keySystem:d.fb.Ed,features:u};G[m.G.P_]={Ld:"av01.0.12M.10",keySystem:d.fb.Ed,features:v};G[m.G.Q_]={Ld:"av01.0.13M.10",keySystem:d.fb.Ed,features:v};return G;};c.prototype.Mt=function(G,F,I){G=l.FA.D5(G,F,I);return this.UF(G);};c.prototype.khb=function(){return this.Mt(d.fb.Ed,this.RJ,t);};c.prototype.ihb=function(){return this.Mt(d.fb.Ed,this.RJ,w);};c.prototype.hhb=function(){return this.Mt(d.fb.Ed,this.RJ,x);};c.prototype.g$b=function(){return this.Mt(d.fb.Ed,h.Lc.Ki,u);};c.prototype.lhb=function(){return this.Mt(d.fb.Ed,this.RJ,v);};c.prototype.mhb=function(){return this.Mt(d.fb.Ed,this.RJ,D);};c.prototype.e$b=function(){return this.Mt(d.fb.Ed,this.NEa,D);};c.prototype.jhb=function(){var G;G=this;return this.yY.then(function(F){return F?Promise.resolve(F):G.wcb;});};c.prototype.LBa=function(){this.qq && (this.qq.itshdcp=JSON.stringify({hdcp1:this.n5a,time1:this.Lhb - this.Cgb,hdcp2:this.o5a,time2:this.Mhb - this.Dgb}));};c.prototype.f9b=function(){var G;G=this;this.IZ?(this.yY=this.d4a(this.config().K9a,this.config().MXb,function(){var F;F=G.aOb();return ["maybe" !== F,F];}).then(function(F){return "probably" === F;}),this.wcb=this.yY.then(function(F){return F?!0:G.d4a(G.config().K9a,G.config().LXb,function(){var I;I=G.$Nb();return ["maybe" !== I,I];}).then(function(I){return "probably" === I;});})):(this.wcb=Promise.resolve(!0),this.yY=Promise.resolve(!1));};c.prototype.d4a=function(G,F,I){var P;P=this;return new Promise(function(M){var L,Q,J,H;L=ja(I());Q=L.next().value;L=L.next().value;if(Q)return M(L);J=P.Ac.GI((0,f.Ob)(G),function(){var K,O;K=ja(I());O=K.next().value;K=K.next().value;O && (J.cancel(),H.cancel(),M(K));});H=P.Ac.xk((0,f.Ob)(F),function(){J.cancel();H.cancel();M("timeout");});});};c.prototype.$Nb=function(){var G;G=l.FA.D5(d.fb.DE,this.NEa,A).split("|");this.n5a=l.FA.NAa(G[0],G[1]);this.Lhb=this.va.se.ea(f.ma);this.Cgb=this.Cgb || this.Lhb;this.LBa();return this.n5a;};c.prototype.aOb=function(){var G;G=l.FA.D5(d.fb.Ed,this.RJ,B).split("|");this.o5a=l.FA.NAa(G[0],G[1]);this.Mhb=this.va.se.ea(f.ma);this.Dgb=this.Dgb || this.Mhb;this.LBa();return this.o5a;};c.prototype.YEb=function(){var G;G=this;return this.fna(d.fb.Ed,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.EMa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(F){G.log.debug("DriverInfo: " + F);return F;}).catch(function(F){G.zT("itsDriverInfo","exception");G.log.error("DriverInfo exception",F);throw F;});};c.prototype.cFb=function(){var G;G=this;this.fna(d.fb.LA,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(F){var I;I=String.fromCharCode.apply(void 0,G.oc.decode(F));G.zT("itsHardwareInfo",I);G.log.debug("HardwareInfo: " + I);return F;}).catch(function(F){G.zT("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",F);throw F;});};c.prototype.dFb=function(){var G;G=this;this.fna(d.fb.LA,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(F){var I;I=String.fromCharCode.apply(void 0,G.oc.decode(F));G.zT("itsHardwareReset",I);G.log.debug("ResetHardwareDRMDisabled: " + I);return F;}).catch(function(F){G.zT("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",F);throw F;});};c.prototype.fna=function(G,F){var I;I=this;return new Promise(function(P,M){var O,R,ca;function L(oa){try{H(oa.target,"Unexpectedly got an mskeyerror event: 0x" + E.CM(oa && oa.target && oa.target.error && oa.target.error.toc || 0,4));}catch(ta){H(oa.target,ta);}}function Q(oa){H(oa.target,"Unexpectedly got an mskeyadded event");}function J(oa){var ta;try{ta=I.Yoa(oa.message,"PlayReadyKeyMessage","Challenge");K(oa.target);P(ta);}catch(Fa){H(oa.target,Fa);}}function H(oa,ta){I.log.error("PlayReadyChallenge error",{cdmData:F});K(oa);M(ta);}function K(oa){oa.removeEventListener("mskeymessage",J);oa.removeEventListener("mskeyadded",Q);oa.removeEventListener("mskeyerror",L);ca && ca.cancel();}try{O=new Uint8Array(C.F9b(F));R=new qb.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),O);R.addEventListener("mskeymessage",J);R.addEventListener("mskeyadded",Q);R.addEventListener("mskeyerror",L);ca=I.Ac.xk((0,f.Ob)(1E3),function(){H(R,Error("timeout"));});}catch(oa){M(oa);}});};c.prototype.Yoa=function(G,F){var P,M,L;for(var I=1;I < arguments.length;++I);I="";M=G.length;for(P=0;P < M;P++){L=G[P];0 < L && (I+=String.fromCharCode(L));}M="\\s*(.*)\\s*";for(P=arguments.length - 1;0 < P;P--){L=arguments[P];if(0 > I.search(L))return;L="(?:[^:].*:|)" + L;M="[\\s\\S]*<" + L + "[^>]*>" + M + "</" + L + ">[\\s\\S]*";}if(I=I.match(new RegExp(M)))return I[1];};c.prototype.Ysa=function(G){var F;F=this;return this.PM().then(function(I){var P;if(q.Dd.dIa.test(G) && !F.mhb())return {supported:!1,reason:"ms-restricted"};P=[d.fb.DE,d.fb.VNa].some(function(M){return M === I;});P=F.config().J9a && !P;return [q.Dd.sA,q.Dd.QA,q.Dd.Ki].some(function(M){return M.test(G);}) && !q.Dd.MJa.test(G) && P?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Ya.Object.defineProperties(c.prototype,{KRb:{configurable:!0,enumerable:!0,get:function(){return this.config().s0a && (!this.config().L9a || this.khb());}},IZ:{configurable:!0,enumerable:!0,get:function(){try{return this.UF(d.fb.Ed + "|" + h.Lc.Pua);}catch(G){return !1;}}},j$b:{configurable:!0,enumerable:!0,get:function(){try{return this.UF(d.fb.DE);}catch(G){return !1;}}}});b.OKa=c;},78866:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x){this.config=t;this.navigator=v;this.dm=w;this.PC=y;this.Qv=x;this.dla={};this.Njb={};this.vka={};this.log=this.dm.Za("MediaCapabilityDetector");this.dla=this.FEb();this.Njb=this.PFb();t={};this.wVa=(t[this.dla[g.Nd.Rn].contentType]=this.Qv.decode(u.YDa),t);}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;r=a(5163);m=a(22674);g=a(75568);k=a(87386);d=a(63368);f=a(21103);n=a(1079);h=a(82100);l=a(22365);p=a(73796);q=a(2248);u=a(33096);c.prototype.bV=function(t){var v;v=this;return this.PC.gC().then(function(w){return v.XKb(t,w);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.uTb=function(t){return !!t.colorGamut || !!t.hdrMetadataType || !!t.transferFunction;};c.prototype.Ksa=function(){return qb.matchMedia("(dynamic-range: high)").matches;};c.prototype.XKb=function(t,v){var w,y,x;try{w={type:"media-source"};y=this.dla[t];x=this.Njb[t];if(y)w.audio=y;else if(x){w.video=x;if(this.uTb(x) && !this.Ksa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});v && (w.keySystemConfiguration=this.qOb(v));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.tBb(w),this.rBb((y || x).contentType)]).then(function(z){var A;A=ja(z);z=A.next().value;A=A.next().value;return z?A?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(z){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",z),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.tBb=function(t){var v;v=this;return this.navigator.mediaCapabilities.decodingInfo(t).then(function(w){var y;w.configuration || (w.configuration=t);y=v.ZTb(t,w);y?v.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(w)):v.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(w));return y;}).catch(function(w){v.log.error("mediaCapabilities.decodingInfo failed",w);return !1;});};c.prototype.rBb=function(t){var v;v=this;if(!this.config().dJb)return Promise.resolve(!0);this.vka[t] || (this.vka[t]=new Promise(function(w){var y;try{y=new l.HA();document.createElement("video").src=URL.createObjectURL(y);y.addEventListener("sourceopen",function(){var x;try{x=y.addSourceBuffer(t);v.wVa[t]?(x.addEventListener("updateend",function(){v.log.trace("addSourceBuffer updateend for " + t);w(!0);}),x.addEventListener("error",function(){v.log.warn("addSourceBuffer error for " + t);w(!1);}),x.appendBuffer(v.wVa[t])):(v.log.trace("addSourceBuffer succeeded for " + t),w(!0));}catch(z){v.log.warn("addSourceBuffer failed",z);w(!1);}});}catch(x){v.log.warn("addSourceBuffer failed",x);w(!1);}}));return this.vka[t];};c.prototype.qOb=function(t){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:t.keySystem},(t=(0,h.C7)(t)) && (this.keySystemConfiguration.video={robustness:t}));return this.keySystemConfiguration;};c.prototype.FEb=function(){var t,v;t={};v={contentType:"audio/mp4;codecs=" + p.Lc.Pq};t[g.Nd.Pq]=v;t[g.Nd.cfa]=v;t[g.Nd.mE]=v;t[g.Nd.Rn]={contentType:"audio/mp4;codecs=" + p.Lc.Rn};v={contentType:"audio/mp4;codecs=ec-3"};t[g.Nd.h0]=v;t[g.Nd.rea]=v;t[g.Nd.i0]=v;return t;};c.prototype.PFb=function(){var t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H;t={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};v={contentType:'video/mp4; codecs="dvh1.05.04"'};w={width:1920,height:1080};y={width:3840,height:2160};x=Object.assign(Object.assign({},w),{bitrate:12E6,framerate:30});z=Object.assign(Object.assign({},w),{bitrate:2E7,framerate:60});A=Object.assign(Object.assign({},y),{bitrate:25E6,framerate:30});B=Object.assign(Object.assign({},y),{bitrate:4E7,framerate:60});D={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};C={colorGamut:"rec2020",transferFunction:"pq"};y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),x);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),x);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),x);G=Object.assign(Object.assign({},t),x);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),z);I=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),A);P=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),B);M=Object.assign(Object.assign(Object.assign({},t),x),D);L=Object.assign(Object.assign(Object.assign({},t),z),D);Q=Object.assign(Object.assign(Object.assign({},t),A),D);t=Object.assign(Object.assign(Object.assign({},t),B),D);D=Object.assign(Object.assign(Object.assign({},v),x),C);J=Object.assign(Object.assign(Object.assign({},v),z),C);H=Object.assign(Object.assign(Object.assign({},v),A),C);v=Object.assign(Object.assign(Object.assign({},v),B),C);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),x);z=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),z);A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),A);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),B);C={};return (C[g.G.kE]=y,C[g.G.lE]=y,C[g.G.S0]=y,C[g.G.NHa]=y,C[g.G.OHa]=y,C[g.G.PHa]=y,C[g.G.LHa]=w,C[g.G.M0]=w,C[g.G.O0]=w,C[g.G.Q0]=w,C[g.G.MHa]=w,C[g.G.N0]=w,C[g.G.P0]=w,C[g.G.R0]=w,C[g.G.Rha]=E,C[g.G.M2]=E,C[g.G.N2]=E,C[g.G.gS]=E,C[g.G.dfa]=G,C[g.G.efa]=G,C[g.G.ffa]=G,C[g.G.gfa]=F,C[g.G.l1]=G,C[g.G.o1]=G,C[g.G.r1]=G,C[g.G.v1]=F,C[g.G.bR]=I,C[g.G.cR]=P,C[g.G.m1]=G,C[g.G.p1]=G,C[g.G.t1]=G,C[g.G.w1]=F,C[g.G.y1]=I,C[g.G.A1]=P,C[g.G.k1]=G,C[g.G.n1]=G,C[g.G.q1]=G,C[g.G.u1]=F,C[g.G.x1]=I,C[g.G.z1]=P,C[g.G.V0]=M,C[g.G.Y0]=M,C[g.G.aR]=M,C[g.G.c1]=L,C[g.G.f1]=Q,C[g.G.i1]=t,C[g.G.W0]=M,C[g.G.Z0]=M,C[g.G.a1]=M,C[g.G.d1]=L,C[g.G.g1]=Q,C[g.G.j1]=t,C[g.G.U0]=M,C[g.G.X0]=M,C[g.G.$0]=M,C[g.G.b1]=L,C[g.G.e1]=Q,C[g.G.h1]=t,C[g.G.k0]=D,C[g.G.m0]=D,C[g.G.SQ]=D,C[g.G.p0]=J,C[g.G.r0]=H,C[g.G.t0]=v,C[g.G.Aea]=D,C[g.G.Bea]=J,C[g.G.Cea]=H,C[g.G.Dea]=v,C[g.G.l0]=D,C[g.G.n0]=D,C[g.G.o0]=D,C[g.G.q0]=J,C[g.G.s0]=H,C[g.G.u0]=v,C[g.G.CCa]=x,C[g.G.DCa]=x,C[g.G.Zu]=x,C[g.G.$u]=x,C[g.G.qA]=x,C[g.G.rA]=z,C[g.G.P_]=A,C[g.G.Q_]=B,C);};c.prototype.ZTb=function(t,v){return t.video && this.config().E1b?v.supported && v.powerEfficient:v.supported;};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(n.TJ)),r.__param(1,(0,m.l)(d.mK)),r.__param(2,(0,m.l)(k.$a)),r.__param(3,(0,m.l)(f.kv)),r.__param(4,(0,m.l)(q.ih))],a);b.dLa=a;},43551:function(r,b,a){var m,g;function c(k){this.navigator=k;this.A9a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;r=a(5163);m=a(22674);a=a(63368);c.prototype.epa=function(k){return this.A9a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:k.contentType,width:k.width,height:k.height,bitrate:k.bitrate,framerate:k.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};g=c;g=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.mK))],g);b.fLa=g;},6600:function(r,b,a){var m,g,k,d;function c(f,n){this.mediaCapabilities=f;this.log=n.Za("MediaCapabilities");this.xY=d.y0.Br();}Object.defineProperty(b,"__esModule",{value:!0});b.gLa=void 0;r=a(5163);m=a(12931);g=a(87386);k=a(22674);d=a(48617);c.prototype.epa=function(f){var n,h,l,p;n=this;l={Af:void 0};if(this.mediaCapabilities.A9a){p={contentType:'video/mp4;codecs="' + (null !== (h=this.xY[f.wd]) && void 0 !== h?h:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.epa(p).then(function(q){return l.Af=Object.assign(Object.assign({},q),p);}).catch(function(q){return n.log.error("Error calling MediaCapabilities API",q);});}return l;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(m.iLa)),r.__param(1,(0,k.l)(g.$a))],a);b.gLa=a;},92049:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q){h=d.x0.call(this,h,l,q) || this;h.is=p;h.type=m.bv.Gx;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.GLa=void 0;m=a(56800);g=a(75568);k=a(17612);d=a(31741);f=a(40290);n=a(73796);ea(c,d.x0);c.prototype.HZ=function(){return Promise.resolve(this.config().RU && this.Mt(k.fb.LA,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Br=function(){var h,l;h={};h=(h[g.Nd.Pq]=n.Lc.Pq,h[g.Nd.mE]=n.Lc.Pq,h[g.Nd.Rn]=n.Lc.Rn,h);l={};return Object.assign(Object.assign({},h),(l[g.Nd.h0]=this.config().RU?{Ld:"avc1",keySystem:k.fb.LA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[g.Nd.i0]=this.config().RU?{Ld:"avc1",keySystem:k.fb.LA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[g.Nd.cfa]=void 0,l[g.Nd.rea]=void 0,l));};c.prototype.fpa=function(h){var l,p,q;h=this.xY[h];l=[];p=k.fb.LA;if(h){if(this.is.Bp(h))q=h;else (l=h.features,q=h.Ld,p=h.keySystem);return this.Mt(p,q,l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.Mt=function(h,l,p){h=f.FA.D5(h,l,p);return this.UF(h);};b.GLa=c;},40290:function(r,b,a){var m,g,k;function c(){this.type=m.bv.Gx;}Object.defineProperty(b,"__esModule",{value:!0});b.FA=void 0;m=a(56800);r=a(57180);g=a(17612);k=new r.JE();c.hFb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return qb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?qb.MSMediaKeys.isTypeSupported(g.fb.LA,d):"probably" === c.NAa(f[0],f[1]);}catch(n){return !1;}}};};c.D5=function(d,f,n){f=k.format(c.Tca,f);if(0 === n.length)return f;n=k.format('features="{0}"',n.join());return k.format("{0}|{1}{2}",d,f,n);};c.NAa=function(d,f){var n;try{n=qb.MSMediaKeys.isTypeSupportedWithFeatures?qb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(h){n="exception";}return n;};b.FA=c;c.Tca='video/mp4;codecs="{0},mp4a";';},7802:function(r,b){function a(c,m){var g;g=this;this.status={};c.forEach(function(k,d){g.status[k]=m[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.g2=void 0;a.prototype.ZM=function(){return this.status;};a.prototype.P7=function(){return Object.entries(this.status).filter(function(c){c=ja(c);c.next();return c.next().value.supported;}).map(function(c){var m;c=ja(c);m=c.next().value;c.next();return m;});};b.g2=a;},57718:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q,u){this.Zm=p;this.Cb=q;this.$gb=u;this.$vb="video/mp4;codecs={0}";this.Bsb="audio/mp4;codecs={0}";p=this.Zm.wV(g.ef.ux);this.Zvb=d.Lc.JZa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.sQa=void 0;r=a(5163);g=a(56800);k=a(22674);d=a(73796);f=a(42207);n=a(88490);h=a(29670);l=a(33096);c.prototype.I5=function(p){p=this.Zm.cOb(p);p=this.Cb.hG(p)?p:g.ef.UR;return this.$gb.format(this.$vb,this.Zvb[p]);};c.prototype.B5=function(p){if(0 === p.length)return this.$gb.format(this.Bsb,d.Lc.Pq);p=h.XDa[p[0].wd] || m.ACa;return p === m.ACa?l.KKa:p === m.Vkb?l.LKa:l.JKa;};a=m=c;a.ACa="AAC";a.Vkb="XHEAAC";a=m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.hE)),r.__param(1,(0,k.l)(f.$f)),r.__param(2,(0,k.l)(n.PQa))],a);b.sQa=a;},82656:function(r,b,a){var c,m,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Vk=void 0;r=a(22674);c=a(33554);m=a(58393);g=a(48723);k=a(68703);d=a(99662);b.Vk=new r.md(function(f){f(c.xx).je(function(){return function(){return qb._cad_global.device;};});f(k.hGa).to(d.gGa).ia();f(m.eGa).to(g.dGa).ia();});},33554:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xx="DeviceFactorySymbol";},58393:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eGa="DeviceIdGeneratorSymbol";},68703:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hGa="DeviceProviderSymbol";},48723:function(r,b,a){var m,g,k,d,f,n;function c(h,l){this.va=h;this.Qxa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.dGa=void 0;r=a(5163);m=a(30869);g=a(5021);k=a(10306);d=a(74267);f=a(66523);a=a(22674);c.prototype.tMb=function(){for(var h="",l=this.va.se.ea(g.ma),p=6;p--;)(h=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[l % 32] + h,l=Math.floor(l / 32));for(;30 > h.length;)h+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Qxa.Ncb(new d.mha(0,31,f.cab))];return h;};n=c;n=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(m.hg)),r.__param(1,(0,a.l)(k.p2))],n);b.dGa=n;},66085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fGa=void 0;b.fGa=function(a,c,m,g){this.hk=a;this.jo=c;this.y6=g;};},99662:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q,u,t,v){this.zHb=p;this.ul=q;this.Cb=t;this.A0b=v;this.NGa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.Za("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;r=a(5163);m=a(36129);g=a(42207);k=a(66085);d=a(87386);f=a(58393);n=a(22674);h=a(17892);a=a(70285);c.prototype.c1a=function(p){try{return p.match(this.NGa)[2];}catch(q){}};c.prototype.yKb=function(p){try{return p.match(this.NGa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.ul.create().then(function(v){var y,x,z,A,B,D;function w(C){q.Cb.Nm(C) && q.Cb.Nm(y)?(x=new k.fGa(C,y,void 0,z,p.FU || "cadmium"),u(x)):t({wa:m.R.KFa});}y=p.jo;if(p.fqa){z="bind_device";q.A0b.Cf(q.log,{}).then(function(C){w(C.esn);}).catch(function(C){t(C);});}else if(p.EM){B=p.hk;if(q.Cb.Nm(B)){D=q.yKb(B);D != p.jo && q.log.error("esn prefix from ui is different",{ui:D,cad:p.jo,ua:p.userAgent});}else p.Nta && q.log.error("esn from ui is missing");!p.dQ && q.Cb.Nm(B)?(z="config",w(B)):v.load(p.C_a).then(function(C){A=C.value;q.Cb.Nm(A) && (!1,q.Cb.Nm(B)?(C=q.c1a(B),z=C === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",w(y + A));}).catch(function(C){var F;function E(){v.save(p.C_a,F,!1).then(function(){w(y + F);}).catch(function(I){t(I);});}function G(){F=q.zHb.tMb();!1;E();}if(C.wa === m.R.Px){if(q.Cb.Nm(p.hk)){F=q.c1a(p.hk);q.Cb.Nm(F)?(z="config_since_not_in_storage",E()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.hk),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(C);});}else w();}).catch(function(v){t(v);});});};l=c;l=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(f.eGa)),r.__param(1,(0,n.l)(h.rx)),r.__param(2,(0,n.l)(d.$a)),r.__param(3,(0,n.l)(g.$f)),r.__param(4,(0,n.l)(a.XMa))],l);b.gGa=l;},93673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mea="CachedDrmDataSymbol";},2492:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e0="CannedChallengeProvider";},49594:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D;Object.defineProperty(b,"__esModule",{value:!0});b.bM=b.g0a=void 0;r=a(22674);c=a(47737);m=a(58120);g=a(31050);k=a(93673);d=a(44235);f=a(97485);n=a(21103);h=a(92395);l=a(66372);p=a(2492);q=a(77228);u=a(34008);t=a(17250);v=a(41980);w=a(90581);y=a(91490);x=a(38231);z=a(22266);A=a(48691);B=a(18647);D=a(61738);b.g0a=new r.md(function(C){C(m.sGa).to(g.rGa).ia();C(k.mea).to(d.ZEa).ia();C(c.B0).a_(f.Acb);C(z.IJa).to(A.HJa).ia();C(B.Bfa).to(D.JJa).ia();C(n.kv).JD(function(E){b.bM.parent=E.nb;return b.bM.get(n.kv);});C(h.AR).je(function(){return function(){return new l.rLa();};});C(p.e0).to(q.aFa).ia();C(u.Qea).to(t.UGa).ia();C(v.Jea).to(w.xGa).ia();C(y.oLa).to(x.nLa).ia();});b.bM=new r.g0({VI:!0});},58120:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sGa="DrmDataFactorySymbol";},28048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hsa=b.fv=void 0;(function(a){a.sjb="usable";a.Hr="expired";a.released="released";a.Hab="output-restricted";a.S_b="output-downscaled";a.n9b="status-pending";a.OSb="internal-error";})(b.fv || (b.fv={}));b.Hsa=function(a){return !!a && !!a.keyStatuses;};},28289:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.X_a=b.Qs=void 0;(function(c){c[c.a8a=0]="licenseStarted";c[c.fdb=1]="receivedLicenseChallenge";c[c.edb=2]="receivedLicense";c[c.gdb=3]="receivedRenewalChallengeComplete";c[c.hdb=4]="receivedRenewalLicenseComplete";c[c.jdb=5]="receivedRenewalLicenseFailed";c[c.B3b=6]="receivedIndivChallengeComplete";c[c.C3b=7]="receivedIndivLicenseComplete";c[c.mVa=8]="addLicenseComplete";c[c.tVa=9]="addRenewalLicenseComplete";c[c.uVa=10]="addRenewalLicenseFailed";})(a=b.Qs || (b.Qs={}));b.X_a=function(c){switch(c){case a.a8a:return "lg";case a.fdb:return "lc";case a.edb:return "lr";case a.gdb:return "renew_lc";case a.hdb:return "renew_lr";case a.jdb:return "renew_lr_failed";case a.B3b:return "ilc";case a.C3b:return "ilr";case a.mVa:return "ld";case a.tVa:return "renew_ld";case a.uVa:return "renew_ld_failed";default:return "unknown";}};},47737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wGa="DrmServicesSymbol";b.B0="DrmServicesProviderSymbol";},41980:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jea="DrmTraitsFactorySymbol";},53921:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ik=void 0;r=b.Ik || (b.Ik={});r[r.BO=0]="playready";r[r.lkb=1]="widevine";r[r.vM=2]="fairplay";},27995:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ME=void 0;r=b.ME || (b.ME={});r[r.Request=0]="Request";r[r.sPa=1]="Renewal";},34008:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qea="EmeApiFactorySymbol";},23563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oq="EmeConfigSymbol";},10060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XGa="EmeSessionFactorySymbol";},22266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IJa="KeySystemProviderSymbol";},18647:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bfa="KeySystemRestrictorSymbol";},91490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oLa="MediaKeySystemAccessInternalFactorySymbol";},21103:function(r,b){function a(c){return c?{supported:!1,reason:c}:{supported:!0};}Object.defineProperty(b,"__esModule",{value:!0});b.kv=b.xqa=b.Vca=b.ena=b.IFb=void 0;b.IFb=a;b.ena=function(c){return a(c);};b.Vca=function(c,m,g){var k;if(g){k=c[m].status;k.supported && (k=a(g),c[m].status=k);}};b.xqa=function(c){for(var m,g=0;g < c.length;g++)c[g].status.supported && (m=g);return m;};b.kv="MediaKeySystemAccessServicesSymbol";},92395:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AR="MediaKeysStorageFactorySymbol";},51120:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.h0a=void 0;r=a(22674);c=a(47737);m=a(80075);g=a(21103);k=a(9717);d=a(10060);f=a(74946);b.h0a=new r.md(function(n){n(c.wGa).to(m.vGa).ia();n(g.kv).to(k.qLa).ia();n(d.XGa).to(f.WGa);});},44235:function(r,b,a){var k,d,f,n,h,l,p,q;function c(u,t,v){var w;w=this;this.is=u;this.ul=t;this.config=v;this.Ru=function(){return {version:w.version,drmData:w.l6.map(function(y){return y.Ru();})};};this.Lpa=function(y){var x;w.is.Nm(y) && (y=m(y));1 === y.version && (y=g(w.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.A0(z);});}catch(z){throw new h.Qc(f.V.aK,f.R.yA,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !w.is.ck(y.version))throw new h.Qc(f.V.aK,f.R.yA,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new h.Qc(f.V.aK,f.R.FEa,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.yk=new l.rfa(2,this.config.LU,this.is.Nm(this.config.LU),this.ul,this.Ru);}function m(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new h.Qc(f.V.aK,f.R.yA);return {version:1,drmData:[u]};}function g(u,t){if(u.wB(t.drmData))return {version:2,drmData:t.drmData.map(function(v){var w;w=v.keySessionIds;return new q.A0({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(y){return {id:y,licenseContextId:v.licenseContextId,licenseId:void 0};}),xid:v.xid,movieId:v.movieId}).Ru();})};throw new h.Qc(f.V.aK,f.R.yA);}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;r=a(5163);k=a(22674);d=a(23563);f=a(36129);n=a(42207);h=a(31149);l=a(52657);p=a(17892);q=a(31050);c.prototype.Tcb=function(){return this.h9b();};c.prototype.hVa=function(u){return this.yk.add(u);};c.prototype.IY=function(u){return this.yk.remove(u,function(t,v){return t.na === v.na;});};c.prototype.toString=function(){return JSON.stringify(this.Ru(),null,"  ");};c.prototype.h9b=function(){var u;u=this;this.Xcb || (this.Xcb=new Promise(function(t,v){u.yk.load(u.Lpa).then(function(){t();}).catch(function(w){w.wa && w.ic?v(new h.Qc(f.V.aK,w.wa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):v(w);});}));return this.Xcb;};Ya.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.yk.version;}},l6:{configurable:!0,enumerable:!0,get:function(){return this.yk.Ql;}}});a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.$f)),r.__param(1,(0,k.l)(p.rx)),r.__param(2,(0,k.l)(d.Oq))],a);b.ZEa=a;},77228:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q,u,t,v){this.qG=p;this.oc=q;this.QN=t;this.Eo=v;this.log=u.Za("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;r=a(5163);m=a(22674);g=a(47737);k=a(2248);d=a(87386);f=a(92395);n=a(21103);h=a(53921);l=a(84218);c.prototype.$qa=function(p){var q;q=this;return Promise.all([this.qG(),this.qqa()]).then(function(u){var t;t=ja(u);u=t.next().value;t=t.next().value;return u.uMb({type:p,initData:t,K8:!1},q.QN());}).then(function(u){var t;t=ja(u);u=t.next().value;t=t.next().value;t=q.oc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {xD:u,ama:t};});};c.prototype.qqa=function(){var p;p=this;return this.Eo.gC().then(function(q){return q.Yt();}).then(function(q){switch(q){case h.Ik.vM:return l.sHa;case h.Ik.BO:return l.UNa;default:return l.gSa;}}).then(function(q){return q.map(p.oc.decode);});};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.B0)),r.__param(1,(0,m.l)(k.ih)),r.__param(2,(0,m.l)(d.$a)),r.__param(3,(0,m.l)(f.AR)),r.__param(4,(0,m.l)(n.kv))],a);b.aFa=a;},31050:function(r,b,a){var g;function c(){}function m(k){k?(this.active=!1,this.Lpa(k)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=b.A0=void 0;r=a(5163);a=a(22674);m.prototype.Lpa=function(k){this.Pe=k.keySessionData?k.keySessionData.map(function(d){return {id:d.id,zH:d.licenseContextId,VW:d.licenseId};}):[];this.na=k.xid;this.O=k.movieId;};m.prototype.Ru=function(){return JSON.parse(JSON.stringify({keySessionData:this.Pe?this.Pe.map(function(k){return {id:k.id,licenseContextId:k.zH,licenseId:k.VW};}):[],xid:this.na,movieId:this.O}));};b.A0=m;c.prototype.create=function(){return new m();};c.prototype.load=function(k){return new m(k);};g=c;g=r.__decorate([(0,a.U)()],g);b.rGa=g;},80075:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v;function c(w,y,x,z,A,B,D,C,E){var G;G=this;this.Ac=y;this.Mz=x;this.config=z;this.Wt=A;this.wIb=B;this.zL=D;this.QN=C;this.im=E;this.P9b=function(F,I){var P;G.im.mark(v.Pa.L0,F.Ci.na,"generate-challenge");P=!1;I.o7b(function(M){P || (P=!0,G.im.mark(v.Pa.K0,F.Ci.na,"generate-challenge"));G.FV(F,I,M).then(function(L){I.lVa(L);G.iAb(I);}).catch(function(L){return I.Swb(L);});});};this.log=w.Za("DrmServices");this.Wt().Ks && this.zL.Tcb().then(function(){G.o4b();}).catch(function(F){G.log.error("Unable to load the persisted DRM data",F);});this.config.k6a && this.KB(C(),n.Eh.On).then(function(F){return F.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(53085);d=a(69493);f=a(77134);n=a(24735);h=a(23563);l=a(93673);p=a(31050);q=a(10060);u=a(4203);t=a(92395);v=a(63156);c.prototype.uMb=function(w,y){return this.KB(y,w.type,w.context).then(function(x){return x.xMb(w.initData,w.K8).then(function(z){return [x,{Er:x.Yt(),data:z.ek}];});});};c.prototype.cj=function(w,y){var x;x=this;this.log.info("Requesting challenges",this.y3a(w,w.type));return this.KB(y,w.type,w.context).then(function(z){x.f$a(w,z);return z.yMb(w.initData,w.K8).then(function(){return z;});});};c.prototype.f$a=function(w,y){y.v7b(w.Ci);this.P9b(w,y);};c.prototype.release=function(w,y){var x;x=this;this.log.info("Releasing server license",this.y4a(w));return this.APb(w).then(function(){var z;z=Object.assign({active:!1,Pe:[]},w.Ci);x.zL.IY(z);y.A4b();return w;});};c.prototype.y3a=function(w,y){return {movieId:w.Ci.O,xid:w.Ci.na,type:(0,n.Ata)(y)};};c.prototype.y4a=function(w){return {movieId:w.Ci?w.Ci.O:void 0,xid:w.Ci?w.Ci.na:void 0,keySessionId:w.Qy()};};c.prototype.FV=function(w,y,x){this.log.info("Sending license request",this.y3a(w,x.Ef));return this.Mz.cj({na:w.Ci.na,Ad:w.Ci.Ad,k6:[w.Ci.Wk],ek:[{sessionId:y.Qy() || "session",data:x.ek}],Ef:x.Ef,Er:y.Yt(),GXa:x.GXa,wi:w.Ci.wi,Vf:w.Ci.Vf});};c.prototype.APb=function(w){this.log.info("Sending release request",this.y4a(w));return this.Mz.release({na:w.Ci.na,Pe:w.Pe});};c.prototype.KB=function(w,y,x){return this.wIb.create().then(function(z){return z.createSession(w,y,x).then(function(){return z;});});};c.prototype.n4b=function(w){var y;y=this;return this.Mz.release({na:w.na,Pe:w.Pe}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.o4b=function(){var w;w=this;this.Ac.xk(this.config.Lwa,function(){w.log.trace("Removing cached sessions",{"count:":w.zL.l6.length});w.zL.l6.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return w.n4b(x);}).then(function(){return w.zL.IY(x);});},Promise.resolve(void 0));});};c.prototype.iAb=function(w){var y;if(w.Qy() && w.Ci){y=new p.A0();y.Pe=w.Pe;y.na=w.Ci.na;y.O=w.Ci.O;this.zL.hVa(y);}};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(k.bi)),r.__param(2,(0,m.l)(d.uGa)),r.__param(3,(0,m.l)(h.Oq)),r.__param(4,(0,m.l)(u.Zb)),r.__param(5,(0,m.l)(q.XGa)),r.__param(6,(0,m.l)(l.mea)),r.__param(7,(0,m.l)(t.AR)),r.__param(8,(0,m.l)(f.GR))],a);b.vGa=a;},97485:function(r,b,a){var c,m,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Acb=void 0;c=a(36129);m=a(70999);g=a(47737);k=a(49594);b.Acb=function(f){k.bM.parent=f.nb;return function(){d || (d=new Promise(function(n,h){try{n(k.bM.get(g.wGa));}catch(l){h(new m.Pg(c.V.sob,c.R.Cob,void 0,"Unable to extract the DRM services from the dependency injector",l));}}));return d;};};},90581:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z){this.hh=t;this.Ui=v;this.oc=w;this.config=y;this.li=x;this.ah=z;}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;r=a(5163);m=a(22674);g=a(6405);k=a(2248);d=a(84408);f=a(4203);n=a(7605);h=a(53921);l=a(23563);p=a(65315);q=a(20674);u=a(8265);c.prototype.create=function(t){switch(t){case h.Ik.BO:return new q.TGa(this.Ui,this.oc);case h.Ik.vM:return new u.TPa(this.Ui,this.oc,this.hh,this.ah);default:return new p.iFa(this.Ui,this.oc,this.li,this.config);}};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(d.Zq)),r.__param(1,(0,m.l)(g.vA)),r.__param(2,(0,m.l)(k.ih)),r.__param(3,(0,m.l)(f.Zb)),r.__param(4,(0,m.l)(l.Oq)),r.__param(5,(0,m.l)(n.Mx))],a);b.xGa=a;},17250:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z){this.ke=t;this.hh=v;this.oc=w;this.is=y;this.IX=x;this.li=z;}Object.defineProperty(b,"__esModule",{value:!0});b.UGa=void 0;r=a(5163);m=a(22674);g=a(2248);k=a(42207);d=a(63368);f=a(84408);n=a(74870);h=a(53921);l=a(23563);p=a(81471);q=a(963);u=a(90349);c.prototype.create=function(t){switch(t){case h.Ik.BO:return new q.ROa(this.IX,this.is,this.oc,this.ke,this.li,this.hh);case h.Ik.vM:return new p.rHa(this.IX,this.is,this.oc,this.ke,this.li,this.hh);default:return new u.qv(this.IX,this.is,this.oc,this.ke,this.li,this.hh);}};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(n.Fh)),r.__param(1,(0,m.l)(f.Zq)),r.__param(2,(0,m.l)(g.ih)),r.__param(3,(0,m.l)(k.$f)),r.__param(4,(0,m.l)(d.mK)),r.__param(5,(0,m.l)(l.Oq))],a);b.UGa=a;},18135:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p){h=g.Ve.call(this,h,void 0 === p?"EmeConfigImpl":p) || this;h.ud=l;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.VGa=void 0;r=a(5163);m=a(22674);g=a(64174);k=a(83767);d=a(5021);f=a(12501);a=a(22816);ea(c,g.Ve);Ya.Object.defineProperties(c.prototype,{obb:{configurable:!0,enumerable:!0,get:function(){return !0;}},k6a:{configurable:!0,enumerable:!0,get:function(){return this.ud.L6a || this.ud.N8 || this.ud.JW?!0:!1;}},FC:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(5);}},Lwa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(10);}},LU:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},kV:{configurable:!0,enumerable:!0,get:function(){return !1;}},Una:{configurable:!0,enumerable:!0,get:function(){return !1;}},ss:{configurable:!0,enumerable:!0,get:function(){return !0;}},QVa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},RVa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},TVa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},k4:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},UVa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},xza:{configurable:!0,enumerable:!0,get:function(){return "";}},Iab:{configurable:!0,enumerable:!0,get:function(){return this.ud.AW?!1:!0;}},Jab:{configurable:!0,enumerable:!0,get:function(){return !1;}}});n=c;r.__decorate([f.config(f.od,"persistentStateRequired")],n.prototype,"obb",null);r.__decorate([f.config(f.od,"initializeKeySystemAtStartup")],n.prototype,"k6a",null);r.__decorate([f.config(f.sk,"licenseRenewalRequestDelay")],n.prototype,"FC",null);r.__decorate([f.config(f.sk,"persistedReleaseDelay")],n.prototype,"Lwa",null);r.__decorate([f.config(f.string,"drmPersistKey")],n.prototype,"LU",null);r.__decorate([f.config(f.od,"forceLimitedDurationLicense")],n.prototype,"kV",null);r.__decorate([f.config(f.od,"disableLicenseRenewal")],n.prototype,"Una",null);r.__decorate([f.config(f.od,"prepareCadmium")],n.prototype,"ss",null);r.__decorate([f.config(f.sk,"apiCloseTimeout")],n.prototype,"QVa",null);r.__decorate([f.config(f.sk,"apiCreateMediaKeysTimeout")],n.prototype,"RVa",null);r.__decorate([f.config(f.sk,"apiSetServerCertificateTimeout")],n.prototype,"TVa",null);r.__decorate([f.config(f.sk,"apiGenerateRequestTimeout")],n.prototype,"k4",null);r.__decorate([f.config(f.sk,"apiUpdateTimeout")],n.prototype,"UVa",null);r.__decorate([f.config(f.string,"serverCertificate")],n.prototype,"xza",null);r.__decorate([f.config(f.od,"outputRestrictedIsFatal")],n.prototype,"Iab",null);r.__decorate([f.config(f.od,"outputRestrictedIsFatalForUhd")],n.prototype,"Jab",null);n=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Hl)),r.__param(1,(0,m.l)(a.dE)),r.__param(2,(0,m.l)(k.f0)),r.__param(2,(0,m.optional)())],n);b.VGa=n;},70999:function(r,b,a){var m,g;function c(k,d,f,n,h){k=void 0 === k?m.V.jp:k;return g.Qc.call(this,k,d,f,void 0,void 0,n,g.Qc.Nf(h),h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Pg=void 0;m=a(36129);g=a(31149);ea(c,g.Qc);b.Pg=c;},74946:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q,u,t,v,w){this.dm=p;this.Ea=q;this.oc=u;this.config=t;this.Ko=v;this.Eo=w;}Object.defineProperty(b,"__esModule",{value:!0});b.WGa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(81918);d=a(2248);f=a(23563);n=a(59818);h=a(97737);a=a(21103);c.prototype.create=function(){var p;p=this;return this.Eo.gC().then(function(q){return new h.YGa(p.dm,p.Ea,p.oc,p.config,p.Ko,q);});};l=c;l=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(k.Kc)),r.__param(2,(0,m.l)(d.ih)),r.__param(3,(0,m.l)(f.Oq)),r.__param(4,(0,m.l)(n.NA)),r.__param(5,(0,m.l)(a.kv))],l);b.WGa=l;},97737:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w;function c(y,x,z,A,B,D){var C;C=this;this.Ea=x;this.Qv=z;this.config=A;this.Ko=B;this.SC=D;this.keyStatuses=new p.Jb({});this.Lva=function(E){var G,F,I,P,M,L;try{F=C.yl.ana(E);I=F.LH;P=F.messageType;M=F.sessionId;C.rH=C.rH || F.rH;C.nZ(M);C.log.trace("Received " + E.type + " event",{sessionId:M,messageType:P,keyIds:C.rH});if(P === b.Tfa){if(C.config.Una){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.Ef=k.Eh.On;C.Ho=t.xI;}C.Ho === t.cj && C.Dp(d.Qs.fdb);C.Ho === t.xI && C.Dp(d.Qs.gdb);L={ek:I,GXa:P,Ef:C.Ef};null === (G=C.qab) || void 0 === G?void 0:G.call(C,L);C.Fra(I)?C.CC(new l.Qc(g.V.KGa)):C.jk && !C.jk.ekb && C.m7a(L);}catch(Q){C.CC(Q);}};this.Kva=function(E){var G,F,I,P,M,J,H,K,O,R,ca,oa,ua,ya,Ca,Va,S;F=E.target;I=F.keyStatuses;C.nZ(F.sessionId);C.log.trace("Received event: " + E.type);try{M=null === (G=C.context) || void 0 === G?void 0:G.h9;E=[];for(var L=ja(I),Q=L.next();!Q.done;Q=L.next()){J=ja(Q.value);H=J.next().value;K=J.next().value;O=C.Qv.encode(new Uint8Array(H));E.push({xo:O,status:K,height:null === M || void 0 === M?void 0:M[O]});}E.sort(function(ma,Ja){return (ma.height || 0) - (Ja.height || 0);});R=E.map(function(ma){return ma.xo;});ca=E.map(function(ma){return ma.height;});oa=E.map(function(ma){return ma.status;});C.nta=R + ", " + ca + ", " + oa;C.log.trace("KeyStatus: " + C.nta);M={};for(var ta=ja(I),Fa=ta.next();!Fa.done;Fa=ta.next()){ua=ja(Fa.value);ya=ua.next().value;Ca=ua.next().value;Va=C.Qv.encode(new Uint8Array(ya));S=v[Ca];M[Va]=S.status;C.kH(Va,S.error) && (P=new n.Pg(S.error));}C.keyStatuses.set(M);}catch(ma){P=new n.Pg(g.V.Fqb);P.EU(ma);}P?C.Zr?C.Y8(P):C.LW(P):(C.yl.n5() || C.n7a(),C.Ef !== k.Eh.Ln || C.yl.gla() || (C.config.Una?C.log.trace("Disabling license renewal"):C.F4b()));};this.ls=function(E){var G;G=C.yl.Ay(E);C.log.error("Received event: " + E.type,G);C.CC(G);C.Y8(G);C.jk || C.Zr || C.LW(G);};this.UZb=function(E){C.log.error("MediaKeySession closed unexpectedly: " + E);C.LW(new l.Qc(g.V.Nea,w[E]));};this.CC=function(E){C.close().then(function(){var G;C.log.trace("Issuing a generate challenge error");null === (G=C.jk) || void 0 === G?void 0:G.IP.reject(E);C.jk=void 0;},function(G){var F;C.log.error("EmeSession closed with an error.",C.yl.Ay(G));null === (F=C.jk) || void 0 === F?void 0:F.IP.reject(E);C.jk=void 0;});};this.m7a=function(E){var G;null === (G=C.jk) || void 0 === G?void 0:G.IP.resolve(E);C.jk=void 0;};this.Y8=function(E){C.log.error("Failed to add license",E);C.close().then(function(){var G,F;C.log.trace("Issuing a license error");null === (G=C.jk) || void 0 === G?void 0:G.IP.reject(E);C.jk=void 0;null === (F=C.Zr) || void 0 === F?void 0:F.reject(E);C.Zr=void 0;},function(G){var F,I;C.log.error("EmeSession closed with an error.",C.yl.Ay(G));C.Ho === t.xI && C.Dp(d.Qs.uVa);null === (F=C.jk) || void 0 === F?void 0:F.IP.reject(E);C.jk=void 0;null === (I=C.Zr) || void 0 === I?void 0:I.reject(E);C.Zr=void 0;});};this.n7a=function(){C.Zr && (C.log.info("Successfully added license"),C.Ho === t.cj?C.Dp(d.Qs.mVa):C.Ho === t.xI && C.Dp(d.Qs.tVa),C.Zr.resolve(),C.Zr=void 0);};this.LW=function(E){C.close().then(function(){var G;C.log.trace("Issuing a CDM error");C.jk=void 0;C.Zr=void 0;null === (G=C.mab) || void 0 === G?void 0:G.call(C,E);},function(G){var F;C.log.error("EmeSession closed with an error.",C.yl.Ay(G));C.jk=void 0;C.Zr=void 0;null === (F=C.mab) || void 0 === F?void 0:F.call(C,E);});};this.Dp=function(E){C.yd.push({time:C.Ea.Lb(),AX:E});};this.Idb=!1;this.log=y.Za("EmeSession");this.Ho=t.Vac;this.Ug=D.kZa();this.yl=D.jZa();this.yd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=b.Tfa=b.Ufa=void 0;m=a(5021);g=a(36129);k=a(24735);d=a(28289);r=a(28048);f=a(27995);n=a(70999);h=a(59818);l=a(31149);p=a(81734);q=a(94293);u=a(82100);(function(y){y[y.Vac=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.cj=3]="license";y[y.xI=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.Ufa="license-request";b.Tfa="license-renewal";v={usable:{status:r.fv.sjb},expired:{status:r.fv.Hr,error:g.V.uga},released:{status:r.fv.released},"output-not-allowed":{status:r.fv.Hab,error:g.V.GMa},"output-restricted":{status:r.fv.Hab,error:g.V.vga},"output-downscaled":{status:r.fv.S_b},"status-pending":{status:r.fv.n9b},"internal-error":{status:r.fv.OSb,error:g.V.Eqb}};w={"internal-error":g.R.wnb,"closed-by-application":g.R.snb,"release-acknowledged":g.R.Bnb,"hardware-context-reset":g.R.Lea,"resource-evicted":g.R.Dnb};c.prototype.EV=function(){return this.SC.j9;};c.prototype.u3a=function(){return this.nta;};c.prototype.Qy=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.qab=this.context=void 0;this.Ho=t.closed;this.yd=[];void 0 !== this.iba && (qb.clearTimeout(this.iba),this.iba=void 0);return this.Ug.TTb()?(this.log.trace("Closing the session"),this.Ug.Adb(this.Lva),this.Ug.xdb(this.Kva),this.Ug.vdb(this.ls),this.mediaKeys=void 0,this.Ko.Bq(this.config.QVa,this.Ug.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.yl.Ay(x).code=g.V.Jqb;throw x;})):Promise.resolve(void 0);};c.prototype.Yt=function(){return this.SC.Yt();};c.prototype.d5a=function(){return void 0 !== this.tn;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.Ef=x;this.Ho=t.create;this.Dp(d.Qs.a8a);return (y.e5a()?Promise.resolve():this.Ko.Bq(this.config.RVa,this.Ug.createMediaKeys(this.SC)).then(function(B){A.log.trace("Created media keys");return A.byb(B).then(function(){return y.nVa(B);}).catch(function(D){return Promise.reject(A.xxa(D,g.V.Enb));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.Ug.createSession(A.mediaKeys,u.TEMPORARY);A.Ug.oVa(A.Lva);A.Ug.kVa(A.Kva);A.Ug.iVa(A.ls);A.Ug.Iwb(A.UZb);A.nZ(A.Ug.Qy());}catch(B){return Promise.reject(A.xxa(B,g.V.tnb));}}).catch(function(B){return Promise.reject(A.xxa(B,g.V.D0));});};c.prototype.v7b=function(y){this.Ci=y;this.log.fVa("xid",y.na);};c.prototype.xMb=function(y,x){return this.generateRequest(y,x,!1).then(function(z){return z;});};c.prototype.yMb=function(y,x){return this.generateRequest(y,x,!0).then(function(){});};c.prototype.lVa=function(y){this.Pe=y.Pe;y=y.tn.map(function(x){return x.data;});this.Fra(y)?(this.log.error("The license buffer is empty"),this.CC(new n.Pg(g.V.JGa,g.R.HGa))):(this.Ho === t.cj && (this.Dp(d.Qs.edb),this.tn=y,this.W_a=this.yl.NM(this.rH,y),this.jk && this.jk.ekb && this.m7a()),this.Ho === t.xI && (this.Dp(d.Qs.hdb),this.tn=y,this.W_a=this.yl.NM(this.rH,y),this.Oka()));};c.prototype.Swb=function(y){this.Ho === t.xI?(this.Dp(d.Qs.jdb),this.LW(y)):this.CC(y);};c.prototype.Oka=function(){var y,x;y=this;if(!this.tn){x=new n.Pg(g.V.JGa,g.R.LGa);this.Y8(x);return Promise.reject(x);}this.Zr=new q.h2();x=this.tn;this.tn=void 0;this.Ko.Bq(this.config.UVa,this.Ug.update(x,this.Ho === t.cj?f.ME.Request:f.ME.sPa,this.rH)).then(function(){y.yl.n5() && y.n7a();}).catch(function(z){z=y.yl.Ay(z);z.code=g.V.xga;z.message="Unable to update the EME";y.log.error(z.message,z);y.Y8(z);});return this.Zr.promise;};c.prototype.o7b=function(y){this.qab=y;};c.prototype.f7b=function(y){this.mab=y;};c.prototype.NM=function(){return this.W_a;};c.prototype.generateRequest=function(y,x,z){var A;A=this;this.Ho=t.cj;this.log.trace("Generating a license challenge");if(!y)return (y=new n.Pg(g.V.IGa,g.R.LGa),this.CC(y),Promise.reject(y));if(this.Fra(y))return (y=new n.Pg(g.V.IGa,g.R.HGa),this.CC(y),Promise.reject(y));this.jk={IP:new q.h2(),ekb:z};this.Ko.Bq(this.config.k4,this.Ug.generateRequest(this.yl.rqa(),y,x)).then(function(){A.nZ(A.Ug.Qy());}).catch(function(B){var D,C;D=new n.Pg(g.V.E0,B instanceof h.Wq?g.R.WQ:g.R.Bm);try{C=A.yl.Ay(B);D.De=C.De;D.message="Unable to generate request.";D.EU(B);}catch(E){}A.log.error("Unable to generate a license request",D);A.CC(D);});return this.jk.IP.promise;};c.prototype.byb=function(y){return this.Ko.Bq(this.config.TVa,this.Ug.setServerCertificate(y,this.yl.k7()));};c.prototype.nZ=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.fVa("sessionId",y));};c.prototype.F4b=function(){var y;y=this;this.Idb || (this.Idb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.FC}),this.iba=qb.setTimeout(function(){y.iba=void 0;y.VO();},this.config.FC.ea(m.ma)));};c.prototype.aUb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.h9) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.kH=function(y,x){var z;z=this.Ug.s3a();return z && !z.includes(y)?!1:x === g.V.vga?this.aUb(y)?this.config.Jab:this.config.Iab:!!x;};c.prototype.VO=function(){this.log.trace("Initiating a renewal request");this.Ef=k.Eh.On;this.Ho=t.xI;this.yl.Ula()?this.yl.Asa(this.Ug):this.H5();};c.prototype.H5=function(){var y;y=this;this.Ug.H5(this.mediaKeys,u.TEMPORARY,this.Lva,this.Kva,this.ls).then(function(){y.log.debug("Creating session to renew license");y.nZ(y.Ug.Qy());}).catch(function(){y.LW(new n.Pg(g.V.E0));});};c.prototype.Fra=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.xxa=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.Pc))return y;A=(0,u.Mqa)(null === y || void 0 === y?void 0:y.message);return new n.Pg(x,y instanceof h.Wq?g.R.WQ:g.R.Bm,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.YGa=c;},84218:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gSa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.sHa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.UNa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u,t,v){this.dm=q;this.config=u;this.NU=t;this.DC=v;this.log=this.dm.Za("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.HJa=void 0;r=a(5163);m=a(22674);g=a(66523);k=a(87386);d=a(4203);f=a(17612);n=a(82100);h=a(41980);l=a(18647);p=a(21103);c.prototype.get=function(){var q,u,t,v;q=this;try{u=(this.config().E7a || [this.config().sn]).map(function(w){var y;y=f.fb.AV(w);y=q.NU.create(y).Yqa();return (0 < y.length?y:[void 0]).map(function(x){return {keySystem:w,robustness:x};});});t=(0,g.flatten)(u).map(function(w){return {i9:w,status:(0,p.ena)(void 0)};});t.forEach(function(w){var y;y=q.VKb(w.i9);w.status=(0,p.ena)(y);});v=(0,p.xqa)(t);return this.DC.get().then(function(w){return t.forEach(function(y,x){var z;z=x === v;y.status.supported && !z && (y=q.YKb(y.i9,w),(0,p.Vca)(t,x,y));});}).then(function(){return t;});}catch(w){throw (this.log.error("KeySystemProvider failed.",w),w);}};c.prototype.VKb=function(q){var u;if(f.fb.JIa.includes(q.keySystem) || n.KIa.includes(null !== (u=q.robustness) && void 0 !== u?u:"")){if(!this.config().s0a)return "hwdrm-not-enabled";if(this.config().NXb && 1440 > qb.screen.height * qb.devicePixelRatio)return "hwdrm-screen-height";}};c.prototype.YKb=function(q,u){q=this.ZQb(q);q=(0,n.Mma)(q);if(u.includes(q))return "too-many-errors";};c.prototype.ZQb=function(q){var u;u={keySystem:q.keySystem === f.fb.fSa?f.fb.iS:q.keySystem};q.robustness && (u.robustness=q.robustness);return u;};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(d.Zb)),r.__param(2,(0,m.l)(h.Jea)),r.__param(3,(0,m.l)(l.Bfa))],a);b.HJa=a;},61738:function(r,b,a){var m,g,k,d;function c(f,n,h){this.config=f;this.dm=n;this.Mla=h;this.log=this.dm.Za("KeySystemRestrictor");this.MVb=this.config().v0a?this.Mla.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.JJa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(4203);a=a(33258);c.prototype.get=function(){var f;f=this;try{return this.config().v0a?this.MVb.then(function(n){return f.eLb(n);}):Promise.resolve([]);}catch(n){return (this.log.error("KeySystemRestrictor failed.",n),Promise.resolve([]));}};c.prototype.eLb=function(f){var n,l;this.leb={};n=f.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(n));f=[];n=ja(Object.entries(n));for(var h=n.next();!h.done;h=n.next()){l=ja(h.value);h=l.next().value;l=l.next().value;this.qRb(l) && f.push(h);}f.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + f);return this.x5b=f;};c.prototype.qRb=function(f){var n,h;n=this;h=f.reduce(function(l,p){n.config().VJb.includes(p.code) && (p=n.ZEb(p),l[p] || (l[p]=0),l[p]++);return l;},{});this.leb[f[0].keySystem]=h;return Object.values(h).some(function(l){return l >= n.config().WJb;});};c.prototype.ZEb=function(f){return [f.code,f.Pc,f.De].filter(Boolean).join(".");};Ya.Object.defineProperties(c.prototype,{F7a:{configurable:!0,enumerable:!0,get:function(){return this.x5b;}},G7a:{configurable:!0,enumerable:!0,get:function(){return this.leb;}}});d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Zb)),r.__param(1,(0,m.l)(g.$a)),r.__param(2,(0,m.l)(a.oea))],d);b.JJa=d;},38231:function(r,b,a){var m,g,k,d;function c(f,n){this.NU=f;this.PU=n;}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;r=a(5163);m=a(22674);g=a(41980);k=a(34008);d=a(52428);c.prototype.create=function(f,n,h){return new d.pLa(f,this.NU,this.PU,n,h);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Jea)),r.__param(1,(0,m.l)(k.Qea))],a);b.nLa=a;},52428:function(r,b,a){var m,g;function c(k,d,f,n,h){this.keySystem=k;this.NU=d;this.PU=f;this.SC=n;this.Er=h;}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;m=a(17612);g=a(82100);c.prototype.createMediaKeys=function(){return this.SC.createMediaKeys();};c.prototype.getConfiguration=function(){return this.SC.getConfiguration();};c.prototype.Yt=function(){return m.fb.AV(this.SC.keySystem);};c.prototype.kZa=function(){return this.PU.create(this.Er);};c.prototype.jZa=function(){return this.NU.create(this.Er);};Ya.Object.defineProperties(c.prototype,{j9:{configurable:!0,enumerable:!0,get:function(){var k,d;k=this.keySystem;d=(0,g.C7)(this.SC);d && (k+="." + d);return k;}}});b.pLa=c;},9717:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x;function c(z,A,B,D,C,E,G){this.dm=z;this.oc=A;this.config=B;this.li=D;this.kYb=C;this.PU=E;this.AUb=G;this.log=this.dm.Za("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(87386);d=a(70999);f=a(21103);n=a(53921);h=a(2248);l=a(4203);p=a(17612);q=a(82100);u=a(84218);t=a(91490);v=a(34008);w=a(22266);y=a(23563);x=a(73796);c.prototype.gC=function(){this.promise || (this.promise=this.O5b());return this.promise;};c.prototype.tFb=function(z,A){var B;B="video/mp4;codecs=" + (A === q.Ss && this.config().L9a?x.Lc.bfa:x.Lc.ZQ);B={initDataTypes:[q.cv],videoCapabilities:[{contentType:B}],sessionTypes:[q.TEMPORARY]};z === n.Ik.lkb && this.li.obb && (B.persistentState="required");z=B.videoCapabilities[0];A && (z.robustness=A);return [B];};c.prototype.lFb=function(z,A){var B;B=this;return new Promise(function(D,C){var E;E=p.fb.AV(z);B.PU.create(E).S4b(z,B.tFb(E,A)).then(function(G){B.log.trace("Created the media keys system access",{keySystem:z,supportedconfig:G.getConfiguration?JSON.stringify(G.getConfiguration()):void 0});G=B.kYb.create(z,G,E);B.j9=G.j9;D(G);}).catch(function(G){B.log.warn("Unable to create the media key system access object",{keySystem:z,error:G.message});C(new d.Pg(g.V.GGa,g.R.Bm,void 0,"Unable to create media keys system access. " + G.message,G));});});};c.prototype.HNb=function(){var z;z=this.config().E7a || [this.config().sn];if(1 < z.length)return (z=z.map(function(A){return p.fb.hqa(p.fb.AV(A));}),1 === new Set(z).size?Promise.resolve(z[0]):this.gC().then(function(A){return A.Yt();}).then(function(A){return p.fb.hqa(A);}));z=p.fb.AV(z[0]);return Promise.resolve(p.fb.hqa(z));};c.prototype.dCa=function(z){var A,B,D,C;A=this;B=z.Yt();D=z.kZa();C=z.jZa();return z.createMediaKeys().then(function(E){D.createSession(E,q.TEMPORARY);return D.setServerCertificate(E,C.k7());}).then(function(){return D.generateRequest(q.cv,A.qqa(B),!1);}).then(function(){return D.close();}).then(function(){return z;}).catch(function(E){A.log.error("validateKeySystemAccess failed",E);return Promise.reject(E);});};c.prototype.qqa=function(z){switch(z){case n.Ik.vM:z=u.sHa;break;case n.Ik.BO:z=u.UNa;break;default:z=u.gSa;}return z.map(this.oc.decode);};c.prototype.O5b=function(){var z;z=this;try{return this.AUb.get().then(function(A){var B;z.Wtb=A;B=(0,f.xqa)(A);return A.map(function(D,C){var E,G;E=D.i9;G=D.status;return function(){var F,I;if(!G.supported)return Promise.reject(Error(E.keySystem + ": " + G.reason));F=C === B;I=z.config().dCa && !F;return z.lFb(E.keySystem,E.robustness).catch(function(P){(0,f.Vca)(A,C,"not-supported");throw P;}).then(function(P){return I?z.dCa(P):Promise.resolve(P);}).catch(function(P){(0,f.Vca)(A,C,"validation-failed");throw P;});};});}).then(function(A){return z.P5b(A);});}catch(A){return Promise.reject(A);}};c.prototype.P5b=function(z){return z.reduce(function(A,B){return A.then(function(D){return Promise.resolve(D);}).catch(function(){return B();});},Promise.reject(Error("keySystem missing")));};Ya.Object.defineProperties(c.prototype,{D7a:{configurable:!0,enumerable:!0,get:function(){return this.j9;}},H7a:{configurable:!0,enumerable:!0,get:function(){return this.Wtb;}}});a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(h.ih)),r.__param(2,(0,m.l)(l.Zb)),r.__param(3,(0,m.l)(y.Oq)),r.__param(4,(0,m.l)(t.oLa)),r.__param(5,(0,m.l)(v.Qea)),r.__param(6,(0,m.l)(w.IJa))],a);b.qLa=a;},66372:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.rLa=void 0;a.prototype.e5a=function(){return void 0 !== this.mediaKeys;};a.prototype.nVa=function(c){this.mediaKeys=c;};a.prototype.A4b=function(){this.e5a() && (this.mediaKeys=void 0);};b.rLa=a;},77699:function(r,b){function a(c,m,g){var k;k=this;this.oc=c;this.Ch=m;this.hh=g;this.pOb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=k.oc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.wHa={cv:1667591779,Xlb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;a.prototype.MCb=function(c,m){m=m?this.wHa.Xlb:this.wHa.cv;c=c.map(function(g){return {Ulc:"",BUb:g,Xka:g,W8b:g,vcc:[1]};});return this.pWb(m,c);};a.prototype.oWb=function(c){var m;m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,c);return this.gua("fpsi",[m]);};a.prototype.nWb=function(c,m,g,k){c=[this.gua("fkri",[c])];m.byteLength && c.push(this.hX("fkai",[m]));g.byteLength && c.push(this.hX("fkcx",[g]));k.length && c.push(this.hX("fkvl",[new Uint8Array(new Uint32Array(k).buffer)]));return this.hX("fpsk",c);};a.prototype.pWb=function(c,m){var g,d;g=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.oWb(c)];for(var k in m){d=m[k];c.push(this.nWb(d.BUb,d.Xka,d.W8b,d.vcc));}m=this.hX("fpsd",c);k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,m.byteLength);return this.gua("pssh",[g,k,m]);};a.prototype.gua=function(c,m){var g,k,d;g=0;for(d in m)g+=m[d].byteLength;g=new Uint8Array(12 + g);k=new DataView(g.buffer);d=0;k.setUint32(d,g.byteLength);d+=4;g.set(this.hh.decode(c),d);d+=4;k.setUint32(d,0);d+=4;for(var f in m)(c=m[f],g.set(c,d),d+=c.byteLength);return g;};a.prototype.hX=function(c,m){var g,k;g=0;for(k in m)g+=m[k].byteLength;g=new Uint8Array(8 + g);k=0;new DataView(g.buffer).setUint32(k,g.byteLength);k+=4;g.set(this.hh.decode(c),k);k+=4;for(var d in m)(c=m[d],g.set(c,k),k+=c.byteLength);return g;};b.qHa=a;},81471:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z){t=g.qv.call(this,t,v,w,y,x,z) || this;t.oc=w;t.Ch=y;t.li=x;t.hh=z;t.t5a=new k.qHa(t.oc,t.Ch,t.hh);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;r=a(5163);m=a(22674);g=a(90349);k=a(77699);d=a(63368);f=a(42207);n=a(2248);h=a(74870);l=a(23563);p=a(84408);q=a(27995);u=a(47450);ea(c,g.qv);c.prototype.generateRequest=function(t,v,w){var y,x,z;y=this;try{x=v.map(function(A){return y.t5a.pOb(A);});this.b6a=x.map(function(A){return y.oc.encode(A);});z=this.t5a.MCb(x,w);return g.qv.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,v,w){var y,x,z,A,B;y=this;if(w)try{x=this.hh.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(D){var C;C=u.y2.Zgb(D.ID);return {keyID:v === q.ME.sPa?y.b6a[y.b6a.length - 1]:w[C],payload:D.PAYLOAD};});if(v === q.ME.Request){A=z.map(function(D){return D.keyID;});this.LSb=A;w.forEach(function(D){-1 === A.indexOf(D) && z.push({keyID:D,error:1});});}B=JSON.stringify(z);t=[this.hh.decode(B)];}catch(D){return Promise.reject(D);}return g.qv.prototype.update.call(this,t,v);};c.prototype.VO=function(){return g.qv.prototype.update.call(this,[this.hh.decode("renew")],q.ME.Request);};c.prototype.s3a=function(){return this.LSb;};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(d.mK)),r.__param(1,(0,m.l)(f.$f)),r.__param(2,(0,m.l)(n.ih)),r.__param(3,(0,m.l)(h.Fh)),r.__param(4,(0,m.l)(l.Oq)),r.__param(5,(0,m.l)(p.Zq))],a);b.rHa=a;},963:function(r,b,a){var m,g,k,d;function c(){return g.qv.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ROa=void 0;r=a(5163);m=a(22674);g=a(90349);k=a(70999);d=a(36129);ea(c,g.qv);c.prototype.H5=function(f,n,h,l,p){this.Adb(h);this.xdb(l);this.vdb(p);this.vTa=this.ye;this.ye=f.createSession(n);this.oVa(h);this.kVa(l);this.iVa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var n;function f(h){return h && h.sessionId?h.close():Promise.resolve();}n=this;this.Ama=void 0;return this.ye?Promise.all([f(this.ye),f(this.vTa)]).then(function(){}).finally(function(){n.ye=void 0;n.vTa=void 0;}):Promise.reject(new k.Pg(d.V.FGa,d.R.VJ,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,n,h){this.initDataType=f;this.initData=n;return g.qv.prototype.generateRequest.call(this,f,n,h);};a=c;a=r.__decorate([(0,m.U)()],a);b.ROa=a;},90349:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z){this.IX=t;this.is=v;this.oc=w;this.Ch=y;this.li=x;this.hh=z;(0,k.Co)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.qv=void 0;r=a(5163);g=a(22674);k=a(66523);d=a(36129);f=a(63368);n=a(42207);h=a(70999);l=a(74870);p=a(2248);q=a(23563);a=a(84408);c.prototype.Qy=function(){if(this.ye)return this.ye.sessionId;};c.prototype.S4b=function(t,v){return this.IX.requestMediaKeySystemAccess(t,v);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,v){this.ye=t.createSession(v);};c.prototype.H5=function(){return Promise.reject(new h.Pg(d.V.E0));};c.prototype.TTb=function(){return !!this.ye;};c.prototype.setServerCertificate=function(t,v){return this.is.O3(t.setServerCertificate) && v?t.setServerCertificate(v):Promise.resolve();};c.prototype.generateRequest=function(t,v){return this.ye?this.ye.generateRequest(t,v[0]):Promise.reject(new h.Pg(d.V.E0,d.R.VJ,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.ye?this.ye.update(t[0]):Promise.reject(new h.Pg(d.V.MGa,d.R.VJ,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.ye?this.ye.load(t):Promise.reject(new h.Pg(d.V.Anb,d.R.VJ,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Ama=void 0;if(!this.ye)return Promise.reject(new h.Pg(d.V.FGa,d.R.VJ,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.Qy() && (t=this.ye.close());this.ye=void 0;return t;};c.prototype.remove=function(){return this.ye?this.ye.remove():Promise.reject(new h.Pg(d.V.Cnb,d.R.VJ,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.VO=function(){return Promise.reject(new h.Pg(d.V.Mea,void 0,"Unable to renew a key session, not supported"));};c.prototype.oVa=function(t){if(!this.ye)throw ReferenceError("Unable to add message handler, key session is not valid");this.ye.addEventListener(m.QGa,t);};c.prototype.kVa=function(t){if(!this.ye)throw ReferenceError("Unable to add key status handler, key session is not valid");this.ye.addEventListener(m.PGa,t);};c.prototype.iVa=function(t){if(!this.ye)throw ReferenceError("Unable to add error handler, key session is not valid");this.ye.addEventListener(m.OGa,t);};c.prototype.Iwb=function(t){var v;v=this;if(!this.ye)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Ama=t;this.ye.closed.then(function(w){var y;return null === (y=v.Ama) || void 0 === y?void 0:y.call(v,w);});};c.prototype.Adb=function(t){if(!this.ye)throw ReferenceError("Unable to remove message handler, key session is not valid");this.ye.removeEventListener(m.QGa,t);};c.prototype.xdb=function(t){if(!this.ye)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.ye.removeEventListener(m.PGa,t);};c.prototype.vdb=function(t){if(!this.ye)throw ReferenceError("Unable to remove error handler, key session is not valid");this.ye.removeEventListener(m.OGa,t);};c.prototype.s3a=function(){};u=m=c;u.QGa="message";u.PGa="keystatuseschange";u.OGa="error";u=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.mK)),r.__param(1,(0,g.l)(n.$f)),r.__param(2,(0,g.l)(p.ih)),r.__param(3,(0,g.l)(l.Fh)),r.__param(4,(0,g.l)(q.Oq)),r.__param(5,(0,g.l)(a.Zq))],u);b.qv=u;},65315:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u,t,v,w){this.Ui=u;this.oc=t;this.li=v;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(6405);d=a(2248);f=a(70999);n=a(59818);h=a(23563);l=a(4203);p=a(31149);q=a(82100);c.prototype.n5=function(){return !1;};c.prototype.gla=function(){return !0;};c.prototype.Ula=function(){return !0;};c.prototype.rqa=function(){return q.cv;};c.prototype.k7=function(){return this.li.xza?this.oc.decode(this.li.xza):this.oc.decode(q.eSa);};c.prototype.Yqa=function(){return [q.Ss,q.x2,q.w2];};c.prototype.Asa=function(){Promise.reject(new p.Qc(g.V.Mea));};c.prototype.ana=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,LH:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Ay=function(u){var t,v,w;t=new f.Pg(g.V.KA);v=null === u || void 0 === u?void 0:u.code;null != v && void 0 !== v?(v=parseInt(v,10),t.Pc=1 <= v && 9 >= v?g.R.BA + v:g.R.BA):t.Pc=u instanceof n.Wq?g.R.WQ:g.R.Bm;try{w=u.message.match(/\((\d*)\)/)[1];t.De=this.Ui.CM(w,4);}catch(y){}t.EU(u);return t;};c.prototype.NM=function(){};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.vA)),r.__param(1,(0,m.l)(d.ih)),r.__param(2,(0,m.l)(h.Oq)),r.__param(3,(0,m.l)(l.Zb))],a);b.iFa=a;},20674:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q){this.Ui=p;this.oc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.TGa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(6405);d=a(2248);f=a(70999);n=a(59818);h=a(31149);l=a(82100);c.prototype.n5=function(){return !0;};c.prototype.gla=function(){return !1;};c.prototype.Ula=function(){return !1;};c.prototype.rqa=function(){return l.cv;};c.prototype.k7=function(){};c.prototype.Yqa=function(){return [];};c.prototype.Asa=function(){Promise.reject(new h.Qc(g.V.Mea));};c.prototype.ana=function(p){var q;q=new Uint8Array(p.message);q=this.Yoa(q,"PlayReadyKeyMessage","Challenge");q=this.oc.decode(q);return {type:p.type,sessionId:p.target.sessionId,LH:[q],messageType:p.messageType};};c.prototype.Ay=function(p){var q,u,t;q=new f.Pg(g.V.KA);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.Pc=1 <= u && 9 >= u?g.R.BA + u:g.R.BA):q.Pc=p instanceof n.Wq?g.R.WQ:g.R.Bm;try{t=(/\((\d+)\)/).exec(p.message);q.De=this.Ui.CM(Number(t && t[1]),4);}catch(v){}q.EU(p);return q;};c.prototype.Yoa=function(p,q){var t,v,w;for(var u=1;u < arguments.length;++u);for(u=1;u < arguments.length;u++);u="";v=p.length;for(t=0;t < v;t++){w=p[t];0 < w && (u+=String.fromCharCode(w));}v="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){w=arguments[t];if(0 > u.search(w))return "";w="(?:[^:].*:|)" + w;v="[\\s\\S]*<" + w + "[^>]*>" + v + "</" + w + ">[\\s\\S]*";}return (u=u.match(new RegExp(v)))?u[1]:"";};c.prototype.NM=function(){};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.vA)),r.__param(1,(0,m.l)(d.ih))],a);b.TGa=a;},47450:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.y2=void 0;a.mSb=function(c){return "ID" + (c + 1);};a.Zgb=function(c){return Number(c.substr(2)) - 1;};b.y2=a;},8265:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t;function c(v,w,y,x){this.Ui=v;this.oc=w;this.hh=y;this.ah=x;}Object.defineProperty(b,"__esModule",{value:!0});b.TPa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(6405);d=a(84408);f=a(70999);n=a(59818);h=a(2248);l=a(82100);p=a(97737);q=a(31149);u=a(7605);t=a(47450);c.prototype.n5=function(){return !1;};c.prototype.gla=function(){return !1;};c.prototype.Ula=function(){return !0;};c.prototype.rqa=function(){return l.cv;};c.prototype.k7=function(){return this.oc.decode(l.I0);};c.prototype.Yqa=function(){return [];};c.prototype.Asa=function(v){v.VO();};c.prototype.ana=function(v){var w,y;w=[];if(v.messageType === p.Ufa || v.messageType === p.Tfa){if(v.messageType === p.Ufa){y=this.hh.encode(new Uint8Array(v.message));w=JSON.parse(y);y=w.map(function(x){return x.keyID;});w=w.map(function(x){return x.payload;});}else w=[this.oc.encode(new Uint8Array(v.message))];if(0 === w.length || !w.every(function(x){return x && x.length;}))throw new q.Qc(g.V.KGa);w=this.aac(w);w=this.hh.decode(JSON.stringify(w));}else w=new Uint8Array(v.message);return {type:v.type,sessionId:v.target.sessionId,LH:[w],messageType:v.messageType,rH:y};};c.prototype.Ay=function(v){var w,y,x,z;y=null === (w=v.target) || void 0 === w?void 0:w.error;if(y)(x=y.systemCode,z=y.code);w=new f.Pg(g.V.KA,v instanceof n.Wq?g.R.WQ:g.R.BA,x?this.Ui.CM(x,4):z,"",y);w.EU(v);return w;};c.prototype.aac=function(v){v=v.map(function(w,y){return {ID:t.y2.mSb(y),PAYLOAD:w};});return {VERSION:this.ah.Wv?3:1,CHALLENGES:v};};c.prototype.NM=function(v,w){var y,x;y=this;if(w && this.ah.Wv)try{x=this.hh.encode(w[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.y2.Zgb(z.ID);z=y.oc.decode(z.DHB).subarray(4,12);A=y.oc.decode(v[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new f.Pg(g.V.Dqb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.vA)),r.__param(1,(0,m.l)(h.ih)),r.__param(2,(0,m.l)(d.Zq)),r.__param(3,(0,m.l)(u.Mx))],a);b.TPa=a;},63341:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.f2a=void 0;r=a(22674);c=a(62502);m=a(15031);g=a(76691);k=a(69936);d=a(33399);f=a(14318);n=a(75447);h=a(69484);b.f2a=new r.md(function(l){l(h.CHa).to(c.BHa).ia();l(h.wPa).to(m.vPa).ia();l(h.uPa).to(g.tPa).ia();l(f.yHa).to(k.xHa).ia();l(n.HIa).to(d.GIa).ia();});},14318:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yHa="FtlDataParserSymbol";},69484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wPa="ReportSyncSymbol";b.uPa="ReportApiErrorSyncSymbol";b.AHa="FtlProbeConfigSymbol";b.CHa="FtlProbeSymbol";},75447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HIa="HttpRequesterSymbol";},69936:function(r,b,a){var m,g,k,d,f;function c(n,h){this.is=n;this.json=h;(0,g.Co)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(5163);m=a(22674);g=a(66523);k=a(63368);d=a(5021);a=a(42207);c.prototype.parse=function(n){var l;n=this.json.parse(n);if(!this.is.Yja(n))throw Error("FtlProbe: param: not an object");if(n.next && !this.is.nT(n.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.nT(n.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(n.pulse_delays && !this.is.wB(n.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.nT(n.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.wB(n.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Nm(n.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.HT(n.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var h=0;h < n.urls.length;++h){l=n.urls[h];if(!this.is.Yja(l))throw Error("FtlProbe: param.urls[" + h + "]: not an object");if(!this.is.Bp(l.name))throw Error("FtlProbe: param.urls[" + h + "].name: not a string");if(!this.is.Bp(l.url))throw Error("FtlProbe: param.urls[" + h + "].url: not a string");}return {c3b:n.pulses,Fcb:n.pulse_delays?n.pulse_delays.map(d.Ob):[],b3b:(0,d.Ob)(n.pulse_timeout),y7a:n.next?(0,d.Ob)(n.next):void 0,urls:n.urls,Uta:n.logblob,context:n.ctx};};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.$f)),r.__param(1,(0,m.l)(k.rE))],f);b.xHa=f;},34731:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q){l=d.Ve.call(this,l,"FtlProbeConfigImpl") || this;l.Ug=p;l.va=q;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(5163);m=a(30869);g=a(22674);k=a(5021);d=a(64174);f=a(24747);n=a(12501);a=a(83767);ea(c,d.Ve);Ya.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Mpa + (-1 === this.Mpa.indexOf("?")?"?":"&") + "monotonic=" + this.va.i$a + "&device=web";}},xgb:{configurable:!0,enumerable:!0,get:function(){return k.Ba;}},Epa:{configurable:!0,enumerable:!0,get:function(){return "";}},Mpa:{configurable:!0,enumerable:!0,get:function(){return this.Ug.endpoint + "/ftl/probe" + (this.Epa?"?force=" + this.Epa:"");}}});h=c;r.__decorate([n.config(n.od,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([n.config(n.sk,"ftlStartDelay")],h.prototype,"xgb",null);r.__decorate([n.config(n.string,"ftlEndpointForceParam")],h.prototype,"Epa",null);r.__decorate([n.config(n.url,"ftlEndpoint")],h.prototype,"Mpa",null);h=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.Hl)),r.__param(1,(0,g.l)(f.S_)),r.__param(2,(0,g.l)(m.hg))],h);b.zHa=h;},62502:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q,u,t,v,w,y){this.config=p;this.E5a=q;this.Ac=u;this.mf=t;this.O4b=v;this.rya=w;this.lUb=0;this.la=y.Za("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;r=a(5163);g=a(22674);k=a(5021);d=a(53085);f=a(87386);n=a(14318);h=a(75447);a=a(69484);c.prototype.start=function(){this.config.enabled && !this.Bs && (this.Bs=this.Ac.xk(this.config.xgb,this.hP.bind(this)));};c.prototype.stop=function(){this.Bs && (this.Bs.cancel(),this.Bs=void 0);};c.prototype.hP=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.lUb++;this.eQb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.YQb(u,t.url,t.name);})).then(function(t){0 < t.length && p.O4b.LY({data:t,context:u.context,Uta:u.Uta});}).then(function(){return u;});}).then(function(u){p.Bs && (u.y7a?p.Bs=p.Ac.xk(u.y7a,p.hP.bind(p)):p.stop());}).catch(function(u){return p.la.error("FTL run failed",u);});};c.prototype.eQb=function(p){var q;q=this;return this.E5a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.rya.LY({url:p,status:u.status,Mwa:"FTL API request failed",gm:u.gm}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.mf.parse(u.body);return t instanceof Error?(q.rya.LY({url:p,status:4,Mwa:"FTL Probe API JSON parsing error",gm:u.gm}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.rya.LY({url:p,status:0,Mwa:u.message}),q.la.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.YQb=function(p,q,u){var t;t=this;return new Promise(function(v,w){var G;for(var y,x,z,A,B,D=[],C={},E=0;E < p.c3b;(C={zda:C.zda,Ada:C.Ada},++E)){C.zda=E < p.Fcb.length?p.Fcb[E]:k.Ba;C.Ada="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (E + 1);G=(function(F){return function(){return new Promise(function(I,P){t.Ac.xk(F.zda,function(){m.w2b(t.E5a,F.Ada,p.b3b).then(function(M){function L(Q,J,H){Q || (Q=H.headers[J]);return Q;}y=L(y,"via",M);x=L(x,"x-ftl-probe-data",M);z=L(z,"x-ftl-error",M);A=L(A,"x-ftl-probe-recv-ts",M);B=L(B,"latency-trace",M);M={status:M.status,gm:M.gm,ycc:y || "",KBb:x || "",YU:z || "",N6b:A || "",PUb:t.t0b(B)};I(M);}).catch(function(M){P(M);});});});};})(C);D.push(0 < E?D[E - 1].then(G):G());}Promise.all(D).then(function(F){v({url:q,name:u,data:F});}).catch(function(F){w(F);});});};c.prototype.t0b=function(p){var q;if(p){q={};p=ja(p.split(";"));for(var u=p.next();!u.done;u=p.next())if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}return q;}};c.w2b=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};l=m=c;l=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.AHa)),r.__param(1,(0,g.l)(h.HIa)),r.__param(2,(0,g.l)(d.bi)),r.__param(3,(0,g.l)(n.yHa)),r.__param(4,(0,g.l)(a.wPa)),r.__param(5,(0,g.l)(a.uPa)),r.__param(6,(0,g.l)(f.$a))],l);b.BHa=l;},33399:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u,t){this.va=q;this.udc=u;this.performance=t;(0,g.Co)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;r=a(5163);g=a(66523);k=a(64274);d=a(72574);f=a(63368);n=a(30869);h=a(22674);l=a(81438);p=a(5021);c.prototype.get=function(q,u,t){var v;v=this;return new Promise(function(w,y){var x,z,A;try{x=v.udc.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.ea(p.ma));z=v.va.se;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=v.va.se.qa(z);break;case XMLHttpRequest.DONE:B=v.va.se.qa(z);B={body:x.responseText,status:x.status,headers:m.wwa(x.getAllResponseHeaders()),gm:v.Eqa(q,(0,d.ta)(x.responseText.length),B,A)};w(B);}};x.send();}catch(B){y(B);}});};c.wwa=function(q){var u,v,w;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){v=q[t];w=v.indexOf(": ");0 < w && (u[v.substring(0,w).toLowerCase()]=v.substring(w + 2));}return u;};c.prototype.Eqa=function(q,u,t,v){u={size:u,duration:t,bBa:v};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,k.KN)(u);q.decodedBodySize && (u.size=(0,d.ta)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.L_a=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.TAa=(0,p.timestamp)(q.connectEnd - q.connectStart),u.bBa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.hBa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.hBa=(0,p.timestamp)(t),u.TAa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)),0 < this.performance.timeOrigin && 0 < q.responseStart && (u.Vdb=(0,p.timestamp)(this.performance.timeOrigin + q.requestStart),u.ieb=(0,p.timestamp)(this.performance.timeOrigin + q.responseStart)));return u;};a=m=c;a=m=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(n.hg)),r.__param(1,(0,h.l)(l.mSa)),r.__param(2,(0,h.l)(f.Iga)),r.__param(2,(0,h.optional)())],a);b.GIa=a;},76691:function(r,b,a){var m,g,k,d,f,n;function c(h,l){this.Of=h;this.Kua=l;}Object.defineProperty(b,"__esModule",{value:!0});b.tPa=void 0;r=a(5163);g=a(22674);k=a(72574);d=a(5021);f=a(45118);a=a(31850);c.prototype.LY=function(h){h=this.Kua.Ot("ftlProbeError","info",m.ndc({url:h.url,sc:h.status,pf_err:h.Mwa},h));this.Of.yc(h);};c.ndc=function(h,l){l.gm && (l=l.gm,m.bo(h,"d",l.duration),m.bo(h,"dns",l.L_a),m.bo(h,"tcp",l.TAa),m.bo(h,"tls",l.hBa),m.bo(h,"ttfb",l.bBa),m.bo(h,"client_send_ts",l.Vdb),m.bo(h,"client_recv_ts",l.ieb),h.sz=l.size.ea(k.Ps));return h;};c.bo=function(h,l,p){p && (h[l]=p.ea(d.ma));};n=m=c;n=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.Al)),r.__param(1,(0,g.l)(a.Dx))],n);b.tPa=n;},15031:function(r,b,a){var m,g,k,d,f,n;function c(h,l){this.Of=h;this.Kua=l;}Object.defineProperty(b,"__esModule",{value:!0});b.vPa=void 0;r=a(5163);g=a(22674);k=a(72574);d=a(5021);f=a(45118);a=a(31850);c.prototype.LY=function(h){var l;l={ctx:h.context,data:h.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return m.odc({d:q.gm.duration.ea(d.ma),sc:q.status,sz:q.gm.size.ea(k.Ps),via:q.ycc,cip:q.KBb,err:q.YU,server_recv_ts:q.N6b},q);})};})};h=this.Kua.Ot(h.Uta,"info",l);this.Of.yc(h);};c.odc=function(h,l){m.bo(h,"dns",l.gm.L_a);m.bo(h,"tcp",l.gm.TAa);m.bo(h,"tls",l.gm.hBa);m.bo(h,"ttfb",l.gm.bBa);m.Vwb(h,l.PUb);m.bo(h,"client_send_ts",l.gm.Vdb);m.bo(h,"client_recv_ts",l.gm.ieb);return h;};c.Vwb=function(h,l){l && (h.rtts=l);};c.bo=function(h,l,p){p && (h[l]=p.ea(d.ma));};n=m=c;n=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.Al)),r.__param(1,(0,g.l)(a.Dx))],n);b.vPa=n;},43367:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.gl=void 0;r=a(22674);c=a(80012);m=a(26971);b.gl=new r.md(function(g){g(c.SJa).to(m.RJa);});},80012:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SJa="LicenseBrokerFactorySymbol";},20124:function(r,b,a){var m,g,k,d,f;function c(n,h){this.Gb=n;this.j=h;this.TW=[];}Object.defineProperty(b,"__esModule",{value:!0});b.DQ=void 0;r=a(5163);m=a(36129);g=a(22674);k=a(32687);d=a(3887);f=a(31276);c.prototype.N6=function(n){this.TW.forEach(function(h){return h(n);});};c.prototype.vd=function(n,h,l){this.j.vd(n,h,l);};c.prototype.Rwb=function(n){-1 === this.TW.indexOf(n) && this.TW.push(n);};c.prototype.z4b=function(n){n=this.TW.indexOf(n);0 <= n && this.TW.splice(n,1);};c.prototype.M4a=function(n){var h,l;h={};(0,k.$c)(n.code)?h.wa=(0,m.iHa)(n.code):h.wa=m.R.Bm;try{l=n.message.match(/\((\d*)\)/)[1];h.Le=(0,f.ola)(l,4);}catch(p){}h.Yb=(0,d.Nf)(n);return h;};a=c;a=r.__decorate([(0,g.U)()],a);b.DQ=a;},94951:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t;function c(v,w,y,x,z){x=p.DQ.call(this,x,z) || this;x.config=v;x.li=w;x.kd=y;x.log=(0,g.Nh)(x.j,"LegacyLicenseBroker");x.sn=x.config().sn;x.config().vcb?(0,d.$6a)()?x.cda=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:f.BE}):x.cda=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.NJa=void 0;r=a(5163);m=a(36129);g=a(31276);k=a(95162);d=a(52569);f=a(22365);n=a(22674);h=a(99037);l=a(91581);p=a(20124);q=a(24735);u=a(5021);ea(c,p.DQ);c.prototype.iZa=function(v){var w;w=void 0 === w?this.j:w;return new this.qs.UJ(v,function(y){return w.x5.FV(y);},function(y){return w.x5.release(y);},{bj:!1,hz:!1});};c.prototype.KB=function(v){var w,y,x,z,A,B;w=this;v=void 0 === v?this.j:v;y=a(24066).fo;this.qs.UJ || this.vd(m.V.mR,m.R.unb);x=(0,g.Nh)(v,"Eme");z=this.iZa(x);A=g.za.get(k.XR);B=A.B5(v.ac.value.streams);A=A.I5(v.Og.value.streams);return this.qs.WJ(x,function(D){return v.ue(D);},{bj:!1,hz:!1,va:{getTime:y},he:z,Cxa:!!this.cda,fa:this.Gb.fa,SD:this.config().q0a,onerror:function(D,C,E){return w.vd(D,C,E);},sva:function(){},xaa:!0,Kyb:B,Dcc:A,UUb:this.li.k4.ea(u.ma)});};c.prototype.setMediaKeys=function(v){var w;w=this;return this.cda?new Promise(function(y,x){if(w.Gb.fa)w.Gb.fa.setMediaKeys(v).then(function(){y();}).catch(function(z){var A;A=w.M4a(z);x({pa:!1,code:m.V.a2,Pc:A.wa,De:A.Le,Yb:A.Yb,message:"Set media keys is a failure",ic:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.P0a=function(v){return {code:v.code,subCode:v.Pc,extCode:v.De,edgeCode:v.Iy,message:v.message,errorDetails:v.Yb,errorData:v.wG,state:v.state};};c.prototype.Gza=function(v,w,y){var z,A,B;function x(){A.VO().catch(function(D){z.log.error("Unable to set the license",z.P0a(D));D.ic && D.ic.Yb && (D.Yb=D.Yb?D.Yb + D.ic.Yb:D.ic.Yb);z.vd(D.code,D,D.De);});}z=this;y=void 0 === y?this.j:y;A=y.re;this.log.info("Setting the license");B=w?function(){return Promise.resolve();}:function(){return A.cj(z.A7(!1),v);};return (w?function(){return A.Nka(z.Gb.fa);}:function(){return A.create(z.sn).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.N6(y.O);z.Gb.fkb.then(function(){z.config().FC && (w || z.config().kV) && (z.Jdb=qb.setTimeout(x,z.config().FC));});}).catch(function(D){z.log.error("Unable to set the license",z.P0a(D));D.ic && D.ic.Yb && (D.Yb=D.Yb?D.Yb + D.ic.Yb:D.ic.Yb);if(w)throw Error(D && D.message?D.message:"failed to set license");z.vd(D.code,D,D.De);});};c.prototype.uI=function(){return Promise.resolve();};c.prototype.aaa=function(){var w;function v(){var y;w.j.re=w.KB();y=[];w.j.Bu.forEach(function(x){y.push((0,g.qr)(x));});w.Gza(y);}w=this;this.UW || (this.UW=!0,this.qs.WJ?this.j.Bu?this.config().SU && this.config().ss?this.kd.E2a(this.j.O).then(function(y){w.j.re=y;return y.Wcc.then(function(){var x;x=[];w.j.Bu.forEach(function(z){x.push((0,g.qr)(z));});return w.Gza(x,!0).then(function(){var z;if(y.Qjc)w.vd(m.V.znb);else {z=(0,g.Nh)(w.j,"Eme");y.Cbc({log:z,TH:function(A){return w.j.ue(A);}},{he:w.iZa(z),onerror:function(A,B,D){return w.vd(A,B,D);}});w.j.Zy(y.yd || ({}));w.j.SF="videopreparer";}});});}).catch(function(y){w.log.warn("eme not in cache",y);v();}):v():(this.log.error("Missing the PSSH on the video track, closing the player"),this.vd(m.V.Hqb)):this.vd(m.V.mR,m.R.vnb));};c.prototype.Qdb=function(v){var w;v=void 0 === v?this.j:v;v.re=this.KB();w=[];v.Bu.forEach(function(y){w.push((0,g.qr)(y));});return this.Gza(w,!1,v);};c.prototype.A7=function(v){return this.config().kV?q.Eh.Ln:v?q.Eh.Ln:q.Eh.On;};Ya.Object.defineProperties(c.prototype,{qs:{configurable:!0,enumerable:!0,get:function(){return g.za.get(l.e2);}},VC:{configurable:!0,enumerable:!0,get:function(){return this.cda?"encrypted":this.Gb.RGa + "needkey";}}});t=c;r.__decorate([h.xH],t.prototype,"qs",null);r.__decorate([h.xH],t.prototype,"VC",null);t=r.__decorate([(0,n.U)()],t);b.NJa=t;},26971:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q,u,t,v){this.qG=p;this.li=q;this.config=u;this.QN=t;this.kd=v;}Object.defineProperty(b,"__esModule",{value:!0});b.RJa=void 0;r=a(5163);m=a(22674);g=a(47737);k=a(128);d=a(94951);f=a(23563);n=a(4203);h=a(92395);a=a(66476);c.prototype.create=function(p,q,u){return p?new k.TJa(this.config(),this.li,this.kd,q,u,this.qG,this.QN()):new d.NJa(this.config,this.li,this.kd,q,u);};l=c;l=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.B0)),r.__param(1,(0,m.l)(f.Oq)),r.__param(2,(0,m.l)(n.Zb)),r.__param(3,(0,m.l)(h.AR)),r.__param(4,(0,m.l)(a.NE))],l);b.RJa=l;},128:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z,A){y=h.DQ.call(this,y,x) || this;y.config=t;y.li=v;y.kd=w;y.qG=z;y.Y9=A;y.log=(0,g.Nh)(y.j,"LicenseBroker");y.UW=new Set();y.Hua=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.TJa=void 0;r=a(5163);m=a(36129);g=a(31276);k=a(28289);d=a(5021);f=a(22674);n=a(99037);h=a(20124);l=a(24735);p=a(85001);q=a(82100);u=a(56039);ea(c,h.DQ);c.prototype.aaa=function(){var t,v;t=this;v=this.j.da;this.UW.has(v.O) || (this.UW.add(v.O),this.ayb(v).catch(function(){return t.Rdb(v);}).then(function(){return t.dWa(v);}).catch(function(w){return t.cWa(v,w);}).catch(function(w){return t.vd(w.code,w,w.De);}));};c.prototype.ayb=function(t){var v;v=this;return Promise.all([this.kd.E2a(t.O),this.qG()]).then(function(w){var y,x;w=ja(w);y=w.next().value;x=w.next().value;return y.Sba.then(function(z){var A;A=v.Y9.mediaKeys;if(A && A !== z.mediaKeys)return (v.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === y.source && (A=v.z3a(t),x.f$a(A,z));return z;}).then(function(z){return v.Nka(z,t,y.source);});}).catch(function(w){v.log.warn("eme not in cache",w);throw w;});};c.prototype.Nka=function(t,v,w){this.mcb(t,v);v.SF=w;this.Y9.nVa(t.mediaKeys);return t.Oka();};c.prototype.VLb=function(t){var v;v={};t.forEach(function(w){v[(0,k.X_a)(w.AX)]=w.time.ea(d.ma);});return v;};c.prototype.mcb=function(t,v){var w;w=this;v.re=t;t.f7b(function(y){w.vd(y.code,y,y.De);});};c.prototype.dWa=function(t){this.log.info("Successfully applied license for xid: " + t.na + ", viewable: " + t.O + ", segment: " + t.H);this.Zy(t);this.Hua?this.N6(t.O):this.setMediaKeys(t);};c.prototype.cWa=function(t,v){this.Zy(t);throw v;};c.prototype.Zy=function(t){t.re && t.Zy(this.VLb(t.re.yd));};c.prototype.z3a=function(t){var v,w;v=t.lx[0];w=v.streams[0].wd;w=(0,q.Fsa)(w);v=(0,u.wqa)(v.streams);return {type:this.A7(!1),initData:t.Bu.map(function(y){return (0,g.qr)(y);}),K8:w,context:{fa:this.Gb.fa,h9:v},Ci:{O:t.O,na:t.na,Ad:t.Ad,Wk:t.Wk,wi:t.W.wi,Vf:t.W.Ca.Vf}};};c.prototype.Rdb=function(t){var v;v=this;return this.qG().then(function(w){var y;y=v.z3a(t);v.UW.add(t.O);return w.cj(y,v.Y9).then(function(x){v.mcb(x,t);v.j.fireEvent(p.ha.WW,{O:t.O});return x.Oka();});});};c.prototype.setMediaKeys=function(t){var v;v=this;if(this.Hua)this.log.trace("Media Keys already set");else try{this.Gb.fa?(this.Hua=!0,this.Gb.fa.setMediaKeys(t.re.mediaKeys).then(function(){v.N6(t.O);}).catch(function(w){w=v.M4a(w);v.vd(m.V.a2,w,w.Le);})):this.N6(t.O);}catch(w){this.vd(m.V.a2,w,void 0);}};c.prototype.uI=function(){var t,v;t=this;v=this.j.da.re;return v?this.qG().then(function(w){return w.release(v,t.Y9).then(function(y){t.log.trace("Successfully released the license");return y.close();}).catch(function(y){t.log.error("Unable to release the license",y);});}):Promise.resolve();};c.prototype.Qdb=function(t){var v;v=this;t=void 0 === t?this.j:t;return this.Rdb(t).then(function(){return v.dWa(t);}).catch(function(w){return v.cWa(t,w);});};c.prototype.A7=function(t){return this.li.kV?l.Eh.Ln:t?l.Eh.Ln:l.Eh.On;};Ya.Object.defineProperties(c.prototype,{VC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},sn:{configurable:!0,enumerable:!0,get:function(){return this.config.sn;}}});a=c;r.__decorate([n.xH],a.prototype,"VC",null);a=r.__decorate([(0,f.U)()],a);b.TJa=a;},13847:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oDa="AppLogSinkSymbol";},21009:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F;Object.defineProperty(b,"__esModule",{value:!0});b.B8a=void 0;r=a(22674);c=a(97996);m=a(31966);g=a(79428);k=a(50723);d=a(33345);f=a(74621);n=a(4203);h=a(41320);l=a(69124);p=a(74031);q=a(53085);u=a(33554);t=a(13847);v=a(53234);w=a(33945);y=a(31850);x=a(81829);z=a(45118);A=a(98326);B=a(52025);D=a(30895);C=a(36792);E=a(74714);G=a(73449);F=a(26158);b.B8a=new r.md(function(I){I(z.Al).to(g.nKa).ia();I(v.FLa).to(k.ELa).ia();I(w.CKa).to(d.BKa).ia();I(x.yKa).to(f.xKa).ia();I(z.Hfa).to(h.mKa).ia();I(y.Dx).to(l.uKa).ia();I(x.wKa).to(p.vKa).ia();I(A.sR).to(B.rR).ia();I(A.Kfa).to(E.zKa).ia();I(G.vR).to(F.uR).ia();I(D.oGa).to(C.nGa).ia();I(t.oDa).to(m.nDa).ia();I(z.oKa).a_(function(P){return function(){return P.nb.get(c.IR)().then(function(M){return new Promise(function(L){var J,H,K;function Q(){H() && K() && M.HX?L(P.nb.get(z.Al)):J.yh(Q);}J=P.nb.get(q.bi);H=P.nb.get(n.Zb);K=P.nb.get(u.xx);J.yh(Q);});});};});});},30895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oGa="DownloadReportBuilderSymbol";},45118:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hfa="LogBatcherConfigSymbol";b.Al="LogBatcherSymbol";b.oKa="LogBatcherProviderSymbol";},33945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CKa="LogblobSenderSymbol";},31850:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dx="LogMessageFactorySymbol";},81829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wKa="LogMessageRulerConfigSymbol";b.yKa="LogMessageRulerSymbol";},98326:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sR="LogblobBuilderFactorySymbol";b.Kfa="LogblobBuilderCommonSymbol";},18169:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ic=void 0;r=b.Ic || (b.Ic={});r.Azb="bitraterestriction";r.DXa="cdnsel";r.ty="chgstrm";r.debug="debug";r.PHb="dlreport";r.Ky="endplay";r.vW="intrplay";r.xz="midplay";r.zO="playbackaborted";r.KY="renderstrmswitch";r.pD="repos";r.Fu="resumeplay";r.Q6b="serversel";r.Gs="startplay";r.AZ="statechanged";r.transition="transition";r.nza="segmentdropped";r.myb="asereport";r.D9="livereport";r.IVb="livepipelinefailover";r.uWa="audioswitch";r.RWa="blockedautoplay";r.config="config";r.$kc="ftlProbeError";r.X9b="subtitleerror";r.Y9b="subtitleqoe";r.X$b="timedtextrebuffer";r.Rhb="timedtextswitch";r.ugb="speedchanged";},73449:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vR="LogblobMonitorFactorySymbol";},53234:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FLa="MessageQueueSymbol";},31966:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u){var t;t=this;this.cWb=l;this.oz=p;this.config=u;this.cya=[];this.cWb.eba(m.Gkb,this.OQb.bind(this));q().then(function(v){var w;w=u().Up.NLb;t.XWb=w?h.nj[w.toUpperCase()]:h.nj.Jk;t.Of=v;t.G6b();});}Object.defineProperty(b,"__esModule",{value:!0});b.nDa=void 0;r=a(5163);g=a(22674);k=a(4203);d=a(36410);f=a(45118);n=a(31850);h=a(87386);c.prototype.OQb=function(l,p){this.Of?this.Icb(l,p):this.cya.push([l,p]);};c.prototype.G6b=function(){var l,p;l=this;p=this.cya;this.cya=[];p.forEach(function(q){l.Icb(q[0],q[1]);});};c.prototype.Icb=function(l,p){var q;if(this.Of && this.b8b(l)){q={debugMessage:l.message,debugCategory:l.Sm};l.zc.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});l=this.oz.Ot("debug",h.nj[l.level].toLowerCase(),q,p);this.Of.yc(l);}};c.prototype.b8b=function(l){var p;p=this.XWb;return void 0 !== p && l.level <= p && !l.zc.find(function(q){return q.XU(h.UQ);});};a=m=c;a.Gkb="adaptorAll";a=m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.fK)),r.__param(1,(0,g.l)(n.Dx)),r.__param(2,(0,g.l)(f.oKa)),r.__param(3,(0,g.l)(k.Zb))],a);b.nDa=a;},36792:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;r=a(5163);m=a(82956);g=a(51344);k=a(3887);d=a(36129);f=a(45146);n=a(22365);h=a(22674);a=a(4203);c.prototype.construct=function(p,q){var u,t,v;u=this;t={};p.forEach(function(w){var y;y=w.url;t[y] || (t[y]=[]);t[y].push(w);});v=[];(0,k.bg)(t,function(w,y){v.push(u.uQb(y,q));});return {urls:v};};c.prototype.uQb=function(p,q){var u,t,v,w,y;u=this;v=p[0];w={url:v.url,bitrate:v.bitrate,cdnid:null === (t=v.Ec) || void 0 === t?void 0:t.id,dltype:v.RHb,id:v.Wb};y={};p.forEach(function(x){var z;z=u.oTb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,k.bg)(y,function(x,z){"fail" === x?w.failures=u.PNb(z,q):"success" === x && (w.downloads=u.FNb(z,q));});return w;};c.prototype.FNb=function(p,q){var u,t,v;u=this;t={};p.forEach(function(w){var y;y=w.bCb;t[y] || (t[y]=[]);t[y].push(w);});v=[];(0,k.bg)(t,function(w,y){var x;x=[];y.forEach(function(z){x.push(z);u.XSb(z) && (v.push(u.U2a(x,q,w)),x=[]);});0 < x.length && v.push(u.U2a(x,q,w));});return v;};c.prototype.U2a=function(p,q,u){var t,v,w,y,z;t=p.sort(function(A,B){return A.em.hj < B.em.hj?-1:A.em.hj > B.em.hj?1:0;});v=t[0].em;w=v.Rz;y=v.hj;v=v.Cq;for(var x=1;x < p.length;x++){z=p[x].em;z.Rz < w && (w=z.Rz);z.hj < y && (y=z.hj);z.Cq > v && (v=z.Cq);}x=this.wPb(t);z=t[t.length - 1];return {time:w - q,tcpid:u?parseInt(u):-1,tresp:y - w,first:x,ranges:this.xPb(t,x),dur:v - y,trace:this.lC(p),status:this.ZM(z),enctimeinfo:z.uoa};};c.prototype.wPb=function(p){var q;q=0;p.forEach(function(u){u.Sw && (q=(0,n.Fx)(q,u.Sw[0]));});return q;};c.prototype.xPb=function(p,q){var u;u=[];p.forEach(function(t){t.Sw?u.push([t.Sw[0] - q,t.Sw[1] - q]):u.push([0,-1]);});return u;};c.prototype.lC=function(p){var q,u;q=[];p.forEach(function(t){var v;t=t.em;if(u){v=t.Rz - u.Cq;0 < v && q.push([v,-2]);v=(0,n.Vs)(u.Cq,t.Rz);v=t.hj - v;0 < v && q.push([v,-3]);}q.push([t.Cq - t.hj,t.qU || 0]);u=t;});return q;};c.prototype.XSb=function(p){if(p.wa === d.R.nE || p.wa === d.R.oE)return !0;};c.prototype.ZM=function(p){if(p.pa)return "complete";if(p.wa === d.R.nE)return "abort";if(p.wa === d.R.oE)return "stall";(0,f.oa)(!1,"download status should never be: other");return "other";};c.prototype.PNb=function(p,q){var u,t;u=this;t=[];p.forEach(function(v){var w;w=v.em;v={time:w.hj - q,tresp:w.hj - w.Rz,dur:w.Cq - w.hj,range:v.Sw,reason:u.zPb(v),httpcode:v.Wl,nwerr:(0,m.N3a)(v.wa),enctimeinfo:v.uoa};t.push(v);});return t;};c.prototype.zPb=function(p){return p.Wl || p.wa === d.R.eR?"http":p.wa === d.R.gR?"timeout":"network";};c.prototype.oTb=function(p){return p.pa || void 0 === p.pa || p.wa === d.R.nE || p.wa === d.R.oE?!1:!0;};c.prototype.XCb=function(p){var q,u,t,v,w,y;q=p.request;u=q.stream;t=q.track;v=q.url;w=this.CNb(t,v);switch(w){case g.Yj.audio:case g.Yj.video:y=q.stream.Wb;break;case g.Yj.dBa:case g.Yj.vBa:y=t.Wb;}p={bitrate:u && u.bitrate,RHb:w,Wb:y,em:p.em,Ec:q.Ec,url:v,Le:p.Le,Wl:p.Wl,wa:p.wa,pa:p.pa,bCb:this.vKb(p),uoa:q.lM};void 0 !== q.offset && void 0 != q.length && (p.Sw=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.CNb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.vKb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,k.fj)(p):p;};l=c;l=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.Zb))],l);b.nGa=l;},41320:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p){l=n.Ve.call(this,l,"LogBatcherConfigImpl") || this;l.config=p;l.SWb=(0,m.ta)(5E5);l.E6b=(0,g.n$)(1);l.l9a=(0,m.ta)(1E6);return l;}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;r=a(5163);m=a(72574);g=a(5021);k=a(22674);d=a(4203);f=a(12501);n=a(64174);a=a(83767);ea(c,n.Ve);Ya.Object.defineProperties(c.prototype,{jka:{configurable:!0,enumerable:!0,get:function(){return this.config().jka;}},Xfb:{configurable:!0,enumerable:!0,get:function(){return [];}},Wfb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});h=c;r.__decorate([f.config(f.object(),"shedLogblobTypes")],h.prototype,"Xfb",null);r.__decorate([f.config(f.JF("string"),"shedDebugTypes")],h.prototype,"Wfb",null);h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Hl)),r.__param(1,(0,k.l)(d.Zb))],h);b.mKa=h;},79428:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z){this.config=t;this.json=v;this.Ac=w;this.VVb=y;this.yX=z;this.Q8=this.uC=!1;this.listeners=[];(0,g.Co)(this,"json");this.la=x.Za("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;r=a(5163);m=a(22674);g=a(66523);k=a(63368);d=a(33945);f=a(53085);n=a(87386);h=a(45118);l=a(53234);p=a(36129);q=a(15160);a(2762);u=a(18169);c.prototype.Eb=function(){this.uC=!0;};c.prototype.yc=function(t){var v;v=this;this.m8b(t) || (!1,0 < t.size.Tk(this.config.SWb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(w){return w.EXb(t);}),!1,this.yX.pka(t),this.Ac.yh(function(){v.uLb();})));};c.prototype.flush=function(t){var v;v=this;t=void 0 === t?!1:t;return this.Q8?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,y){v.la.trace("Flushing",n.UQ);v.Ro();v.Ac.yh(function(){v.sza(t).then(function(){w();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.sza=function(t){var v,w;v=this;t=void 0 === t?!1:t;if(!this.uC)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.Q8)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.yX.VMb();if(0 === w.length && !t)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Ro();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=ja(w),z=x.next();!z.done;(y={yda:y.yda},z=x.next()))(y.yda=z.value,t=t.then((function(A){return function(){return v.D6b(A.yda);};})(y)));return t.then(function(){return v.$B();}).catch(function(A){w.filter(function(B){return !B.gz;}).forEach(function(B){return B.Ir();});v.$B();throw Error("Send failure. " + A);});};c.prototype.D6b=function(t){var v;v=this;this.la.trace("Sending batch: " + t.size,n.UQ);return Promise.resolve(this.yX.t4b(t)).then(function(){return v.VVb.send(t.LH);}).then(function(){return t.KP();}).catch(function(w){v.la.warn("Failed to send batch of logblobs.",w,n.UQ);t.Ir();v.Z7b(w) && v.yX.Gwb(t);v.o8b(w) && (v.Q8=!0);throw w;});};c.prototype.Z7b=function(t){return t.De === p.D1.RMa?!1:this.config.jka;};c.prototype.o8b=function(t){return t.Pc === p.R.EHa || t.Pc === p.R.dR || t.Pc === p.R.hR?!0:!1;};c.prototype.uLb=function(){var t;t=this;0 < this.yX.size.Tk(this.config.l9a)?this.sza().catch(function(v){return t.la.warn("Failed to send log messages on size threshold. " + v);}):this.$B();};c.prototype.Ro=function(){this.d9 && (!1,this.d9.cancel(),this.d9=void 0);};c.prototype.$B=function(){this.d9 || (!1,this.d9=this.Ac.xk(this.config.E6b,this.lO.bind(this)));};c.prototype.lO=function(){var t;t=this;this.Q8=!1;this.Ro();this.sza().catch(function(v){return t.la.warn("Failed to send log messages on timer. " + v);});};c.prototype.stringify=function(t){var v;v="";try{v=this.json.stringify(t.data,void 0,"  ");}catch(w){}return v;};c.prototype.m8b=function(t){return 0 <= this.config.Xfb.indexOf(t.type)?!0:t.type === u.Ic.debug?0 <= this.config.Wfb.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(h.Hfa)),r.__param(1,(0,m.l)(k.rE)),r.__param(2,(0,m.l)(f.bi)),r.__param(3,(0,m.l)(d.CKa)),r.__param(4,(0,m.l)(n.$a)),r.__param(5,(0,m.l)(l.FLa)),r.__param(6,(0,m.l)(q.w0))],a);b.nKa=a;},69124:function(r,b,a){var g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z,A,B,D,C,E){this.platform=v;this.lna=w;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Ea=D;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.RB;this.data.clver=this.platform.version;t && t.ud && (t.ud.os && (this.data.osplatform=t.ud.os.name,this.data.osver=y.platformVersion.NW?y.platformVersion.version:t.ud.os.version),this.data.browsername=t.ud.name,this.data.browserver=t.ud.version);t.cta && (this.data.tester=!0);t.$G && !this.data.groupname && (this.data.groupname=t.$G);t.BL && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.BL:t.BL);t.i_ && (this.data.uigroupname=t.i_);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.BOb();this.data.uniqueLogId=C.l2a();this.data.appId=this.Ea.id;E && (t=this.Ea.Lb(),this.data.soffms=t.qa(E.Wh).ea(f.ma),this.data.mid=this.data.mid || E.O,this.data.lvpi=E.A8a,this.data.uiLabel=E.Md,this.data.uxLabels=E.dda,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || E.na,E.NI && (x=E.NI,(E=E.NI.split(".")) && 1 < E.length && "S" !== E[0][0] && (x="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function m(t,v,w,y,x,z,A){this.va=t;this.lna=v;this.config=w;this.Ea=y;this.lcc=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;r=a(5163);g=a(72574);k=a(22674);d=a(30869);f=a(5021);n=a(58098);h=a(34231);l=a(81918);p=a(96723);q=a(91581);a=a(75236);m.prototype.Ot=function(t,v,w,y){return new c(this.config,this.platform,this.lna,this.userAgentData,t,v,this.va.se,w,this.Ea,this.lcc,y);};u=m;u=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.hg)),r.__param(1,(0,k.l)(n.FFa)),r.__param(2,(0,k.l)(h.Kn)),r.__param(3,(0,k.l)(l.Kc)),r.__param(4,(0,k.l)(p.MRa)),r.__param(5,(0,k.l)(q.gp)),r.__param(6,(0,k.l)(a.L2))],u);b.uKa=u;Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.kXa || (this.kXa=(0,g.ta)(this.lna.encode(this.data).length));return this.kXa;}}});},74031:function(r,b,a){var m,g,k;function c(d){this.Vk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;r=a(5163);m=a(22674);g=a(72574);a=a(33554);c.prototype.XVb=function(){var d;d=this.Vk()?this.Vk().hk.length:40;return (0,g.ta)(d + 33);};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.xx))],k);b.vKa=k;},74621:function(r,b,a){var m,g,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;r=a(5163);m=a(22674);g=a(81829);k=a(72574);c.prototype.measure=function(d){var f;f=this;return d.map(function(n){return n.size.add(f.config.XVb());}).reduce(function(n,h){return n.add(h);},(0,k.ta)(0));};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.wKa))],a);b.xKa=a;},74714:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y){this.platform=t;this.config=v;this.Ea=w;this.userAgentData=y;this.WRa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(36129);d=a(91581);f=a(5021);n=a(4203);h=a(3887);l=a(22365);p=a(82956);q=a(75236);u=a(26388);c.prototype.fq=function(t,v,w){w && (t.adlid=w.Wb,t.abitrate=w.bitrate);v && (t.vdlid=v.Wb,t.vbitrate=v.bitrate);};c.prototype.T5a=function(t,v,w){w?t=Object.assign(t,(0,p.a4a)(this.platform.Fr,w)):t.errorcode=k.V.jp;t.errorcode === this.platform.Fr + k.V.FMa && (t.lastSyncWithVideoElement=this.getTime() - v.NZ);};c.prototype.Y5a=function(t,v){var w;try{Object.assign(t,(0,p.Zqa)());w=v.getBoundingClientRect();t.rendersize=w.width + "x" + w.height;t.renderpos=w.left + "x" + w.top;}catch(y){}};c.prototype.X5a=function(t,v){var w,y,x;w=v.Ec[u.u.X].value;y=v.Ec[u.u.Y].value;x=v.pf.value;v=v.fe.value;w && (t.cdnid=w.id,t.cdnname=w.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Wb,t.abitrate=x.stream.bitrate);if(null === v || void 0 === v?0:v.stream)(t.vdlid=v.stream.Wb,t.vbitrate=v.stream.bitrate,t.vheight=v.stream.height,t.vwidth=v.stream.width);};c.prototype.V5a=function(t,v,w){0 <= v.mediaTime.value && (v=w && !v.bb.yg?v.vU:v.mediaTime.value,t.moff=(0,h.Xl)(v),t.moffms=(0,h.cg)(v));};c.prototype.R5a=function(t,v){v.hf && (t.pbcid=v.hf);v.Ad && (t.playbackcontextid=v.Ad);};c.prototype.isa=function(t){var v,w;t.browserua=l.BE;t.browseruad=null === (w=null === (v=l.He.userAgentData) || void 0 === v?void 0:v.brands) || void 0 === w?void 0:w.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.NW?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(v=l.He && l.He.connection && l.He.connection.type) && (t.nettype=v);};c.prototype.jN=function(t){var v,w,y,x,z;if(this.config().jJb){z=null === (v=null === l.He || void 0 === l.He?void 0:l.He.connection) || void 0 === v?void 0:v.effectiveType;v=null === l.He || void 0 === l.He?void 0:l.He.deviceMemory;z && (t.effectiveType=z);v && (t.deviceMemory=v);}(z=null === (w=null === l.He || void 0 === l.He?void 0:l.He.connection) || void 0 === w?void 0:w.type) && (t.connectionType=z);w=null === (y=null === l.He || void 0 === l.He?void 0:l.He.connection) || void 0 === y?void 0:y.downlink;"number" === typeof w && isFinite(w) && (t.downlink=w);y=null === (x=null === l.He || void 0 === l.He?void 0:l.He.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.s8=function(t,v){if(v=v.bb.mm)(v.isUIAutoPlay && (t.isUIAutoPlay=!0),v.clLogId && (t.cl_log_id=v.clLogId));};c.prototype.kN=function(t,v,w,y){var x,z,A,B,D;x=this;if(w=w && w.streams){A=new Set();B=new Set();D=new Set();w.forEach(function(C){C=C.wd;A.add(C);B.add(C.replace(x.WRa,""));(C=C.match(x.WRa)) && 0 < C.length && D.add(C[1]);});t.videoProfiles=[].concat(aa(A));t.videoProfile=0 === B.size?"none":[].concat(aa(B))[0];t.videoProfileLevels=[].concat(aa(D));w && w.length && (t.isMcClearen=!!w[0].Hi.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}v && (null === (z=y.W) || void 0 === z?0:z.v_) && (t.videoProfilesStatus=this.V8a(y.W.v_));};c.prototype.V8a=function(t){return this.HWb(t.ZM(),function(v){return v.supported?!0:v.reason;});};c.prototype.HWb=function(t,v){return Object.entries(t).reduce(function(w,y){var x;x=ja(y);y=x.next().value;x=x.next().value;w[y]=v(x);return w;},{});};c.prototype.iN=function(t,v,w,y){var x,z;if(w=w && w.streams){z={};w.forEach(function(A){z[A.wd]=void 0;});t.audioProfiles=Object.keys(z);}v && (null === (x=y.W) || void 0 === x?0:x.PT) && (t.audioProfilesStatus=this.V8a(y.W.PT));};c.prototype.S5a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Lb().ea(f.ma);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(d.gp)),r.__param(1,(0,m.l)(n.Zb)),r.__param(2,(0,m.l)(g.Kc)),r.__param(3,(0,m.l)(q.L2))],a);b.zKa=a;},52025:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E;function c(G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va){this.Khb=G;this.Of=F;this.Eua=I;this.Xoa=P;this.ke=M;this.h6=L;this.Ne=Q;this.config=J;this.kd=H;this.va=K;this.Ea=O;this.platform=R;this.qq=ca;this.oz=oa;this.Di=ta;this.Wt=Fa;this.MH=ua;this.cc=ya;this.PC=Ca;this.DC=Va;}Object.defineProperty(b,"__esModule",{value:!0});b.rR=void 0;r=a(5163);m=a(87549);g=a(45118);k=a(74870);d=a(28185);f=a(94800);n=a(22674);h=a(98326);l=a(74098);p=a(30895);q=a(32934);u=a(4203);t=a(30869);v=a(81918);w=a(91581);y=a(31850);x=a(66476);z=a(52531);A=a(63368);B=a(34231);D=a(2160);C=a(21103);a=a(18647);c.prototype.create=function(G,F){return new l.tR(G,F,this.Khb,this.Of,this.Eua,this.Xoa,this.ke,this.h6,this.Ne,this.config,this.kd,this.va,this.Ea,this.qq,this.oz,this.Di,this.Wt,this.MH,this.cc,this.PC,this.DC);};E=c;E=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(m.eRa)),r.__param(1,(0,n.l)(g.Al)),r.__param(2,(0,n.l)(d.hLa)),r.__param(3,(0,n.l)(f.Vea)),r.__param(4,(0,n.l)(k.Fh)),r.__param(5,(0,n.l)(p.oGa)),r.__param(6,(0,n.l)(q.gv)),r.__param(7,(0,n.l)(u.Zb)),r.__param(8,(0,n.l)(x.NE)),r.__param(9,(0,n.l)(t.hg)),r.__param(10,(0,n.l)(v.Kc)),r.__param(11,(0,n.l)(w.gp)),r.__param(12,(0,n.l)(A.d2)),r.__param(13,(0,n.l)(y.Dx)),r.__param(14,(0,n.l)(z.EE)),r.__param(15,(0,n.l)(B.Kn)),r.__param(16,(0,n.l)(D.dga)),r.__param(17,(0,n.l)(h.Kfa)),r.__param(18,(0,n.l)(C.kv)),r.__param(19,(0,n.l)(a.Bfa))],E);b.rR=E;},74098:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P;function c(M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va,S,ma,Ja,Na,Za){var V;V=this;this.j=M;this.ya=L;this.Khb=Q;this.Of=J;this.Eua=H;this.Xoa=K;this.ke=O;this.h6=R;this.Ne=ca;this.config=oa;this.kd=ta;this.va=Fa;this.Ea=ua;this.qq=ya;this.oz=Ca;this.Di=Va;this.Wt=S;this.MH=ma;this.cc=Ja;this.PC=Na;this.DC=Za;this.WZ=[];this.Nua=this.xC=this.NY=0;this.YL=[];this.tka=!1;this.Gs=function(la){var ra,N,ha,xa,$a,ab;N={};try{N={playdelaysdk:(0,l.cg)(V.j.dU()),applicationPlaydelay:(0,l.cg)(V.j.Ola()),playdelay:(0,l.cg)(V.j.Pla()),trackid:V.j.Vj,bookmark:(0,l.cg)(V.j.Pl || 0),pbnum:V.j.index,endianness:(0,f.$2a)()};V.config().rJb && (N.transitiontime=V.j.vm,N.uiplaystarttime=V.j.bb.ND,N.playbackrequestedat=V.j.Wh.ea(p.ma),N.clockgettime=V.getTime(),N.clockgetpreciseepoch=V.va.se.ea(p.ma),N.clockgetpreciseappepoch=V.Ea.nz.ea(p.ma),N.absolutestarttime=V.j.IG(),N.relativetime=V.j.l4a());V.d7(N,"startplay");}catch(db){V.log.error("error in startplay log fields",db);}V.j.Kh && (N.blocked=V.j.Kh);V.cc.S5a(N);(0,x.Tb)(V.j.UWa) && (N.bookmarkact=(0,l.cg)(V.j.UWa));ha=V.j.yd.at && V.j.yd.ats?V.j.yd.at - V.j.yd.ats:void 0;ha && (N.nccpat=ha);(ha=V.j.yd.lr && V.j.yd.lc?V.j.yd.lr - V.j.yd.lc:void 0) && (N.nccplt=ha);(ha=V.j.yd.lc && V.j.yd.lg?V.j.yd.lc - V.j.yd.lg:void 0) && (N.lct=ha);(ha=V.oG()) && (N.downloadables=ha);qb._cad_global.device && (0,x.$c)(qb._cad_global.device.y6) && (N.esnSource=qb._cad_global.device.y6);(0,l.de)(N,V.qq,{prefix:"pi_"});V.j.eo && V.j.eo.initBitrate && (N.initvbitrate=V.j.eo.initBitrate);V.j.eo && V.j.eo.selector && (N.selector=V.j.eo.selector);N.fullDlreports=V.vjb;if(V.j.state.value >= y.Xb.oe)try{xa=V.j.Nt();if(xa){V.maxBitrate=(0,f.xQ)(xa.map(function(db){return db.bitrate;}));V.t9a=(0,f.xQ)(xa.map(function(db){return db.height;}));$a=0 < xa.length?(0,D.T4a)(function(db,ub){return db.height === ub.height;},xa).map(function(db){return (0,z.tua)(db,function(ub){return ub.bitrate;});}):void 0;N.maxbitrate=V.maxBitrate;N.maxresheight=V.t9a;}}catch(db){V.log.error("Exception computing max bitrate",db);}try{ab=(0,f.TG)();ab && (N.pdltime=ab);}catch(db){}try{(0,l.de)(N,V.j.yd,{prefix:"sm_"});(0,l.de)(N,V.j.W7(),{prefix:"vd_"});}catch(db){}la && V.j.Bu && (N.pssh=V.j.Bu);V.W5a(V.j,N);N.avtp=V.mJ.jn().YAa;(null === (ra=V.j.eb) || void 0 === ra?0:ra.Xx) && V.r8(N);if(V.j.Nb.value)try{N.ttTrackFields=V.j.Nb.value.Ag;}catch(db){}N.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');V.cc.iN(N,!0,V.j.ac.value,V.ya);V.cc.kN(N,!0,V.j.Og.value,V.ya);V.j.W && (N.packageId=V.j.W.Ca.yn);V.j.W && V.j.W.Ca.Op && (N.hasChoiceMap=!0);V.DUb($a);V.CUb();la && (V.jsa(N),V.lsa(N));V.Q5a(V.j,N);V.eH(V.j,N);V.fH(V.j,N);V.Tr(V.j,N);V.sC(V.j,N,V.tka);V.oW(V.j,N);V.cSb(V.j,N);V.ksa(N);V.nsa(N);V.cc.jN(N);V.P5a(N);V.cc.s8(N,V.ya);V.msa(N);V.yc(A.Ic.Gs,la,P.Wd | P.Uq | P.Li | P.Ys | P.eE | P.a0 | P.jE | P.$o,N);};this.Fu=function(la,ra,N){ra={playdelay:(0,l.cg)(la),reason:N,intrplayseq:V.xC - 1,skipped:ra};"repos" === N && (ra.prstate=!0 === V.j.paused.value?"paused":"playing");V.hN(ra,g.kh.Fu);V.fH(V.j,ra);V.Tr(V.j,ra);V.yc(A.Ic.Fu,!1,P.Wd | P.Uq | P.Li,ra);"rebuffer" !== N && "force_rebuffer" !== N || V.j.ol.Pwb(Number((0,l.cg)(la)));};this.ty=function(la,ra,N,ha){la={moff:(0,l.Xl)(N),moffms:(0,l.cg)(N),vbitrate:ra.bitrate,vbitrateold:la.bitrate,vdlid:ra.Wb,vdlidold:la.Wb,vheight:ra.height,vheightold:la.height,vwidth:ra.width,vwidthold:la.width,bw:ha};V.fH(V.j,la);V.Tr(V.j,la);V.sC(V.j,la);V.hN(la,g.kh.ty);V.yc(A.Ic.ty,!1,P.Li,la);};this.nya=function(la,ra,N){la={moff:(0,l.Xl)(N),moffms:(0,l.cg)(N),vdlidold:la.Wb,vbitrateold:la.bitrate};V.fH(V.j,la);V.Tr(V.j,la);V.sC(V.j,la);V.cc.fq(la,ra,V.j.pf.value && V.j.pf.value.stream);V.hN(la,g.kh.KY);V.yc(A.Ic.KY,!1,P.Li,la);};this.Pwa=function(){var la,ra;la={waittime:(0,l.cg)(V.j.l4a()),abortedevent:"startplay",trackid:V.j.Vj,prstate:V.Ty(),paustate:V.j.paused.value};V.d7(la,"endplay");V.hN(la,g.kh.zO);V.Wt.TU && (la.eventlist_version=1,la.eventlist=V.MH.Y3a(V.j));V.j.eo && V.j.eo.initBitrate && (la.initvbitrate=V.j.eo.initBitrate);try{ra=(0,f.TG)();ra && (la.pdltime=ra);(0,l.de)(la,V.j.yd,{prefix:"sm_"});}catch(N){}V.gsa(la);V.cc.s8(la,V.ya);la.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');V.cc.iN(la,!1,V.j.ac.value,V.ya);V.cc.kN(la,!1,V.j.Og.value,V.ya);V.jsa(la);V.cc.fq(la,V.j.Ue.value,V.j.Vg.value);V.W5a(V.j,la);V.eH(V.j,la);V.oW(V.j,la);V.msa(la);V.lsa(la);V.Tr(V.j,la);V.yc(A.Ic.zO,!1,P.Wd | P.Li | P.eE | P.Ys | P.$o,la);};this.Owa=function(la,ra){la={waittime:(0,l.cg)(la),abortedevent:"resumeplay",resumeplayreason:ra};V.j.eo && V.j.eo.initBitrate && (la.initvbitrate=V.j.eo.initBitrate);V.cc.fq(la,V.j.Ue.value,V.j.Vg.value);V.oW(V.j,la);V.Tr(V.j,la);V.yc(A.Ic.zO,!1,P.Wd | P.Li | P.$o,la);};this.uAa=function(la,ra,N){la={newstate:ra?"Paused":"Playing",oldstate:la?"Paused":"Playing",reason:N};V.fH(V.j,la);V.Tr(V.j,la);V.sC(V.j,la);V.cc.fq(la,V.j.fe.value && V.j.fe.value.stream,V.j.pf.value && V.j.pf.value.stream);V.hN(la,g.kh.AZ);V.yc(A.Ic.AZ,!1,P.Wd | P.Li,la);};this.vW=function(la,ra,N){var ha,xa;la=(0,l.de)({vdlid:V.j.Ue.value.Wb,playingms:la,pausedms:ra,intrplayseq:V.xC++,prstate:V.Ty(),paustate:V.j.paused.value},N);V.d7(la,"intrplay");ra=V.j.Ec[C.u.X].value;N=V.j.Ec[C.u.Y].value;la.cdnid=la.vcdnid=ra && ra.id;la.acdnid=N && N.id;la.locid=V.OW && V.OW.Mta;la.loclv=V.OW && V.OW.x8a;la.avtp=V.mJ.jn().YAa;la.mediabuffered=null === (ha=V.j.ae) || void 0 === ha?void 0:ha.g7();if(null === (xa=V.j.eb) || void 0 === xa?0:xa.Xx)(V.gsa(la),V.r8(la),V.U5a(la));try{(0,l.de)(la,V.j.W7(),{prefix:"vd_"});}catch($a){}V.fH(V.j,la);V.Tr(V.j,la);V.sC(V.j,la);V.cc.fq(la,V.j.fe.value && V.j.fe.value.stream,V.j.pf.value && V.j.pf.value.stream);V.yc(A.Ic.vW,!1,P.Wd | P.Li,la);};this.pD=function(la,ra,N,ha){la={moffold:(0,l.Xl)(la),reposseq:V.NY++,prstate:V.Ty(),paustate:V.j.paused.value};ha === y.pc.YQ && (la.reason="missing_segments");V.sC(V.j,la);V.cc.fq(la,N && N.stream,ra && ra.stream);V.hN(la,g.kh.pD);V.yc(A.Ic.pD,!1,P.Wd | P.Li,la);};this.fla=function(){var la,ra,N,ha;ra=V.j.ac.value;N=V.j.Vg.value.Wb;ra=ra?{trackId:ra.trackId,bcp47:ra.Ae,downloadableId:N,rank:ra.dc,chan:ra.channels}:{};N=V.lz;ha=null === (la=V.ota) || void 0 === la?void 0:la.Wb;la=N?{trackId:N.trackId,bcp47:N.Ae,downloadableId:ha,rank:N.dc,chan:N.channels}:{};V.yc(A.Ic.uWa,!1,P.Wd | P.Li,{switchdelay:(0,l.cg)(V.getTime() - V.pta),track:ra,oldtrack:la});};this.wZ=function(la){V.yc(A.Ic.ugb,!1,P.Wd | P.Li,{speedold:Math.floor(1E3 * la.oldValue),speed:Math.floor(1E3 * la.newValue)});};this.PP=function(){V.yc(A.Ic.X$b,!1,P.Wd | P.Li,{track:V.j.Nb.value.Ag});};this.eA=function(la){var ra,N;ra=V.j.Nb.value;if(la.newValue || ra && ra.vo() && !ra.rn()){N=(la=null !== (N=la.newValue) && void 0 !== N?N:ra)?{trackId:la.trackId,bcp47:la.Ae,downloadableId:la.Wb,rank:la.dc,isImageBased:la.nk}:{};la=(la=V.xta)?{trackId:la.trackId,bcp47:la.Ae,downloadableId:la.Wb,rank:la.dc,isImageBased:la.nk}:{};N={switchdelay:(0,l.cg)(V.getTime() - V.wta),track:N,oldtrack:la};V.cc.fq(N,V.j.fe.value && V.j.fe.value.stream,V.j.pf.value && V.j.pf.value.stream);V.yc(A.Ic.Rhb,!1,P.Wd | P.Li,N);}};this.Kp=function(la){V.yc(A.Ic.Azb,!1,P.Wd | P.Li,la.newValue);};this.fBb=function(la,ra){var N,ha;N=ra.serverid;ha={locid:ra.location,loclv:ra.locationlv,selocaid:N,selcdnid:N,selocaname:ra.servername};ha.mediatype=ra.mediatype;ha.selreason=ra.selreason || "unknown";ha.seldetail=ra.seldetail;ha.cdnbwdata=JSON.stringify([{id:N}]);la && (ha.oldlocid=la.Mta,ha.oldloclv=la.x8a,ha.oldocaid=la.O6b,ha.oldocaname=la.mZ);V.yc(A.Ic.DXa,!1,P.a0,ha);};this.J_a=function(){var la,ra,N;if(V.j.tg)try{la=!1;V.vjb || (la=!0,V.YL=V.YL.filter(function(ha){return !ha.pa;}));if(0 < V.YL.length){ra=V.h6.construct(V.YL,V.j.Wh.ea(p.ma));V.YL=[];ra.erroronly=la;N={};(0,l.bg)(ra,function(ha,xa){N[ha]=JSON.stringify(xa);});V.yc(A.Ic.PHb,!1,P.Li,N);}}catch(ha){V.log.error("Exception in dlreport.",ha);}};this.Ty=function(){var la;la=V.j.Ab.value;return la === y.kb.Ie?"playing":la === y.kb.Sg?"paused":la === y.kb.Nq?"ended":"waiting";};this.xz=function(){var la,ra,N;if(V.j.state.value == y.Xb.oe){N=V.nY();V.config().tya && (N.avtp=V.mJ.jn().YAa,(null === (la=V.j.eb) || void 0 === la?0:la.Xx) && V.r8(N));N.mediabuffered=null === (ra=V.j.ae) || void 0 === ra?void 0:ra.g7();N.midplayseq=V.Nua++;N.prstate=V.Ty();N.paustate=V.j.paused.value;V.config().I6b && V.chb("midplay");V.config().ss && V.osa(N);V.ksa(N);V.nsa(N);V.Tr(V.j,N);V.cc.jN(N);V.yc(A.Ic.xz,!1,P.Wd | P.Li | P.eE | P.Ys,N);}};this.chb=function(la){var ra,N;ra={};ra.trigger=la;try{N=V.j.Pqa();ra.subtitleqoescore=V.j.Hn.cQb(N);ra.metrics=JSON.stringify(V.j.Hn.jra(N));}catch(ha){V.log.error("error getting subtitle qoe data",ha);}V.yc(A.Ic.Y9b,!1,P.Wd | P.eE | P.Uq,ra);};this.transition=function(la){V.sC(V.j,la);V.oW(V.j,la);V.yc(A.Ic.transition,!1,0,la);};this.nza=function(la,ra){V.yc(A.Ic.nza,ra,0,la);};this.Ky=function(la){var ra,N,ha,xa,$a,ab,db;N=V.nY();V.d7(N,"endplay");N.prstate=V.Ty();N.paustate=V.j.paused.value;N.muted=V.j.muted.value;V.j.fA && "downloaded" === V.j.fA.ZM() && (N.trickplay_ms=V.j.g_.offset,N.trickplay_res=V.j.g_.Ydb);V.config().Bjb && (N.rtinfo=V.j.GPb());V.config().tya && (null === (ra=V.j.eb) || void 0 === ra?0:ra.Xx) && V.r8(N);N.endreason=la?"error":V.j.Ab.value === y.kb.Nq?"ended":"stopped";(ra=V.qq) && (0,l.de)(N,ra,{prefix:"pi_"});try{(0,l.de)(N,V.j.yd,{prefix:"sm_"});}catch(cb){}V.j.fsa && (N.inactivityTime=V.j.fsa);V.gsa(N);V.U5a(N);if(V.j.O4){ra=V.j.O4;ha=V.config().$Wa;xa=V.j.loadTime;$a={iv:ha,seg:[]};ab=function(cb,kb,sb){return 0 === kb || void 0 === sb[kb - 1]?cb:cb - sb[kb - 1];};db=ra.Ryb.map(ab);ab=ra.Icc.map(ab);for(var ub,Ma=0;Ma < db.length;Ma++){if(db[Ma] || ab[Ma])ub?(ub.ams.push(db[Ma]),ub.vms.push(ab[Ma])):ub={ams:[ra.Ryb[Ma]],vms:[ra.Icc[Ma]],soffms:ra.startTime + Ma * ha - xa};Ma !== db.length - 1 && db[Ma] && ab[Ma] || !ub || ($a.seg.push(ub),ub=void 0);}N.bt=JSON.stringify($a);}la && (V.jsa(N),V.lsa(N));V.chb("endplay");V.config().ss && V.osa(N);V.cc.iN(N,!1,V.j.ac.value,V.ya);V.cc.kN(N,!1,V.j.Og.value,V.ya);V.Q5a(V.j,N);V.eH(V.j,N);V.fH(V.j,N);V.sC(V.j,N,V.tka);V.Tr(V.j,N);V.oW(V.j,N);V.ksa(N);V.nsa(N);V.cc.jN(N);V.eSb(N);V.P5a(N);V.gSb(N);V.fSb(N);V.iSb(N);V.msa(N);V.jSb(N);V.yc(A.Ic.Ky,la,P.Wd | P.Uq | P.Li | P.eE | P.Ys | P.jE | P.$o,N);};this.XHb=function(la){V.YL.push(V.h6.XCb(la.response));};this.Kh=function(){V.yc(A.Ic.RWa,!1,P.Wd | P.eE | P.$o,{});};this.oCb=function(la){var ra,N;ra=la.response.em;la=(0,p.Ob)(ra.hj);N=(0,p.Ob)(ra.Cq);ra=(0,u.ta)(ra.qU || 0);ra.k7a() || ra.Rsa() || (la=new t.mha(la,N),V.mJ.Jwb(new v.mGa(la,ra)));};this.raa=function(la){var ra,N,ha;ha=la.newValue;la.Lh && la.Lh.dO && ha && (null === (ra=la.Lh) || void 0 === ra || !ra.reason) || ha == V.vH || (V.uAa(V.vH,ha,null === (N=la.Lh) || void 0 === N?void 0:N.reason),V.vH=ha);};this.oy=function(la){function ra(N){var ha;if(V.j.Gb && V.j.Gb.sourceBuffers){ha=V.j.Gb.sourceBuffers.filter(function(xa){return xa.type === N;}).pop();if(ha)return {busy:ha.sh(),updating:ha.updating(),ranges:ha.h7()};}}la={cause:la.ic};la.cause && la.cause === d.Nga && (la.mediaTime=V.j.mediaTime.value,la.buf_audio=ra(k.L1),la.buf_video=ra(k.yR));V.vW(V.WZ[y.kb.Ie] || 0,V.WZ[y.kb.Sg] || 0,la);};this.iib=function(la){var ra;la=la.oldValue;ra=V.getTime();la === y.kb.If?V.WZ=[]:V.WZ[la]=(V.WZ[la] || 0) + (ra - V.LUb);V.LUb=ra;};this.Ol=function(la){V.pta=V.getTime();V.lz=la.oldValue;};this.wl=function(la){V.wta=V.getTime();V.xta=la.oldValue;};this.QT=function(la){V.ota=la.oldValue;};this.aX=function(la){function ra(N,ha){var xa;if(!N || N.Mta !== ha.location){xa={Mta:ha.location,x8a:ha.locationlv,O6b:ha.serverid,mZ:ha.servername};V.fBb(N,ha);return xa;}}if("audio" === la.mediatype){if(la=ra(V.GUb,la))V.GUb=la;}else if(la=ra(V.OW,la))V.OW=la;};this.lZ=function(la){var ra,N;ra=la.mediatype;N=la.reason;"video" === ra?"serverswitchaway" === N?(V.lj.summary.akb++,V.lj.s9=V.va.se.ea(p.ma)):"serverswitchback" === N && (V.lj.summary.bkb++,V.lj.s9 && (V.lj.summary.ckb.push(V.va.se.ea(p.ma) - V.lj.s9),V.lj.s9=void 0)):"audio" === ra && ("serverswitchaway" === N?(V.lj.summary.jWa++,V.lj.k9=V.va.se.ea(p.ma)):"serverswitchback" === N && (V.lj.summary.kWa++,V.lj.k9 && (V.lj.summary.lWa.push(V.va.se.ea(p.ma) - V.lj.k9),V.lj.k9=void 0)));V.yc(A.Ic.Q6b,!1,P.Wd | P.Li,{mediatype:la.mediatype,server:la.server,selreason:la.reason,location:la.location,bitrate:la.bitrate,confidence:la.confidence,throughput:la.throughput,oldserver:la.oldserver});};this.KF=function(la){V.yc(A.Ic.myb,!1,P.Li,{strmsel:la.strmsel});};this.B9=function(la){la=m.__rest(la,["type"]);V.Tr(V.j,la);V.yc(A.Ic.D9,!1,P.Wd | P.Uq,la);};this.A9=function(la){var ra,N;ra=la.mediaType;N=la.current;la=la.km;ra === C.u.X && (ra={mediatype:(0,F.KH)(ra),curr:{enc:N.ZB,origin:N.YB},prev:{enc:la.ZB,origin:la.YB}},V.Tr(V.j,ra),V.yc(A.Ic.IVb,!1,P.Wd,ra));};this.JP=function(la){la=Object.assign({},la);la.details && (la.details=JSON.stringify(la.details));V.yc(A.Ic.X9b,!0,P.Wd | P.Uq | P.a0,la);};this.tka=Va.$Ba || Va.bda || Va.W1a;this.mJ=Q();this.log=(0,n.Nh)(M,"LogblobBuilder");this.vH=M.paused.value;this.na=this.ya.na;this.lj={summary:{akb:0,bkb:0,ckb:[],jWa:0,kWa:0,lWa:[]},s9:void 0,k9:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.tR=void 0;m=a(5163);g=a(45247);k=a(33096);d=a(13044);f=a(52569);n=a(31276);h=a(45146);l=a(3887);p=a(5021);q=a(36129);u=a(72574);t=a(74267);v=a(70826);w=a(22365);y=a(85001);x=a(32687);z=a(79342);A=a(18169);B=a(32573);D=a(45266);C=a(26388);E=a(30873);G=a(79542);F=a(45247);I=a(82100);c.prototype.W5a=function(M,L){var Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va,S,ma,Ja;if(this.config().ss)try{Q={};J=this.kd.getStats(void 0,void 0,M.O);H=M.IG();K=J.jJ.zCb || [];Q.attempts=J.Jaa || 0;Q.num_completed_tasks=K.length;O=this.ke.OKb;R={};ca=B.oj.KP;oa=B.oj.Ir;ta=B.oj.Vla;J.Zk && (R.scheduled=J.Zk - H);Fa=M.W;Fa && (0,x.Tb)(Fa.zI) && (R.preauthsent=Fa.zI - M.loadTime,R.preauthreceived=Fa.ZO - M.loadTime);ua=K.filter(function(Na){return "manifest" === Na.type;});Q.mf_succ=ua.filter(O("status",ca)).length;Q.mf_fail=ua.filter(O("status",oa)).length;ya=M.yd;(0,x.$c)(ya.lg) && 0 > ya.lg && M.loadTime && (R.ldlsent=ya.lc,R.ldlreceived=ya.lr);Ca=K.filter(function(Na){return "ldl" === Na.type;});Q.ldl_succ=Ca.filter(O("status",ca)).length;Q.ldl_fail=Ca.filter(O("status",oa)).length;J=!0;H=[];"notcached" === M.TF && (J=!1,H.push("Missing cached manifest"));this.config().SU || (J=!1,H.push("LDL prefetch disabled"));Va=Ca.filter(O("status",ta)).length;this.config().SU && 0 === Va && (!R.ldlreceived || 0 <= R.ldlreceived) && (J=!1,H.push("LDL received after start"));if(this.config().y0a)if(L.isPrefetchItem){S=L.prefetchedAudioMs / L.bcABufferLevelMs;if(1 > L.prefetchedVideoMs / L.bcVBufferLevelMs || 1 > S)(J=!1,H.push("Insufficient media fetched"));}else (J=!1,H.push("aseStats not initialized"));ma=K.filter(function(Na){return "getHeaders" === Na.type;});Q.header_succ=ma.filter(O("status",ca)).length;Q.header_fail=ma.filter(O("status",oa)).length;Ja=K.filter(function(Na){return "getMedia" === Na.type;});Q.media_succ=Ja.filter(O("status",ca)).length;Q.media_fail=Ja.filter(O("status",oa)).length;Q.hm_succ=Q.header_succ + Q.media_succ;Q.hm_fail=Q.header_fail + Q.media_fail;(0,l.de)(L,Q,{prefix:"pr_"});this.Wt.TU && (L.eventlist_version=1,L.eventlist=this.MH.Y3a(M));(L.prefetchCompleted=J) || (L.prefetchFailed=H,(0,l.de)(L,R,{prefix:"pe_"}));this.osa(L);}catch(Na){this.log.warn("error in collecting video prepare data",Na);}};c.prototype.LPb=function(M,L){if(M=M.vV())if(L=M[L])return L.hb;};c.prototype.Q5a=function(M,L){M.bb.yg && (L.isBranching=!0);};c.prototype.eH=function(M,L){var Q,J;J=(null === (Q=M.W) || void 0 === Q?void 0:Q.Nsa) || "videopreparer" === M.SF;L.cachedManifest=M.TF;L.cachedLicense=M.SF;L.usedldl=this.config().SU?J.toString():"not_capable";};c.prototype.fH=function(M,L){var Q,J;if(this.config().hSb){Q=M.Qqa();J=M.da.W;Q && J && (L.segment=Q,J=M.jC(),L.segmenttime=J,M=this.LPb(M,Q),null !== J && void 0 !== M && (L.segmentoffset=J - M));}};c.prototype.sC=function(M,L,Q){L.pxid=M.Eaa;(void 0 === Q?0:Q) && (L.playgraph_trace=M.Obb);};c.prototype.oW=function(M,L){L.hasContentPlaygraph=M.c8();};c.prototype.cSb=function(M,L){var Q,J;if(M.c8()){Q=M.OB;J=M.W.Ca.Vm.$;L.auxViewables=Object.keys(J.aa).map(function(H){return J.aa[H].J;}).filter(function(H,K,O){return H !== Q && O.indexOf(H) === K;});}};c.prototype.U5a=function(M){var L,Q;L=this.j.vlc;Q=L && L.Anc;L && L.JRb && (M.htwbr=L.JRb,M.pbtwbr=L.jnc,M.hptwbr=L.zlc);L && L.M5b && (M.rr=L.M5b,M.ra=L.xnc);L && Q && 0 < (Q.length || 0) && (M.qe=JSON.stringify(Q));};c.prototype.jsa=function(M){var L,Q,J;try{L=this.ke.createElement("canvas");Q=L.getContext("webgl") || L.getContext("experimental-webgl");if(Q){J=Q.getExtension("WEBGL_debug_renderer_info");J && (M.WebGLRenderer=Q.getParameter(J.UNMASKED_RENDERER_WEBGL),M.WebGLVendor=Q.getParameter(J.UNMASKED_VENDOR_WEBGL));}}catch(H){}};c.prototype.iSb=function(M){M.switchAwaySummary={vsa:this.lj.summary.akb,vsb:this.lj.summary.bkb,vsbt:this.lj.summary.ckb,asa:this.lj.summary.jWa,asb:this.lj.summary.kWa,asbt:this.lj.summary.lWa};};c.prototype.otb=function(M){var L;L=[];return M?Object.keys(M).map(function(Q){return +Q;}):L;};c.prototype.oG=function(){var M,L;M=this;if(this.j.lx && this.j.ii){L=[];this.j.lx.concat(this.j.ii).forEach(function(Q){Q.streams.forEach(function(J){L.push({dlid:J.Wb,type:J.type,bitrate:J.bitrate,vmaf:J.ub,cdn_ids:M.otb(J.Zna)});});});return JSON.stringify(L);}};c.prototype.eBb=function(){var L,Q,J;function M(H,K){var O,R,ca;O=H.cdnId + "$" + H.correlationId;R=J[O];R || (R={cdnid:H.cdnId,pbcid:H.correlationId,dls:[]},J[O]=R,Q.push(R));(0,h.TL)(H.bitrate);(0,h.TL)(H.duration);O={bitrate:H.bitrate,tm:(0,w.Mn)(H.duration)};ca=H.vmaf;ca && ((0,h.TL)(H.vmaf),O.vf=ca);O[K]=(0,l.fj)(H.downloadableId);R.dls.push(O);}L=this.j.ol.QMb();Q=[];J={};L.audio.forEach(function(H){M(H,"adlid");});L.video.forEach(function(H){M(H,"dlid");});return JSON.stringify(Q);};c.prototype.nY=function(){var M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua;M=this.j.ol;L={totaltime:(0,l.Xl)(M.Zp("content")),totalcontenttime:(0,l.Xl)(M.WV("content")),totaladtime:(0,l.Xl)(M.Zp("ads")),totalothertime:(0,l.Xl)(M.Zp("other")),cdndldist:this.eBb(),reposcount:this.NY,intrplaycount:this.xC};try{Q={numskip:0,numlowqual:0};J=this.j.ae;H=J.hw();(0,x.Tb)(H) && (L.totfr=H,Q.numren=H);H=J.NG();(0,x.Tb)(H) && (L.totdfr=H,Q.numrendrop=H);H=J.zV();(0,x.Tb)(H) && (L.totcfr=H,Q.numrenerr=H);L.playqualvideo=JSON.stringify(Q);K=this.j.Ue.value;K && (L.videofr=K.framerate.toFixed(3));O=M.Tpa();O && (L.abrdel=O);R=M.k8() && M.x2a();R && (L.tw_vmaf=R);ca=M.v2a();ca && (0,l.de)(L,ca);L.rbfrs=this.xC;L.maxbitrate=this.maxBitrate;L.maxresheight=this.t9a;oa=this.j.mC();for(M=0;M < oa.length;M++){ta=oa[M];Fa=this.ya.SN.$z(ta);if(Fa){(0,h.oa)(ua);L.maxbitrate=ua?ua.bitrate:0;L.maxresheight=ua?ua.height:0;L.bitratefilters=Fa.join("|");break;}ua=ta;}this.j.fA && (L.trickplay=this.j.fA.ZM());null !== this.j.Hn.DWa && (L.avg_subt_delay=this.j.Hn.DWa);}catch(ya){this.log.error("Exception reading some of the endplay fields",ya);}(0,l.de)(L,this.j.W7(),{prefix:"vd_"});return L;};c.prototype.getTime=function(){return this.Ea.Lb().ea(p.ma);};c.prototype.ara=function(){return this.getTime() - this.ya.Wh.ea(p.ma);};c.prototype.osa=function(M){var L;try{L=this.kd.getStats();M.pr_cache_size=JSON.stringify(L.cache);M.pr_stats=JSON.stringify(L.sMb);}catch(Q){}};c.prototype.ksa=function(M){this.log.debug("httpstats",this.Ne.Uf);(0,l.de)(M,this.Ne.Uf,{prefix:"http_"});};c.prototype.Tr=function(M,L){M=M.xd;M.Z && (L.intenttoplayatedge=M.dW(),M=M.hC(),L.livestage=this.wOb(M));};c.prototype.wOb=function(M){switch(M){case E.Us.VR:case E.Us.Dfa:case E.Us.Oea:return M.toLowerCase();default:return (0,G.rM)(M);}};c.prototype.gsa=function(M){var L,Q,J;L=this.config().a_a && !(this.na % this.config().a_a);Q=this.j.eb;J=null === Q || void 0 === Q?void 0:Q.Ih;L && J && (M.ASEstats=JSON.stringify(Q.y6a()));};c.prototype.r8=function(M){Object.assign(M,this.j.eb.Hc.kQb());};c.prototype.nsa=function(M){var L;try{L=w.ov.memory;(0,x.i7a)(L) && (M.totalJSHeapSize=L.totalJSHeapSize,M.usedJSHeapSize=L.usedJSHeapSize,M.jsHeapSizeLimit=L.jsHeapSizeLimit);}catch(Q){}};c.prototype.P5a=function(M){var L;try{if(this.config().hU){L=this.j.XMb();M.battery=L;this.log.trace("batterystatuses",L);}}catch(Q){}};c.prototype.eSb=function(M){this.j.P5 && (M.dqec=this.j.P5);};c.prototype.msa=function(M){var L,Q,J;(null === (L=this.j.re) || void 0 === L?0:L.EV)?M.keysys=this.j.re.EV():(null === (J=null === (Q=this.j.re) || void 0 === Q?void 0:Q.mediaKeys) || void 0 === J?0:J.keySystem)?M.keysys=this.j.re.mediaKeys.keySystem:this.PC.D7a && (M.keysys=this.PC.D7a);M.keysys && (M.keySystem=M.keysys);this.PC.H7a && (M.keySystemStatuses=this.CWb(this.PC.H7a));this.DC.F7a && (M.keySystemRestrictions=this.DC.F7a);this.DC.G7a && (M.keySystemRestrictionsDebug=this.DC.G7a);};c.prototype.CWb=function(M){var L,Q;L=this;Q={};M.forEach(function(J){var H;H=(0,I.Mma)(J.i9);Q[H]=L.GWb(J.status);});return Q;};c.prototype.GWb=function(M){return M.supported?!0:M.reason;};c.prototype.lsa=function(M){var L;if(null === (L=this.j.re) || void 0 === L?0:L.u3a)M.keystatus=this.j.re.nta;};c.prototype.fSb=function(M){this.Woa && (M.externaldisplay=this.Woa.sM);};c.prototype.gSb=function(M){var L,Q;if(this.gCa){L=this.gCa.map(function(J){return J.Af;}).filter(function(J){return void 0 !== J;});Q=(0,z.tua)(L,function(J){return J.height;});Q && (M.media_capabilities_smooth=Q.smooth,M.media_capabilities_efficient=Q.powerEfficient,M.media_capabilities_bitrate=Q.bitrate,M.media_capabilities_height=Q.height,M.media_capabilities_width=Q.width);M.media_capabilities=L.map(function(J){return {smooth:J.smooth,efficient:J.powerEfficient,bitrate:J.bitrate,height:J.height,width:J.width};});}};c.prototype.jSb=function(M){M.didHydrateTracks=this.j.e6;};c.prototype.CUb=function(){void 0 === this.Woa && (this.Woa=this.Xoa.IKb());};c.prototype.DUb=function(M){var L;L=this;void 0 === this.gCa && void 0 !== M && (this.gCa=M.map(function(Q){return L.Eua.epa(Q);}));};c.prototype.d7=function(M,L){(L=this.j.SM(L)) && Object.entries(L).forEach(function(Q){var J;J=ja(Q);Q=J.next().value;J=J.next().value;M[Q]=J;});};c.prototype.hN=function(M,L){var Q;(L=null === (Q=this.j.eb) || void 0 === Q?void 0:Q.B7(void 0,L)) && Object.entries(L).forEach(function(J){var H;H=ja(J);J=H.next().value;H=H.next().value;M[J]=H;});};c.prototype.yc=function(M,L,Q,J){var H,K;K=L?"error":"info";L && this.j.rh && (0,q.G0)(this.j.rh.errorCode,this.j.rh.wa,this.ara(),null === (H=this.j.ae) || void 0 === H?void 0:H.hw()) && (K="info");this.gka(J,this.j,L,Q);M=this.oz.Ot(M,K,J,this.ya);this.Of.yc(M);};c.prototype.dSb=function(M,L){var Q,J;J=null === (Q=L.eb) || void 0 === Q?void 0:Q.bGb;J && (null === J || void 0 === J?void 0:J.J) !== L.OB && (M.auxMid || (M.auxMid=J.J),M.auxPlaybackcontextid || (M.auxPlaybackcontextid=L.lk(J.J).Ad));};c.prototype.gka=function(M,L,Q,J){var H,K,O,R,ca,oa,ta;this.cc.R5a(M,L);this.dSb(M,L);J & P.Wd && ((0,h.oa)(!M || void 0 === M.moff),this.cc.V5a(M,L,L.c8()));J & P.Uq && this.cc.X5a(M,L);J & P.Li && (null === (H=L.eb) || void 0 === H?0:H.Ih) && (M.abuflbytes=null !== (K=M.abuflbytes) && void 0 !== K?K:L.Zka(),M.abuflmsec=null !== (O=M.abuflmsec) && void 0 !== O?O:L.NT(),M.vbuflbytes=null !== (R=M.vbuflbytes) && void 0 !== R?R:L.eCa(),M.vbuflmsec=null !== (ca=M.vbuflmsec) && void 0 !== ca?ca:L.t_(),M.tbuflbytes=null !== (oa=M.tbuflbytes) && void 0 !== oa?oa:L.A$b(),M.tbuflmsec=null !== (ta=M.tbuflmsec) && void 0 !== ta?ta:L.B$b());J & P.Ys && this.cc.Y5a(M,L.wk);J & P.eE && (H=w.He.hardwareConcurrency,0 <= H && (M.numcores=H),H=this.ya.foa) && (K=H.Upa(),M.droppedFrames=JSON.stringify(K),H=H.NV(this.config().oIb),(0,l.bg)(H,function(Fa,ua){M["droppedFramesP" + Fa]=JSON.stringify(ua);}));if(J & P.a0)try{L.tg && (M.cdninfo=JSON.stringify(L.tg.map(function(Fa){return {id:Fa.id,nm:Fa.name,rk:Fa.dc,wt:Fa.location.weight,lv:Fa.location.level};})));}catch(Fa){}Q && J & P.jE && ((0,h.oa)(L.rh),this.cc.T5a(M,L,L.rh));J & P.$o && this.cc.isa(M);};Ya.Object.defineProperties(c.prototype,{vjb:{configurable:!0,enumerable:!0,get:function(){return this.j.WB || this.j.dM;}}});b.tR=c;(function(M){M[M.Wd=1]="MOFF";M[M.Uq=2]="PRESENTEDSTREAMS";M[M.Li=4]="BUFFER";M[M.Ys=8]="SCREEN";M[M.eE=16]="CPU";M[M.a0=32]="CDN";M[M.jE=64]="FATALERROR";M[M.$o=128]="BROWSERINFO";})(P || (P={}));},26158:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u,t){this.Of=l;this.config=p;this.va=q;this.Ea=u;this.Tta=t;}Object.defineProperty(b,"__esModule",{value:!0});b.uR=void 0;r=a(5163);m=a(45118);g=a(22674);k=a(98326);d=a(4203);f=a(30869);n=a(81918);h=a(99400);c.prototype.create=function(l,p,q,u){var t;t=this.Tta.create(l,p);return new h.wR(l,p,q,u,this.Of,this.config,this.Ea,t);};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(m.Al)),r.__param(1,(0,g.l)(d.Zb)),r.__param(2,(0,g.l)(f.hg)),r.__param(3,(0,g.l)(n.Kc)),r.__param(4,(0,g.l)(k.sR))],a);b.uR=a;},99400:function(r,b,a){var m,g,k,d,f;function c(n,h,l,p,q,u,t,v){var w;w=this;this.j=n;this.ya=h;this.WG=p;this.Of=q;this.config=u;this.Ea=t;this.gb=v;this.GC=function(y,x){return function(z){var A;A=x(z);if("number" !== typeof A)throw Error("Event " + JSON.stringify(z) + " does not have movie Id");A === w.O && y(z);};};this.T8a=this.GC(function(y){w.mca(y.kH);},function(y){return y.O;});this.Q8a=this.GC(function(){w.iU();},function(y){return y.O;});this.sYa=this.GC(function(){w.iU();},function(y){return y.movieId;});this.gma=this.GC(function(){w.j.Ab.value === d.kb.Ie && (w.j.Ab.removeListener(w.gma),w.wu());},function(){return w.j.O;});this.eA=function(y){w.rq && w.gb.eA(y);};this.xYa=this.GC(this.gb.oCb,function(y){return y.O;});this.Q_a=this.GC(this.gb.XHb,function(y){return y.O;});this.u8a=this.GC(this.gb.aX,function(y){return w.j.$i(y.segmentId).O;});this.dfb=this.GC(this.gb.lZ,function(y){return w.j.$i(y.segmentId).O;});this.Kj=function(y){y.skip && (w.XI=!0);switch(y.ic){case d.pc.Nx:case d.pc.cK:case d.pc.$R:case d.pc.YQ:case d.pc.Sfa:w.eP && w.Yo && w.gb.Owa(w.getTime() - w.Yo,w.eP);w.eP="repos";w.gb.pD(y.Ava,y.pf,y.fe);w.Yo=w.getTime();(0,k.Mf)(w.Uv);break;case d.pc.J0:w.eP="force_rebuffer";w.Yo=w.getTime();(0,k.Mf)(w.Uv);break;case d.pc.HE:case d.pc.Ts:break;default:return (0,f.rM)(y.ic);}};this.Ol=function(y){w.lz=y.oldValue;w.gb.Ol(y);};this.Uv=function(){var y;if(w.Yo && w.j.Ab.value !== d.kb.If){y=w.getTime() - w.Yo;w.gb.Fu(y,w.XI,w.eP);w.lz && w.lz != w.j.ac.value && w.gb.fla();w.Yo=void 0;w.eP=void 0;w.XI=void 0;}};this.wu=function(){w.rq || (w.rq=!0,w.gb.Gs(!1),w.rsa(),w.config().z8 && (w.cz=qb.setTimeout(function(){w.Of.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.cz=void 0;},w.config().z8)));};this.ug=function(){w.cz && (qb.clearTimeout(w.cz),w.cz=void 0);if(w.config().i6 || w.config().MT)(w.Yna && (qb.clearInterval(w.Yna),w.Yna=void 0),w.gb.J_a());w.k_ && w.k_();w.rq?w.gb.Ky(!!w.j.rh):w.j.rh?w.gb.Gs(!0):w.ya.background.value || w.gb.Pwa();};this.x_=function(y){y.oldValue && y.Lh && y.Lh.WF && w.gb.ty(y.oldValue,y.newValue,y.Lh.WF,y.Lh.WT);};this.uY=function(y){var x;if(y.newValue){x=y.newValue.stream;w.wH != x && (w.wH && x && w.gb.nya(w.wH,x,w.WG(y.newValue.EL.startTime)),w.wH=x);}};this.O=h.O;this.log=(0,m.Nh)(n,"LogblobBuilder");this.Eb();l && this.mca();}Object.defineProperty(b,"__esModule",{value:!0});b.wR=void 0;m=a(31276);g=a(5021);k=a(32219);d=a(85001);f=a(79542);c.prototype.Eb=function(){this.j.addEventListener(d.ha.EH,this.T8a);this.j.addEventListener(d.ha.kua,this.Q8a);this.j.addEventListener(d.ha.aX,this.u8a);this.j.addEventListener(d.ha.lZ,this.dfb);this.j.addEventListener(d.ha.ug,this.sYa);if(this.config().i6 || this.config().MT)(this.j.addEventListener(d.ha.mG,this.Q_a),this.Yna=qb.setInterval(this.gb.J_a,this.config().aIb));this.config().tya && this.j.addEventListener(d.ha.mG,this.xYa);};c.prototype.mca=function(n){var h;h=this;this.g$a || (this.j.Ab.value !== d.kb.Ie || (void 0 === n?0:n)?this.j.Ab.addListener(this.gma):this.wu(),this.j.gi.addListener(this.eA),this.j.Nb.addListener(this.gb.wl),this.j.ac.addListener(this.Ol),this.j.Vg.addListener(this.gb.QT),this.j.paused.addListener(this.gb.raa),this.j.fe.addListener(this.uY),this.j.Ab.addListener(this.Uv),this.j.Ab.addListener(this.gb.iib),this.j.Ue.addListener(this.x_),this.j.playbackRate.addListener(this.gb.wZ),this.j.addEventListener(d.ha.Kh,this.gb.Kh),this.j.addEventListener(d.ha.KF,this.gb.KF),this.j.addEventListener(d.ha.B9,this.gb.B9),this.j.addEventListener(d.ha.A9,this.gb.A9),this.j.addEventListener(d.ha.JP,this.gb.JP),this.j.addEventListener(d.ha.oy,function(l){h.eP="rebuffer";h.gb.oy(l);h.Yo=h.getTime();(0,k.Mf)(h.Uv);}),this.j.addEventListener(d.ha.Kj,this.Kj),this.j.addEventListener(d.ha.PP,this.gb.PP),this.ya.Kp && this.ya.Kp.addListener(this.gb.Kp),this.g$a=!0);};c.prototype.iU=function(){this.ug();this.g$a && (this.j.removeEventListener(d.ha.EH,this.T8a),this.j.removeEventListener(d.ha.kua,this.Q8a),this.j.removeEventListener(d.ha.aX,this.u8a),this.j.removeEventListener(d.ha.lZ,this.dfb),this.j.gi.removeListener(this.eA),this.j.Nb.removeListener(this.gb.wl),this.j.ac.removeListener(this.Ol),this.j.Vg.removeListener(this.gb.QT),this.j.paused.removeListener(this.gb.raa),this.j.fe.removeListener(this.uY),this.j.Ab.removeListener(this.Uv),this.j.Ab.removeListener(this.gma),this.j.Ab.removeListener(this.gb.iib),this.j.Ue.removeListener(this.x_),this.j.playbackRate.removeListener(this.gb.wZ),this.j.removeEventListener(d.ha.ug,this.sYa),this.j.removeEventListener(d.ha.Kh,this.gb.Kh),this.j.removeEventListener(d.ha.KF,this.gb.KF),this.j.removeEventListener(d.ha.JP,this.gb.JP),this.j.removeEventListener(d.ha.oy,this.gb.oy),this.j.removeEventListener(d.ha.Kj,this.Kj),this.j.removeEventListener(d.ha.PP,this.gb.PP),this.ya.Kp && this.ya.Kp.removeListener(this.gb.Kp),this.j.removeEventListener(d.ha.mG,this.Q_a),this.j.removeEventListener(d.ha.mG,this.xYa));};c.prototype.getTime=function(){return this.Ea.Lb().ea(g.ma);};c.prototype.rsa=function(){var n,h,l;n=this;l=[];this.config().M9a && (this.config().N9a.forEach(function(p){l.push(qb.setTimeout(n.gb.xz,p));}),this.config().g$ && (h=qb.setInterval(this.gb.xz,this.config().g$)),this.k_=function(){l.forEach(function(p){qb.clearTimeout(p);});h && qb.clearInterval(h);});};b.wR=c;},33345:function(r,b,a){var g,k,d,f,n,h,l,p,q,u,t;function c(v,w,y,x,z,A,B,D){this.Ea=v;this.platform=y;this.Vk=x;this.json=z;this.Ch=A;this.ah=B;this.aWb=D;(0,k.Co)(this,"json");this.la=w.Za("LogblobSender");}function m(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.BKa=void 0;r=a(5163);g=a(22674);k=a(66523);d=a(63368);f=a(5021);n=a(74870);h=a(81918);l=a(91581);p=a(33554);q=a(87386);u=a(40953);a=a(7605);c.prototype.send=function(v){var w;w=this;return new Promise(function(y,x){var z;try{z=v.reduce(function(A,B){A.entries.push(w.pFb(B));return A;},new m());y(w.wMb(z));}catch(A){w.la.error(A.message);x(A);}}).then(function(y){return w.uza(y);});};c.prototype.pFb=function(v){return this.Ch.OH(this.Ch.OH({},v.data),{esn:this.Vk().hk,sev:v.severity,type:v.type,lver:this.platform.Rta,jssid:this.Ea.id,devmod:this.platform.RB,jsoffms:v.timestamp.qa(this.Ea.nz).ea(f.ma),clienttime:v.timestamp.ea(f.ma),client_utc:v.timestamp.ea(f.Qn),uiver:this.ah.hx});};c.prototype.wMb=function(v){var w;w=this;try{return this.json.stringify(v);}catch(z){for(var y={},x=0;x < v.entries.length;(y={sQ:y.sQ,Yu:y.Yu},++x)){y.Yu=Object.assign({},v.entries[x]);try{this.json.stringify(y.Yu);}catch(A){y.sQ=void 0;this.Ch.aC(y.Yu,(function(B){return function(D,C){try{w.json.stringify(C);}catch(E){B.sQ=E.message;B.Yu[D]=B.sQ;}};})(y));y.Yu.stringifyException=y.sQ;y.Yu.originalType=y.Yu.type;y.Yu.type="debug";y.Yu.sev="error";}}return this.json.stringify(v);}};c.prototype.uza=function(v){var w;w=this;return this.aWb.Cf(this.la,{logblobs:v}).then(function(){!1;}).catch(function(y){w.la.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.Kc)),r.__param(1,(0,g.l)(q.$a)),r.__param(2,(0,g.l)(l.gp)),r.__param(3,(0,g.l)(p.xx)),r.__param(4,(0,g.l)(d.rE)),r.__param(5,(0,g.l)(n.Fh)),r.__param(6,(0,g.l)(a.Mx)),r.__param(7,(0,g.l)(u.oNa))],t);b.BKa=t;},82956:function(r,b,a){var m,g;function c(k){switch(k){case m.R.eR:return "http";case m.R.gR:return "connectiontimeout";case m.R.oE:return "readtimeout";case m.R.pIa:return "corruptcontent";case m.R.nE:return "abort";case m.R.hR:case m.R.mfa:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Zqa=b.a4a=b.N3a=void 0;m=a(36129);g=a(22365);b.N3a=c;b.a4a=function(k,d){var f;k={errorcode:k + (d.errorCode || m.V.jp)};d.wa && (k.errorsubcode=d.wa);d.Le && (k.errorextcode=d.Le);d.ZU && (k.erroredgecode=d.ZU);d.Yb && (k.errordetails=d.Yb);d.Wl && (k.httperr=d.Wl);d.v$ && (k.aseneterr=d.v$);d.wG && (k.errordata=d.wG);d.xX && (k.mediaerrormessage=d.xX);f=c(Number(d.wa));f && (k.nwerr=f);d.Ad && (k.playbackcontextid=d.Ad);return k;};b.Zqa=function(){return {screensize:g.pv.width + "x" + g.pv.height,screenavailsize:g.pv.availWidth + "x" + g.pv.availHeight,clientsize:qb.innerWidth + "x" + qb.innerHeight,devicePixelRatio:g.SLa};};},50723:function(r,b,a){var g,k,d,f,n,h,l;function c(p){this.jB=d.Ba;this.jja=[];this.FS=this.k3=!1;p && (this.jB=p.size,this.jja=p.LH);}function m(p,q,u,t){this.FXb=p;this.config=q;this.Ff=u;this.json=t;(0,k.Co)(this,"json");this.la=this.Ff.Za("MessageQueue");this.Kt=[];}Object.defineProperty(b,"__esModule",{value:!0});b.ELa=void 0;r=a(5163);g=a(22674);k=a(66523);d=a(72574);f=a(81829);n=a(87386);h=a(63368);a=a(45118);m.prototype.pka=function(p){var q,u;0 === this.Kt.length && this.Kt.push(this.jqa());if(p=this.IPb(p)){q=this.FXb.measure([p]);u=this.Kt[this.Kt.length - 1];0 < u.size.add(q).Tk(this.config.l9a) && (u=this.jqa(),this.Kt.push(u));u.pka(p);}};m.prototype.VMb=function(){var p;p=this.Kt.filter(function(q){return q.YAb;});this.Kt.push(this.jqa());p.forEach(function(q){return q.KWb();});return p;};m.prototype.Gwb=function(p){p.gz || this.Kt.unshift(new c(p));};m.prototype.t4b=function(p){p=this.Kt.indexOf(p);0 <= p && this.Kt.splice(p,1);};m.prototype.IPb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.la.error("JSON.stringify error: " + t.message,q);}};m.prototype.jqa=function(){return new c();};Ya.Object.defineProperties(m.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Kt.reduce(function(p,q){return p.add(q.size);},d.Ba);}}});l=m;l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.yKa)),r.__param(1,(0,g.l)(a.Hfa)),r.__param(2,(0,g.l)(n.$a)),r.__param(3,(0,g.l)(h.rE))],l);b.ELa=l;c.prototype.KP=function(){this.k3=!1;this.FS=!0;};c.prototype.Ir=function(){this.k3=!1;};c.prototype.pka=function(p){this.jja.push(p);this.jB=this.jB.add(p.size);};c.prototype.KWb=function(){this.k3=!0;};Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.jB;}},LH:{configurable:!0,enumerable:!0,get:function(){return this.jja;}},YAb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.LH.length && !1 === this.k3;}},gz:{configurable:!0,enumerable:!0,get:function(){return this.FS;}}});},29670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XDa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.S8a=void 0;r=a(22674);c=a(37104);m=a(83081);g=a(43185);k=a(23176);d=a(17950);f=a(24273);n=a(44236);h=a(17398);l=a(47930);p=a(60042);q=a(97791);b.S8a=new r.md(function(u){u(g.VKa).to(k.UKa).ia();u(c.Yfa).to(m.WKa).ia();u(d.xOa).xl(function(t){for(var v=[],w=0;w < arguments.length;++w)v[w - 0]=arguments[w];w=a(26159).LE;return new (Function.prototype.bind.apply(w,[null].concat(aa(v))))();});u(f.ZKa).je(function(){return function(t){return new n.$Ka(t);};});u(h.hK).to(l.SKa).ia();u(p.RKa).to(q.QKa).ia();});},43185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VKa="ManifestProviderConfigSymbol";},37104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yfa="ManifestParserFactorySymbol";},24273:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZKa="ManifestVerifyErrorFactorySymbol";},17950:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xOa="PlayerTextTrackFactorySymbol";},77939:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q){l=g.CR.call(this,l) || this;l.config=p;l.j=q;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;m=a(29670);g=a(28518);k=a(45266);d=a(51344);f=a(35128);n=a(36129);h=a(31149);ea(c,g.CR);c.prototype.Zab=function(l,p,q){var u,t;u=this;t=this.config.Bca;p=p.filter(function(v){var w,y;w=v.ju || !v.dg || v.streams && 0 < v.streams.length;w || u.log.warn("Audio track is missing streams",u.Q7(v));y=0 === t.length || 0 <= t.indexOf(v.Bh);y || u.log.warn("Audio track is not supported",u.Q7(v));return w && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(v){return u.Yab(l,v,u.KMb(v,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.n0b=function(l,p,q,u){var t,v,w,y;t=this;v=ja((0,k.$C)(function(x){return x.ju;},p));p=v.next().value;v=v.next().value;v=ja((0,k.$C)(function(x){return x.streams && 0 < x.streams.length;},v));w=v.next().value;v.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.Q7(x));});y=this.config.Bca;v=ja((0,k.$C)(function(x){return 0 === y.length || 0 <= y.indexOf(x.Bh);},w));w=v.next().value;v.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.Q7(x));});p=[].concat(aa(w),aa(p)).map(function(x){return t.Yab(l,x,t.tOb(x.eg,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Zyb=function(l){var p,q;p=this;q=this.config.Bpa;if(q){if(l=ja(l.filter(function(u){return u.Ae == q || u.trackId == q;})).next().value)return l;}else if(this.j.V6 && (l=ja(l.filter(function(u){return u.trackId == p.j.V6;})).next().value))return l;};c.prototype.WKb=function(l,p){this.config.BWa.forEach(function(q){var u,t,v;u=p.It.filter(function(w){return w.profile === q;}).reduce(function(w,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){w.add(x);});return w;},new Set());t=!1;v=l.Ca.It.map(function(w){var y;if(w.profile === q){y=w.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === w.streams.length)return w;t=!0;if(0 === y.length)throw new h.Qc(n.V.GKa,n.R.Zkb);return Object.assign(Object.assign({},w),{streams:y});}return w;});t && (l.Ca=Object.assign(Object.assign({},l.Ca),{It:v}));});return l;};c.prototype.Yab=function(l,p,q){var u,t,v,w;w=p.Bh;l=Object.assign(Object.assign({},l),{type:d.Yj.audio,dJ:p.dJ,variant:p.variant,trackId:p.eg,iH:p.YP,Bh:f.H2[w.toLowerCase()] || f.hp.pK,oD:w,Ae:p.language,displayName:p.EC,dc:null !== (u=p.dc) && void 0 !== u?u:-1,dg:null !== (t=p.dg) && void 0 !== t?t:!0,channels:p.channels,Njc:p.channels,fh:q,Ag:{Bcp47:p.language,TrackId:p.eg},streams:[],isNative:p.isNative,vo:p.ju,LZ:p.LZ});l.streams=this.nib(p.streams,l);this.log.trace("Transformed audio track",l,{StreamCount:l.streams.length,AllowedTimedTextTracks:l.fh.length});l.kCb=m.XDa[null === (v=l.streams[0]) || void 0 === v?void 0:v.wd];return l;};c.prototype.Q7=function(l){return {language:l.EC,bcp47:l.language,type:l.Bh};};c.prototype.KMb=function(l,p){return p.filter(function(q){if(0 <= l.KHb.indexOf(q.iH))return !1;if(l.n_a){if(l.n_a !== q.iH && (q.vo() || q.rn()))return !1;}else if(l.CZb){if(q.vo() || q.rn())return !1;}else if(q.rn())return !1;return !0;});};c.prototype.tOb=function(l,p,q){return p.filter(function(u){return u.Xc.Y === l;}).map(function(u){return u.Xc.Da;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.WDa=c;},82409:function(r,b,a){var m,g;function c(k,d){this.log=k;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;m=a(45266);g=a(64274);c.prototype.$ab=function(k,d){var f,n,h,l;f=this;n=this.config.Zla;h=this.config.Yla;k=ja((0,m.$C)(function(p){return (!n.length || 0 <= n.indexOf(p.id)) && 0 > h.indexOf(p.id);},k || []));l=k.next().value;k.next().value.forEach(function(p){return f.log.warn("Cdn is not allowed",{Id:p.id});});k=l.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,dc:p.dc,type:p.type,s8a:p.key,CTb:p.H8a,location:{id:q.key,dc:q.dc,level:q.level,weight:q.weight}};});k.sort(function(p,q){return p.dc - q.dc;});this.log.trace("Transformed cdns",{Count:k.length});if(!k.length)throw Error("no valid cdns");return k;};c.prototype.ORb=function(k,d,f,n){var h;h=k.filter(function(l){return -1 === f.findIndex(function(p){return p.id === l.id;});}).map(function(l){return {Dab:!0,Ub:l};}).concat(f.map(function(l){return {Dab:!1,Ub:l};})).sort(function(l,p){return l.Ub.dc === p.Ub.dc?l.Dab?-1:1:l.Ub.dc - p.Ub.dc;}).map(function(l,p){(0,g.KN)(l.Ub).dc=p + 1;return l.Ub;});k=d.filter(function(l){return -1 === n.findIndex(function(p){return p.key === l.key;});}).concat(n).map(function(l){var p;p=h.findIndex(function(q){return q.key === l.key;});if(-1 !== p)return (p=h[p],(0,g.KN)(l).dc=p.dc,l);}).filter(function(l){return void 0 !== l;});return {M6b:h,SVb:k};};b.fFa=c;},23176:function(r,b,a){var m,g,k,d,f,n;function c(h,l){h=g.Ve.call(this,h,"ManifestParserConfigImpl") || this;h.Dj=l;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;r=a(5163);m=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(5614);n=a(72574);ea(c,g.Ve);Ya.Object.defineProperties(c.prototype,{Bca:{configurable:!0,enumerable:!0,get:function(){return [];}},Bpa:{configurable:!0,enumerable:!0,get:function(){return "";}},Zla:{configurable:!0,enumerable:!0,get:function(){return [];}},Yla:{configurable:!0,enumerable:!0,get:function(){return [];}},Fpa:{configurable:!0,enumerable:!0,get:function(){return "";}},$ra:{configurable:!0,enumerable:!0,get:function(){return 0;}},QP:{configurable:!0,enumerable:!0,get:function(){return this.Dj.QP.ea(n.Ps);}},Pu:{configurable:!0,enumerable:!0,get:function(){return this.Dj.Pu;}},BWa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.HP,"supportedAudioTrackTypes")],a.prototype,"Bca",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Bpa",null);r.__decorate([d.config(d.BBa,"cdnIdWhiteList")],a.prototype,"Zla",null);r.__decorate([d.config(d.BBa,"cdnIdBlackList")],a.prototype,"Yla",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Fpa",null);r.__decorate([d.config(d.hA,"imageSubsResolution")],a.prototype,"$ra",null);r.__decorate([d.config(d.hA,"timedTextSimpleFallbackThreshold")],a.prototype,"QP",null);r.__decorate([d.config(d.HP,"timedTextProfiles")],a.prototype,"Pu",null);r.__decorate([d.config(d.HP,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"BWa",null);a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Hl)),r.__param(1,(0,m.l)(f.sK))],a);b.UKa=a;},83081:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y){this.Ff=t;this.config=v;this.axa=w;this.tBa=y;}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(43185);d=a(82409);f=a(71420);n=a(85696);h=a(6795);l=a(77939);p=a(44858);q=a(17950);a=a(77601);c.prototype.create=function(t){var v,w;v=this.Ff.Za("ManifestParser",t);w=new d.fFa(v,this.config);return new n.XKa(w,new f.aRa(v,this.config,t,this.axa),new h.vRa(v,t,this.tBa),new l.WDa(v,this.config,t),new p.ZRa(v));};u=c;u=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(k.VKa)),r.__param(2,(0,m.l)(q.xOa)),r.__param(3,(0,m.l)(a.uRa))],u);b.WKa=u;},85696:function(r,b,a){var m;function c(g,k,d,f,n){this.$la=g;this.UAa=k;this.Aac=d;this.TT=f;this.Ujb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;m=a(64274);c.prototype.bbb=function(g){var k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B;f=g.Ca;n={hf:null !== (d=null === (k=f.Sv) || void 0 === k?void 0:k.Lg) && void 0 !== d?d:"",cD:f.Dsa?"ads":"content"};h=!!f.EY;k=this.$la.$ab(f.zk,f.Uh);d=this.UAa.ebb(n,f.qJ);g=this.Aac.v0b(f.Dac);l=h?this.TT.Zab(n,f.It,d):this.TT.n0b(n,f.It,f.media,d);n=this.Ujb.w0b(n,f.Vu);p=n[0];q=this.TT.Zyb(l) || l.find(function(D){return h?D.trackId === f.EY.Hp:D.iH === f.T5[0].Hp;}) || l[0];u=this.UAa.W$b(q.fh) || d.find(function(D){return h?D.trackId === f.EY.RP:D.iH === f.T5[0].dhb;}) || q.fh[0];t=this.Ujb.r0b(f.Vu);v=f.Ad;w=f.aCb;y=f.qC;x=f.Wk;z=f.It.findIndex(function(D){return D.eg == q.trackId;});A=f.Vu.findIndex(function(D){return D.eg == p.trackId;});B=f.qJ.findIndex(function(D){return D.eg == u.trackId;});return {Bu:t,tg:k,ii:l,lx:n,fh:d,gA:g,Ad:v,R6b:w,oH:y,Wk:x,JGb:z,PGb:A,OGb:B,U5:p,BU:q,CU:u};};c.prototype.PRb=function(g,k,d){var f,n,h,l,p,q;f=this;l=this.$la.ORb(g.Ca.zk,g.Ca.Uh,d.Ca.zk,d.Ca.Uh);p=l.M6b;l=l.SVb;(0,m.KN)(g.Ca).zk=p;(0,m.KN)(g.Ca).Uh=l;k.tg=this.$la.$ab(p,l);q={hf:null !== (h=null === (n=d.Ca.Sv) || void 0 === n?void 0:n.Lg) && void 0 !== h?h:"",cD:d.Ca.Dsa?"ads":"content"};d=d.Ca;n=d.It;d.qJ.forEach(function(u){var t;if(u.dg){t=f.Ldb(g.Ca.qJ,k.fh,u,function(v){return f.UAa.ebb(q,[v])[0];});t && k.ii.forEach(function(v){var w;v=v.fh;w=v.findIndex(function(y){return y.trackId === t.trackId;});-1 !== w && (v[w]=t);});}});n.forEach(function(u){u.dg && f.Ldb(g.Ca.It,k.ii,u,function(t){return f.TT.Zab(q,[t],k.fh)[0];});});return {W:g,Dc:k};};c.prototype.W5b=function(g,k){return this.TT.WKb(g,k);};c.prototype.Ldb=function(g,k,d,f){var n,h,l,p;n=g.findIndex(function(q){return q.eg === d.eg;});h=-1 !== n?g[n]:void 0;l=k.findIndex(function(q){return q.trackId === d.eg;});p=-1 !== l?k[l]:void 0;if(h && !h.dg && p && !p.dg)return (f=f(d),g[n]=d,k[l]=f);};b.XKa=c;},44236:function(r,b){function a(c){this.Dc=c;this.Yb=JSON.stringify(this.DOb());}Object.defineProperty(b,"__esModule",{value:!0});b.$Ka=void 0;a.prototype.DOb=function(){var c;c=[];(!this.Dc.tg || 0 >= this.Dc.tg.length) && c.push({error:"No CDN."});this.Dc.BU || c.push({error:"No default audio track.",foundTracks:this.lqa(this.Dc.ii)});this.Dc.U5 || c.push({error:"No default video track.",foundTracks:this.lqa(this.Dc.lx)});this.Dc.CU || c.push({error:"No default subtitle track.",foundTracks:this.lqa(this.Dc.fh)});return c;};a.prototype.lqa=function(c){return c && 0 < c.length?c.map(function(m){return m.trackId;}):"No tracks found.";};b.$Ka=a;},28518:function(r,b,a){var m;function c(g){this.log=g;}Object.defineProperty(b,"__esModule",{value:!0});b.CR=void 0;m=a(6305);c.prototype.nib=function(g,k){var d,f;d=this;if(!g)return (this.log.warn("There are no media streams for " + k.type + " track - " + k.trackId),[]);f=g.map(function(n){var h,l,p,q,u,t,v,w;w=new m.MediaStream(k,k.type,n.$m,n.bitrate,n.ub,n.size,d.DNb(n.urls),n.JB,n.c2a / n.b2a,n.si,n.Hi);w.N7b(n.Zdb,n.Gya,n.sbb,n.rbb);w.$6b(null !== (h=n.ZFb) && void 0 !== h?h:void 0,null !== (l=n.$Fb) && void 0 !== l?l:void 0,null !== (p=n.YFb) && void 0 !== p?p:void 0,null !== (q=n.XFb) && void 0 !== q?q:void 0,null !== (u=n.sbb) && void 0 !== u?u:void 0,null !== (t=n.rbb) && void 0 !== t?t:void 0);k.Wk && (w.Wk=k.Wk);n.pG && (w.pG=null !== (v=n.pG) && void 0 !== v?v:void 0);n.JB && (w.wd=n.JB);return w;});f.sort(function(n,h){return n.bitrate - h.bitrate;});f.forEach(function(n,h){n.lower=f[h - 1];n.ulc=f[h + 1];});return f;};c.prototype.DNb=function(g){return g.reduce(function(k,d){k[d.Eg]=d.url;return k;},{});};b.CR=c;},71420:function(r,b,a){var m,g,k,d;function c(f,n,h,l){this.log=f;this.config=n;this.j=h;this.axa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.aRa=void 0;m=a(75568);g=a(22365);k=a(35128);d=a(14423);c.prototype.ebb=function(f,n){var h;h=this;n=n.map(function(l){var p,q,u,t;u=h.qac(l);l.ju || !l.dg || u && 0 < u.length || h.log.error("track without downloadables",h.AOb(l));t={};0 < u.length && (t=u[0],t.profile == m.Em.kK && (t=h.y6b(u),!1));l=h.axa(h.j,l.eg,l.id,null !== (p=l.dc) && void 0 !== p?p:-1,null !== (q=l.dg) && void 0 !== q?q:!0,f,t.Wb,t.urls || [],l.language,l.EC,k.H2[l.Bh.toLowerCase()] || k.hp.pK,l.dJ,l.variant,l.oD.toUpperCase(),t.profile,h.LOb(t) || ({}),l.ju,l.O8,l.S8,l.eu);h.log.trace("Transformed timed text track",l);return l;});this.log.trace("Transformed timed text tracks",{Count:n.length});return n;};c.prototype.W$b=function(f){var n,h;n=this;h=this.config.Fpa;if(h){if(f=ja(f.filter(function(l){return l.Ae == h || l.trackId == h;})).next().value)return f;}else if(this.j.W6 && (f=ja(f.filter(function(l){return l.trackId == n.j.W6;})).next().value))return f;};c.prototype.qac=function(f){var n,h;n=this;h=f.V_a;f=Object.entries(f.zBa || ({})).map(function(l){var p;p=ja(l);l=p.next().value;p=p.next().value;return {Wb:h[l],profile:l,size:p.size || 0,priority:n.ENb(l,p),offset:p.Oua || 0,Q0b:p.width,qbb:p.height,urls:p.urls};});f.sort(function(l,p){return l.priority - p.priority;});return f;};c.prototype.ENb=function(f,n){var h,l;h=this.config.Pu.indexOf(f);n=n.size;l=this.config.QP;return f === m.Em.tea && 0 < l && n > l?this.config.Pu.length + 1:0 <= h?h:this.config.Pu.length;};c.prototype.LOb=function(f){if(f.profile === m.Em.kK)return {offset:f.offset,length:f.size,vk:{width:f.Q0b,height:f.qbb}};};c.prototype.y6b=function(f){var n,h;n=this.config.$ra || d.Gha.g4a();h=ja(f.filter(function(l){return l.profile === m.Em.kK;}).filter(function(l){return l.qbb === n;})).next().value;if(h)return h;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:g.pv.height,intendedResolution:n});return f[0];};c.prototype.AOb=function(f){return {isNone:f.ju,isForced:f.O8,bcp47:f.language,id:f.eg};};b.aRa=c;},6795:function(r,b){function a(c,m,g){this.log=c;this.j=m;this.tBa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.vRa=void 0;a.prototype.v0b=function(c){var m;m=this;c=(c || []).filter(function(g){return g.urls && 0 < g.urls.length;}).map(function(g){return m.tBa(m.j,g.id,g.height,g.width,g.T0b,g.U0b,g.size,g.eu,{unknown:g.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(g,k){return g.size - k.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.vRa=a;},44858:function(r,b,a){var m,g,k,d;function c(f){return g.CR.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZRa=void 0;m=a(45266);g=a(28518);k=a(51344);d=a(35128);ea(c,g.CR);c.prototype.w0b=function(f,n){var h,l;h=this;n=ja((0,m.$C)(function(p){return p.streams && 0 < p.streams.length;},n));l=n.next().value;n.next().value.forEach(function(p){return h.log.warn("Video track is missing streams",{trackId:p.eg});});n=l.map(function(p){var q;q=p.Bh;q=Object.assign(Object.assign({},f),{type:k.Yj.video,trackId:p.eg,iH:p.YP,Bh:d.H2[q.toLowerCase()] || d.hp.pK,oD:q,streams:[],Ag:{},vY:p.vY});q.streams=h.nib(p.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!n.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:n.length});return n;};c.prototype.r0b=function(f){var n;n=f.map(function(h){return h.vY;}).filter(Boolean);n=[].concat.apply([],aa(n)).map(function(h){return h.ta;});f=f.map(function(h){return h.coa;}).filter(Boolean).map(function(h){return h.ta;});return 0 < n.length?n:f;};b.ZRa=c;},81737:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.W=void 0;r=a(22674);c=a(99070);m=a(49745);b.W=new r.md(function(g){g(m.yE).to(c.TKa).ia();});},60042:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RKa="ManifestEnricherSymbol";},17398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hK="ManifestFactorySymbol";},49745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yE="ManifestFetcherSymbol";},91622:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nEa="BookmarkSymbol";},72516:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lEa="BookmarkConfigSymbol";},81364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kEa="BookmarkConfigParserSymbol";},66393:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.sL=void 0;r=a(22674);c=a(91622);m=a(72516);g=a(81364);k=a(63143);d=a(25293);f=a(12563);b.sL=new r.md(function(n){n(c.nEa).to(k.mEa).ia();n(m.lEa).to(d.iEa).ia();n(g.kEa).to(f.jEa).ia();});},25293:function(r,b,a){var m,g;function c(k){this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.iEa=void 0;r=a(5163);m=a(22674);a=a(4203);c.prototype.oqa=function(){return this.LG().Czb;};c.prototype.pqa=function(){return this.LG().Dzb;};c.prototype.eOb=function(){return this.LG().Ezb;};c.prototype.Wpa=function(){return this.LG().SWa;};c.prototype.LG=function(){return this.config();};g=c;g=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.Zb))],g);b.iEa=g;},12563:function(r,b,a){var m,g,k;function c(d){this.Cb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jEa=void 0;r=a(5163);m=a(22674);g=a(42207);k=a(5021);c.prototype.G9b=function(d,f){var n,h;n=parseFloat(d);h=0;"%" === d[d.length - 1] && this.Cb.ck(n)?h=Math.round(n * f.ea(k.ma) / 100):(d=parseInt(d),this.Cb.IT(d) && (h=d));return (0,k.Ob)(Math.min(h,f.ea(k.ma)));};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$f))],a);b.jEa=a;},63143:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q){this.L4=l;this.Cb=p;this.Bzb=q;this.la=h.Za("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;r=a(5163);m=a(22674);g=a(72516);k=a(81364);d=a(87386);f=a(42207);n=a(5021);c.prototype.uxb=function(h){var l,p;l=h.bb.playbackState && h.bb.playbackState.currentTime;p=this.mNb(h.O);l=this.Cb.hG(l)?(0,n.Ob)(l):p;p=0;this.Cb.wg(l)?(this.la.info("Overriding bookmark",{From:h.jA.ea(n.ma),To:l.ea(n.ma)}),l=Object.assign({},h,{jA:l})):l=h;h.xd.Z && (h=h.xd.yqa(h.jA.ea(n.ma)),l=Object.assign({},l,{jA:(0,n.Ob)(h.Pl),dD:(0,n.Ob)(h.dD)}),p=h.k_a);return l.jA.Rsa()?(this.la.trace("Ignoring bookmark because it's negative"),(0,n.Ob)(p)):this.WRb(l)?(this.la.trace("Ignoring bookmark because it's too close to beginning"),(0,n.Ob)(p)):this.VRb(l)?(this.la.trace("Ignoring bookmark because it's too close to end"),(0,n.Ob)(p)):this.URb(l)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,n.Ob)(p)):l.jA;};c.prototype.WRb=function(h){return 0 > h.jA.Tk(this.oqa(h));};c.prototype.oqa=function(h){return this.TWa(this.L4.oqa(),h.dD);};c.prototype.VRb=function(h){return 0 < h.jA.Tk(this.pqa(h));};c.prototype.pqa=function(h){var l;l=h.bb.yg?this.L4.eOb():this.L4.pqa();return h.dD.qa(this.TWa(l,h.dD));};c.prototype.URb=function(h){return 0 < h.jA.Tk(this.LNb(h));};c.prototype.LNb=function(h){return h.dD.qa((0,n.Ob)(h.ZC));};c.prototype.mNb=function(h){var l;h=this.L4.Wpa()[h];l=-1;this.Cb.Bp(h)?l=parseInt(h):this.Cb.ck(h) && (l=h);if(this.Cb.IT(l))return (0,n.Ob)(l);};c.prototype.TWa=function(h,l){return this.Bzb.G9b(h,l);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(d.$a)),r.__param(1,(0,m.l)(g.lEa)),r.__param(2,(0,m.l)(f.$f)),r.__param(3,(0,m.l)(k.kEa))],a);b.mEa=a;},34029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JEa="CDMAttestedDescriptorProvider";},6498:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.lXa=void 0;r=a(22674);c=a(34029);m=a(28419);b.lXa=new r.md(function(g){g(c.JEa).to(m.IEa).ia();});},28419:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u,t,v,w,y){this.config=q;this.UC=t;this.profile=v;this.Qca=w;this.gU=y;this.log=u.Za("CDMAttestedDescriptor");this.I2a(l.mv.QR);}Object.defineProperty(b,"__esModule",{value:!0});b.IEa=void 0;r=a(5163);m=a(22674);g=a(4203);k=a(87386);d=a(97996);f=a(70865);n=a(71501);h=a(2492);l=a(34231);p=a(24735);c.prototype.I2a=function(q){var u;u=this;return this.Qca.cca(q)?this.config().KIb?this.G2a().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.$7a || (!1,u.$7a=u.gU.$qa(p.Eh.Ln));return u.$7a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.xD.close();return null === t || void 0 === t?void 0:t.ama;}).then(function(t){return Promise.all([Promise.resolve(t),u.G2a()]);}).then(function(t){var v;t=ja(t);v=t.next().value;if(t.next().value)!1;else return v;}):this.UC().then(function(t){t.HX.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.G2a=function(){var q;q=this;return this.UC().then(function(u){return (u=u.HX.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Zb)),r.__param(1,(0,m.l)(k.$a)),r.__param(2,(0,m.l)(d.IR)),r.__param(3,(0,m.l)(n.vK)),r.__param(4,(0,m.l)(f.J2)),r.__param(5,(0,m.l)(h.e0))],a);b.IEa=a;},97791:function(r,b,a){var m,g;function c(k){this.KJb=k;this.P8a={Er:"drmType",xkc:"drmVersion",expiration:"expiration",O:"movieId",yn:"packageId",duration:"duration",Ad:"playbackContextId",T5:["defaultTrackOrderList",{PN:"mediaId",hQ:"videoTrackId",dhb:"subtitleTrackId",Hp:"audioTrackId",qnc:"preferenceOrder"}],Bkc:["eligibleABTestMap",{rj:g.rj}],tjc:["badgingInfo",{skc:"dolbyDigitalAudio",plc:"hdrVideo",tkc:"dolbyVisionVideo",Noc:"ultraHdVideo","3dVideo":"3dVideo",rkc:"dolbyAtmosAudio",jjc:"assistiveAudio",Qnc:"sdVideo",olc:"hdVideo"}],type:"type",ojc:["audioTextShortcuts",{id:"id",Hp:"audioTrackId",Ahb:"textTrackId"}],inc:"partiallyHydrated",r9a:"maxRecommendedAudioRank",s9a:"maxRecommendedTextRank",Wk:"drmContextId",a5a:"hasDrmProfile",cRb:"hasClearProfile",qC:"hasDrmStreams",b8:"hasClearStreams",Uh:["locations",{dc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],zk:["servers",{id:"id",name:"name",type:"type",dc:"rank",H8a:"lowgrade",SHb:["dns",{host:"host",VSb:"ipv4",WSb:"ipv6",QLb:"forceLookup"}],key:"key"}],It:["audio_tracks",{type:"type",dJ:"subType",variant:"variant",Bh:"trackType",eg:"new_track_id",YP:"track_id",O2b:"profileType",p9b:"stereo",profile:"profile",channels:"channels",language:"language",oBb:"channelsFormat",LZ:"surroundFormatLabel",EC:"languageDescription",KHb:"disallowedSubtitleTracks",n_a:"defaultTimedText",isNative:"isNative",ju:"isNoneTrack",streams:["streams",{$m:"downloadable_id",size:"size",JB:"content_profile",Bh:"trackType",bitrate:"bitrate",si:"isDrm",urls:["urls",{Eg:"cdn_id",url:"url",z9:"liveOcaCapabilities"}],MYb:"new_stream_id",type:"type",channels:"channels",oBb:"channelsFormat",LZ:"surroundFormatLabel",language:"language",mjc:"audioKey",pYb:["moov",{size:"size",offset:"offset"}],Ak:["sidx",{size:"size",offset:"offset"}],X8b:["ssix",{size:"size",offset:"offset"}],Hi:"tags",Q4b:"representationId"}],kCb:"codecName",oD:"rawTrackType",id:"id",dc:"rank",dg:"hydrated",CZb:"offTrackDisallowed"}],Vu:["video_tracks",{Bh:"trackType",eg:"new_track_id",type:"type",YP:"track_id",a5a:"hasDrmProfile",cRb:"hasClearProfile",qC:"hasDrmStreams",b8:"hasClearStreams",$G:"groupName",streams:["streams",{$m:"downloadable_id",size:"size",JB:"content_profile",Bh:"trackType",pG:"drmHeaderId",bitrate:"bitrate",si:"isDrm",urls:["urls",{Eg:"cdn_id",url:"url",z9:"liveOcaCapabilities"}],MYb:"new_stream_id",type:"type",knc:"peakBitrate",EHb:"dimensionsCount",FHb:"dimensionsLabel",sbb:"pix_w",rbb:"pix_h",Zdb:"res_w",Gya:"res_h",ZFb:"crop_x",$Fb:"crop_y",YFb:"crop_w",XFb:"crop_h",c2a:"framerate_value",b2a:"framerate_scale",wgb:"startByteOffset",ub:"vmaf",pYb:["moov",{size:"size",offset:"offset"}],Ak:["sidx",{size:"size",offset:"offset"}],X8b:["ssix",{size:"size",offset:"offset"}],JI:["segmentVmaf",{offset:"offset",ub:"vmaf"}],Hi:"tags",Q4b:"representationId"}],O2b:"profileType",p9b:"stereo",profile:"profile",EHb:"dimensionsCount",FHb:"dimensionsLabel",joc:["snippets",{rj:[g.rj,{ioc:"snippetSpec",hb:"startTimeMs",wb:"endTimeMs"}]}],coa:["drmHeader",{ta:"bytes",IBb:"checksum",pG:"drmHeaderId",xo:"keyId",vk:["resolution",{height:"height",width:"width"}]}],vY:["prkDrmHeaders",{ta:"bytes",IBb:"checksum",pG:"drmHeaderId",xo:"keyId",vk:["resolution",{height:"height",width:"width"}]}],Lr:"flavor",Clc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",vbb:"pixelAspectX",wbb:"pixelAspectY",omc:"maxCroppedWidth",nmc:"maxCroppedHeight",pmc:"maxCroppedX",qmc:"maxCroppedY",Bua:"max_framerate_value",Aua:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Gmc:"minCroppedWidth",Fmc:"minCroppedHeight",Hmc:"minCroppedX",Imc:"minCroppedY",cj:["license",{VUb:"licenseResponseBase64",vnc:"providerSessionToken",Unc:"secureStopExpected",wkc:"drmSessionId",links:["links",{}]}]}],Sv:["cdnResponseData",{NI:"sessionABTestCell",Lg:"pbcid"}],Op:["choiceMap",{Oe:"initialSegment",type:"type",J:"viewableId",aa:["segments",{rj:[g.rj,{hb:"startTimeMs",wb:"endTimeMs",next:["next",{rj:[g.rj,{weight:"weight"}]}],wc:"defaultNext",Xk:"exitZones"}]}]}],Vm:["contentPlaygraph",{$:["playgraph",{Oe:"initialSegment",aa:["segments",{rj:[g.rj,{J:"viewableId",hb:"startTimeMs",wb:"endTimeMs",next:["next",{rj:[g.rj,{weight:"weight"}]}],wc:"defaultNext"}]}]}],koc:["startIdent",{Dlc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Xc:["tracks",{Y:"AUDIO",Da:"TEXT",X:"VIDEO"}]}],EY:["recommendedMedia",{hQ:"videoTrackId",Hp:"audioTrackId",RP:"timedTextTrackId"}],qJ:["timedtexttracks",{Bh:"trackType",eg:"new_track_id",type:"type",dJ:"subType",variant:"variant",oD:"rawTrackType",EC:"languageDescription",language:"language",id:"id",ju:"isNoneTrack",O8:"isForcedNarrative",V_a:["downloadableIds",{}],Jjc:["cdnlist",{id:"id",name:"name",type:"type",dc:"rank",H8a:"lowgrade",SHb:["dns",{host:"host",VSb:"ipv4",WSb:"ipv6",QLb:"forceLookup"}],key:"key"}],zBa:["ttDownloadables",{rj:[g.rj,{id:"id",size:"size",yoc:"textKey",nlc:"hashValue",mlc:"hashAlgo",Llc:"isImage",Oua:"midxOffset",O9a:"midxSize",height:"height",width:"width",Zna:["downloadUrls",{}],urls:["urls",{url:"url",Eg:"cdn_id",z9:"liveOcaCapabilities"}]}]}],S8:"isLanguageLeftToRight",eu:"headIdentDuration",dc:"rank",dg:"hydrated"}],Dac:["trickplays",{$m:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",U0b:"pixelsAspectY",T0b:"pixelsAspectX",width:"width",height:"height",eu:"headIdentDuration"}],jkb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],vkc:"dpsid",yg:"isBranching",$oc:"viewableType",Dsa:"isAd",uN:"isSupplemental",aCb:"clientIpAddress",Qoc:"urlExpirationDuration",fmc:"manifestExpirationDuration",moc:["steeringAdditionalInfo",{noc:"steeringId",cjc:"additionalGroupNames",B9b:["streamingClientConfig",{}]}],bc:"auxiliaryManifestToken",Sh:["liveMetadata",{$na:["downloadableIdToSegmentTemplateId",{rj:g.rj}],Nba:["segmentTemplateIdToSegmentTemplate",{rj:[g.rj,{H4:"availabilityStartTime",CSb:"initialization",media:"media",e2b:"presentationTimeOffset",AP:"startNumber",duration:"duration",N:"timescale"}]}],BZb:"ocLiveWindowDurationSeconds",B6:"eventAvailabilityOffsetMs",Ooa:"eventStartTime",C6:"eventEndTime",HHb:"disableLiveUi",maxBitrate:"maxBitrate"}],Vf:"streamingType"};this.wWb=Object.assign(Object.assign({},this.P8a),{Ip:["auxiliaryManifests",this.P8a],Pm:["adverts",{pe:["adBreaks",{$r:"locationMs",oh:"adBreakToken",Ke:["ads",{id:"id",hb:"startTimeMs",wb:"endTimeMs",Jca:["timedAdEvents",{event:"event",Iv:"adEventToken",aBa:"timeMs"}],qB:["actionAdEvents",{start:["start",{event:"event",Iv:"adEventToken"}],complete:["complete",{event:"event",Iv:"adEventToken"}],stop:["stop",{event:"event",Iv:"adEventToken"}]}],hu:"is3pVerificationEnabled",MP:"thirdPartyVerificationToken"}],aka:["actionAdBreakEvents",{complete:["complete",{event:"event",Iv:"adEventToken"}]}],E4:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;r=a(5163);m=a(22674);g=a(90030);c.prototype.nM=function(k){this.KJb.nM(k,this.wWb);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.dHa))],a);b.QKa=a;},47930:function(r,b,a){var m,g,k,d,f;function c(n,h){this.e8a=n;this.vWb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;r=a(5163);m=a(22674);g=a(81025);k=a(60042);d=a(31149);f=a(36129);c.prototype.create=function(n){var h,l,p,q;h=this;if(n && !this.zTb(n)){if(this.GTb(n))throw d.Qc.mdc(f.V.wE,f.R.Nrb,n);q=this.e8a();q.lka(n.links);this.vWb.nM(n);return {Ca:n,wi:q,Nsa:!1,Msa:!1,Ip:null !== (p=null === (l=n.Ip) || void 0 === l?void 0:l.map(function(u){var t;t=h.e8a();t.lka(u.links);return {Ca:u,wi:t,Nsa:!1,Msa:!1,Ip:[]};})) && void 0 !== p?p:[]};}};c.prototype.GTb=function(n){return ("type" in n) && "muxed" === n.type;};c.prototype.zTb=function(n){return ("runtime" in n) && !!n.runtime;};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.kNa)),r.__param(1,(0,m.l)(k.RKa))],a);b.SKa=a;},99070:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u,t,v,w,y,x,z){this.ag=t;this.R8a=w;this.kX=x;this.va=z;this.HY=new Map();this.log=u.Za("ManifestFetcher");this.sg=v.sg;this.jAb=y().bJb;}Object.defineProperty(b,"__esModule",{value:!0});b.TKa=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(30869);d=a(31149);f=a(87386);n=a(5021);h=a(4203);l=a(72639);p=a(18148);a=a(17398);c.prototype.qo=function(u,t,v){var w;w=this;t=void 0 === t?!0:t;v && this.axb(u.J,v);return t && this.a8(u.J)?this.i7(u.J).catch(function(){return w.Sdb(u,t);}):this.Sdb(u,t);};c.prototype.a8=function(u){return this.sg.cW(u,"manifest");};c.prototype.DZ=function(u,t){var v;v=this;this.jAb && this.sg.setData(u,"manifest",t,function(){return v.PQb(u,t?Promise.resolve(t):void 0);});};c.prototype.i7=function(u){var t;t=this;return this.sg.getData(u,"manifest").then(function(v){if(!v)throw Error("Manifest not found");if(v.Ca.expiration <= t.va.se.ea(n.ma))throw (t.sg.clearData(u,"manifest"),Error("Manifest has expired"));return v;});};c.prototype.PQb=function(u,t){var v;null === (v=this.HY.get(u)) || void 0 === v?void 0:v.forEach(function(w){return w(t);});this.HY.delete(u);};c.prototype.axb=function(u,t){this.HY.has(u) || this.HY.set(u,[]);this.HY.get(u).push(t);};c.prototype.Sdb=function(u,t){var v,w,y;v=this;this.log.trace("Requesting a new manifest",u.J);w=this.ag.Lb().ea(n.ma);y=(u.Kf && !u.Kf.oh?this.Mac(u).catch(function(x){v.log.warn(x.message);return v.R8a.Cf(v.log,u);}):this.R8a.Cf(this.log,u)).then(function(x){var z,A;if(x.Hy && (null === (z=u.Kf) || void 0 === z || !z.oh)){A=x.Hy;z={Sba:Promise.resolve(A),source:"manifest"};delete x.Hy;v.sg.setData(u.J,"ldl",z,function(){A.close().catch(function(B){v.log.info("Unable to cleanup LDL session.",B);});});}u.Lr === l.Bl.oK && (x.zI=w,x.ZO=v.ag.Lb().ea(n.ma));return x;}).catch(function(x){t && v.DZ(u.J,void 0);v.log.error("Failed to fetch manifest",d.Qc.Nf(x));throw x;});t && this.DZ(u.J,y);return y;};c.prototype.Mac=function(u){var t;t=this;return new Promise(function(v,w){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);A=null === (y=u.Kf) || void 0 === y?void 0:y.iY;if(!A)return w(Error("Parent manifest does not exist."));B=null === (x=u.Kf) || void 0 === x?void 0:x.bc;y=null === (z=A.Ip) || void 0 === z?void 0:z.find(function(D){return D.O === u.J && (void 0 === B || D.bc === B);});if(!y)return w(Error("Auxiliary manifest not found in parent manifest."));v(t.kX.create(y));});};q=c;q=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(f.$a)),r.__param(1,(0,m.l)(g.Kc)),r.__param(2,(0,m.l)(p.lea)),r.__param(3,(0,m.l)(l.Fga)),r.__param(4,(0,m.l)(h.Zb)),r.__param(5,(0,m.l)(a.hK)),r.__param(6,(0,m.l)(k.hg))],q);b.TKa=q;},16520:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$h=void 0;r=b.$h || (b.$h={});r[r.tgb=1]="sourceopen";r[r.io=2]="currentTimeChanged";r[r.eZ=3]="seeked";r[r.b8a=5]="licenseadded";r[r.rgb=6]="sourceBufferAdded";r[r.aaa=7]="onNeedKey";r[r.$cb=8]="readyStateChanged";},12653:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.m$a=void 0;r=a(22674);c=a(21801);m=a(59586);b.m$a=new r.md(function(g){g(c.fga).to(m.LLa).ia();});},21801:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fga=b.ypb=void 0;b.ypb=function(){};b.fga="MseConfigSymbol";},59586:function(r,b,a){var m,g,k,d,f;function c(n){return g.Ve.call(this,n,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LLa=void 0;r=a(5163);m=a(12501);g=a(64174);k=a(22674);d=a(83767);f=a(5021);ea(c,g.Ve);Ya.Object.defineProperties(c.prototype,{a$a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ob)(5E3);}},Bab:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ob)(1E3);}},Cab:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ob)(1E3);}}});a=c;r.__decorate([m.config(m.sk,"minDecoderBufferMilliseconds")],a.prototype,"a$a",null);r.__decorate([m.config(m.sk,"optimalDecoderBufferMilliseconds")],a.prototype,"Bab",null);r.__decorate([m.config(m.sk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"Cab",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.Hl))],a);b.LLa=a;},7826:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.UC=void 0;r=a(22674);c=a(50681);m=a(63390);g=a(97996);b.UC=new r.md(function(k){k(c.gga).to(m.MLa).ia();k(g.IR).a_(function(d){return function(){return d.nb.get(c.gga).yYb;};});});},97996:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IR="MslProviderSymbol";},50681:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gga="MslReadyNotifierSymbol";},63390:function(r,b,a){var m;function c(){var g;g=this;this.ready=!1;this.yYb=new Promise(function(k){g.p5b=k;});}Object.defineProperty(b,"__esModule",{value:!0});b.MLa=void 0;r=a(5163);a=a(22674);c.prototype.zYb=function(g){this.ready || (this.p5b(g),this.ready=!0);};c.prototype.pw=function(){return this.ready;};m=c;m=r.__decorate([(0,a.U)()],m);b.MLa=m;},30698:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.u$a=void 0;r=a(22674);c=a(76698);m=a(32934);g=a(81438);k=a(59806);d=a(21941);f=a(55823);n=a(27E3);h=a(2571);l=a(17559);b.u$a=new r.md(function(p){p(g.mSa).to(c.lSa).ia();p(m.gv).JD(function(){return qb._cad_global.http;});p(d.$La).to(k.ZLa).ia();p(f.aMa).xl(n.default);p(h.EIa).to(l.DIa).ia();});},2571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EIa="HttpDispatcherSymbol";},32934:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gv=b.KR=b.ResponseType=void 0;b.ResponseType={Text:1,Bic:2,Dlb:3};b.KR="OPEN_CONNECT_APPLIANCE";b.gv="LegacyHttpSymbol";},55823:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aMa="NetworkMonitorSymbol";},48004:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YLa="NetworkMonitorConfigSymbol";},21941:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$La="NetworkMonitorFactorySymbol";},81438:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mSa="XhrFactorySymbol";},17559:function(r,b,a){var m,g,k;function c(d,f){this.Ne=f;this.la=d.Za("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.DIa=void 0;r=a(5163);m=a(22674);g=a(87386);a=a(32934);c.prototype.download=function(d,f){var n;n=this;f=void 0 === f?{u9a:0}:f;return new Promise(function(h,l){var q;function p(u){if(u.pa)return h(u.content);if(q === f.u9a)return l({wa:u.wa,ln:u.Wl});q++;!1;n.Ne.download(d,p);}q=0;n.Ne.download(d,p);});};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(a.gv))],k);b.DIa=k;},40158:function(r,b,a){var m,g,k,d;function c(f,n){return k.Ve.call(this,f,void 0 === n?"NetworkMonitorConfigImpl":n) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;r=a(5163);m=a(22674);g=a(12501);k=a(64174);a=a(83767);ea(c,k.Ve);Ya.Object.defineProperties(c.prototype,{yjb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([g.config(g.od,"useNetworkMonitor")],d.prototype,"yjb",null);d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.Hl)),r.__param(1,(0,m.l)(a.f0)),r.__param(1,(0,m.optional)())],d);b.XLa=d;},59806:function(r,b,a){var m,g,k,d;function c(f,n,h){this.config=f;this.QVb=n;this.Hc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;r=a(5163);m=a(48004);g=a(22674);k=a(48159);a=a(55823);c.prototype.xFb=function(){if(this.config.yjb)return this.Hc(this.QVb());};d=c;d=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(m.YLa)),r.__param(1,(0,g.l)(k.ULa)),r.__param(2,(0,g.l)(a.aMa))],d);b.ZLa=d;},76698:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lSa=void 0;r=a(5163);a=a(22674);c.prototype.create=function(){return new XMLHttpRequest();};m=c;m=r.__decorate([(0,a.U)()],m);b.lSa=m;},10256:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q){this.log=h;this.FV=l;this.uI=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});m=a(36129);g=a(31276);k=a(74870);d=a(84408);f=a(2248);n=a(82100);c.prototype.cj=function(h){var l,p;l=this;(this.context.bj || this.context.hz) && this.log.debug("Requesting a license",h);if(g.za.get(k.Fh).IB(g.za.get(d.Zq).decode("certificate"),h.ek[0].data)){l.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({tn:[{sessionId:h.ek[0].sessionId,data:g.za.get(f.ih).decode(n.I0)}]});}else p=g.za.get(k.Fh).IB(g.za.get(d.Zq).decode("content"),h.ek[0].data)?Promise.resolve({tn:[{sessionId:h.ek[0].sessionId,data:h.xo}]}):(function(){l.log.trace("Requesting license",{drmType:h.Er});return l.FV(h).catch(function(q){l.log.error("Unable to get the Fairplay license",q);throw {code:m.V.mR,Pc:q.Pc,De:q.De,Iy:q.Iy,Tt:q.message || q.Tt,wG:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.Tt),ic:q};});})();return p;};c.prototype.release=function(h){var l;l=this;this.log.trace("Requesting stop data");return this.uI(h).catch(function(p){l.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Pc,extCode:p.De,edgeCode:p.Iy,message:p.message || p.Tt});throw {pa:!1,code:m.V.kPa,Pc:p.Pc,De:p.De,Iy:p.Iy,Tt:p.message || p.Tt,message:"Unable to release the FairPlay license. " + (p.message || p.Tt),ic:p};});};r.exports=c;},99813:function(r,b,a){var w,y,x,z,A,B,D,C,E,G,F,I;function c(P,M,L){var Q;Q=this;this.log=P;this.TH=M || v.bind(this);this.context=L;this.lbb=this.challenge=this.keySystem=this.wUb=this.mediaKeys=void 0;this.yd={};this.Fo=void 0;this.url="";this.d8a=this.Kgb=!1;this.nab=h.bind(this);this.wk=this.lbb=void 0;this.Wcc=new Promise(function(J,H){Q.o5b=J;Q.m4b=H;});this.ls=function(J,H){Q.m4b(J,H);Q.context.onerror(J,H);};this.c_b=function(){Q.o5b();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function m(){return w.za.get(A.Zq);}function g(){return w.za.get(z.ih);}function k(){return w.za.get(y.Fh);}function d(P){return (/com.apple.fps/).test(P) && !(/com.apple.fps.2_0/).test(P);}function f(P){var M;P=(function(L){var J,H;function Q(K,O,R,ca){var oa,ta;oa=new Uint8Array("piff" == O?88:72);ta=new G.TQ(oa);ta.pA(12);ta.oA("frma");ta.oA(K);ta.pA(20);ta.oA("schm");ta.G_(0);ta.G_(0);ta.oA(O);ta.pA(R);"piff" == O?(ta.pA(56),ta.oA("schi"),ta.pA(48),ta.oA("uuid"),ta.F_([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(ta.pA(40),ta.oA("schi"),ta.pA(32),ta.oA("tenc"));ta.G_(0);ta.G_(0);ta.pA(264);ta.F_(ca);return oa;}J=Q("avc1","piff",65537,L);J=m().decode(g().encode(J));L=Q("avc1",F.cv,65536,L);L=m().decode(g().encode(L));H=new Uint8Array(7 + J.length + 8 + L.length + 5);H.set([91,10,32,32,32,32,34],0);H.set(J,7);H.set([34,44,10,32,32,32,32,34],7 + J.length);H.set(L,7 + J.length + 8);H.set([34,10,32,32,93],7 + J.length + 8 + L.length);return H;})(P);M=new Uint8Array(13 + P.length + 2);M.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);M.set(P,13);M.set([10,125],13 + P.length);return M;}function n(P){var M;P=P.subarray(14,30);P=String.fromCharCode.apply(null,P);P=g().decode(P);P=P.subarray(4);M=new Uint8Array(16);M.set(P);return M;}function h(P){var M;M=l(P);this.log.error("LICENSE Error: Received event: " + P.type,{sessionId:this.Fd?this.Fd.sessionId:void 0,keySystem:P.target.keySystem,systemCode:M.shb,code:M.S0a});this.ls && this.ls(I.Mq.KA,M);this.Fd=void 0;}function l(P){var M,L;if(P.target.error)(M=P.target.error.systemCode,L=P.target.error.code);return {code:I.Mq.KA,Pc:I.RQa.BA,De:M?w.za.get(x.vA).CM(M,4):L,details:k().Nf(P),ic:P.target.error,shb:M,S0a:L};}function p(P,M,L,Q){var J,H,K;J=P.target.sessionId;H=P.message;K=k().IB(H,m().decode("certificate"));L.d8a=M === E.Lk.LJa.Ln;L.state=K?2:12;L.log.trace("LICENSE: Received event: " + P.type,{keySystem:P.target.keySystem,sessionId:J});(L.context.bj || L.context.hz || L.context.SD) && L.log.debug("LICENSE: License challenge",g().encode(H));L.wUb=J;P={xo:L.xo,Ef:M,messageType:"license-request",Er:(/clearkey/i).test(L.keySystem)?"clearkey":"fps",ek:[{data:H,sessionId:J}]};12 === L.state && (L.TH("lc"),H={data:H,Er:(/clearkey/i).test(L.keySystem)?"clearkey":"fps"},L.context.xaa || (L.lbb=H));L.context.he.cj(P).then(function(O){if(12 === L.state && (L.TH("lr"),L.c_b(),!L.context.xaa))(L.mbb=O.tn[0].data,L.state=13,Q({pa:!0,state:L.state}));else if(L.Fd)return (O=t(L,K,O.tn[0].data,L.Fd),2 === L.state?O:O.then(function(){L.state=30;Q({pa:!0,state:L.state});}));}).catch(function(O){Q(k().OH(O,{state:L.state}));});}function q(P,M,L){M.log.trace("LICENSE: Received event: " + P.type,{keySystem:P.target.keySystem,sessionId:P.target.sessionId});L({pa:!0});}function u(P,M,L){var Q;Q=l(P);M.ls && M.ls(I.Mq.KA,Q);M.log.error("LICENSE Error: Received event: " + P.type,{sessionId:M.Fd?M.Fd.sessionId:void 0,keySystem:P.target.keySystem,systemCode:Q.shb,code:Q.S0a});L({pa:!1,code:I.Mq.KA,Pc:I.RQa.BA,De:Q.De,message:"Received a key error.",Yb:Q.details,ic:Q.ic});}function t(P,M,L,Q){Q={sessionId:Q.sessionId};P.hTb() && (Q.license=g().encode(L));P.log.trace("calling keysession update",Q);return new Promise(function(J,H){function K(){P.Fd.removeEventListener("webkitkeyadded",K);J(void 0);}try{M || P.Fd.addEventListener("webkitkeyadded",K);P.Fd.update(L);M && J(void 0);}catch(O){H({pa:!1,code:I.Mq.xga,message:"Unable to update the EME.",e:O});}});}function v(P){this.yd[P]=w.za.get(B.Kc).Lb().ea(D.ma);this.log.trace("Milestone: " + P + ", " + this.yd[P]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(31276);b=a(36129);y=a(74870);x=a(6405);z=a(2248);A=a(84408);B=a(81918);D=a(5021);C=a(22365);E=a(63156);G=a(70834);F=a(82100);I={Mq:b.V,RQa:b.R};c.prototype.EV=function(){return this.keySystem;};c.prototype.Cbc=function(P,M){P.log && (this.log=P.log);P.TH && (this.TH=P.TH);M.he && (this.context.he=M.he);M.onerror && (this.context.onerror=M.onerror);};c.prototype.create=function(P){var M;M=this;M.TH("lg");M.log.trace("CREATE: Creating the media keys",{keySystem:P});M.keySystem=P;return M.context.Cxa?Promise.reject({pa:!1,code:I.Mq.D0,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function L(){var Q,J;Q=k().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");J=Q.lastChild;M.wk=Q;M.context.fa=C.Qg.createElement("VIDEO");J?M.wk.insertBefore(M.context.fa,J):M.wk.appendChild(M.context.fa);}return new Promise(function(Q,J){function H(K){(M.context.bj || M.context.hz || M.context.SD) && M.log.trace("CREATE: Received event: " + K.type,{readyState:K.target.readyState,duration:K.target.duration});try{M.mediaKeys=new qb.WebKitMediaKeys(P);M.context.fa.webkitSetMediaKeys(M.mediaKeys);Q({pa:!0,mediaKeys:M.mediaKeys});}catch(O){M.log.error("CREATE: Exception on webkitSetMediaKeys",O);J({pa:!1,code:I.Mq.wga,Yb:k().Nf(O)});}}if(d(M.keySystem))try{M.mediaKeys=new qb.WebKitMediaKeys(P);M.context.fa && (M.log.trace("LICENSE: calling setmediakeys on video element"),M.context.fa.webkitSetMediaKeys(M.mediaKeys));Q({pa:!0,mediaKeys:M.mediaKeys});}catch(K){J({pa:!1,code:I.Mq.wga,Yb:k().Nf(K)});}else (M.mediaKeys=new qb.WebKitMediaKeys(P),M.context.fa?(M.log.trace("LICENSE: calling setmediakeys on video element"),M.context.fa.webkitSetMediaKeys(M.mediaKeys)):(L(),M.Fo=new C.HA(),M.Fo.addEventListener("sourceopen",H),M.url=URL.createObjectURL(M.Fo),M.context.fa.src=M.url),Q({pa:!0,mediaKeys:M.mediaKeys}));});})();};c.prototype.close=function(){this.Fd && (this.log.info("Closing the session",{sessionId:this.Fd.sessionId}),this.Fd.removeEventListener("webkitkeyerror",this.nab),this.Fd.close(),this.Fd=void 0);};c.prototype.cj=function(P,M){var L;if(1 < M.length)return Promise.reject({code:I.Mq.Iqb});if(0 === M.length)return Promise.reject({code:I.Mq.Gqb});M=M[0];L=this;L.context.bj && L.log.trace("LICENSE: Setting license",{initData:g().encode(M)});return L.context.Cxa?Promise.reject({pa:!1,code:I.Mq.ynb,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(Q,J){var K,O,R;function H(ca){L.Fd && (L.Fd.removeEventListener("webkitkeymessage",K),L.Fd.removeEventListener("webkitkeyadded",O),L.Fd.removeEventListener("webkitkeyerror",R),L.Fd.addEventListener("webkitkeyerror",L.nab));ca.pa?Q(ca):(L.close(),J(ca));}K=function(ca){p(ca,P,L,H);};O=function(ca){q(ca,L,H);};R=function(ca){u(ca,L,H);};d(L.keySystem) && (L.xo=n(M),M=f(L.xo));L.log.trace("LICENSE: Executing prefix based EME");L.context.bj | L.context.hz && L.log.debug("LICENSE: PSSH",g().encode(M));L.Fd=L.mediaKeys.createSession("video/mp4",M,null);(L.context.bj || L.context.hz) && L.log.debug("LICENSE: Created the media keys sessions",{keySystem:L.Fd.keySystem,sessionId:L.Fd.sessionId});L.Fd.addEventListener("webkitkeymessage",K);L.Fd.addEventListener("webkitkeyadded",O);L.Fd.addEventListener("webkitkeyerror",R);});})();};c.prototype.VO=function(){var P;P=this;return P.Kgb?Promise.resolve({pa:!0}):new Promise(function(M,L){var J,H,K;function Q(O){P.Fd && (P.Fd.removeEventListener("webkitkeymessage",J),P.Fd.removeEventListener("webkitkeyadded",H),P.Fd.removeEventListener("webkitkeyerror",K));O.pa?M(O):(L(O),P.close());}J=function(O){p(O,E.Lk.LJa.On,P,Q);};H=function(O){q(O,P,Q);M({pa:!0});};K=function(O){u(O,P,Q);};P.d8a=!1;P.Fd.addEventListener("webkitkeymessage",J);P.Fd.addEventListener("webkitkeyadded",H);P.Fd.addEventListener("webkitkeyerror",K);P.Fd.update(m().decode("renew"));});};c.prototype.Nka=function(P){this.mbb || this.log.error("pending license must exist at this point");this.context.xaa=!0;try{P && (this.context.fa=P,this.log.trace("calling setmediakeys on video element"),this.context.fa.webkitSetMediaKeys(this.mediaKeys));}catch(M){return new Promise(function(L,Q){Q({pa:!1,code:I.Mq.a2,message:"setMediaKeys failed",Yb:k().Nf(M)});});}return t(this,!1,this.mbb,this.Fd);};c.prototype.hKb=function(P){var M,L;M=this;M.log.trace("Releasing the license of the current session",JSON.stringify(P));M.Kgb=!0;L={na:P.na,Pe:P.Pe};return new Promise(function(Q,J){(function(){M.context.he.release.call(M.context.he,L).then(function(){var H;M.log.trace("successfully released the license",JSON.stringify(P));H={pa:!0};H.pa?Q(H):(M.close(),J(H));}).catch(function(H){M.log.error("RELEASE: Unable to get the release the license",{sessionId:M.Fd?M.Fd.sessionId:void 0,code:H.code,subCode:H.Pc,extCode:H.De,edgeCode:H.Iy,message:H.Tt});H.pa?Q(H):(M.close(),J(H));});})();});};c.prototype.hTb=function(){return this.context.bj || this.context.hz;};r.exports=c;},31360:function(r,b,a){var c,m,g,k,d,f,n,h,l,p;Object.defineProperty(b,"__esModule",{value:!0});b.ibb=void 0;r=a(22674);c=a(30650);m=a(71976);g=a(7605);k=a(17705);d=a(31071);f=a(91918);n=a(81025);h=a(23632);l=a(15348);p=a(17108);b.ibb=new r.md(function(q){q(g.Mx).to(k.aNa).ia();q(c.cNa).to(m.bNa).ia();q(n.mNa).to(h.lNa);q(n.kNa).je(function(u){return function(){return u.nb.get(n.mNa);};});q(d.INa).to(f.HNa).ia();q(l.Hga).to(p.ENa).ia();});},7605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mx="PboConfigSymbol";},30650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cNa="PboDispatcherSymbol";},81025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mNa="PboLinksManagerSymbol";b.kNa="PboLinksManagerFactorySymbol";},15348:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hga="PboPublisherSymbol";},31071:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.INa="PboRequestFactorySymbol";},49917:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kda="AdEventPboCommandSymbol";b.Jda="AdBreakEventPboCommandSymbol";},18880:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa;Object.defineProperty(b,"__esModule",{value:!0});b.CYa=void 0;r=a(22674);c=a(40953);m=a(30543);g=a(72639);k=a(86563);d=a(81378);f=a(13158);n=a(75014);h=a(39832);l=a(16257);p=a(46303);q=a(829);u=a(45830);t=a(87607);v=a(84860);w=a(35329);y=a(31149);x=a(36129);z=a(25546);A=a(69740);B=a(88951);D=a(83998);C=a(54949);E=a(62898);G=a(15153);F=a(70285);I=a(76427);P=a(36642);M=a(15614);L=a(95738);Q=a(82306);J=a(7605);H=a(67658);K=a(3035);O=a(46320);R=a(595);ca=a(49917);oa=a(49449);b.CYa=new r.md(function(ta){ta(D.El).to(C.$Ma);ta(c.oNa).to(m.nNa);ta(E.VMa).to(G.UMa);ta(F.XMa).to(I.WMa);ta(g.Fga).to(k.pNa);ta(H.qNa).je(function(Fa){return function(){var ua;ua=Fa.nb.get(J.Mx);return ua && ua.Djb?Fa.nb.resolve(O.JNa):Fa.nb.resolve(K.rNa);};});ta(d.TMa).to(f.SMa);ta(n.GNa).to(h.FNa);ta(l.iNa).to(p.hNa);ta(q.Ega).to(u.jNa);ta(t.zQa).to(v.yQa);ta(t.GQa).to(w.FQa);ta(t.FJa).to(z.EJa);ta(t.uQa).to(A.tQa);ta(t.aHa).to(B.$Ga);ta(M.Wqb).to(P.sNa);ta(L.gNa).to(Q.fNa);ta(ca.Kda).to(R.QCa);ta(ca.Jda).to(oa.KCa);ta(t.Tea).je(function(Fa){return function(ua){switch(ua){case t.ap.start:return Fa.nb.get(t.zQa);case t.ap.stop:return Fa.nb.get(t.GQa);case t.ap.MW:return Fa.nb.get(t.FJa);case t.ap.splice:return Fa.nb.get(t.uQa);case t.ap.mM:return Fa.nb.get(t.aHa);}throw new y.Qc(x.V.eqb,void 0,void 0,void 0,void 0,"The event key was invalid - " + ua);};});});},87607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ap={start:"start",stop:"stop",MW:"keepAlive",mM:"engage",splice:"splice"};b.Tea="EventPboCommandFactorySymbol";b.zQa="StartEventPboCommandSymbol";b.GQa="StopEventPboCommandSymbol";b.FJa="KeepAliveEventPboCommandSymbol";b.uQa="SpliceEventPboCommandSymbol";b.aHa="EngageEventPboCommandSymbol";},81378:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TMa="PboAcquireLicenseCommandSymbol";},62898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VMa="PboBindCommandSymbol";},70285:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XMa="PboBindDeviceCommandSymbol";},19114:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dg={Sta:"logblob",W:"manifest",XUb:"licensedmanifest",cj:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.prb={APa:"X-Netflix.Request.Attempt",oha:"X-Netflix.Client.Request.Name",wEa:"x-netflix.browsername",BEa:"x-netflix.browserversion",qMa:"x-netflix.osname",rMa:"x-xetflix.osversion",lFa:"x-netflix.clienttype",CRa:"x-netflix.uiversion"};b.OA={APa:"reqAttempt",oha:"reqName",wEa:"browsername",BEa:"browserversion",qMa:"osname",rMa:"osversion",lFa:"clienttype",CRa:"uiversion"};},83998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.El="PboCommandContextSymbol";},95738:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gNa="PboGenerateScreenshotsCommandSymbol";},16257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iNa="PboLicenseRequestTransformerSymbol";},829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ega="PboLicenseResponseTransformerSymbol";},40953:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oNa="PboLogblobCommandSymbol";},72639:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fga=b.Bl=void 0;r=b.Bl || (b.Bl={});r.oK="PRE_FETCH";r.irb="QC";r.On="STANDARD";r.v2="SUPPLEMENTAL";r.Tec="DOWNLOAD";b.Fga="PboManifestCommandSymbol";},67658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qNa="PboManifestRequestTransformerSymbol";},15614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wqb="PboPingCommandSymbol";},75014:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GNa="PboReleaseLicenseCommandSymbol";},49449:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.xCa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);f=a(83998);a(2762);ea(c,d.jh);c.prototype.Cf=function(n,h){var l,p,q;l=this;p=h.event;q=this.DB(h);!1;!1;return this.send(n,{url:h.href,name:k.Dg.events,Lj:k.Dg.events + "/" + p,Xh:2},q).then(function(){return h;}).catch(function(u){throw l.Yl(u);});};c.prototype.lo=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.DB=function(n){return {xid:n.na,event:n.event,adEventToken:n.Iv,adBreakLocationMs:n.DF,position:n.position,clientTime:n.uy,sessionStartTime:n.om,appId:n.appId,sessionId:n.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(f.El))],a);b.KCa=a;},595:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.xCa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);f=a(83998);a(2762);ea(c,d.jh);c.prototype.Cf=function(n,h){var l,p,q;l=this;p=h.event;q=this.DB(h);!1;!1;return this.send(n,{url:h.href,name:k.Dg.events,Lj:k.Dg.events + "/" + p,Xh:2},q).then(function(){return h;}).catch(function(u){throw l.Yl(u);});};c.prototype.lo=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.DB=function(n){return {xid:n.na,event:n.event,adEventToken:n.Iv,adBreakLocationMs:n.DF,position:n.position,clientTime:n.uy,sessionStartTime:n.om,appId:n.appId,sessionId:n.sessionId,playTimes:this.Fla(n.Lw),mainManifestPlaybackContextId:n.kWb,thirdPartyAdVerificationMetadata:n.G$b};};c.prototype.Fla=function(n){return {total:n.total,audio:n.audio.map(function(h){return {duration:h.duration,downloadableId:h.Wb,cdnId:h.Tm};}),video:n.video.map(function(h){return {duration:h.duration,downloadableId:h.Wb,cdnId:h.Tm};}),text:n.text.map(function(h){return {duration:h.duration,downloadableId:h.Wb,cdnId:h.Tm};})};};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(f.El))],a);b.QCa=a;},88496:function(r,b,a){var m,g,k;function c(d,f,n,h){f=k.jh.call(this,d,f) || this;f.context=d;f.Moa=n;f.Xh=h;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Lq=void 0;r=a(5163);m=a(22674);g=a(19114);k=a(51658);a(2762);ea(c,k.jh);c.prototype.L7=function(d){return "LIVE" === d.Vf?g.Dg.events + "/live/" + this.Moa:g.Dg.events + "/" + this.Moa;};c.prototype.Cf=function(d,f){var n,h;n=this;h=this.DB(f);!1;!1;return this.send(d,{url:f.href,name:g.Dg.events,Lj:this.L7(f),Xh:this.Xh},h).then(function(){return f;}).catch(function(l){throw n.Yl(l);});};c.prototype.lo=function(d,f,n){var h,l,p;h=this;l=this.DB(n);!1;!1;p={url:f.QM("events").href,name:g.Dg.events,Lj:this.L7(n),Xh:this.Xh};return this.send(d,p,l).then(function(q){f.lka(q.result.links);return n;}).catch(function(q){throw h.Yl(q);});};c.prototype.DB=function(d){return {event:this.Moa,xid:d.na,position:d.position || 0,clientTime:d.uy,sessionStartTime:d.om,videoTrackId:d.hQ,audioTrackId:d.Hp,timedTextTrackId:d.RP,mediaId:d.PN,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Fla(d.Lw),sessionParams:d.mm};};c.prototype.Ela=function(d){return {downloadableId:d.Wb,duration:d.duration};};c.prototype.Fla=function(d){var f;f={total:d.total,audio:d.audio.map(this.Ela),video:d.video.map(this.Ela),text:d.text.map(this.Ela)};d.total !== d.tJ && (f.totalContentTime=d.tJ);0 !== d.KD && (f.totalAdDuration=d.KD);0 !== d.LD && (f.totalOtherDuration=d.LD);if(0 !== d.LD || 0 !== d.KD)f.totalCombinedDuration=d.TP;0 !== d.uJ && (f.totalLiveEdgeDuration=d.uJ);0 !== d.vJ && (f.totalStartSlateDuration=d.vJ);return f;};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.Xo)()),r.__param(1,(0,m.Xo)()),r.__param(2,(0,m.Xo)()),r.__param(3,(0,m.Xo)())],a);b.Lq=a;},51658:function(r,b,a){var m,g,k,d,f;function c(n,h){this.context=n;this.errorCode=h;}Object.defineProperty(b,"__esModule",{value:!0});b.jh=void 0;r=a(5163);m=a(22674);g=a(71977);k=a(5021);d=a(31149);f=a(34231);c.prototype.send=function(n,h,l,p,q,u){var t;t=this;u=void 0 === u?f.mv.QR:u;return this.BNb(n,h,l,u,p,q).then(function(v){return t.context.LHb.send(v.context,v.request);});};c.prototype.BNb=function(n,h,l,p,q,u){var t,v;try{t=this.context.U4b.create(this.context.Yy.LB(),h.url,l,q,p);v=this.Yzb(h,n,p,u);return Promise.resolve({context:v,request:t});}catch(w){return Promise.reject(w);}};c.prototype.Yzb=function(n,h,l,p){var q;return {Ne:this.context.Ne,log:h,Um:n.name,url:this.context.Vbc((0,g.iXa)(this.context.Ug,this.context.ah,n.name,l)),Xh:n.Xh,timeout:(0,k.zh)(59),headers:Object.assign(Object.assign({},(0,g.hXa)(this.context.ah,this.context.kG)),null !== (q=n.V4b) && void 0 !== q?q:{}),Lj:n.Lj,xzb:p};};c.prototype.Yl=function(n){return n instanceof d.Qc?n:(0,g.Yl)(this.errorCode,n);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.Xo)()),r.__param(1,(0,m.Xo)())],a);b.jh=a;},88951:function(r,b,a){var m,g,k,d,f;function c(n){return k.Lq.call(this,n,g.V.Fnb,d.ap.mM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);ea(c,k.Lq);c.prototype.DB=function(n){return Object.assign(Object.assign({},k.Lq.prototype.DB.call(this,n)),{action:n.action});};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.$Ga=f;},82306:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.Rnb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fNa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(n,h){var l;l=this;return this.send(n,{url:"/generateScreenshots",name:k.Dg.W,Lj:"generateScreenshots",Xh:2},h).then(function(p){return p.result;}).catch(function(p){throw l.Yl(p);});};c.prototype.lo=function(n,h,l){var p;p=this;h={url:h.QM("generateScreenshots").href,name:k.Dg.W,Lj:"generateScreenshots",Xh:2};return this.send(n,h,l).then(function(q){return q.result;}).catch(function(q){throw p.Yl(q);});};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.fNa=f;},25546:function(r,b,a){var m,g,k,d,f;function c(n){return k.Lq.call(this,n,g.V.Afa,d.ap.MW,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.EJa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);ea(c,k.Lq);f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.EJa=f;},13158:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.mR) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.L7=function(n){var h;h="ldl" === n.Cta?"prefetch/license":"license";"LIVE" === n.Vf && (h+="/live");return h;};c.prototype.lo=function(n,h,l){var p;p=this;h={url:h.QM(l.Cta).href,name:k.Dg.cj,Lj:this.L7(l),Xh:"ldl" === l.Cta?0:3};return this.send(n,h,l.inputs,"drmSessionId").then(function(q){q=q.result;p.vBb(q);return q;}).catch(function(q){throw p.Yl(q);});};c.prototype.vBb=function(n){n.forEach(function(h){if(!h.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.SMa=f;},15153:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.nlb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(n,h,l){var p;p=this;return this.send(n,{url:"/" + k.Dg.bind,name:k.Dg.bind,Lj:k.Dg.bind,Xh:2},h,void 0,l).then(function(q){return q.result;}).catch(function(q){throw p.Yl(q);});};c.prototype.lo=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.UMa=f;},76427:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.olb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.WMa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(n,h,l){var p;p=this;return this.send(n,{url:"/bindDevice",name:k.Dg.bind,Lj:k.Dg.bind,Xh:2},h,void 0,l).then(function(q){return q.result;}).catch(function(q){throw p.Yl(q);});};c.prototype.lo=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.WMa=f;},54949:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u,t,v,w,y,x,z,A){this.Ug=q;this.Ne=u;this.ah=t;this.LHb=v;this.Yy=w;this.Vbc=y;this.U4b=z;this.kG=A;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ma=void 0;r=a(5163);m=a(22674);g=a(24747);k=a(7605);d=a(31071);f=a(30650);n=a(62665);h=a(32934);l=a(77687);p=a(15160);a=a(33554);c=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.S_)),r.__param(1,(0,m.l)(h.gv)),r.__param(2,(0,m.l)(k.Mx)),r.__param(3,(0,m.l)(f.cNa)),r.__param(4,(0,m.l)(n.Cx)),r.__param(5,(0,m.l)(l.FRa)),r.__param(6,(0,m.l)(p.w0)),r.__param(7,(0,m.l)(d.INa)),r.__param(8,(0,m.l)(a.xx))],c);b.$Ma=c;},71977:function(r,b,a){var n,h;function c(l){return !(!l || !l.aD && !l.pboc || !l.code && !l.code);}function m(l){return !(!l || !l.Pc);}function g(l){return !!(l instanceof Error);}function k(l){switch(l){case "ACCOUNT_ON_HOLD":return h.R.Upb;case "STREAM_QUOTA_EXCEEDED":return h.R.cqb;case "INSUFFICICENT_MATURITY":return h.R.iqb;case "TITLE_OUT_OF_WINDOW":return h.R.rqb;case "CHOICE_MAP_ERROR":return h.R.bqb;case "BadRequest":return h.R.mqb;case "Invalid_SemVer_Format":return h.R.jqb;case "RESTRICTED_TO_TESTERS":return h.R.pqb;case "AGE_VERIFICATION_REQUIRED":return h.R.$pb;case "BLACKLISTED_IP":return h.R.aqb;case "DEVICE_EOL_WARNING":return h.R.qga;case "DEVICE_EOL_FINAL":return h.R.yMa;case "INCORRECT_PIN":return h.R.rga;case "MOBILE_ONLY":return h.R.oqb;case "MDX_CONTROLLER_CTICKET_INVALID":return h.R.nqb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return h.R.sqb;case "RESET_DEVICE":return h.R.BMa;case "RELOAD_DEVICE":return h.R.AMa;case "EXIT_DEVICE":return h.R.zMa;case "FREE_PREVIEW_ENDED":return h.R.hqb;case "STREAMING_LOCATION_DISALLOWED":return h.R.qqb;case "EXTRA_MEMBER_STREAM_HOLD":return h.R.gqb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return h.R.fqb;case "ADS_UNAVAILABLE_VIEWABLE":return h.R.Vpb;case "ADS_UNSUPPORTED_DEVICE":return h.R.Ypb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return h.R.Wpb;case "ADS_UNSUPPORTED_COUNTRY":return h.R.Xpb;case "ADS_VPN_USE_DETECTED":return h.R.Zpb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return h.R.lqb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return h.R.kqb;case "CONTENT_PREVIEW_MFA_REQUIRED":return h.R.dqb;default:return h.R.EHa;}}function d(l,p){var q;q=k(p.code);return new n.Qc(l,q,"BadRequest" === p.code?h.D1.Clb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0,p.alert,p.alertTag,p.playbackContextId,p.displayCode);}function f(l,p){return new n.Qc(l,p.Pc,p.De,void 0,p.Dz,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.hXa=b.iXa=b.gMb=b.kMb=b.Yl=b.jMb=b.DW=b.fTb=b.HW=void 0;n=a(31149);h=a(36129);b.HW=c;b.fTb=m;b.DW=g;b.jMb=k;b.Yl=function(l,p){return m(p)?f(l,p):c(p)?d(l,p):g(p)?n.Qc.Kpa(l,p):new n.Qc(l,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.kMb=d;b.gMb=f;b.iXa=function(l,p,q,u,t){var v,w,y,x;t=void 0 === t?"router":t;v=p.Cza[q];if(void 0 === v)throw {aD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=v.version;if(void 0 === w)throw {aD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=v.service;if(void 0 === y)throw {aD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=v.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {aD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return v.isLogsApiDirect?l.I0a + "/" + x + "/" + y + "/" + encodeURIComponent(w):v.isPlayApiDirect?l.jPb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(w):l.ZOb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(w) + "/" + t;};b.hXa=function(l,p){var q;q={"Content-Type":"text/plain"};p=p();l.zVa && p && (q["X-Esn"]=p.hk);return q;};},46303:function(r,b,a){var m,g,k,d,f;function c(n,h,l){this.va=n;this.platform=h;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.hNa=void 0;r=a(5163);m=a(22674);g=a(30869);k=a(5021);d=a(91581);a=a(4203);c.prototype.pac=function(n){var h,l;h=this;l=this.va.se.ea(k.Qn);return {inputs:n.ek.map(function(p){var q,u,t,v,w;return {drmSessionId:p.sessionId,clientTime:l,challengeBase64:p.dataBase64,xid:n.na.toString(),clientVersion:h.platform.version,platform:null === (q=h.config().ud) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=h.config().ud) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (w=null === (v=h.config().ud) || void 0 === v?void 0:v.os) || void 0 === w?void 0:w.name};}),Cta:"standard" === n.Ef.toLowerCase()?"license":"ldl",Vf:n.Vf};};c.prototype.sac=function(n){var h,l;h=this;l=[];return n.Pe.map(function(p){l.push(p.id);return {url:h.$zb(p.zH,p.VW),echo:"drmSessionId",params:{drmSessionId:p.id,xid:n.na.toString()}};});};c.prototype.$zb=function(n,h){return "/releaseLicense?drmLicenseContextId=" + n + (h?"&licenseId=" + h:"");};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.hg)),r.__param(1,(0,m.l)(d.gp)),r.__param(2,(0,m.l)(a.Zb))],f);b.hNa=f;},45830:function(r,b,a){var m,g,k;function c(d,f){this.Ch=d;this.Qv=f;}Object.defineProperty(b,"__esModule",{value:!0});b.jNa=void 0;r=a(5163);m=a(22674);g=a(74870);a=a(2248);c.prototype.mib=function(d){var f,n;f=this;n=d.map(function(h){return h.links.releaseLicense.href;}).map(function(h){return f.Ch.jY(h.substring(h.indexOf("?") + 1));});return {pa:!0,Pe:d.map(function(h,l){return {id:h.drmSessionId,zH:n[l].drmlicensecontextid,VW:n[l].licenseid};}),tn:d.map(function(h){return {data:f.Qv.decode(h.licenseResponseBase64),sessionId:h.drmSessionId};})};};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Fh)),r.__param(1,(0,m.l)(a.ih))],k);b.jNa=k;},30543:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.Vob) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nNa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(n,h){var l;l=this;return this.send(n,{url:"/" + k.Dg.Sta,name:k.Dg.Sta,Lj:k.Dg.Sta,V4b:this.context.ah.Cza.logblob.isLogsApiDirect?{"content-encoding":"msl_v1"}:{},Xh:1},h).then(function(p){return p.result;}).catch(function(p){throw l.Yl(p);});};c.prototype.lo=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.nNa=f;},86563:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x){t=d.jh.call(this,t,g.V.wE) || this;t.platform=v;t.kX=w;t.WUb=y;t.xWb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.pNa=void 0;r=a(5163);m=a(72639);g=a(36129);k=a(19114);a(2762);d=a(51658);f=a(83998);n=a(91581);h=a(34231);l=a(17398);p=a(829);q=a(22674);a=a(67658);ea(c,d.jh);c.prototype.DPb=function(t,v){var w,y,x;y=v?k.Dg.XUb:k.Dg.W;v=v?"licensedManifest":"manifest";x=t.Lr === m.Bl.oK;x && (v="prefetch/" + v);"live" === t.bb.Md && (v+="/live");if(null === (w=t.Kf) || void 0 === w?0:w.oh)v="adBreakHydration";return {Lj:v,sCb:y,Xh:x?0:3};};c.prototype.Cf=function(t,v){var w,y;w=this;y=v.Lr === m.Bl.v2?h.mv.SOa:h.mv.QR;return this.xWb().transform(v,y).then(function(x){var z,A;z=ja(x);x=z.next().value;A=z.next().value;!1;z=w.DPb(v,"licensedManifest" === A.Um);return w.send(t,{url:A.Um,name:z.sCb,Lj:z.Lj,Xh:z.Xh},x,void 0,void 0,y).then(function(B){var D;B=w.kX.create(B.result);D=B.Ca;A.Hy && (D=D.Vu.map(function(C){return C.cj;}).filter(Boolean),0 < D.length?(D=w.WUb.mib(D),A.Hy.lVa(D),B.Hy=A.Hy,B.Nsa=v.Lr === m.Bl.oK,B.Msa=!0):A.Hy.close());B.PT=A.PT;B.v_=A.v_;!1;return B;});}).catch(function(x){!1;throw w.Yl(x);});};c.prototype.lo=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.U)(),r.__param(0,(0,q.l)(f.El)),r.__param(1,(0,q.l)(n.gp)),r.__param(2,(0,q.l)(l.hK)),r.__param(3,(0,q.l)(p.Ega)),r.__param(4,(0,q.l)(a.qNa))],u);b.pNa=u;},3035:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,E,G,F,I){this.ah=x;this.platform=z;this.config=A;this.cBb=B;this.a1b=D;this.Eo=C;this.gU=E;this.va=G;this.X9=F;this.Zm=I;}Object.defineProperty(b,"__esModule",{value:!0});b.rNa=void 0;r=a(5163);m=a(22674);g=a(72639);k=a(4203);d=a(14423);f=a(34029);n=a(67650);h=a(21103);l=a(91581);p=a(30869);q=a(5021);u=a(2492);t=a(7605);v=a(36582);w=a(56800);y=a(24735);c.prototype.transform=function(x,z){var A,B,D,C,E,G,F;A=this;B=x.bb;D=Object.assign({},B.F4,B.mm);C={};E=x.J;G=this.config();C[E]={unletterboxed:!!D.preferUnletterboxed || G.J1b};G=G.Ks?this.Eo.HNb():Promise.resolve(this.X9.Yt());F={Md:null === B || void 0 === B?void 0:B.Md};return Promise.all([this.Zm.C4a(F),this.Zm.E4a(F),this.Zm.OV(),this.Zm.H7(),this.cNb(x.na,z),this.JNb(x),G]).then(function(I){var P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va;P=ja(I);M=P.next().value;L=P.next().value;Q=P.next().value;J=P.next().value;H=P.next().value;I=P.next().value;K=P.next().value;P=M.P7().concat(L.P7()).concat(A.config().Pu).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Va="postplay" === B.Md?!0:!!D.isUIAutoPlay;Q={type:"standard",manifestVersion:A.ah.D0a?"v2":"v1",viewableId:E,profiles:P,flavor:x.Lr,drmType:K,drmVersion:"playready" === K?30:0,usePsshBox:!0,isBranching:!!x.bb.yg,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().k$b,imageSubtitleHeight:d.Gha.g4a(),uiVersion:A.ah.hx,uiPlatform:A.ah.Uca,clientVersion:A.platform.version,platform:null === (O=A.config().ud) || void 0 === O?void 0:O.version,osVersion:null === (ca=null === (R=A.config().ud) || void 0 === R?void 0:R.os) || void 0 === ca?void 0:ca.version,osName:null === (ta=null === (oa=A.config().ud) || void 0 === oa?void 0:oa.os) || void 0 === ta?void 0:ta.name,supportsPreReleasePin:A.config().Up.c$b,supportsWatermark:A.config().Up.d$b,packageId:A.gPb(B),deviceSecurityLevel:J,videoOutputInfo:Q,titleSpecificData:C,preferAssistiveAudio:!!D.assistiveAudioPreferred,preferredTextLocale:D.preferredTextLocale,preferredAudioLocale:D.preferredAudioLocale,isUIAutoPlay:Va,challenge:H,isNonMember:A.ah.T6a,pin:B.pbb,desiredVmaf:A.config().xjb?A.config().z_a:A.config().A_a,desiredSegmentVmaf:A.config().xjb?A.config().z_a:A.config().A_a,requestSegmentVmaf:A.config().a5b,supportsPartialHydration:A.ah.gM,contentPlaygraph:x.bb.yg?[]:A.ah.dG,supportsAdBreakHydration:!0,auxiliaryManifestToken:x.bb.yg?void 0:null === (Fa=x.Kf) || void 0 === Fa?void 0:Fa.bc,adBreakToken:x.bb.yg?void 0:null === (ua=x.Kf) || void 0 === ua?void 0:ua.oh,originalPlaybackContextId:!x.bb.yg && (null === (ya=x.Kf) || void 0 === ya?0:ya.bc)?null === (Ca=x.Kf) || void 0 === Ca?void 0:Ca.cY:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.b1a && (Q.extraParams=B.b1a);B.x_a && (Q.desiredDownloadables=B.x_a);B.Aya && (Q.requestReference=B.Aya);O={Um:Q.adBreakToken?"adBreakHydration":I?"licensedManifest":"manifest",Hy:null === I || void 0 === I?void 0:I.xD,PT:M,v_:L};I && (I={drmSessionId:I.xD.Qy() || "session",clientTime:A.va.MI.ea(q.Qn),challengeBase64:I.ama},Q.challenges={"default":[I]},Q.profileGroups=[{name:"default",profiles:P}],Q.licenseType=x.Ef == y.Eh.Ln?"limited":"standard",x.na && (Q.xid=x.na.toString()));A.ah.gM || (Q.showAllSubDubTracks=A.config().Up.s8b || !!D.showAllSubDubTracks);A.ah.w0a && x.Lr === g.Bl.v2 && (Q.maxSupportedLanguages=2);x.WP && (Q.originalPlaybackContextId=x.WP.cY,Q.requiredAudioTrackId=x.WP.e5b,Q.requiredTextTrackId=x.WP.h5b);return [Q,O];});};c.prototype.gPb=function(x){if(this.config().Waa.enabled){if(void 0 !== x.yn)return x.yn;if(void 0 !== this.config().Waa.yn)return Number(this.config().Waa.yn);}};c.prototype.cNb=function(x,z){var A;A=this;return this.cBb.I2a(z).then(function(B){var D;D=x && A.a1b.lPb(x);D && D.Dp("cad");return B;});};c.prototype.JNb=function(x){var z;if(void 0 === x.Ef || !this.config().Ks)return Promise.resolve(void 0);z=x.Ef === y.Eh.On && this.ah.Wv;return x.Ef === y.Eh.Ln && this.ah.XB || z?this.gU.$qa(x.Ef):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(t.Mx)),r.__param(1,(0,m.l)(l.gp)),r.__param(2,(0,m.l)(k.Zb)),r.__param(3,(0,m.l)(f.JEa)),r.__param(4,(0,m.l)(n.Vga)),r.__param(5,(0,m.l)(h.kv)),r.__param(6,(0,m.l)(u.e0)),r.__param(7,(0,m.l)(p.hg)),r.__param(8,(0,m.l)(v.$fa)),r.__param(9,(0,m.l)(w.hE))],a);b.rNa=a;},36642:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.tqb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sNa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(n,h,l){var p;p=this;return this.send(n,{url:"/" + k.Dg.ping,name:k.Dg.ping,Lj:k.Dg.ping,Xh:1},h,void 0,l).then(function(q){return q.result;}).catch(function(q){throw p.Yl(q);});};c.prototype.lo=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.sNa=f;},39832:function(r,b,a){var m,g,k,d,f;function c(n){return d.jh.call(this,n,g.V.kPa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FNa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(19114);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(n,h){var l;l=this;return this.send(n,{url:"/bundle",name:k.Dg.cj,Lj:"release/license",Xh:3},h).then(function(p){return p.result;}).catch(function(p){throw l.Yl(p);});};c.prototype.lo=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.FNa=f;},46320:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q){this.platform=h;this.config=l;this.gU=p;this.Zm=q;}Object.defineProperty(b,"__esModule",{value:!0});b.JNa=void 0;r=a(5163);m=a(22674);g=a(4203);k=a(91581);d=a(2492);f=a(56800);n=a(24735);c.prototype.transform=function(h){var l,p,q;l=this;p=h.bb;q={Md:void 0};return Promise.all([this.Zm.C4a(q),this.Zm.E4a(q),this.gU.$qa(n.Eh.On)]).then(function(u){var t,v;t=ja(u);u=t.next().value;v=t.next().value;t=t.next().value;return [{viewableId:h.J,packageId:p.yn,assetId:p.Xka,challenge:t.ama,audioProfiles:u.P7(),textProfiles:l.config().Pu,trickplayProfiles:["BIF240","BIF320"],videoProfiles:v.P7(),audioLanguages:p.Lyb,textLanguages:p.D$b,videoLanguages:p.Pjb?[p.Pjb]:void 0,requestReference:p.Aya,additionalAudioAssets:p.lxb,additionalTextAssets:p.pxb,useBetterTextUrls:!0},{Hy:null === t || void 0 === t?void 0:t.xD,Um:"studioManifest",PT:u,v_:v}];});};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.gp)),r.__param(1,(0,m.l)(g.Zb)),r.__param(2,(0,m.l)(d.e0)),r.__param(3,(0,m.l)(f.hE))],a);b.JNa=a;},69740:function(r,b,a){var m,g,k,d,f;function c(n){return k.Lq.call(this,n,g.V.MPa,d.ap.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tQa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);ea(c,k.Lq);f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.tQa=f;},84860:function(r,b,a){var m,g,k,d,f;function c(n){return k.Lq.call(this,n,g.V.Grb,d.ap.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yQa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);ea(c,k.Lq);f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.yQa=f;},35329:function(r,b,a){var m,g,k,d,f;function c(n){return k.Lq.call(this,n,g.V.Hrb,d.ap.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FQa=void 0;r=a(5163);m=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);ea(c,k.Lq);f=c;f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.El))],f);b.FQa=f;},17705:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u){l=g.Ve.call(this,l,"PboConfigImpl") || this;l.config=p;l.Nxb=q;l.Dj=u;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;r=a(5163);m=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(4203);n=a(24747);a=a(5614);ea(c,g.Ve);Ya.Object.defineProperties(c.prototype,{hx:{configurable:!0,enumerable:!0,get:function(){return this.config().Up.hx || "";}},Uca:{configurable:!0,enumerable:!0,get:function(){return this.config().Up.Uca || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Up.kxa;}},T6a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Cza:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isLogsApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Nxb.OWa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.ffb);}},ffb:{configurable:!0,enumerable:!0,get:function(){return {};}},mdb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Sra:{configurable:!0,enumerable:!0,get:function(){return 10;}},zVa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Wv:{configurable:!0,enumerable:!0,get:function(){return this.Dj.Wv;}},XB:{configurable:!0,enumerable:!0,get:function(){return this.Dj.XB;}},DJ:{configurable:!0,enumerable:!0,get:function(){return this.Dj.DJ;}},Djb:{configurable:!0,enumerable:!0,get:function(){return !1;}},w0a:{configurable:!0,enumerable:!0,get:function(){return !0;}},wjb:{configurable:!0,enumerable:!0,get:function(){return [];}},D0a:{configurable:!0,enumerable:!0,get:function(){return !0;}},gM:{configurable:!0,enumerable:!0,get:function(){return this.Dj.gM;}},dG:{configurable:!0,enumerable:!0,get:function(){return this.Dj.dG;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"hx",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"Uca",null);r.__decorate([d.config(d.hA,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.HP,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.od,"hasLimitedPlaybackFunctionality")],h.prototype,"T6a",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"Cza",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"ffb",null);r.__decorate([d.config(d.od,"pboRecordHistory")],h.prototype,"mdb",null);r.__decorate([d.config(d.hA,"pboHistorySize")],h.prototype,"Sra",null);r.__decorate([d.config(d.od,"pboAddXEsnHeader")],h.prototype,"zVa",null);r.__decorate([d.config(d.od,"combineManifestAndLicense")],h.prototype,"Wv",null);r.__decorate([d.config(d.od,"enableLicensedManifestForPrefetch")],h.prototype,"XB",null);r.__decorate([d.config(d.od,"useLdlForPrefetchLicensedManifest")],h.prototype,"DJ",null);r.__decorate([d.config(d.od,"pboUseStudioManifest")],h.prototype,"Djb",null);r.__decorate([d.config(d.od,"pboEnableLeanManifest")],h.prototype,"w0a",null);r.__decorate([d.config(d.od,"useHeaderForRequestNames")],h.prototype,"wjb",null);r.__decorate([d.config(d.od,"pboEnableV2OptimizedManifest")],h.prototype,"D0a",null);r.__decorate([d.config(d.od,"pboEnableManifestPartialHydrationSupport")],h.prototype,"gM",null);r.__decorate([d.config(d.HP,"pboContentPlaygraphTypes")],h.prototype,"dG",null);h=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Hl)),r.__param(1,(0,m.l)(f.Zb)),r.__param(2,(0,m.l)(n.S_)),r.__param(3,(0,m.l)(a.sK))],h);b.aNa=h;},71976:function(r,b,a){var k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B;function c(D){this.config=D;this.vy=[];}function m(D,C,E){this.Ea=D;this.ZP=C;this.context=E;this.startTime=this.Ea.Lb();}function g(D,C,E,G,F,I,P,M,L,Q){this.sib=C;this.json=E;this.Ea=G;this.Wt=F;this.Qxa=I;this.Ac=P;this.config=M;this.Kb=L;this.receiver=Q;this.log=D.Za("Pbo");M.mdb && (this.vy=new c(M));this.ZP=this.sib();}Object.defineProperty(b,"__esModule",{value:!0});b.bNa=void 0;r=a(5163);k=a(22674);d=a(5021);f=a(14543);n=a(87386);h=a(63368);l=a(81918);p=a(34231);q=a(10306);u=a(53085);t=a(71977);v=a(7605);w=a(15160);y=a(85001);x=a(19114);z=a(45385);a=a(15348);A={"shakti-":"akira"};g.prototype.send=function(D,C){var E;E=new m(this.Ea,this.ZP,D);this.vy && this.vy.append(E);return this.uza(D,C,E);};g.prototype.uza=function(D,C,E){var G;G=this;return new Promise(function(F,I){G.retry(D,C).then(function(P){var M,L;G.H6b(P);M=ja(G.tcc(P));L=M.next().value;M=M.next().value;L && (G.receiver.Lxa({command:D.Um,inputs:C,outputs:L}),G.iCb(E),F(P));M && (G.receiver.Lxa({command:D.Um,inputs:C,outputs:M}),G.tYa(E,M),I(M));}).catch(function(P){var M;G.receiver.Lxa({command:D.Um,inputs:C,outputs:P});M=G.tYa(E,P);P.Yb && (P.Yb=[P.Yb," ",M].join(""));I(P);});});};g.prototype.H6b=function(D){(D=D.serverTime) && this.Kb.Fc(y.vfa.efb,(0,d.Ob)(D));};g.prototype.tcc=function(D){var C;!1;C=D.result;if(("deviceCommand" in D)){D=D.deviceCommand;this.log.trace("Received device command '" + D + "'");switch(D){case "reset":C="RESET_DEVICE";break;case "reload":C="RELOAD_DEVICE";break;case "exit":C="EXIT_DEVICE";break;default:(C="FAIL",this.log.error("Unhandled device command '" + D + "'"));}return [,{aD:!0,code:C,detail:{message:"Server sent device action to '" + D + "' device"}}];}if(C)return (!1,[C,void 0]);if(D.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",D),[,{code:D.code,detail:{message:D.message}}]);this.log.error("Response did not contain a result or an error",D);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};g.prototype.Fyb=function(D,C,E){var G;G=this;this.Pbc(C,D);this.ZP=this.sib(E);return this.ZP.send(C,E).then(function(F){return {retry:!1,result:z.b2.s0b(G.json,F.body)};}).catch(function(F){var I,P;I=z.b2.FOb(F);P=void 0 !== I?Math.min(I,C.Xh):C.Xh;return G.bca(C,F,D,P)?(I=G.IAb(F,D,P),G.log.warn("Method failed, retrying",Object.assign({Method:C.Um,Attempt:D + 1,WaitTime:I,MaxRetries:P},G.Bna(F))),Promise.resolve({retry:!0,delay:I,error:F})):Promise.resolve({retry:!1,error:F});});};g.prototype.BMb=function(D){var C,E;if(!this.Zja || this.Zja.N_b !== D){C="";E=D;Object.entries(A).find(function(G){var F;F=ja(G);G=F.next().value;F=F.next().value;if(0 === D.indexOf(G))return (C=F,D=D.slice(G.length),!0);});this.Zja={pYa:C,hx:D,N_b:E};}return this.Zja;};g.prototype.Pbc=function(D,C){var E,G,F,I;I=D.url.searchParams;I.set(x.OA.APa,(C + 1).toString());this.config.wjb.includes(D.Lj)?D.headers[x.prb.oha]=D.Lj:I.set(x.OA.oha,D.Lj);D=this.BMb(null !== (E=this.config.hx) && void 0 !== E?E:"");D.pYa && (I.set(x.OA.lFa,D.pYa),D.hx && I.set(x.OA.CRa,encodeURIComponent(D.hx)),E=this.Wt.ud,(null === E || void 0 === E?0:E.name) && I.set(x.OA.wEa,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && I.set(x.OA.BEa,encodeURIComponent(E.version)),(null === (G=null === E || void 0 === E?void 0:E.os) || void 0 === G?0:G.name) && I.set(x.OA.qMa,encodeURIComponent(E.os.name)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.version) && I.set(x.OA.rMa,encodeURIComponent(E.os.version)));};g.prototype.retry=function(D,C,E){var G;G=this;E=void 0 === E?0:E;return this.Fyb(E++,D,C).then(function(F){if(F.retry)return G.wait(F.delay).then(function(){return G.retry(D,C,E);});if(F.error)throw F.error;if(void 0 === F.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return F.result;});};g.prototype.bca=function(D,C,E,G){var F;F=z.b2.QTb(C);if(F && E < G)return !0;F?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:D.Um,Attempt:E + 1,MaxRetries:G},this.Bna(C))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:D.Um},this.Bna(C)));return !1;};g.prototype.IAb=function(D,C,E){if(D && D.tD && void 0 !== D.tD.retryAfterSeconds)return (0,d.zh)(D.tD.retryAfterSeconds);D=1E3 * (0 === C?1:C);C=1E3 * Math.pow(2,Math.min(C,E));return (0,d.Ob)(this.Qxa.Ncb(D,C));};g.prototype.wait=function(D){var C;C=this;return new Promise(function(E){C.Ac.xk(D || d.Ba,E);});};g.prototype.Bna=function(D){return (0,t.HW)(D)?D:{message:D.message,subCode:D.Pc,extCode:D.De,mslCode:D.Dz,data:D.data};};g.prototype.iCb=function(D){D.KP();};g.prototype.tYa=function(D,C){var E;D.Ir(C);if(this.vy)try{E=this.json.stringify(this.vy);this.log.error("PBO command history",E);return E;}catch(G){}return "";};B=g;B=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.$a)),r.__param(1,(0,k.l)(f.tRa)),r.__param(2,(0,k.l)(h.rE)),r.__param(3,(0,k.l)(l.Kc)),r.__param(4,(0,k.l)(p.Kn)),r.__param(5,(0,k.l)(q.p2)),r.__param(6,(0,k.l)(u.bi)),r.__param(7,(0,k.l)(v.Mx)),r.__param(8,(0,k.l)(w.Yea)),r.__param(9,(0,k.l)(a.Hga))],B);b.bNa=B;m.prototype.KP=function(){this.pa=!0;this.elapsedTime=this.Ea.Lb().qa(this.startTime);};m.prototype.Ir=function(D){this.pa=!1;this.elapsedTime=this.Ea.Lb().qa(this.startTime);this.M9b=D.Pc || D.subCode;this.rKb=D.De || D.extCode;};m.prototype.toString=function(){return JSON.stringify(this);};m.prototype.toJSON=function(){var D;D=Object.assign({success:this.pa,method:this.context.Um,startTime:this.startTime.ea(d.ma),elapsedTime:this.elapsedTime?this.elapsedTime.ea(d.ma):"in progress"},this.ZP.Tma());return this.pa?D:Object.assign(Object.assign(Object.assign({},D),this.ZP.Tma()),{subcode:this.M9b,extcode:this.rKb});};c.prototype.append=function(D){this.vy.push(D);0 < this.config.Sra && this.vy.length > this.config.Sra && this.vy.shift();};c.prototype.toJSON=function(){return this.vy;};},45385:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.b2=void 0;m=a(36129);c.QTb=function(g){var k,d;k=g && g.code;d=g && (g.wa || g.Pc);g=g.De !== m.D1.RMa;d=!!d && d >= m.R.hR && d <= m.R.fR && g;return !("RETRY" !== k && "FAIL" !== k) || d;};c.FOb=function(g){var k,d;d=null === (k=null === g || void 0 === g?void 0:g.tD) || void 0 === k?void 0:k.maxRetries;return "number" === typeof d?d:"FAIL" === (null === g || void 0 === g?void 0:g.code)?1:void 0;};c.s0b=function(g,k){var d;if(k){try{d=g.parse(k);}catch(f){throw {aD:!0,code:"FAIL",message:"Unable to parse the response body",data:k};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (g=d.result.find(function(f){return f.error;})))throw g.error;return d;}throw {aD:!0,code:"FAIL",message:"There is no result property on the response"};}throw {aD:!0,code:"FAIL",message:"There is no body property on the response"};};b.b2=c;},23632:function(r,b,a){var m,g,k;function c(d,f){this.kG=f;this.log=d.Za("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.lNa=void 0;r=a(5163);m=a(22674);g=a(87386);a=a(33554);c.prototype.lka=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.QM=function(d){!1;return this.links[d];};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(a.xx))],k);b.lNa=k;},17108:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ENa=void 0;r=a(5163);a=a(22674);c.prototype.p7b=function(g){this.listener=g;};c.prototype.Lxa=function(g){var k;null === (k=this.listener) || void 0 === k?void 0:k.call(this,g);};m=c;m=r.__decorate([(0,a.U)()],m);b.ENa=m;},91918:function(r,b,a){var g,k;function c(d,f,n,h,l,p,q){this.version=d;this.url=f;this.id=n;this.languages=h;this.sb=l;this.pIb=p;this.wYb=q;}function m(d){this.ah=d;}Object.defineProperty(b,"__esModule",{value:!0});b.HNa=void 0;r=a(5163);g=a(22674);a=a(7605);m.prototype.create=function(d,f,n,h,l){return new c(this.ah.version,f,d,this.ah.languages,n,h,l);};k=m;k=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.Mx))],k);b.HNa=k;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.sb,echo:this.pIb};};},5652:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(22674);c=a(70865);m=a(14543);g=a(60204);k=a(89146);d=a(74429);f=a(34231);b.transports=new r.md(function(n){n(c.J2).to(d.sRa).ia();n(m.OLa).to(g.NLa);n(m.wQa).to(k.vQa);n(m.tRa).je(function(h){return function(l){var p;return h.nb.get(c.J2).cca(null !== (p=null === l || void 0 === l?void 0:l.wYb) && void 0 !== p?p:f.mv.QR)?h.nb.get(m.OLa):h.nb.get(m.wQa);};});});},14543:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tRa="TransportFactorySymbol";b.OLa="MslTransportSymbol";b.wQa="SslTransportSymbol";},70865:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.J2="TransportConfigSymbol";},60204:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p){var q;q=this;this.UC=l;this.profile=p;this.log=h.Za("MslTransport");this.UC().then(function(u){return q.s$=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(97996);d=a(5021);a=a(71501);f={license:!0};c.prototype.send=function(h,l){var p,q;p=this;q={$ua:Object.assign({Ne:h.Ne,log:h.log,profile:this.profile},h.xzb),method:h.Um,url:h.url.href,body:JSON.stringify(l),timeout:h.timeout.ea(d.ma),Fjb:this.profile,J4b:!f[h.Um],K$a:!!f[h.Um],sG:!0,sD:h.Xh,headers:h.headers};!1;return this.UC().then(function(u){return u.send(q).catch(function(t){var v;if(!t.error)throw (t.Pc=t.wa || t.Pc,t);v=t.error;v.tD=t.tD;p.log.error("Error sending MSL request",{mslCode:v.Dz,subCode:v.Pc,data:v.data,message:v.message});throw v;});});};c.prototype.Tma=function(){var h;return {userTokens:null === (h=this.s$) || void 0 === h?void 0:h.HX.getUserIdTokenKeys()};};n=c;n=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(k.IR)),r.__param(2,(0,m.l)(a.vK))],n);b.NLa=n;},89146:function(r,b,a){var m,g,k,d;function c(f,n){this.Ne=n;this.log=f.Za("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.vQa=void 0;r=a(5163);m=a(22674);g=a(5021);k=a(87386);a=a(32934);c.prototype.send=function(f,n){var h,l;h=this;l={url:f.url.href,SB:"nq-" + f.Um,Sbb:JSON.stringify(n),t5:f.timeout.ea(g.ma),headers:f.headers,withCredentials:!0,Ds:"pbo"};!1;return new Promise(function(p,q){h.Ne.download(l,function(u){u.pa?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.Pc=p.wa || p.Pc,p);q=p.error;q.tD=p.tD;h.log.error("Error sending SSL request",{subCode:q.Pc,data:q.content,message:q.message});throw q;});};c.prototype.Tma=function(){return {};};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(a.gv))],d);b.vQa=d;},74429:function(r,b,a){var m,g,k,d,f;function c(n){return g.Ve.call(this,n,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sRa=void 0;r=a(5163);m=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(34231);ea(c,g.Ve);c.prototype.cca=function(n){var h,l;h=this.dQ;l=this.KVa;switch(n){case f.mv.QR:return h;case f.mv.SOa:return h && !l;case f.mv.Mpb:return !1;}};Ya.Object.defineProperties(c.prototype,{dQ:{configurable:!0,enumerable:!0,get:function(){return !0;}},KVa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.od,"usesMsl")],a.prototype,"dQ",null);r.__decorate([d.config(d.od,"allowRequestsWithoutMsl")],a.prototype,"KVa",null);a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Hl))],a);b.sRa=a;},21892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lga="PlatformEmeSymbol";},75236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.L2="UserAgentDataPlatformVersionProviderSymbol";},92623:function(r,b,a){var f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D;function c(C,E,G){this.Sm=C;this.groups=E;this.fB=G;C=w(C,E,G);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function m(){}function g(){}function k(){return v?v:"0.0.0.0";}function d(C){C({fnc:0,uoc:0,qlc:0,Nkc:0});}f=a(90745);m.prototype.set=function(C,E){l[C]=E;p.save(C,E);};m.prototype.get=function(C,E){if(l.hasOwnProperty(C))return l[C];t.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(C,function(G){G.pa?(l[C]=G.data,E && E(G.data)):l[C]=void 0;});};m.prototype.remove=function(C){p.remove(C);};m.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};g.prototype.now=function(){return q();};g.prototype.sa=function(){return u();};g.prototype.p$=function(C){return C + q() - u();};g.prototype.O$=function(C){return C + u() - q();};c.prototype.EZa=function(C){var E;E=[];this.fB && Array.isArray(this.fB)?E.push.apply(E,aa(this.fB)):this.fB && E.push(this.fB);E.push(C);return new c(this.Sm,this.groups,E);};Ya.Object.defineProperties(c.prototype,{prefix:{configurable:!0,enumerable:!0,get:function(){return Array.isArray(this.fB)?this.fB.join(" "):this.fB;}}});y=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();r.exports=function(C){n=C.yaa;w=C.Zi;p=C.storage;l=C.yH;q=C.YOb;u=C.getTime;t=C.hyb;x=C.ep;D=C.pj;z=C.VQ;A=C.SourceBuffer;B=C.MediaSource;v=C.Jlc;h=C.Nt;return {name:"cadmium",Nt:h,yaa:n,storage:new m(),Storage:m,time:new g(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,ep:x,VQ:z,vgc:A,MediaSource:B,pj:D,ll:{name:k},memory:{clc:d},TM:C.TM,M5:C.M5,Dna:C.Dna,ping:function(E){fetch(E).catch(function(){});}};};},87141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.zz,minHCInitVideoBitrate:a.YXb,maxInitVideoBitrate:a.NC,minInitAudioBitrate:a.yz,maxInitAudioBitrate:a.yw,minHCInitAudioBitrate:a.XXb,minAcceptableVideoBitrate:a.h$,minRequiredBuffer:a.Az,minPrebufSize:a.kq,minCheckBufferingCompleteInterval:a.Sua,rebufferingFactor:a.Yxa,useMaxPrebufSize:a.ZBa,maxPrebufSize:a.OC,maxRebufSize:a.yua,maxBufferingTime:a.gs,minAudioMediaRequestSizeBytes:a.Rua,minVideoMediaRequestSizeBytes:a.Vua,initialBitrateSelectionCurve:a.x8,initSelectionLowerBound:a.e6a,initSelectionUpperBound:a.f6a,throughputPercentForAudio:a.TZ,bandwidthMargin:a.lla,bandwidthMarginContinuous:a.mla,bandwidthMarginCurve:a.nla,conservBandwidthMargin:a.Pma,switchConfigBasedOnInSessionTput:a.PAa,conservBandwidthMarginTputThreshold:a.Rma,conservBandwidthMarginCurve:a.Qma,switchAlgoBasedOnHistIQR:a.qhb,switchConfigBasedOnThroughputHistory:a.QAa,maxPlayerStateToSwitchConfig:a.q9a,lowEndMarkingCriteria:a.D8a,IQRThreshold:a.iJa,histIQRCalcToUse:a.z5a,maxTotalBufferLevelPerSession:a.sX,highWatermarkLevel:a.u5a,toStableThreshold:a.Yhb,toUnstableThreshold:a.Nca,skipBitrateInUpswitch:a.jAa,watermarkLevelForSkipStart:a.pCa,highStreamRetentionWindow:a.Mra,lowStreamTransitionWindow:a.Yta,highStreamRetentionWindowUp:a.Ora,lowStreamTransitionWindowUp:a.$ta,highStreamRetentionWindowDown:a.Nra,lowStreamTransitionWindowDown:a.Zta,highStreamInfeasibleBitrateFactor:a.Lra,lowestBufForUpswitch:a.pz,lockPeriodAfterDownswitch:a.bX,lowWatermarkLevel:a.bua,lowestWaterMarkLevel:a.qz,lowestWaterMarkLevelBufferRelaxed:a.cua,mediaRate:a.Z9,maxTrailingBufferLen:a.JH,audioBufferTargetAvailableSize:a.$ka,videoBufferTargetAvailableSize:a.fCa,maxVideoTrailingBufferSize:a.y9a,maxAudioTrailingBufferSize:a.c9a,fastUpswitchFactor:a.H6,fastDownswitchFactor:a.cpa,maxMediaBufferAllowed:a.HH,simulatePartialBlocks:a.hgb,simulateBufferFull:a.ggb,considerConnectTime:a.Sma,connectTimeMultiplier:a.Oma,lowGradeModeEnterThreshold:a.fWb,lowGradeModeExitThreshold:a.gWb,maxDomainFailureWaitDuration:a.f9a,maxAttemptsOnFailure:a.M9,enableMaxAttemptsOnFailure:a.soa,exhaustAllLocationsForFailure:a.X0a,maxNetworkErrorsDuringBuffering:a.m9a,maxBufferingTimeAllowedWithNetworkError:a.N9,fastDomainSelectionBwThreshold:a.k1a,throughputProbingEnterThreshold:a.Hhb,throughputProbingExitThreshold:a.Ihb,locationProbingTimeout:a.t8a,finalLocationSelectionBwThreshold:a.s1a,throughputHighConfidenceLevel:a.Fhb,throughputLowConfidenceLevel:a.Ghb,locationStatisticsUpdateInterval:a.Kta,enablePerfBasedLocationSwitch:a.A0a,probeServerWhenError:a.pI,probeRequestTimeoutMilliseconds:a.vxa,allowSwitchback:a.GT,probeDetailDenominator:a.jcb,maxDelayToReportFailure:a.O9,countGapInBuffer:a.eDb,bufferThresholdForAbort:a.Qzb,allowCallToStreamSelector:a.Cxb,pipelineScheduleTimeoutMs:a.P0b,maxPartialBuffersAtBufferingStart:a.NN,maxActiveRequestsSABCell100:a.a9a,maxStreamingSkew:a.hXb,maxPendingBufferPercentage:a.aXb,headerRequestSize:a.l8,estimateHeaderSize:a.Hoa,minBufferLenForHeaderDownloading:a.CX,numExtraFragmentsAllowed:a.pZb,pipelineEnabled:a.zn,maxParallelConnections:a.wua,socketReceiveBufferSize:a.pgb,audioSocketReceiveBufferSize:a.B4,videoSocketReceiveBufferSize:a.mda,headersSocketReceiveBufferSize:a.Jra,updatePtsIntervalMs:a.Dbc,bufferTraceDenominator:a.Tzb,bufferLevelNotifyIntervalMs:a.$Wa,aseReportDenominator:a.MT,aseReportIntervalMs:a.Vka,enableAbortTesting:a.FIb,abortRequestFrequency:a.hwb,streamingStatusIntervalMs:a.C9b,prebufferTimeLimit:a.rY,minBufferLevelForTrackSwitch:a.Q9a,penaltyFactorForLongConnectTime:a.Fwa,longConnectTimeThreshold:a.Vta,additionalBufferingLongConnectTime:a.wka,additionalBufferingPerFailure:a.xka,rebufferCheckDuration:a.CY,enableLookaheadHints:a.aJb,lookaheadFragments:a.dWb,enableOCSideChannel:a.iM,OCSCBufferQuantizationConfig:a.V1,updateDrmRequestOnNetworkFailure:a.Vib,deferAseScheduling:a.aHb,defaultHeaderCacheSize:a.Ina,defaultHeaderCacheDataPrefetchMs:a.Hna,neverWipeHeaderCache:a.v$a,networkFailureResetWaitMs:a.dva,networkFailureAbandonMs:a.cva,maxThrottledNetworkFailures:a.S9,throttledNetworkFailureThresholdMs:a.Fca,lowThroughputThreshold:a.aua,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Roa,mp4ParsingInNative:a.tYb,sourceBufferInOrderAppend:a.R8b,requireAudioStreamToEncompassVideo:a.$O,allowAudioToStreamPastVideo:a.Bxb,enableManagerDebugTraces:a.x0a,managerDebugMessageInterval:a.O8a,managerDebugMessageCount:a.N8a,bufferThresholdToSwitchToSingleConnMs:a.Szb,bufferThresholdToSwitchToParallelConnMs:a.Rzb,netIntrStoreWindow:a.CYb,minNetIntrDuration:a.$Xb,fastHistoricBandwidthExpirationTime:a.BKb,bandwidthExpirationTime:a.jzb,failureExpirationTime:a.AKb,historyTimeOfDayGranularity:a.yRb,expandDownloadTime:a.gKb,minimumMeasurementTime:a.iYb,minimumMeasurementBytes:a.hYb,throughputMeasurementTimeout:a.L$b,initThroughputMeasureDataSize:a.ySb,throughputMeasureWindow:a.K$b,throughputIQRMeasureWindow:a.J$b,IQRBucketizerWindow:a.Nob,connectTimeHalflife:a.HCb,responseTimeHalflife:a.t5b,historicBandwidthUpdateInterval:a.xRb,throughputWarmupTime:a.P$b,minimumBufferToStopProbing:a.gYb,throughputPredictor:a.M$b,ase_stream_selector:a.lyb,liveStreamSelectorAlgorithm:a.C9,jointStreamSelectorEnabled:a.e9,enableFilters:a.SIb,filterDefinitionOverrides:a.SKb,defaultFilter:a.LGb,secondaryFilter:a.k6b,defaultFilterDefinitions:a.l_a,bufferingSelectorAlgorithm:a.Ala,ase_ls_failure_simulation:a.rGb,ase_dump_fragments:a.zna,ase_location_history:a.Ana,ase_throughput:a.c_a,ase_simulate_verbose:a.sGb,secondThroughputEstimator:a.jza,secondThroughputMeasureWindowInMs:a.Jeb,marginPredictor:a.oua,networkMeasurementGranularity:a.eva,HistoricalTDigestConfig:a.AIa,maxIQRSamples:a.k9a,minIQRSamples:a.T9a,periodicHistoryPersistMs:a.uaa,saveBitrateMs:a.Dba,needMinimumNetworkConfidence:a.bva,biasTowardHistoricalThroughput:a.qla,maxFastPlayBufferInMs:a.uua,maxFastPlayBitThreshold:a.h9a,minAudioMediaRequestDuration:a.Aw,minVideoMediaRequestDuration:a.Bz,minAudioMediaRequestDurationCache:a.Aw,minVideoMediaRequestDurationCache:a.Bz,addHeaderDataToNetworkMonitor:a.kka,hindsightDenominator:a.x5a,hindsightDebugDenominator:a.w5a,hindsightParam:a.y5a,minimumTimeBeforeBranchDecision:a.m$,minimumTimeBeforeDelayedSeekToQueuedSegment:a.b$a,enableSessionHistoryReport:a.B0a,earlyStageEstimatePeriod:a.a0a,lateStageEstimatePeriod:a.W7a,maxNumSessionHistoryStored:a.n9a,minSessionHistoryDuration:a.X9a,appendMediaRequestOnComplete:a.WVa,waitForDrmToAppendMedia:a.lCa,forceAppendHeadersAfterDrm:a.Apa,startMonitorOnLoadStart:a.qAa,reportFailedRequestsToNetworkMonitor:a.sya,reappendRequestsOnSkip:a.w3b,maxActiveRequestsPerSession:a.pX,limitAudioDiscountByMaxAudioBitrate:a.Bta,appendFirstHeaderOnComplete:a.Ika,maxAudioFragmentOverlapMs:0,editVideoFragments:a.vIb,declareBufferingCompleteAtSegmentEnd:a.e_a,applyProfileTimestampOffset:a.LT,profileTimestampOffsets:a.Saa,applyProfileStreamingOffset:a.Rm,mediaSourceSupportsNegativePts:a.b$,requireDownloadDataAtBuffering:a.Cya,requireSetupConnectionDuringBuffering:a.Dya,recordFirstFragmentOnSubBranchCreate:a.ldb,earlyAppendSingleChildBranch:a.$_a,selectStartingVMAFMethod:a.mP,activateSelectStartingVMAF:a.R3,minStartingVideoVMAF:a.ru,minAcceptableVMAF:a.BX,minAllowedVmaf:a.NH,alwaysNotifyEOSForPlaygraph:a.Jxb,enableNewAse:a.eJb,useNewApi:a.$bc,enableCombinedPlaygraphs:a.QU,enableAdPlaygraphs:a.fM,retainSbrOnFade:a.sba,excludedContentPlaygraphIds:a.Soa,enableDiscontiguousBuffering:a.s6,forceImmediateTransitionTypeForTitles:a.Dpa,forceImmediateTransitionExitZone:a.Cpa,useBufferSizeLimiter:a.o_,useLegacyFragmentRounding:a.Ybc,maxAllowedOutstandingRequests:a.L9,alwaysRunUnderflowTimer:a.Kxb,minStreamableConcurrencyWindow:a.Tua,streamableConcurrencyFactor:a.BAa,bufferingConcurrencyWindow:a.bU,singleStreamablePerBranch:a.A8b,enableResolutionVMAFStreamFilter:a.u6,resolutionVMAFCappingRuleList:a.pba,percentCapTitlesForResolutionVMAFStreamFilter:a.Iwa,useExitZones:a.YBa,perFragmentVMAFConfig:a.vO,enableInitialTputLogging:a.u0a,maxResponsesInitialTput:a.cXb,paddingDurationMs:a.qwa,paddingMediaType:a.rwa,paddingCodecSelector:a.qO,supportsPtsChanged:a.ohb,ciPredictorSource:a.oma,experimentalFilter:a.iKb,simulationDurationStrategy:a.hAa,liveTargetBufferDuration:a.HC,liveEdgeCushion:a.YW,enableConditionalServerTimeUpdate:a.p6,negligibleServerTimeDeltaDifference:a.u$,liveSwitchStreamsOnErrorInPipeline:a.Gta,liveAccurateFragmentTimestamps:a.x9,enableMissingSegmentsDetection:a.hM,enableMissingSegmentsReplacement:a.UU,liveMaxTemporaryRequestErrorRetries:a.vVb,lowerStreamLiveMaxTemporaryRequestErrorRetries:a.hWb,explorationPhaseLiveMaxTemporaryRequestErrorRetries:a.nKb,simulateLiveEdge:a.sP};};},31594:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K;Object.defineProperty(b,"__esModule",{value:!0});b.m8a=void 0;c=a(28131);m=a(38385);g=a(56371);k=a(33194);d=a(36149);f=a(75950);n=a(40076);h=a(51259);l=a(62945);p=a(66393);q=a(6498);u=a(51770);t=a(7826);v=a(82656);w=a(21009);y=a(30698);x=a(63341);z=a(32754);A=a(72614);B=a(1891);D=a(49594);C=a(28838);E=a(99584);G=a(92692);F=a(12653);I=a(31360);P=a(65945);M=a(18880);L=a(5652);Q=a(43367);J=a(87886);H=a(87284);K=a(81737);b.m8a=function(O){O.load(c.wy,n.mJ,m.C8a,h.Zm,g.e$a,k.aa,d.Sjb,f.B5a,l.storage,p.sL,q.lXa,u.S8a,t.UC,v.Vk,w.B8a,y.u$a,x.f2a,z.Ccb,A.fI,B.Y_a,D.g0a,C.ke,E.kd,G.eb,F.m$a,I.ibb,P.j,M.CYa,L.transports,Q.gl,J.Mg,H.qWa,K.W);};},83989:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.Cc=void 0;r=a(22674);c=a(71501);m=a(88351);g=a(49594);k=a(83810);d=a(51120);f=a(31594);a=a(99198);b.Cc=new r.g0({VI:!0});(0,f.m8a)(b.Cc);b.Cc.load(m.platform);b.Cc.load(k.config);g.bM.load(d.h0a);b.Cc.load(a.SVa);b.Cc.load(a.profile);b.Cc.bind(c.vJa).xl(b.Cc);},76892:function(r,b,a){var m,g,k,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.HRa=void 0;r=a(5163);k=a(22674);a=a(22365);d={NW:!1,reason:"uninitialized"};null === (g=null === (m=null === a.He || void 0 === a.He?void 0:a.He.userAgentData) || void 0 === m?void 0:m.getHighEntropyValues) || void 0 === g?void 0:g.call(m,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?{NW:!0,version:f}:{NW:!1,reason:"undefined"};}).catch(function(){d={NW:!1,reason:"exception"};});Ya.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});m=c;m=r.__decorate([(0,k.U)()],m);b.HRa=m;},25066:function(r,b,a){var c,m,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.K2a=b.J2a=b.L2a=void 0;c=a(56800);m=a(17612);g=a(75568);k=a(88195);d=a(64232);b.L2a=function(f){return Object.assign(Object.assign({},(0,d.IM)()),{Fr:f.d7a?"T":f.V8?"Q":f.yW?"C":"M",jo:f.d7a?"NFCDTS-01-":f.V8?"NFCDQS-01-":f.rw?"NFCDCH-02-":f.iz?"NFCDCH-MC-":f.yW?"NFCDCH-01-":f.I8?"NFCDCH-AP-":f.xW?"NFCDCH-AT-":f.lH?"NFCDCH-PH-":"NFCDCH-LX-",RB:f.yW?"chromeos-cadmium":"chrome-cadmium"});};b.J2a=function(f){var n,h,l,p,q,u;n=(0,d.HM)();h=Object.assign(Object.assign({},n),{eM:!0,Wv:!0,XB:!0,DJ:!0});l=[g.G.S0,g.G.Q0,g.G.gS];p=[g.G.R0];q={minimumCores:3};u={minimumCores:5};f.rw && (h.Dh=[].concat(aa((0,k.gO).apply(null,[n.Dh].concat(aa(l)))),aa((0,k.fg)([g.G.Zu,g.G.$u].concat(aa(l),[g.G.qA,g.G.rA]),u))),h.jq=[].concat(aa((0,k.gO).apply(null,[n.jq].concat(aa(p)))),aa((0,k.fg)([].concat(aa(p)),u))),115 <= f.Lp && (h.Dh=[].concat(aa(h.Dh),aa((0,k.fg)([].concat(aa(g.Sb.QQ),aa(g.Sb.PQ),aa(g.Sb.OQ),aa(g.Sb.NQ),aa(g.Sb.MQ)))))));f.iz && (h.Dh=[].concat(aa((0,k.gO).apply(null,[n.Dh].concat(aa(l)))),aa((0,k.fg)([g.G.Zu,g.G.$u].concat(aa(l),[g.G.qA,g.G.rA]),q))),h.jq=[].concat(aa((0,k.gO).apply(null,[n.jq].concat(aa(p)))),aa((0,k.fg)([].concat(aa(p)),q))));f.yW && (h.Dh=(0,k.fg)([].concat(aa(g.Sb.LQ),aa(g.Sb.vQ),aa(g.Sb.L_),aa(g.Sb.QQ),aa(g.Sb.OQ),aa(g.Sb.PQ),aa(g.Sb.MQ),aa(g.Sb.NQ))),h.jq=(0,k.fg)([].concat(aa(g.Sb.uQ),aa(g.Sb.c0),aa(g.Sb.b0))));f.Osa && (h.Dh=[].concat(aa((0,k.gO).apply(null,[n.Dh].concat(aa(l)))),aa((0,k.fg)([g.G.Zu,g.G.$u].concat(aa(l),[g.G.qA,g.G.rA]),u))));f.V8 && (h.Dh=(0,k.fg)([].concat(aa(g.Sb.LQ),aa(g.Sb.vQ),aa(g.Sb.L_),aa(g.Sb.QQ),aa(g.Sb.OQ),aa(g.Sb.PQ),aa(g.Sb.MQ),aa(g.Sb.NQ),aa(g.Sb.jea))),h.jq=(0,k.fg)([].concat(aa(g.Sb.uQ),aa(g.Sb.c0),aa(g.Sb.b0))));return h;};b.K2a=function(f){var n;n={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Il.SJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= f.Lp && (n=Object.assign(Object.assign({},n),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));f.xW && (n=Object.assign(Object.assign({},n),{enableFullHdForWidevineL1:!0}));f.yW && (n=Object.assign(Object.assign({},n),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= f.Lp && (n=Object.assign(Object.assign({},n),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= f.Lp && f.rw && (n=Object.assign(Object.assign({},n),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableFullHdForWidevineL1:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[m.fb.fSa,m.fb.iS]}));if(f.rw || f.iz)n=Object.assign(Object.assign({},n),{enableFullHdForWidevineL3:!0});f.rw && 99 <= f.Lp && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));f.iz && 113 <= f.Lp && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));f.Osa && 113 <= f.Lp && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));(f.iz || f.rw) && 113 <= f.Lp && (n=Object.assign(Object.assign({},n),{enableXHEAAC:!0}));f.V8 && (n=Object.assign(Object.assign({},n),{enableHWDRM:!0,enableFullHdForWidevineL1:!0,prepareLdlCacheMaxCount:15}));return n;};},30837:function(r,b,a){var m,g,k,d,f,n;function c(){var h,l,p;p=null === (h=qb.MSMediaKeys) || void 0 === h?void 0:h.isTypeSupported(g.fb.Ed,f.Lc.Pua);h=p || (null === (l=qb.MSMediaKeys) || void 0 === l?void 0:l.isTypeSupported(g.fb.DE,f.Lc.Pua));return {W6a:p,V6a:h};}Object.defineProperty(b,"__esModule",{value:!0});b.X2a=b.GNb=b.W2a=b.Y2a=void 0;m=a(56800);g=a(17612);k=a(75568);d=a(64232);f=a(73796);n=a(88195);b.Y2a=function(h){return Object.assign(Object.assign({},(0,d.IM)()),{Fr:"D",jo:h.iz?"NFCDIE-04-":h.Osa?"NFCDIE-LX-":h.I8?"NFCDIE-AP-":h.xW?"NFCDIE-AT-":h.lH?"NFCDIE-PH-":"NFCDIE-03-",RB:"edge-cadmium"});};b.W2a=function(){var h,l,p;h=Object.assign(Object.assign({},(0,d.HM)()),{LF:(0,n.fg)([k.Nd.Pq,k.Nd.mE,k.Nd.h0,k.Nd.i0,k.Nd.Rn]),Dh:(0,n.fg)([].concat(aa(k.Sb.LQ),aa(k.Sb.vQ),aa(k.Sb.L_),aa(k.Sb.QQ),aa(k.Sb.OQ),aa(k.Sb.PQ),aa(k.Sb.MQ),aa(k.Sb.NQ),aa(k.Sb.KEa),aa(k.Sb.LEa),aa(k.Sb.jea))),jq:(0,n.fg)([].concat(aa(k.Sb.uQ),aa(k.Sb.c0),aa(k.Sb.b0))),sn:void 0,kW:!1});l=c();p=l.W6a;l.V6a || (h.Wv=!0,h.XB=!0,h.DJ=!0);h.dG=p?[]:["start"];return h;};b.GNb=c;b.X2a=function(h){var l,p,q,u,t;l=h.rw;p=c();q=p.V6a;u=p.W6a;p={nudgeSourceBuffer:!0,audioCapabilityDetectorType:m.bv.Gx,videoCapabilityDetectorType:m.Il.Gx,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:u?!1:!0,enableAdPlaygraphs:u?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};u={prepareCadmium:!0,enableLdlPrefetch:!q || u,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};t={audioCapabilityDetectorType:m.bv.wx,videoCapabilityDetectorType:m.Il.SJ,microsoftScreenSizeFilterEnabled:!1,keySystemList:[g.fb.iS],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,n.fg)([k.Nd.Pq,k.Nd.mE,k.Nd.Rn]),videoProfiles:(0,n.fg)([k.G.kE,k.G.lE,k.G.M0,k.G.O0]),liveVideoProfiles:(0,n.fg)([k.G.N0,k.G.P0]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};p=Object.assign(Object.assign(Object.assign({},p),u),{useEncryptedEvent:!1});l && (p=Object.assign(Object.assign({},p),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4}));q?(p=Object.assign(Object.assign({},p),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[g.fb.Mga,g.fb.VNa],useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}),94 === h.Lp && (p=Object.assign(Object.assign({},p),{enableHWDRM:!1}))):p=Object.assign(Object.assign({},p),t);114 <= h.Lp && (p=Object.assign(Object.assign({},p),{enableXHEAAC:!0}));return p;};},54534:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.e3a=b.d3a=b.f3a=void 0;c=a(56800);m=a(75568);g=a(88195);k=a(64232);b.f3a=function(d){return Object.assign(Object.assign({},(0,k.IM)()),{Fr:"F",jo:d.iz?"NFCDFF-MC-":d.rw?"NFCDFF-02-":d.I8?"NFCDFF-AP-":d.xW?"NFCDFF-AT-":d.lH?"NFCDFF-PH-":"NFCDFF-LX-",RB:"firefox-cadmium"});};b.d3a=function(d){var f,n;f=(0,k.HM)();n=Object.assign(Object.assign({},f),{eM:!0,Wv:!0,XB:!0,DJ:!0});d.rw && (n.Dh=[].concat(aa(f.Dh),aa((0,g.fg)([m.G.Zu,m.G.$u],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.iz && (n.Dh=[].concat(aa(f.Dh),aa((0,g.fg)([m.G.Zu,m.G.$u],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return n;};b.e3a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.Il.SJ,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};(d.rw || d.iz) && 95 <= d.Lp && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},64232:function(r,b,a){var m,g,k,d;function c(f,n){var h,l,p,q,u,t;h=f.uz;l=f.VN;f=f.sO;p=n.uz;q=n.VN;n=n.sO;u=void 0 === h || void 0 === p;t=u || void 0 === l || void 0 === q;return u || h > p || h === p && (t || l > q) || h === p && l === q && (t || void 0 === f || void 0 === n || f >= n);}Object.defineProperty(b,"__esModule",{value:!0});b.HM=b.IM=b.eUb=b.oN=b.GW=void 0;m=a(5021);g=a(17612);k=a(75568);d=a(88195);b.GW=function(f,n,h,l){return c({uz:f.O_b,VN:f.P_b,sO:f.Q_b},{uz:n,VN:h,sO:l});};b.oN=function(f,n){return c({uz:f.Lp},{uz:n});};b.eUb=c;b.IM=function(){return {version:"6.0044.603.911",s$:!0,EM:!0,m_a:["en-US"],Rta:"",FU:"cadmium",Ijb:!0,Eka:!0};};b.HM=function(){return {LF:(0,d.fg)([k.Nd.Pq,k.Nd.mE,k.Nd.Rn]),Dh:(0,d.fg)([].concat(aa(k.Sb.LQ),aa(k.Sb.vQ),aa(k.Sb.L_))),jq:(0,d.fg)([].concat(aa(k.Sb.uQ))),sn:g.fb.iS,vz:(0,m.Ob)(31E3)};};},20447:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.R3a=b.Q3a=b.S3a=void 0;c=a(56800);m=a(75568);g=a(88195);k=a(64232);b.S3a=function(d){return Object.assign(Object.assign({},(0,k.IM)()),{Fr:"O",jo:d.I8?"NFCDOP-AP-":d.xW?"NFCDOP-AT-":d.lH?"NFCDOP-PH-":"NFCDOP-01-",RB:"opera-cadmium"});};b.Q3a=function(){var d,f;d=(0,k.HM)();f=Object.assign(Object.assign({},d),{eM:!0,Wv:!0,XB:!0,DJ:!0});f.Dh=[].concat(aa(d.Dh),aa((0,g.fg)([m.G.Zu,m.G.$u,m.G.qA,m.G.rA],{minimumCores:5})));return f;};b.R3a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Il.SJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= d.Lp && (f=Object.assign(Object.assign({},f),{enableVP9:!0,enableAV1:!0,enablePRK:!0}));return f;};},22224:function(r,b,a){var m,g,k,d,f,n;function c(h){var l;l=Object.assign(Object.assign({},(0,n.HM)()),{LF:(0,f.fg)([d.Nd.Pq,d.Nd.mE,d.Nd.Rn]),Dh:(0,f.fg)([].concat(aa(d.Sb.LQ),aa(d.Sb.vQ),aa(d.Sb.QQ),aa(d.Sb.OQ),aa(d.Sb.PQ),aa(d.Sb.MQ),aa(d.Sb.NQ),aa(d.Sb.KEa),aa(d.Sb.LEa),aa(d.Sb.jea))),jq:(0,f.fg)([].concat(aa(d.Sb.uQ),aa(d.Sb.c0),aa(d.Sb.b0))),sn:k.fb.Onb,vz:(0,m.Ob)(7E3),dG:[]});(0,n.oN)(h,14) && (l.dG=["start"]);return l;}Object.defineProperty(b,"__esModule",{value:!0});b.p4a=b.o4a=b.o3a=b.q4a=void 0;m=a(5021);g=a(56800);k=a(17612);d=a(75568);f=a(88195);n=a(64232);b.q4a=function(h){return Object.assign(Object.assign({},(0,n.IM)()),{Fr:"S",jo:h.lH?"NFCDSF-PH-":"NFCDSF-01-",RB:"safari-cadmium"});};b.o3a=function(h){return Object.assign(Object.assign({},c(h)),{ada:!0,gM:!1,Pu:[d.Em.P2]});};b.o4a=c;b.p4a=function(h){var l;l={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:g.Il.wx,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,n.oN)(h,14) && (l=Object.assign(Object.assign({},l),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,n.GW)(h,10,12,2) && (l=Object.assign(Object.assign({},l),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,n.GW)(h,10,13,6) && (l=Object.assign(Object.assign({},l),{enableLdlPrefetch:!0}));(0,n.GW)(h,10,15,5) && (l=Object.assign(Object.assign({},l),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,n.GW)(h,10,15,6) && (l=Object.assign(Object.assign({},l),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,n.oN)(h,9) && (l=Object.assign(Object.assign({},l),{maxDecoderBufferMilliseconds:31E3}));(0,n.oN)(h,16) && (l=Object.assign(Object.assign({},l),{enableAV1:!0}));(0,n.oN)(h,16) && !h.lH && (l=Object.assign(Object.assign({},l),{enableXHEAAC:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));return l;};},89397:function(r,b,a){var d,f,n,h,l,p,q,u;function c(){}function m(t){this.ud=t;}function g(t){var v;v=f.Kga.call(this) || this;t.lH?Object.assign(v,(0,u.o3a)(t)):t.N8?Object.assign(v,(0,q.d3a)(t)):t.Ssa?Object.assign(v,(0,p.Q3a)()):t.AW || t.Isa?Object.assign(v,(0,l.W2a)()):t.JW?Object.assign(v,(0,u.o4a)(t)):Object.assign(v,(0,h.J2a)(t));return v;}function k(t){this.data=t.N8?(0,q.f3a)(t):t.Ssa?(0,p.S3a)(t):t.AW || t.Isa?(0,l.Y2a)(t):t.JW?(0,u.q4a)(t):(0,h.L2a)(t);}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=b.zEa=b.yEa=b.xEa=void 0;r=a(5163);d=a(22674);f=a(27081);n=a(22816);h=a(25066);l=a(30837);p=a(20447);q=a(54534);u=a(22224);Ya.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},s$:{configurable:!0,enumerable:!0,get:function(){return this.data.s$;}},Fr:{configurable:!0,enumerable:!0,get:function(){return this.data.Fr;}},jo:{configurable:!0,enumerable:!0,get:function(){return this.data.jo;}},EM:{configurable:!0,enumerable:!0,get:function(){return this.data.EM;}},RB:{configurable:!0,enumerable:!0,get:function(){return this.data.RB;}},m_a:{configurable:!0,enumerable:!0,get:function(){return this.data.m_a;}},Rta:{configurable:!0,enumerable:!0,get:function(){return this.data.Rta;}},FU:{configurable:!0,enumerable:!0,get:function(){return this.data.FU;}},Ijb:{configurable:!0,enumerable:!0,get:function(){return this.data.Ijb;}},Eka:{configurable:!0,enumerable:!0,get:function(){return this.data.Eka;}}});a=k;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.dE))],a);b.xEa=a;ea(g,f.Kga);a=g;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.dE))],a);b.yEa=a;m.prototype.apply=function(){this.ud.N8?Object.assign(this,(0,q.e3a)(this.ud)):this.ud.Ssa?Object.assign(this,(0,p.R3a)(this.ud)):this.ud.AW || this.ud.Isa?Object.assign(this,(0,l.X2a)(this.ud)):this.ud.JW?Object.assign(this,(0,u.p4a)(this.ud)):Object.assign(this,(0,h.K2a)(this.ud));return this;};a=m;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.dE))],a);b.zEa=a;c=r.__decorate([(0,d.U)()],c);b.AEa=c;},88351:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(22674);c=a(22816);m=a(91581);g=a(5614);k=a(52033);d=a(89397);f=a(21892);b.platform=new r.md(function(n){n(m.gp).to(d.xEa).ia();n(g.sK).to(d.yEa).ia();n(k.ONa).to(d.zEa).ia();n(m.e2).to(d.AEa).ia();n(f.Lga).je(function(h){return function(){return h.nb.get(c.dE).JW?{xD:function(l,p,q){return new (a(99813))(l,p,q);},request:a(10256)}:{};};});});},80966:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lda={Ewb:"adStart",aVa:"adProgress",ajc:"adComplete",Fwb:"adStop"};b.LCa={rB:"adBreakComplete"};b.Mda={error:"error",fKb:"exit",Lib:"unload"};b.TCa="AdImpressionLoggerrFactorySymbol";},70068:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YCa="AdManagerFactorySymbol";},1200:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wQ="AdTrackerBaseSymbol";},25540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hDa="AdFocusMonitorSymbol";},12826:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eEa="BandwidthMeterFactorySymbol";},65945:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va,S,ma,Ja,Na,Za,V,la,ra,N,ha,xa,$a,ab,db,ub,Ma,cb,kb,sb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(22674);c=a(77601);m=a(78388);g=a(18181);k=a(12826);d=a(31085);f=a(41106);n=a(51038);h=a(24722);l=a(27104);p=a(4203);q=a(81918);u=a(90597);t=a(42207);v=a(87386);w=a(65090);y=a(61861);x=a(37025);z=a(5021);A=a(89561);B=a(25837);D=a(65106);C=a(13889);E=a(15160);G=a(92205);F=a(52200);I=a(45842);P=a(74870);M=a(95162);L=a(33554);Q=a(2160);J=a(67650);H=a(25138);K=a(77134);O=a(34231);R=a(93367);ca=a(82557);oa=a(85405);ta=a(56800);Fa=a(39551);ua=a(69334);ya=a(70068);Ca=a(89540);Va=a(30869);S=a(49917);ma=a(80966);Ja=a(72160);Na=a(54952);Za=a(97635);V=a(74834);la=a(25540);ra=a(38508);N=a(30873);ha=a(78312);xa=a(53085);$a=a(63013);ab=a(14177);db=a(56386);ub=a(1200);Ma=a(24711);cb=a(13673);kb=a(31099);sb=a(67590);b.j=new r.md(function(pb){pb(J.Vga).to(H.iOa).ia();pb(oa.ADa).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb,Nb){return new (a(92720).Ofa)(Kb,Nb,Eb.get(u.vx),Eb.get(E.w0),Eb.get(sb.Xda));};});pb(c.uRa).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb,Nb,Qb,Ib,Pb,Rb,Yb,ic,Ac){return new (a(37517).z)(Eb.get(A.zRa),Kb,Nb,Qb,Ib,Pb,Rb,Yb,ic,Ac);};});pb(A.zRa).to(B.yRa).ia();pb(m.xRa).to(g.wRa).ia();pb(n.dOa).to(h.cOa).ia();pb(Za.dQa).to(V.cQa).ia();pb(R.zPa).to(ca.yPa);pb(R.xPa).Vhb(R.zPa);pb(f.jGa).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb){return new (a(11372).Xea)(Eb.get(E.iGa),Eb.get(u.vx),Eb.get(q.Kc),Kb);};});pb(k.eEa).je(function(){return function(Ab){return new d.fEa(Ab);};});pb(Fa.Yga).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb){return new ua.oOa(Kb,Eb.get(v.$a),Eb.get(t.$f));};});pb(ma.TCa).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb){return new Ja.UCa(Kb,Eb.get(v.$a).Za("AdImpressionLogger"),Eb.get(Va.hg),Eb.get(p.Zb),Eb.get(q.Kc),Eb.get(S.Kda),Eb.get(S.Jda));};});pb(la.hDa).to(ra.gDa);pb(ub.wQ).to($a.$Ca);pb(ub.wQ).to(db.eDa);pb(ub.wQ).to(Ma.iDa);pb(ub.wQ).to(ab.jDa);pb(ya.YCa).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb,Nb){return new Ca.ZCa(Kb,Nb,Eb.get(v.$a).Za("AdManager"),Eb.get(p.Zb),Eb.get(Za.dQa),Eb.getAll(ub.wQ),Eb.get(ma.TCa),function(Qb){return new Na.XCa(Qb);},Eb.get(la.hDa));};});pb(w.WNa).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb){return new l.XNa(Kb,Eb.get(v.$a),Eb.get(p.Zb),Eb.get(t.$f),Eb.get(u.vx),Eb.get(Fa.Yga));};});pb(N.YJa).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb,Nb){return new ha.ZJa(Eb.get(p.Zb),Eb.get(cb.$Ja),Eb.get(xa.bi),Eb.get(v.$a),Kb,Nb);};});pb(cb.$Ja).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb){return new kb.aKa(Eb.get(p.Zb),Eb.get(v.$a),Eb.get(I.KE),Kb);};});pb(y.Xga).je(function(Ab){var Eb;Eb=Ab.nb;return function(Kb,Nb,Qb,Ib,Pb,Rb,Yb,ic,Ac,Pc,Yd){return new x.kOa(Kb,Nb,Qb,Ib,Pb,Rb,Yb,ic,Ac,Eb.get(w.WNa),Eb.get(J.Vga),Eb.get(N.YJa),Pc,Yd);};});pb(D.YPa).je(function(Ab){return function(Eb){var Kb,Nb;Kb=Ab.nb.get(p.Zb);Nb=Ab.nb.get(v.$a);return new C.ZPa(Kb,Eb,Nb);};});pb(G.fOa).je(function(Ab){return function(Eb){var Kb,Nb,Qb,Ib,Pb;Kb=Ab.nb.get(L.xx);Nb=Ab.nb.get(I.KE);Qb=Ab.nb.get(P.Fh);Ib=Ab.nb.get(M.XR);Pb=Ab.nb.get(ta.hE);return new F.gOa(Eb,Kb,Nb((0,z.zh)(1)),Qb,Ib,Pb);};});pb(Q.dga).JD(function(Ab){return new (a(51149).HLa)(Ab.nb.get(K.GR),Ab.nb.get(O.Kn));}).ia();});},41106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jGa="DiagnosticsFactorySymbol";},30873:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Us={VR:"START_SLATE",Dfa:"LIVE_EVENT",Oea:"END_SLATE"};b.YJa="LivePlaybackManagerFactorySymbol";},13673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ja="LivePlaybackRateControllerFactorySymbol";},45526:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dga="MilestonesEventBuilderSymbol";},65090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WNa="PlayTimeTrackerFactorySymbol";},51038:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dOa="PlaybackFactorySymbol";},92205:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fOa="PlaybackInfoPanelFactorySymbol";},67650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vga="PlaybackMilestoneStoreSymbol";},61861:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xga="PlaybackSegmentDataFactorySymbol";},39551:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yga="PlayedSegmentsTrackerFactorySymbol";},93367:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zPa="RepositionTraceSymbol";b.xPa="RepositionTraceFactorySymbol";},65106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YPa="SeekManagerFactorySymbol";},97635:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dQa="SegmentDroppedLoggerSymbol";},94025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ip=void 0;r=b.ip || (b.ip={});r[r.U1=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.sE=2]="LOADED";r[r.oR=3]="LOAD_FAILED";r[r.xMa=4]="PARSE_FAILED";},77601:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uRa="TrickPlayFactorySymbol";},78388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xRa="TrickPlayManagerSymbol";},89561:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zRa="TrickPlayParserSymbol";},72160:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u,t,v,w){this.context=l;this.log=p;this.va=q;this.config=u;this.Ea=t;this.Cwb=v;this.vwb=w;this.Dza={};}Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(30869);d=a(5021);f=a(4203);n=a(49917);h=a(80966);c.prototype.A6b=function(l,p){var q,u,t;q=this;u=l.event;if(Object.values(h.LCa).includes(u)){t=p.dz?p.dz.ea(d.ma):-1;l={href:p.W.wi.QM("events").href,na:this.context.na.toString(),event:u,Iv:l.Iv,DF:l.DF,position:l.$g.offset.v,om:t,Lw:{},uy:this.va.MI.ea(d.ma),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.vwb.Cf(this.log,l).catch(function(v){q.log.error("Failed to send event",{eventKey:u,xid:p.na,error:v});});}else this.log.debug("Ignoring unsupported event " + l.event);};c.prototype.B6b=function(l,p,q){var u,t,v;u=this;t=l.event;if(Object.values(h.Lda).includes(t)){v=l.W.links.events.href;this.Dza[l.om] || (this.Dza[l.om]=this.va.txb((0,d.Ob)(l.om)).ea(d.ma));l={href:v,na:this.context.na.toString(),event:t,Iv:l.Iv,DF:l.DF,position:l.$g.offset.v,om:this.Dza[l.om],Lw:l.Lw,uy:this.va.MI.ea(d.ma),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id,kWb:p,G$b:null !== q && void 0 !== q?q:void 0};this.Cwb.Cf(this.log,l).catch(function(w){u.log.error("Failed to send event",{eventKey:t,xid:u.context.na,error:w});});}else this.log.debug("Ignoring unsupported event " + l.event);};a=c;a=r.__decorate([r.__param(2,(0,m.l)(k.hg)),r.__param(3,(0,m.l)(f.Zb)),r.__param(4,(0,m.l)(g.Kc)),r.__param(5,(0,m.l)(n.Kda)),r.__param(6,(0,m.l)(n.Jda))],a);b.UCa=a;},54952:function(r,b){function a(p){this.gf=p;}function c(p){this.padding=p;}function m(p){this.hL=p;}function g(p){this.$g=p;}function k(p){this.Naa=p;}function d(p){this.oxa=p;}function f(p){this.nxa=p;}function n(p){this.gL=p;}function h(p){this.Iz=p;}function l(p){this.Zc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.dlb=b.Uqb=b.clb=b.Tnb=b.drb=b.erb=b.crb=b.blb=b.brb=b.XCa=void 0;l.prototype.getPresentingAdBreak=function(){var p;p=this.Zc.XM();if(p)return new h(p);};l.prototype.getAds=function(){return this.Zc.Opa();};l.prototype.getLogInfo=function(){return this.Zc.zOb();};b.XCa=l;Ya.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new n(this.Iz.Sc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Iz.sB;if(p)return new f(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Iz.Vab;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new k(this.Iz.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new g(this.Iz.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Iz.index;}}});b.brb=h;Ya.Object.defineProperties(n.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new m(this.gL.hL);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.gL.nca);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.gL.VU);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.gL.kRb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.gL.duration.v};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.gL.jaa.v};}}});b.blb=n;Ya.Object.defineProperties(f.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.nxa.gf);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.nxa.aVa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.nxa.index;}}});b.crb=f;Ya.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.oxa.swa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.oxa.c0b;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.oxa.jaa.v};}}});b.erb=d;Ya.Object.defineProperties(k.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.Naa.ywb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Naa.wwb.v};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Naa.Awb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Naa.zwb.v};}}});b.drb=k;Ya.Object.defineProperties(g.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.$g.H;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.$g.offset.v};}}});b.Tnb=g;Ya.Object.defineProperties(m.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.hL.Ke.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.hL.duration.v};}}});b.clb=m;Ya.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.v};}}});b.Uqb=c;Ya.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.gf.bq;}},id:{configurable:!0,enumerable:!0,get:function(){return this.gf.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.gf.startTime.v};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.gf.endTime.v};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.gf.hu;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.gf.MP;}}});b.dlb=a;},89540:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q,u,t,v,w,y){var x;x=this;this.eb=h;this.j=l;this.log=p;this.config=q;this.p6b=u;this.Chb=t;this.Ml=new m.Jb(!1);this.Kb=new f.Xj();this.MWa=!1;this.TX=function(){x.MWa=!0;n.te.removeListener(n.cl,x.TX);};this.zJb=w(this);h=h.no();this.Jv=v({na:l.na.toString()});v=null === h || void 0 === h?void 0:h.Gbb.events;null === v || void 0 === v?void 0:v.addListener("adPresenting",function(){!1;x.l1a();});null === v || void 0 === v?void 0:v.addListener("adBreakPresenting",function(){!1;y.XN(l);x.Ml.set(!0);});null === v || void 0 === v?void 0:v.addListener("adBreakEnded",function(){!1;x.Ml.set(!1);});null === v || void 0 === v?void 0:v.addListener("adPlaygraphUpdated",function(){!1;});null === v || void 0 === v?void 0:v.addListener("segmentDropped",function(z){var A;!1;A=x.j.$i(z.segmentId);x.p6b.J2b(z,A);});this.rq=new k.h2();this.j.addEventListener("playbackStart",function(){x.rq.resolve();});v=null === h || void 0 === h?void 0:h.csa.events;null === v || void 0 === v?void 0:v.addListener("adEvent",function(z){x.rq.promise.then(function(){var A,B,D;z.event === g.Lda.Ewb && z.hu && x.Chb.forEach(function(C){return C.start(x.j);});B=null === (A=l.W) || void 0 === A?void 0:A.Ca.Ad;A=x.jQb(z);if(z.event === g.Lda.Fwb && A){D=x.MWa?g.Mda.Lib:l.rh?g.Mda.error:g.Mda.fKb;A=Object.assign(Object.assign({},A),{reason:D});}x.Jv.B6b(z,B,A);});});n.te.addListener(n.cl,this.TX);null === v || void 0 === v?void 0:v.addListener("adBreakEvent",function(z){z.event === g.LCa.rB && x.Kb.Fc(d.R_.rB);x.rq.promise.then(function(){x.Jv.A6b(z,l);});});}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;m=a(81734);g=a(80966);k=a(94293);d=a(85001);f=a(94886);n=a(37509);c.prototype.addEventListener=function(h,l,p){this.Kb.addListener(h,l,p);};c.prototype.removeEventListener=function(h,l){this.Kb.removeListener(h,l);};c.prototype.XM=function(){var h,l;return null === (l=null === (h=this.eb) || void 0 === h?void 0:h.no()) || void 0 === l?void 0:l.DO.Iz;};c.prototype.zOb=function(){var h,l,p,q;p=this.XM();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.v,adDuration:null === (h=null === p || void 0 === p?void 0:p.sB) || void 0 === h?void 0:h.gf.endTime.v,adIndex:null === (l=p.sB) || void 0 === l?void 0:l.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Sc.duration.v};(h=p.Vab) && (q.padding={type:h.swa,duration:h.jaa.v});return q;}};c.prototype.Opa=function(){var h,l,p,q,u;q=this.j.da.O.toString();u=null === (l=null === (h=this.eb) || void 0 === h?void 0:h.no()) || void 0 === l?void 0:l.Gbb.Opa({B_:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.l1a=function(){};c.prototype.jQb=function(h){var l;if(h.hu){l=this.Chb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.R7(h));},{});return Object.assign(Object.assign({},l),{thirdPartyVerificationToken:h.MP});}};b.ZCa=c;},63013:function(r,b,a){var m,g,k,d,f;function c(n,h){var l;l=f.Gk.call(this) || this;l.Ea=n;l.paused=!1;l.wr=function(){var p,q,u;u=l.Zc.XM();l.Zc.Ml.value && null !== (p=null === u || void 0 === u?void 0:u.sB) && void 0 !== p && p.gf.hu?(p=null === (q=u.sB) || void 0 === q?void 0:q.gf.id,q=l.paused,l.paused=l.j.paused.value,q !== l.paused && (l.paused?(l.qaa=l.Ea.Lb(),l.vT=u.position.offset.v,l.la.debug("Ad " + p + " paused at " + l.vT + " ms into the ad")):void 0 !== l.qaa && void 0 !== l.vT && (u=l.Ea.Lb().qa(l.qaa).ea(d.ma),l.la.debug("Ad " + p + " resumed. Pause duration: " + u),l.trace.push([l.vT,u]),l.vT=void 0,l.qaa=void 0))):l.unsubscribe();};l.la=h.Za("AdPauseStateTracker");return l;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(87386);d=a(5021);f=a(87144);ea(c,f.Gk);c.prototype.start=function(n){f.Gk.prototype.start.call(this,n);this.qw || (this.j.paused.addListener(this.wr),this.qw=!0);};c.prototype.R7=function(){return {pauseTrace:this.trace};};c.prototype.UY=function(){this.vT=void 0;this.paused=this.j.paused.value;this.qaa=void 0;this.trace=[];};c.prototype.unsubscribe=function(){f.Gk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.wr);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Kc)),r.__param(1,(0,m.l)(k.$a))],a);b.$Ca=a;},56386:function(r,b,a){var m,g,k,d,f;function c(n,h){var l;l=f.Gk.call(this) || this;l.xna=h;l.l5b=function(){0 === l.trace.length?l.wr():l.Koa.yh(function(){l.wr();});};l.wr=function(){var p,q,u,t;q=l.Zc.XM();if(l.Zc.Ml.value && null !== (p=null === q || void 0 === q?void 0:q.sB) && void 0 !== p && p.gf.hu){(p=l.trace[l.trace.length - 1]) && p[0] === q.position.offset.v && l.trace.pop();p=l.trace[l.trace.length - 1];u=l.j.wk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && l.trace.push([q.position.offset.v,u,t]);}else l.unsubscribe();};l.la=n.Za("AdResizeTracker");l.Koa=h((0,d.zh)(1));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;r=a(5163);m=a(22674);g=a(34043);k=a(87386);d=a(5021);f=a(87144);ea(c,f.Gk);c.prototype.start=function(n){f.Gk.prototype.start.call(this,n);this.qw || (this.gab=new ResizeObserver(this.l5b),this.gab.observe(this.j.wk),this.qw=!0);};c.prototype.R7=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.UY=function(){this.trace=[];};c.prototype.unsubscribe=function(){var n;f.Gk.prototype.unsubscribe.call(this);null === (n=this.gab) || void 0 === n?void 0:n.disconnect();};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(g.v0))],a);b.eDa=a;},87144:function(r,b){function a(){var c;c=this;this.qw=!1;this.trace=[];this.L5=function(){c.Koa.yh(function(){c.wr();});};}Object.defineProperty(b,"__esModule",{value:!0});b.Gk=void 0;a.prototype.start=function(c){var m;m=this;this.j=c;this.Zc=this.j.no();this.qw || (this.Zc.Ml.addListener(this.wr),this.j.addEventListener("closing",function(){return m.unsubscribe();}));this.UY();};a.prototype.unsubscribe=function(){this.Zc.Ml.removeListener(this.wr);this.qw=!1;this.UY();};b.Gk=a;},38508:function(r,b,a){var m,g;function c(k){var d;d=this;this.VF=function(){var f,n,h;n=!document.hidden;h=null === (f=d.j.no()) || void 0 === f?void 0:f.Ml.value;f=d.j.paused.value;n || !h || f || (d.la.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{dO:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.VF);d.j.no().Ml.removeListener(d.VF);d.j.paused.removeListener(d.VF);};this.la=k.Za("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;r=a(5163);m=a(22674);a=a(87386);c.prototype.XN=function(k){this.oYb || (this.la.debug("Starting to monitor playback for visibility"),this.j=k,this.oYb=!0,document.addEventListener("visibilitychange",this.VF),this.j.no().Ml.addListener(this.VF),this.j.paused.addListener(this.VF),this.j.addEventListener("closing",this.unsubscribe),this.VF());};g=c;g=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.$a))],g);b.gDa=g;},24711:function(r,b,a){var m,g,k;function c(d){var f;f=k.Gk.call(this) || this;f.zua=0;f.QZa=[0];f.GH=[0];f.visibility=0;f.wr=function(){var n,h;h=f.Zc.XM();f.Zc.Ml.value && null !== (n=null === h || void 0 === h?void 0:h.sB) && void 0 !== n && n.gf.hu?(n=f.visibility,f.visibility=document.hidden?0:1,n !== f.visibility && (1 === f.visibility?(f.zua=f.visibility,f.T9=h.position.offset.v):(h=h.position.offset.v - (f.T9 || 0),h > f.GH[0] && (f.GH[0]=h),f.T9=void 0))):f.unsubscribe();};f.la=d.Za("AdVisibilityTracker");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(87144);ea(c,k.Gk);c.prototype.start=function(d){k.Gk.prototype.start.call(this,d);this.qw || (document.addEventListener("visibilitychange",this.wr),this.qw=!0);};c.prototype.R7=function(d){var f,n,h;n=this.j.wk.getBoundingClientRect();h=n.height;n=n.width;"adStart" === d.event && (h=0 === h?document.documentElement.clientHeight:h,n=0 === n?document.documentElement.clientWidth:n);d=d.$g.offset.v - (null !== (f=this.T9) && void 0 !== f?f:0);d > this.GH[0] && (this.GH[0]=d);f=document.fullscreenElement?!0:screen.height === qb.outerHeight && screen.width === qb.outerWidth;this.QZa=this.GH;return {cumulativeTimeByVisibilityMs:this.QZa,maxContinuousTimeByVisibilityMs:this.GH,visibility:this.visibility,maxVisibility:this.zua,screenHeight:screen.height,screenWidth:screen.width,adHeight:h,adWidth:n,fullScreen:f};};c.prototype.UY=function(){this.T9=void 0;this.GH=[0];this.zua=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){k.Gk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.wr);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a))],a);b.iDa=a;},14177:function(r,b,a){var m,g,k,d,f;function c(n,h){var l;l=f.Gk.call(this) || this;l.Ff=n;l.xna=h;l.wr=function(){var p,q;q=l.Zc.XM();l.Zc.Ml.value && null !== (p=null === q || void 0 === q?void 0:q.sB) && void 0 !== p && p.gf.hu?(p=l.trace[l.trace.length - 1],q=q.position.offset.v,p && p[0] === q && l.trace.pop(),(p=l.trace[l.trace.length - 1]) && p[1] === l.j.sna || l.trace.push([q,l.j.sna])):l.unsubscribe();};l.la=n.Za("AdVolumeTracker");l.Koa=h((0,d.zh)(1));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;r=a(5163);m=a(22674);g=a(34043);k=a(87386);d=a(5021);f=a(87144);ea(c,f.Gk);c.prototype.start=function(n){f.Gk.prototype.start.call(this,n);this.qw || (this.j.volume.addListener(this.L5),this.j.muted.addListener(this.L5),this.qw=!0);};c.prototype.R7=function(){return {volumeChangeTrace:this.trace,volume:this.j.sna};};c.prototype.UY=function(){this.trace=[];};c.prototype.unsubscribe=function(){f.Gk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.L5);this.j.muted.removeListener(this.L5);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(g.v0))],a);b.jDa=a;},31085:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;a.prototype.jjb=function(){var c;c=this.j.eb;if(null !== c && void 0 !== c && c.Xx){c=c.Hc.get();if(null === c || void 0 === c?0:c.xh)this.j.xh=c.xh.Aa;if(null === c || void 0 === c?0:c.cb)this.j.cb=c.cb.Aa;}};a.prototype.jn=function(){-1 === this.j.cb && this.jjb();return this.j.cb;};a.prototype.vAb=function(c){-1 !== this.j.xh && -1 !== this.j.cb || this.jjb();return -1 === this.j.xh || -1 === this.j.cb?Number.MAX_VALUE:this.j.xh + 8 * c / this.j.cb;};b.fEa=a;},43422:function(r,b,a){var g,k,d,f,n,h,l,p;function c(q){this.j=q;this.c8a=!1;this.log=(0,k.Nh)(this.j,"Playback");this.DN=k.za.get(l.qR);(0,d.oa)(g.config);g.config.Ks || (this.gIb=k.za.get(f.sGa));}function m(q,u){var v;function t(w){return w && 0 < w.length && w[0].zH;}v=k.za.get(l.qR);return q.na && t(q.Pe)?v.release({na:q.na,Pe:q.Pe}).then(function(){}):u.na && t(u.Pe)?v.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.uI=b.BFa=void 0;g=a(29204);k=a(31276);d=a(45146);f=a(58120);n=a(63156);h=a(32687);l=a(98166);p=a(85001);c.prototype.FV=function(q){var u;u=this;return new Promise(function(t,v){var w,y,x;w=n.Lk.$Ya(q.Ef);y=q.ek.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,k.ly)(z.data)};});x=u.j.mPb(q.ek[0].sessionId);u.DN.Cp({Ad:x.Ad,Ef:h.is.Nm(q.Ef)?q.Ef:w,k6:[x.Wk],ek:y,na:x.na,Er:q.Er,wi:x.W.wi,Vf:x.W.Ca.Vf}).then(function(z){u.j.Pe=z.Pe;t(z);u.tLb(x);}).catch(v);});};c.prototype.release=function(q){return m(this.j,q);};c.prototype.hZa=function(){var q;q=this.gIb.create();q.Pe=this.j.Pe;q.na=this.j.na;q.O=this.j.O;return q;};c.prototype.tLb=function(q){this.c8a || (this.c8a=!0,this.j.fireEvent(p.ha.WW,{O:q.O}));};b.BFa=c;b.uI=m;},11372:function(r,b,a){var m;function c(g,k,d,f){this.Sna=g;this.debug=k;this.Ea=d;this.j=f;this.kaa=[];this.o$={};this.Tna={};this.ppa=!1;this.whb=1;this.aEa=7.8125;}b.Xea=void 0;m=a(5021);a(85001);a(32687);a(61726);c.prototype.register=function(g,k){this.debug.assert(!(0 <= this.kaa.indexOf(g)),"panel already registered");this.o$[g]=k;this.kaa.push(g);};c.prototype.V$a=function(g){var k;k=this;this.Tna[g]=!0;this.ppa || (this.ppa=!0,setTimeout(function(){return k.wLb();},0));};c.prototype.NOb=function(g){return (g=this.o$[g])?g():void 0;};c.prototype.DV=function(){var g;g=this.j.waa;return g?g.DV():[];};c.prototype.addEventListener=function(g,k){this.Sna.addListener(g,k);this.o$[g] && this.V$a(g);};c.prototype.removeEventListener=function(g,k){this.Sna.removeListener(g,k);};c.prototype.getTime=function(){return this.Ea.Lb().ea(m.ma);};c.prototype.wLb=function(){this.ppa=!1;for(var g=this.kaa.length,k;g--;)(k=this.kaa[g],this.Tna[k] && (this.Tna[k]=!1,this.Sna.Fc(k + "changed",{getModel:this.o$[k]})));};b.Xea=c;},78312:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q,u,t){var v,w,y,x;v=this;this.config=h;this.Ac=p;this.I=u;this.j=t;this.gH=new n.Jb(!1);this.Yka=new n.Jb(!1);this.ik=this.oi=void 0;this.aAa=!1;this.CG=void 0;this.log=q.Za("LivePlaybackManager");this.CG=this.config().MLb;w=this.config().i9b;y=this.config().DVb;this.aAa=(0,k.Tb)(w) && (0,k.Tb)(y);null === t || void 0 === t?void 0:t.addEventListener(d.ha.pl,function(){var z;if(v.Z && ((0,g.oa)(v.j && v.j.da === v.I,"Unexpected playback segment on playbackReady"),v.config().ZIb && (v.Cbb=l(function(A){(0,g.oa)(v.Z && v.j && v.j.da === v.I,"Unexpected playback segment on playback rate update");v.I.playbackRate.value !== A && (v.I.playbackRate.set(A),v.j.fireEvent(d.ha.IC));})),v.aAa)){z=v.Zt();x=v.Ac.GI((0,m.Ob)(500),function(){var A,B,D,C;A=v.Zt();D=z + w;A >= D - 500 && (B=v.Zma(D));D=z + w + y;if(A >= D - 500){C=v.Zma(D);null === x || void 0 === x?void 0:x.cancel();}v.Hza(B,C,!0);});}});null === t || void 0 === t?void 0:t.addEventListener(d.ha.ug,function(){var z;v.Z && ((0,g.oa)(v.j && v.j.da === v.I,"Unexpected playback segment on closing"),v.Cbb=void 0,null === (z=v.XW) || void 0 === z?void 0:z.cancel(),v.XW=void 0,null === x || void 0 === x?void 0:x.cancel());});null === t || void 0 === t?void 0:t.addEventListener(d.ha.qD,function(z){v.Z && ((0,g.oa)(v.j && v.j.da === v.I,"Unexpected playback segment on repositioning"),z.ic !== d.pc.Nx && z.ic !== d.pc.cK || v.gH.set((z.ic === d.pc.cK || v.config().sP) && !v.X6a()));});null === t || void 0 === t?void 0:t.addEventListener(d.ha.Gjb,function(){v.Z && ((0,g.oa)(v.j && v.j.da === v.I,"Unexpected playback segment on userInitiatedPause"),v.gH.set(!1));});null === t || void 0 === t?void 0:t.background.addListener(function(){var z;v.Z && ((0,g.oa)(v.j && v.j.da === v.I,"Unexpected playback segment on background update"),!v.j.background.value && v.dW() && void 0 === v.CG && (v.FW()?null === (z=v.j.ae) || void 0 === z?void 0:z.seek(v.oi,d.pc.Nx):v.Jba()));});this.I.mediaTime.addListener(function(z){var A,B,D,C;if(v.Z){(0,g.oa)(v.j && v.j.da === v.I,"Unexpected playback segment on mediaTime update");D=v.j;v.Y4();C=v.hC(z.oldValue);z=v.hC(z.newValue);C !== z && (!1,D.fireEvent(d.ha.IC));v.FW()?(null === (A=v.XW) || void 0 === A?void 0:A.cancel(),v.XW=void 0):v.XW || (v.XW=v.Ac.GI((0,m.Ob)(1E3),function(){v.Y4();D.fireEvent(d.ha.IC);}));null === (B=v.Cbb) || void 0 === B?void 0:B.$P(v.j.Ei.value && v.dW(),v.I.mediaTime.value,v.Zt());v.config().TIb && v.j.Ei.value && v.hC() === f.Us.VR && v.ATb() && !v.fz() && void 0 === v.CG && v.Jba();}});this.gH.addListener(function(){(0,g.oa)(v.Z,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.Z);(0,g.oa)(v.j && v.j.da === v.I,"Playback is required for live.");v.Y4();});this.Yka.addListener(function(){(0,g.oa)(v.Z,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.Z);(0,g.oa)(v.j && v.j.da === v.I,"Playback is required for live.");!1;v.j.fireEvent(d.ha.IC);});}Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;m=a(5021);g=a(45146);k=a(32687);d=a(85001);f=a(30873);n=a(81734);c.prototype.g8b=function(){var h,l,p;(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");return this.config().OLb || (null !== (p=null === (l=null === (h=this.I.W) || void 0 === h?void 0:h.Ca.Sh) || void 0 === l?void 0:l.HHb) && void 0 !== p?p:!1);};c.prototype.A2b=function(){var h;(0,g.oa)(this.Z,"Unexpected call to processManifest(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");(0,g.oa)(null === (h=this.I.W) || void 0 === h?void 0:h.Ca.Sh,"Live manifest is unavailable.");h=this.I.W.Ca.Sh;this.Hza(h.Ooa,h.C6);h=this.config().PLb;void 0 !== h && void 0 !== this.oi && (this.CG=this.oi + h);};c.prototype.Hza=function(h,l,p){var q,u,t,v,w;(0,g.oa)(this.Z,"Unexpected call to setLiveEventTimes(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");if(!this.aAa || p){p=this.j;t=this.oi;v=this.ik;w=null !== (q=this.ZYa(h)) && void 0 !== q?q:t;q=null !== (u=this.ZYa(l)) && void 0 !== u?u:v;if(void 0 === w && void 0 === q || void 0 !== w && 0 <= w && void 0 === q || void 0 !== w && 0 <= w && void 0 !== q && q > w){if((this.oi=w,this.ik=q,t !== this.oi || v !== this.ik))(!1,p.fireEvent(d.ha.IC));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (w + ", endTime:") + (l + ", endPts:") + q);}};c.prototype.NNb=function(){var h;(0,g.oa)(this.Z,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");h=this.I.mediaTime.value;if(void 0 !== h)return this.Zma(h);};c.prototype.T7=function(){var h;(0,g.oa)(this.Z,"Unexpected call to getUIAdjustedTime(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");h=this.I.mediaTime.value;if(void 0 !== h)switch(this.hC(h)){case f.Us.VR:return 0;case f.Us.Dfa:return ((0,g.oa)(void 0 !== this.oi,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.oi);case f.Us.Oea:return ((0,g.oa)(void 0 !== this.oi && void 0 !== this.ik,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.ik - this.oi);}};c.prototype.peb=function(h){var l,p;(0,g.oa)(this.Z,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");return void 0 === this.oi?null !== (p=null !== (l=this.Zt()) && void 0 !== l?l:this.I.mediaTime.value) && void 0 !== p?p:h:this.oi + h;};c.prototype.j7a=function(h){var l;(0,g.oa)(this.Z,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");l=this.Zt();return void 0 !== l && h >= l - this.config().sVb;};c.prototype.yqa=function(h,l){var p,q;(0,g.oa)(this.Z,"Unexpected call to getLiveBookmark(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");if(void 0 !== this.CG)return {Pl:this.CG,dD:Number.MAX_SAFE_INTEGER,k_a:this.CG};this.config().sP && this.gH.set(!0);l || void 0 === this.oi || void 0 === this.ik && 0 === h?(this.gH.set(!0),h=36E7):(h=this.oi + h,void 0 !== this.ik && h > this.ik && (h=this.oi));return {Pl:h,dD:null !== (p=this.ik) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,k_a:null !== (q=this.oi) && void 0 !== q?q:36E7};};c.prototype.KM=function(){var h,l,p;return Math.max(null !== (h=this.ik) && void 0 !== h?h:0,null !== (l=this.Zt()) && void 0 !== l?l:0,null !== (p=this.I.mediaTime.value) && void 0 !== p?p:0);};c.prototype.L4a=function(){var h;(0,g.oa)(this.Z,"Unexpected call to getLiveContentDuration(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");if(void 0 === this.oi)return 0;h=this.I.mediaTime.value;return (void 0 !== this.ik?this.ik:this.fz() && void 0 !== h?h:this.KM()) - this.oi;};c.prototype.GOb=function(){var h;(0,g.oa)(this.Z,"Unexpected call to getMaxSeekPts(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");h=this.Zt();h=void 0 !== this.ik && void 0 !== h?Math.min(this.ik,h):h;!1;return null !== h && void 0 !== h?h:0;};c.prototype.Zt=function(){var h,l;(0,g.oa)(this.Z,"Unexpected call to getLiveEdge(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");return null === (l=null === (h=this.j.eb) || void 0 === h?void 0:h.Ry(this.I.H)) || void 0 === l?void 0:l.v;};c.prototype.Jba=function(){var h;(0,g.oa)(this.Z,"Unexpected call to seekToLiveEdge(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");this.gH.set(!this.X6a());if(this.j.ae){h=this.Zt();void 0 !== h?this.j.ae.seek(h,d.pc.cK,this.I.H):!1;}else this.I.Pl=this.yqa(0,!0).Pl;};c.prototype.fz=function(){(0,g.oa)(this.Z,"Unexpected call to isAtLiveEdge(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");this.Y4();return this.Yka.value;};c.prototype.dW=function(){(0,g.oa)(this.Z,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");return this.gH.value;};c.prototype.hC=function(h){var l,p,q;(0,g.oa)(this.Z,"Unexpected call to getLiveEventState(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");h=null !== (l=null !== h && void 0 !== h?h:this.I.mediaTime.value) && void 0 !== l?l:0;l=null !== (p=this.oi) && void 0 !== p?p:Infinity;p=null !== (q=this.ik) && void 0 !== q?q:Infinity;return h < l?f.Us.VR:h > p?f.Us.Oea:f.Us.Dfa;};c.prototype.FW=function(h){(0,g.oa)(this.Z,"Unexpected call to isLiveEventEnded(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");if(h)return void 0 !== this.ik;h=this.Zt();return void 0 !== this.ik && void 0 !== h && this.ik < h;};c.prototype.ATb=function(){var h;(0,g.oa)(this.Z,"Unexpected call to isLiveEventStarted(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");h=this.Zt();return void 0 !== this.oi && void 0 !== h && this.oi < h;};c.prototype.X6a=function(){var h;(0,g.oa)(this.Z,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.Lh) || void 0 === h?0:h.dO);};c.prototype.Y4=function(){var h;(0,g.oa)(this.Z,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");this.Yka.set(this.dW() && this.j7a(null !== (h=this.I.mediaTime.value) && void 0 !== h?h:0));};c.prototype.Zma=function(h){var l,p;(0,g.oa)(this.Z,"Unexpected call to convertPtsToEventTime(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");(0,g.oa)(null === (l=this.I.W) || void 0 === l?void 0:l.Ca.Sh,"Live manifest is unavailable.");l=this.I.W.Ca.Sh;p=new Date(l.Nba[l.$na[this.I.W.Ca.Vu[0].streams[0].$m]].H4).getTime();return new Date(p - l.B6 + h).toISOString();};c.prototype.ZYa=function(h){var l,p,q;(0,g.oa)(this.Z,"Unexpected call to convertEventTimeToPts(). isLive:" + this.Z);(0,g.oa)(this.j && this.j.da === this.I,"Playback is required for live.");(0,g.oa)(null === (l=this.I.W) || void 0 === l?void 0:l.Ca.Sh,"Live manifest is unavailable.");if(h){l=this.I.W.Ca.Sh;p=l.Nba[l.$na[this.I.W.Ca.Vu[0].streams[0].$m]];q=new Date(h).getTime() + l.B6 - new Date(p.H4).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (l.B6 + ", availabilityStartTime:") + p.H4);else return q;}};Ya.Object.defineProperties(c.prototype,{Z:{configurable:!0,enumerable:!0,get:function(){var h,l;h=this.I;l=h.W;return l?(h=l.Ca,l=h.Sh,"LIVE" === h.Vf && !!l):"live" === h.Md;}}});b.ZJa=c;},31099:function(r,b,a){var m,g;function c(k,d,f,n){this.config=k;this.Wba=n;this.log=d.Za("LivePlaybackRateController");this.H$b=f((0,m.Ob)(this.config().xVb));}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;m=a(5021);g=a(8825);c.prototype.$P=function(k,d,f){var n,h;n=this;if(!k || void 0 === d || void 0 === f || Math.abs(d - f) < this.config().yVb)h=1;else (k=f - d,k=1 + this.config().wVb / 1E3 * k,h=(0,g.Kx)(k,this.config().AVb,this.config().zVb));this.H$b.yh(function(){!1;n.Wba(h);});};b.aKa=c;},11953:function(r,b,a){var d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q;function c(){this.Oca=[];this.kac=50;}function m(J){var H;H=this;this.j=J;this.fkb=Promise.resolve();this.RGa=qb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.uF=[];this.uj=new h.Xj();this.FSa=0;this.W2=[];this.Ni=(0,q.Nh)(this.j,"MediaElementASE");this.oUa=f.Ix;this.wia=!1;this.Ib=new c();this.Ye=new L.Jb(F.Lk.CA.HAVE_NOTHING);this.Zn={};this.aTa={};this.r7=this.X2(function(){var K;if(H.fa)return null !== (K=H.fa.webkitDecodedFrameCount) && void 0 !== K?K:0;});this.hw=this.X2(function(){var K;if(H.fa){K=H.Nia();return K?K.totalVideoFrames:H.fa.webkitDecodedFrameCount;}});this.NG=this.X2(function(){var K;if(H.fa){K=H.Nia();return K?K.droppedVideoFrames:H.fa.webkitDroppedFrameCount;}});this.zV=this.X2(function(){var K;if(H.fa){K=H.Nia();return K && K.corruptedVideoFrames;}});this.wTa=function(K){!1;H.uj.Fc(D.$h.b8a,{J:K});};this.gl=q.za.get(B.SJa).create(n.config.Ks,this,this.j);this.Ac=q.za.get(M.bi);n.config.FC && (this.fkb=new Promise(function(K){H.oUa=K;H.j.addEventListener(G.ha.ug,K);}));this.Ni.trace("Created Media Element");this.addEventListener=this.uj.addListener;this.removeEventListener=this.uj.removeListener;}function g(J){var H,K;H=q.za.get(C.jSa).BPb();J=J.width / J.height * H.height;K=(H.width - J) / 2;return n.config.L7b?(0,p.createElement)("VIDEO","position:absolute;width:" + J + "px;height:" + H.height + "px;left:" + K + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function k(J){J.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;d=a(90762);f=a(33096);n=a(29204);h=a(94886);l=a(37509);p=a(52569);q=a(31276);u=a(36129);t=a(45146);v=a(8825);w=a(67572);y=a(3887);x=a(77705);z=a(22365);A=a(32687);B=a(80012);D=a(16520);C=a(45613);E=a(5021);G=a(85001);F=a(63156);I=a(82100);P=a(26388);M=a(53085);L=a(81734);Q=!!(z.HA && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);m.prototype.LM=function(J){try{this.fa && (this.FSa=this.fa.currentTime);}catch(H){this.Ni.error("Exception while getting VIDEO.currentTime",H);J && this.sS(u.V.Kqb,H);}return (0,z.Mn)(this.FSa * f.Qq);};m.prototype.seek=function(J){var H;(0,t.oa)(!this.Hm);this.hUa();H=this.LM(!0);if(!n.config.Gxb && (0,z.M1)(H - J) <= this.Neb)(this.Ni.trace("Seek delta too small",{currentTime:H,seekTime:J,min:this.Neb}),this.Ib.trace("smallseek",J));else {this.Ib.trace("seek",J);try{this.Ni.trace("Setting video elements currentTime",{From:(0,v.mh)(H),To:(0,v.mh)(J)});this.Hm={};this.fa.currentTime=J / f.Qq;this.uj.Fc(D.$h.io);}catch(K){this.Ni.error("Exception while setting VIDEO.currentTime",K);this.sS(u.V.Lqb,K);}}};m.prototype.s4a=function(){return !!this.Hm;};m.prototype.addSourceBuffer=function(J){var H;try{H=new d.aga(this.j,J,this.qg,this.Ni);this.uF.push(H);J == f.yR && H.spa && H.spa.addListener(this.oUa);this.uj.Fc(D.$h.rgb);return H;}catch(K){H=(0,y.Nf)(K);this.Ni.error("Unable to add source buffer.",{error:H});this.j.vd(u.V.yga,{wa:J === P.u.Y?u.R.Vfa:u.R.Wfa,Yb:H});}};m.prototype.BT=function(J){var H;H=this;J.forEach(function(K){return H.addSourceBuffer(K);});return !0;};m.prototype.removeSourceBuffer=function(J){this.uF=this.uF.filter(function(H){return !(0,p.DYa)(J,H);});this.qg.removeSourceBuffer(J);};m.prototype.endOfStream=function(){this.Ib.trace("endofstream");!1;n.config.Tla && this.qg.endOfStream();};m.prototype.Sp=function(J){!1;this.uF=[];J && J.anc();return !0;};m.prototype.Dqa=function(){if(this.qg)return (0,E.Vbb)(this.qg.duration);};m.prototype.AHb=function(){var J;if(!this.wia && this.fa && this.fa.readyState >= F.Lk.CA.HAVE_CURRENT_DATA){J=this.fa.webkitDecodedFrameCount;if(void 0 === J || 0 < J || n.config.fdc)this.wia=!0;}return this.wia;};m.prototype.open=function(){var J,H,K;J=this;this.fa=g(this.j.VD.value);this.v3b=this.Ac.GI((0,E.Ob)(500),function(){J.Ye.set(J.fa.readyState);});this.sourceBuffers=this.uF;this.j.addEventListener(G.ha.bgb,function(O){return J.Oub(O);});if(Q){this.j.oH && !n.config.ujb && this.gl.aaa();try{this.qg=new z.HA();}catch(O){this.sS(u.V.zqb,O);return;}try{this.ff=URL.createObjectURL(this.qg);}catch(O){this.sS(u.V.Aqb,O);return;}try{this.gl.Rwb(this.wTa);this.qg.addEventListener("sourceopen",function(O){return J.QTa(O);});this.qg.addEventListener(this.RGa + "sourceopen",function(O){return J.QTa(O);});this.fa.addEventListener("error",this.Zn.error=function(O){return J.mja(O);});this.fa.addEventListener("seeking",this.Zn.seeking=function(){return J.Nub();});this.fa.addEventListener("seeked",this.Zn.seeked=function(){return J.Mub();});this.fa.addEventListener("timeupdate",this.Zn.timeupdate=function(){return J.Qub();});this.fa.addEventListener("loadstart",this.Zn.loadstart=function(){return J.Jub();});this.fa.addEventListener("volumechange",this.Zn.volumechange=function(O){return J.Sub(O);});this.Ye.addListener(function(){return J.Lub();});this.fa.addEventListener(this.gl.VC,this.Zn[this.gl.VC]=function(){J.Ni.trace(J.gl.VC);J.Kub();});H=this.j.wk;K=H.lastChild;K?H.insertBefore(this.fa,K):H.appendChild(this.fa);n.config.H_a && this.fa.addEventListener("contextmenu",k);this.fa.src=this.ff;l.te.addListener(l.Qr,this.aTa[l.Qr]=function(){return J.PTa();});this.PTa();}catch(O){this.sS(u.V.Bqb,O);}}else this.T2(u.V.IMa);};m.prototype.close=function(){var H;function J(){H.ff && (H.hUa(),l.te.removeListener(l.Qr,H.aTa[l.Qr]),H.Lsb());}H=this;this.Ib.trace("close");this.fa.removeEventListener(this.gl.VC,this.Zn[this.gl.VC]);this.fa.removeEventListener("error",this.Zn.error);this.fa.removeEventListener("seeking",this.Zn.seeking);this.fa.removeEventListener("seeked",this.Zn.seeked);this.fa.removeEventListener("timeupdate",this.Zn.timeupdate);this.fa.removeEventListener("loadstart",this.Zn.loadstart);this.fa.removeEventListener("volumechange",this.Zn.volumechange);this.gl.z4b(this.wTa);n.config.Ks?this.gl.uI().then(function(){return J();}):J();this.gl.Jdb && clearTimeout(this.gl.Jdb);};m.prototype.lC=function(){return this.Ib.lC();};m.prototype.k5b=function(){this.Hm && (this.Ib.trace("resetSeek"),this.Hm=void 0);};m.prototype.Kub=function(){n.config.ujb && this.gl.aaa();};m.prototype.Nia=function(){if(this.fa)return this.fa.getVideoPlaybackQuality && this.fa.getVideoPlaybackQuality() || this.fa.videoPlaybackQuality || this.fa.playbackQuality;};m.prototype.Evb=function(){var J;J=this.j.rh;return (J=J && J.errorCode) && 0 <= [u.V.Z1,u.V.F1].indexOf(J);};m.prototype.Lsb=function(){var J,H;H=!1;n.config.i2b && this.Evb() && (H=!0);n.config.$Bb && !H && (this.fa.removeAttribute("src"),this.fa.load && this.fa.load());URL.revokeObjectURL(this.ff);n.config.H_a && this.fa.removeEventListener("contextmenu",k);!H && this.fa && this.j.wk.removeChild(this.fa);this.qg=void 0;null === (J=this.v3b) || void 0 === J?void 0:J.cancel();this.Ye.set(F.Lk.CA.HAVE_NOTHING);this.fa=void 0;this.ff="";};m.prototype.PTa=function(){!0 === z.Qg.hidden?this.W2.forEach(function(J){J.refresh();J.Z8b();}):this.W2.forEach(function(J){J.refresh();J.q9b();});};m.prototype.X2=function(J){var H;H=q.za.get(w.tMa)(J);this.W2.push(H);return function(){H.refresh();return H.rNb();};};m.prototype.sS=function(J,H){var K,O;K={wa:u.R.Bm,Yb:(0,y.Nf)(H)};try{(O=H.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == O.length && (K.Le=O);}catch(R){}this.j.vd(J,K);};m.prototype.hUa=function(){this.W2.forEach(function(J){J.refresh();});};m.prototype.ztb=function(){return this.fa && this.fa.msGraphicsTrustStatus;};m.prototype.T2=function(J,H){this.j.vd(J,H,void 0);};m.prototype.Oub=function(J){var H,O,R,ca,oa,ta,Fa;if(this.fa){J=J.kda;H=this.ztb();H && (J.ConstrictionActive=H.constrictionActive,J.Status=H.status);try{J.readyState="" + this.fa.readyState;J.currentTime="" + this.fa.currentTime;J.pbRate="" + this.fa.playbackRate;}catch(ua){}H=this.uF.length;for(var K;H--;){K=this.uF[H];O="";K.type == f.L1?O="audio":K.type == f.yR && (O="video");(0,y.de)(J,K.h7(),{prefix:O});}this.qg && (H=this.qg.duration) && !isNaN(H) && (J.duration=H.toFixed(4));if(n.config.WVb)try{R=this.j.re;ca=R && R.Fd;if(ca){oa=ca.expiration;isNaN(oa) || (J.exp=oa);ta=ca.keyStatuses.entries();if(ta.next){Fa=ta.next().value;Fa && (J.keyStatus=Fa[1]);}}}catch(ua){}}};m.prototype.QTa=function(J){!1;this.Gvb || (this.Gvb=!0,this.uj.Fc(D.$h.tgb,J));};m.prototype.Nub=function(){this.Ib.trace("seeking");this.Ni.trace("Video element event: seeking");this.Hm?this.Hm.vZb=!0:(this.Ni.error("unexpected seeking event"),n.config.HKb && this.T2(u.V.Qqb,{Yb:{Trace:this.lC()}}));};m.prototype.Mub=function(){this.Ib.trace("seeked");this.Ni.trace("Video element event: seeked");this.Hm?((0,t.oa)(this.Hm.vZb),this.Hm.uZb=!0,this.IUa()):(this.Ni.error("unexpected seeked event"),n.config.GKb && this.T2(u.V.Pqb,{Yb:{Trace:this.lC()}}));};m.prototype.Qub=function(){var J;this.Ib.trace("timeupdate",null === (J=this.fa) || void 0 === J?void 0:J.currentTime);!1;this.Hm && (this.Hm.wZb=!0,this.IUa());this.uj.Fc(D.$h.io);};m.prototype.Jub=function(){this.Ni.trace("Video element event: loadstart");};m.prototype.Sub=function(J){this.Ni.trace("Video element event:",J.type);try{this.j.volume.set(this.fa.volume);this.j.muted.set(this.fa.muted);}catch(H){this.Ni.error("error updating volume",H);}};m.prototype.Lub=function(){this.uj.Fc(D.$h.$cb);};m.prototype.mja=function(J){var H,K,O,R,ca,oa,ta,Fa;H=this.T2;K=u.V.HMa;O=u.hHa;R=this.lC();ca=J.target;oa=ca && ca.error;ta=J.errorCode;ca=oa && oa.code;(0,A.$c)(ca) || (ca=ta && ta.code);ta=oa && oa.message;Fa=oa && oa.msExtendedCode;(0,A.$c)(Fa) || (Fa=oa && oa.systemCode);(0,A.$c)(Fa) || (Fa=J.systemCode);(0,A.$c)(Fa) || (Fa=(0,I.Mqa)(ta));J=(0,y.de)({},{code:ca,systemCode:Fa,trace:JSON.stringify(R)},{eaa:!0});O={wa:O(ca),Yb:(0,x.fua)(J)};try{ta && (O.xX=ta);}catch(ua){}Fa=(0,y.fj)(Fa);(0,A.Tb)(Fa) && (O.Le=(0,q.ola)(Fa,4));H.call(this,K,O);};m.prototype.IUa=function(){this.Hm && this.Hm.uZb && this.Hm.wZb && (this.Ib.trace("seekcomplete"),this.Hm=void 0,this.uj.Fc(D.$h.eZ));};Ya.Object.defineProperties(m.prototype,{Neb:{configurable:!0,enumerable:!0,get:function(){return n.config.I8b;}}});b.kLa=m;c.prototype.trace=function(J,H){this.Oca.push([J,H]);this.Oca.length > this.kac && this.Oca.shift();};c.prototype.lC=function(){return this.Oca;};},51149:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q){var u;u=this;this.im=p;this.Wt=q;this.gib=function(t){var v,w,y,x,z,A;v=u.whb++;w=t.request.SB || "dl";y=u.J4a(w,"start");if(y){x=t.request.QC.H;if(x && !u.Ggb.has(x)){z=u.X3a(x);A=t.Sw;u.im.mark(y,z,A?w + "-" + A + "-" + v:w);t.Z3(function(){var B,D;B=u.J4a(w,"end");D=A?w + "-" + A + "-" + v:w;B && u.im.mark(B,z,D);});}}};this.whb=0;this.Ggb=new Set();this.oza=new Map();q.TU && this.idc();}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;r=a(5163);m=a(22674);g=a(63156);k=a(77134);d=a(5021);f=a(61726);n=a(34231);h=a(79542);l={start:{video:g.Pa.KQ,audio:g.Pa.GQ},end:{video:g.Pa.JQ,audio:g.Pa.FQ}};c.prototype.Y3a=function(p){var u,t,v,w,y,x,z,A;function q(B){return (0,d.timestamp)(u.GVa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();v=p.yd;w=p.na;y=void 0 === p.Bgb?null:p.Bgb;x=p.H;z=this.im.F3a(w);A=x && this.X3a(x);A && z.push.apply(z,aa(this.im.F3a(A)));this.im.zdb(p.na);A && this.im.zdb(A);x && this.Ggb.add(x);x=[];("pr_ats" in v) && x.push({name:g.Pa.n2,Hs:q(v.pr_ats),na:w,hf:"request-pre-manifest"});("ats" in v) && x.push({name:g.Pa.l2,Hs:q(v.ats),na:w,hf:"request-manifest"});("pr_at" in v) && x.push({name:g.Pa.m2,Hs:q(v.pr_at),na:w,hf:"request-pre-manifest"});("at" in v) && x.push({name:g.Pa.k2,Hs:q(v.at),na:w,hf:"request-manifest"});("lg" in v) && x.push({name:g.Pa.j2,Hs:q(v.lg),na:w,hf:"request-license"});("lr" in v) && (x.push({name:g.Pa.i2,Hs:q(v.lr),na:w,hf:"request-license"}),x.push({name:g.Pa.N_,Hs:q(v.lr),na:w,hf:"apply-license"}));("ld" in v) && x.push({name:g.Pa.M_,Hs:q(v.ld),na:w,hf:"apply-license"});("tt_start" in v) && x.push({name:g.Pa.IQ,Hs:q(v.tt_start),na:w,hf:"request-timed-text"});("tt_comp" in v) && x.push({name:g.Pa.HQ,Hs:q(v.tt_comp),na:w,hf:"request-timed-text"});return x.concat(z).map(function(B){return u.Y$b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,D){return B.ts - D.ts;}).reduce(function(B,D){var C;C=D.eventName;delete D.eventName;C && (B[C]=D);return B;},{});};c.prototype.sxb=function(p,q,u){return (void 0 === u?0:u)?p.ea(d.ma) + q.Wh.ea(d.ma):p.ea(d.ma) - q.Wh.ea(d.ma);};c.prototype.GVa=function(p,q,u){u=void 0 === u?!1:u;if(q.vm)if(u)p.ea(d.ma) + q.vm;else return p.ea(d.ma) - q.vm;return this.sxb(p,q,u);};c.prototype.Y$b=function(p,q){var u,t;u=p.hf;t=p.name;return {eventName:this.VYb(t,u),eventId:u || t,ts:this.GVa(p.Hs,q),comp:this.xV(t),cat:this.bNb(t),step:this.XPb(t)};};c.prototype.VYb=function(p,q){switch(p){case g.Pa.IQ:case g.Pa.HQ:case g.Pa.GQ:case g.Pa.FQ:case g.Pa.KQ:case g.Pa.JQ:return p + "-" + q;default:return p;}};c.prototype.xV=function(p){switch(p){case g.Pa.n2:case g.Pa.m2:case g.Pa.l2:case g.Pa.k2:return "manifest";case g.Pa.j2:case g.Pa.i2:case g.Pa.rha:case g.Pa.qha:case g.Pa.L0:case g.Pa.K0:case g.Pa.N_:case g.Pa.M_:return "license";case g.Pa.IQ:case g.Pa.HQ:case g.Pa.GQ:case g.Pa.FQ:case g.Pa.KQ:case g.Pa.JQ:case g.Pa.Cda:case g.Pa.Bda:return "buffering";case g.Pa.tga:case g.Pa.sga:return "playback";default:return (0,h.rM)(p);}};c.prototype.bNb=function(p){switch(p){case g.Pa.n2:case g.Pa.m2:case g.Pa.l2:case g.Pa.k2:return "aws";case g.Pa.j2:case g.Pa.i2:return "mixed";case g.Pa.tga:case g.Pa.sga:case g.Pa.rha:case g.Pa.qha:case g.Pa.L0:case g.Pa.K0:case g.Pa.N_:case g.Pa.M_:case g.Pa.Cda:case g.Pa.Bda:return "device";case g.Pa.IQ:case g.Pa.HQ:case g.Pa.GQ:case g.Pa.FQ:case g.Pa.KQ:case g.Pa.JQ:return "cdn";default:return (0,h.rM)(p);}};c.prototype.XPb=function(p){switch(p){case g.Pa.n2:case g.Pa.tga:case g.Pa.l2:case g.Pa.j2:case g.Pa.Cda:case g.Pa.IQ:case g.Pa.GQ:case g.Pa.KQ:case g.Pa.rha:case g.Pa.L0:case g.Pa.N_:return "start";case g.Pa.m2:case g.Pa.sga:case g.Pa.k2:case g.Pa.i2:case g.Pa.qha:case g.Pa.K0:case g.Pa.M_:case g.Pa.Bda:case g.Pa.HQ:case g.Pa.FQ:case g.Pa.JQ:return "end";default:return (0,h.rM)(p);}};c.prototype.J4a=function(p,q){if((p in l[q]))return l[q][p];};c.prototype.abc=function(){f.Ne.removeEventListener(f.m8,this.gib);};c.prototype.idc=function(){this.abc();f.Ne.addEventListener(f.m8,this.gib);};c.prototype.X3a=function(p){var q;if(this.oza.has(p))return this.oza.get(p);q=Date.now();this.oza.set(p,q);return q;};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.GR)),r.__param(1,(0,m.l)(n.Kn))],a);b.HLa=a;},27104:function(r,b,a){var g,k,d,f,n,h,l,p,q,u;function c(t,v,w,y,x,z){var A;A=this;this.bh=t;this.config=w;this.Cb=y;this.debug=x;this.PF={};this.O_a=!1;this.VT={};this.Csa=0;this.t7=function(B){var D,C,E;D=B.stream;if(D){B=D.Wb;C=D.bitrate;E=D.ub;}else B=B.track.Wb;return {key:B + "$" + C + "$" + E,Wb:B,bitrate:C,ub:E};};this.V2a=function(B){var D,C,E;C=A.t7(B);E=null === (D=B.Ec) || void 0 === D?void 0:D.id;B=B.track.hf;return Object.assign({},C,{key:C.key + "$" + E + "$" + B,Tm:E,hf:B});};this.ZMb=function(B){var D;D=B.stream;B=null === D || void 0 === D?void 0:D.Wb;D=null === D || void 0 === D?void 0:D.bitrate;return {key:B + "$" + D,Wb:null !== B && void 0 !== B?B:"",TN:D};};this.EQb=function(B){var D;D=B.stream;B=null === D || void 0 === D?void 0:D.Wb;D=null === D || void 0 === D?void 0:D.ub;return {key:B + "$" + D,Wb:null !== B && void 0 !== B?B:"",TN:D};};this.log=v.Za("PlayTimeTracker");this.Caa=z(t);this.zu=z(t);this.Twa=z(t);this.startTime=this.bh.mediaTime.value;this.H9=this.config().jwb;this.KJ();this.PF.abrdel=0;this.H9.forEach(function(B){B="abrdel" + B;A.VT[B]=0;A.PF[B]=0;});}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.XNa=void 0;r=a(5163);g=a(22674);k=a(87386);d=a(4203);f=a(71501);a(5021);n=a(42207);h=a(90597);l=a(33096);p=a(3887);q=a(39551);u=a(30873);m.prototype.encode=function(t){return {downloadableId:t.Wb,correlationId:t.hf,bitrate:t.bitrate,vmaf:t.ub,duration:t.duration,metric:t.TN,cdnId:t.Tm};};m.prototype.decode=function(t){return {Wb:t.downloadableId,hf:t.correlationId,bitrate:t.bitrate,ub:t.vmaf,duration:t.duration,TN:t.metric,Tm:t.cdnId};};c.prototype.Zp=function(t){t=void 0 === t?"content":t;this.AD(this.bh.mediaTime.value);return Math.floor(this.zu.Zp(function(v){return v.track.cD === t;}));};c.prototype.c3a=function(t){this.AD(this.bh.mediaTime.value);return Math.floor(this.zu.Zp(t));};c.prototype.WV=function(t){var v;t=void 0 === t?"content":t;this.AD(this.bh.mediaTime.value);v=this.zu.WV(function(w){return w.track.cD === t;});this.debug.assert(v === Math.floor(v),"Value of totalContentPlayTime is not an integer.");return Math.floor(v);};c.prototype.QMb=function(){this.AD(this.bh.mediaTime.value);return {audio:this.BV(this.Caa,this.V2a),video:this.BV(this.zu,this.V2a)};};c.prototype.kPb=function(){var t,v,w;t=this.Zp("content");v=this.Zp("ads");w=this.Zp("other");t={total:t,totalAdDuration:v,totalOtherDuration:w,totalCombinedDuration:t + v + w,totalContentTime:this.WV("content"),totalStartSlateDuration:this.c3a(function(y){return !0 === y.Lsa;}),totalLiveEdgeDuration:this.c3a(function(y){return !0 === y.fz;}),audio:this.BV(this.Caa,this.t7),video:this.BV(this.zu,this.t7),timedtext:this.BV(this.Twa,this.t7)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.Tpa=function(){var t,v;this.AD(this.bh.mediaTime.value);t=this.zu.Ppa(this.ZMb);try{v=this.w2a(t);}catch(w){return (this.log.warn("Failed to calc average bitrate."),null);}this.PF.abrdel=Math.round(v);return this.PF.abrdel;};c.prototype.x2a=function(){var t,v;this.AD(this.bh.mediaTime.value);t=this.zu.Ppa(this.EQb);try{v=this.w2a(t);}catch(w){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.v2a=function(){var t,v;t=this;if(!this.O_a){v=this.Zp();this.H9.forEach(function(w){var y,x,z;if(0 === t.VT["abrdel" + w] && v > w * l.Qq){y=0;x=0;z=0;t.zu.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > w * l.Qq;});y && (t.VT["abrdel" + w]=Math.round((y - z * (x - w * l.Qq)) / (w * l.Qq)));}});0 !== this.VT["abrdel" + this.H9[this.H9.length - 1]] && (this.O_a=!0);(0,p.bg)(this.VT,function(w,y){t.PF[w]=0 === y?t.PF.abrdel:y;});}return this.PF;};c.prototype.Pwb=function(t){this.Csa+=t;};c.prototype.k8=function(){return this.zu.k8();};c.prototype.KJ=function(){var t;t=this;this.bh.pf.addListener(function(v){t.PL=t.HXa(t.PL,t.Caa,v.newValue);});this.bh.fe.addListener(function(v){t.SL=t.HXa(t.SL,t.zu,v.newValue);});this.bh.playbackRate.addListener(function(v){t.AD(t.bh.mediaTime.value,v.oldValue);});this.bh.gi.addListener(this.JZb.bind(this));};c.prototype.vva=function(t,v){this.AD(t);this.startTime=v;this.SL=this.PL=void 0;this.RL && (this.RL.startTime=this.startTime);!1;};c.prototype.JZb=function(t){this.Twa.Je(this.RL,this.bh.mediaTime.value);this.RL=(t=t.newValue)?{track:t,startTime:this.bh.mediaTime.value,endTime:f.Ex}:void 0;};c.prototype.AD=function(t,v){v=void 0 === v?this.bh.playbackRate.value:v;t && this.PL && this.SL && (t=Math.min(t,this.PL.endTime,this.SL.endTime),this.Caa.Je(this.PL,t,v),this.PL.startTime=t,this.zu.Je(this.SL,t,v),this.SL.startTime=t,this.RL && (this.Twa.Je(this.RL,t,v),this.RL.startTime=t),this.startTime=t,!1);};c.prototype.HXa=function(t,v,w){var y;t && v.Je(t,Math.min(t.endTime,this.bh.mediaTime.value));if(w && w.stream){t=w.EL;v=w.stream;y=this.bh.xd;return {Ec:w.Ec,track:v.track,stream:v,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Lsa:y.Z?y.hC(t.endTime) === u.Us.VR:void 0,fz:y.Z?y.dW():void 0};}};c.prototype.BV=function(t,v){return t.Ppa(v,"content").map(function(w){return new m().encode(w);});};c.prototype.w2a=function(t){var v,w,y;v=this;w=0;t.forEach(function(x){if(v.Cb.wg(x.duration) && v.Cb.wg(x.TN))w+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!w)return 0;y=0;t.forEach(function(x){y+=x.TN * x.duration / w;});return y;};a=c;a=r.__decorate([(0,g.U)(),r.__param(1,(0,g.l)(k.$a)),r.__param(2,(0,g.l)(d.Zb)),r.__param(3,(0,g.l)(n.$f)),r.__param(4,(0,g.l)(h.vx)),r.__param(5,(0,g.l)(q.Yga))],a);b.XNa=a;},24722:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q;function c(J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va,S,ma,Ja,Na,Za,V,la,ra,N,ha,xa,$a,ab,db){this.Yy=J;this.xB=H;this.Ea=K;this.va=O;this.mzb=R;this.VAa=ca;this.mX=oa;this.lua=ta;this.JN=Fa;this.kd=ua;this.wh=ya;this.Di=Ca;this.sL=Va;this.pY=S;this.Vh=ma;this.uBa=Ja;this.Of=Na;this.im=Za;this.ke=V;this.Rwa=la;this.P4b=ra;this.Tka=N;this.MH=ha;this.Dwa=xa;this.eka=$a;this.nAb=ab;this.oL=db;}Object.defineProperty(b,"__esModule",{value:!0});b.cOa=void 0;r=a(5163);m=a(62665);g=a(22674);k=a(45842);d=a(11479);f=a(81918);n=a(30869);h=a(12826);l=a(37104);p=a(24273);q=a(73449);u=a(66476);t=a(79274);v=a(52531);w=a(24550);y=a(91622);x=a(61861);z=a(78388);A=a(45118);B=a(74870);D=a(92205);C=a(77134);E=a(93367);G=a(85405);F=a(2160);I=a(49745);P=a(50889);M=a(70068);L=a(33258);c.prototype.create=function(J,H,K,O,R,ca,oa,ta){return new (a(18128).eOa)(J,H,ca,oa,O,R,this.Yy,K,this.Ea,this.xB,this.va,this.mX,this.mzb,this.VAa,this.lua,this.JN,this.kd,this.wh,this.Di,this.sL,this.pY,this.Vh,this.uBa,this.Of,this.ke,this.Rwa,this.im,this.P4b(),this.Tka,this.MH,this.Dwa,this.eka,this.nAb,void 0,ta);};Q=c;Q=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(m.Cx)),r.__param(1,(0,g.l)(d.Zh)),r.__param(2,(0,g.l)(f.Kc)),r.__param(3,(0,g.l)(n.hg)),r.__param(4,(0,g.l)(h.eEa)),r.__param(5,(0,g.l)(k.KE)),r.__param(6,(0,g.l)(l.Yfa)),r.__param(7,(0,g.l)(p.ZKa)),r.__param(8,(0,g.l)(q.vR)),r.__param(9,(0,g.l)(u.NE)),r.__param(10,(0,g.l)(t.PR)),r.__param(11,(0,g.l)(v.EE)),r.__param(12,(0,g.l)(y.nEa)),r.__param(13,(0,g.l)(x.Xga)),r.__param(14,(0,g.l)(I.yE)),r.__param(15,(0,g.l)(z.xRa)),r.__param(16,(0,g.l)(A.Al)),r.__param(17,(0,g.l)(C.GR)),r.__param(18,(0,g.l)(B.Fh)),r.__param(19,(0,g.l)(D.fOa)),r.__param(20,(0,g.l)(E.xPa)),r.__param(21,(0,g.l)(G.ADa)),r.__param(22,(0,g.l)(F.dga)),r.__param(23,(0,g.l)(P.zNa)),r.__param(24,(0,g.l)(M.YCa)),r.__param(25,(0,g.l)(L.oea)),r.__param(26,(0,g.l)(w.yQ)),r.__param(26,(0,g.optional)())],Q);b.cOa=Q;},18128:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va;function c(S,ma,Ja,Na,Za,V,la,ra,N,ha,xa,$a,ab,db,ub,Ma,cb,kb,sb,pb,Ab,Eb,Kb,Nb,Qb,Ib,Pb,Rb,Yb,ic,Ac,Pc,Yd,Lf,Zd){var Cb,Mf;function gf(xb){xb.newValue && xb.newValue.stream && (Cb.fe.removeListener(gf),Cb.B8=xb.newValue.stream.bitrate);}function hf(xb){xb.newValue !== O.kb.If && xb.newValue !== O.kb.Sg && (Cb.Ab.removeListener(hf),Cb.dz=Cb.va.MI,Cb.Kb.Fc(O.ha.wu));}function jf(xb){xb.newValue !== O.kb.If && (Cb.Ab.removeListener(jf),Cb.pl=!0,Cb.oY=Cb.va.se.ea(C.ma),Cb.Kb.Fc(O.ha.pl));}Cb=this;this.tb=Za;this.Wj=V;this.Yy=la;this.Ea=N;this.xB=ha;this.va=xa;this.mX=$a;this.lua=ub;this.JN=Ma;this.kd=cb;this.wh=kb;this.Di=sb;this.sL=pb;this.pY=Ab;this.Vh=Eb;this.uBa=Kb;this.Of=Nb;this.ke=Qb;this.Rwa=Ib;this.im=Pb;this.Pdb=Rb;this.Tka=Yb;this.MH=ic;this.Dwa=Ac;this.eka=Pc;this.Mla=Yd;this.oL=Lf;this.Obb=[];this.sq=new Map();this.H5a=new Map();this.ac=new q.Jb(null);this.Og=new q.Jb(null);this.Nb=new q.Jb(null);this.gi=new q.Jb(null);this.Ou=new q.Jb(void 0);this.Ue=new q.Jb(null);this.Vg=new q.Jb(null);this.mediaTime=new q.Jb(void 0);this.playbackRate=new ua.jOa(1,u.config.xua);this.background=new q.Jb(!0);this.fbc=function(xb){return Cb.ac.set(xb.newValue);};this.Obc=function(xb){return Cb.Og.set(xb.newValue);};this.Lbc=function(xb){return Cb.Nb.set(xb.newValue);};this.dbc=function(xb){return Cb.gi.set(xb.newValue);};this.Kbc=function(xb){return Cb.Ou.set(xb.newValue);};this.Nbc=function(xb){return Cb.Ue.set(xb.newValue);};this.ebc=function(xb){return Cb.Vg.set(xb.newValue);};this.Bbc=function(xb){return Cb.fe.set(xb.newValue);};this.Abc=function(xb){return Cb.pf.set(xb.newValue);};this.ybc=function(xb){return Cb.mediaTime.set(xb.newValue);};this.gbc=function(xb){return Cb.background.set(xb.newValue);};this.$P=function(xb){return Cb.playbackRate.set(xb.newValue);};this.Bo={};this.Jya=this.kBa=0;this.Kb=new t.Xj();this.kda={};this.yZ=this.Ebb=this.pl=!1;this.VD=new q.Jb(void 0);this.state=new q.Jb(O.Xb.lK);this.Ei=new q.Jb(!1);this.paused=new q.Jb(!1);this.muted=new q.Jb(!1);this.volume=new q.Jb(u.config.QGb / 100);this.Ab=new q.Jb(O.kb.If);this.Xd=new q.Jb(O.uf.me);this.pr=new q.Jb(O.uf.me);this.rm=new q.Jb(O.uf.me);this.pf=new q.Jb(null);this.fe=new q.Jb(null);this.Gla=new q.Jb(null);this.n8=(0,l.FIa)(this);this.Ec=[new q.Jb(null),new q.Jb(null)];this.pla={};this.dM=!1;this.cb=this.xh=-1;this.WG=function(xb,$b){var Qc;xb=void 0 === xb?null:xb;return (0,M.Tb)(xb)?$b && !Cb.$i($b).W?xb:(null === (Qc=Cb.eb) || void 0 === Qc?0:Qc.Ih)?Cb.eb.Yma(xb):xb:null;};this.TX=function(){Cb.oAa();};this.jWb=this.OB=S;this.addEventListener=this.Kb.addListener;this.removeEventListener=this.Kb.removeListener;this.fireEvent=this.Kb.Fc;this.qka({J:S,H:Na,bb:Ja || ({})},u.config.ss?this.kd.au(S):void 0,ma);this.log=(0,D.Nh)(this);this.E_a=ra(this);this.lzb=ab(this);this.wk=(0,H.createElement)("DIV",p.lha,void 0,{id:this.O});this.uSb();this.Gc=this.log.F5("Playback");(0,k.QNa)(this);y.MA.j$a=this;y.MA.vpa || (y.MA.vpa=this);this.Gc.info("Playback created",this.Ag);this.A8a?this.Gc.info("Playback selected for trace playback info logging"):this.Gc.trace("Playback not selected for trace playback info logging");u.config.ss && (this.kd.TQb(this.O),this.addEventListener(O.ha.wu,function(){Cb.kd.VQb(Cb.O);Cb.Nb.addListener(function(){Cb.kd.V4a();});Cb.ac.addListener(function(){Cb.kd.V4a();});}),this.addEventListener(O.ha.ug,function(){Cb.kd.SQb(Cb.O);}));this.state.addListener(function(xb){Cb.Gc.info("Playback state changed",{From:xb.oldValue,To:xb.newValue});(0,G.oa)(xb.newValue > xb.oldValue);});w.te.addListener(w.cl,this.TX,p.mga);Mf=db((0,C.zh)(1));this.mediaTime.addListener(function(){Cb.vLb();Mf.yh(function(){return Cb.H1a();});});this.Ab.addListener(function(xb){Cb.Gc.info("PresentingState changed",{From:xb.oldValue,To:xb.newValue,MediaTime:(0,F.mh)(Cb.mediaTime.value)},Cb.pu());});this.Ab.addListener(function(){Cb.Ei.set(Cb.Ab.value === O.kb.Ie);});this.Xd.addListener(function(xb){Cb.Gc.info("BufferingState changed",{From:xb.oldValue,To:xb.newValue,MediaTime:(0,F.mh)(Cb.mediaTime.value)},Cb.pu());});this.pr.addListener(function(xb){Cb.Gc.info("AV BufferingState changed",{From:xb.oldValue,To:xb.newValue,MediaTime:(0,F.mh)(Cb.mediaTime.value)},Cb.pu());});this.rm.addListener(function(xb){Cb.Gc.info("Text BufferingState changed",{From:xb.oldValue,To:xb.newValue,MediaTime:(0,F.mh)(Cb.mediaTime.value)},Cb.pu());});this.ac.addListener(function(xb){(0,G.oa)(xb.newValue && xb.newValue.dg);Cb.Gc.info("AudioTrack changed",xb.newValue && ({ToBcp47:xb.newValue.Ae,To:xb.newValue.trackId}),xb.oldValue && ({FromBcp47:xb.oldValue.Ae,From:xb.oldValue.trackId}),{MediaTime:(0,F.mh)(Cb.mediaTime.value)});});this.Nb.addListener(function(xb){(0,G.oa)(!xb.newValue || xb.newValue.dg);Cb.Gc.info("TimedTextTrack changed",xb.newValue?{ToBcp47:xb.newValue.Ae,To:xb.newValue.trackId}:{To:"none"},xb.oldValue?{FromBcp47:xb.oldValue.Ae,From:xb.oldValue.trackId}:{From:"none"},{MediaTime:(0,F.mh)(Cb.mediaTime.value)});});this.Ab.addListener(jf,p.nK);this.Ab.addListener(hf);this.addEventListener(O.ha.wu,function(){Cb.yZ=!0;Cb.Bgb=Cb.dU();Cb.ue("start");});this.fe.addListener(gf);(0,B.aOa)(this);y.Dm.push(this);u.config.JY && (this.waa=this.Rwa(this),this.Aaa=new z.lOa(this));y.Rga.forEach(function(xb){xb(Cb);});this.Xwb=function(){Cb.addEventListener(O.ha.qD,function(xb){var $b;xb=xb.ic;xb !== O.pc.Ts && xb !== O.pc.HE && (null === ($b=Cb.eb) || void 0 === $b?void 0:$b.stop());});Cb.addEventListener(O.ha.Kj,function(xb){var $b,Qc,kf,Nf,Hc,$d,Of,ae,lf,Pf;Cb.Pdb.Kj(xb);kf=xb.ic;Nf=xb.skip;Hc=xb.y$;$d=xb.Ava;Of=xb.O;ae=xb.zr;Cb.da.ol.vva($d,Hc);if(kf !== O.pc.HE && kf !== O.pc.Ts)if(Nf){if(null !== ($b=Cb.eb) && void 0 !== $b && $b.ji(Hc)){Cb.Gc.trace("Repositioned. Skipping from " + $d + " to " + Hc);xb=function(ac){Cb.log.error("streamingSession.skipped threw an exception",ac);ac=R.Qc.Kpa(E.V.Nkb,ac);Cb.xs(ac.code,ac);};try{Cb.eb.XI(Hc).then(function(ac){var Rc;ac.pN || (null === (Rc=Cb.eb) || void 0 === Rc?void 0:Rc.play());}).catch(xb);}catch(ac){xb(ac);}}else Cb.log.error("can skip returned false");}else {Cb.Gc.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=Cb.tb.I7(Cb.da);Pf=Object.keys(lf.aa).find(function(ac){var Rc;ac=lf.aa[ac];return ac.J === Of && ac.hb <= ae && (null !== (Rc=ac.wb) && void 0 !== Rc?Rc:Infinity) > ae;});null === (Qc=Cb.eb) || void 0 === Qc?void 0:Qc.l6b(ae,Pf);}catch(ac){Cb.log.error("streamingSession.seekByContentPts threw an exception",ac);Hc=R.Qc.Kpa(E.V.Lkb,ac);Cb.xs(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var xb,$b;if(null === (xb=Cb.eb) || void 0 === xb?0:xb.Ih)null === ($b=Cb.eb) || void 0 === $b?void 0:$b.b1b();});this.addEventListener(O.ha.oy,function(xb){var $b;xb.ic == y.Oga && (Cb.Xd.set(O.uf.me),null === ($b=Cb.eb) || void 0 === $b?void 0:$b.xm(Cb.ae.Z2a()));});Zd && (this.da.W=Zd,this.Vh.DZ(S,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.eOa=void 0;m=a(5163);g=a(50040);k=a(86258);d=a(20318);f=a(66093);n=a(11953);h=a(73585);l=a(24427);p=a(33096);q=a(81734);u=a(29204);t=a(94886);v=a(42654);w=a(37509);y=a(13044);x=a(59032);z=a(62439);A=a(79014);B=a(39480);D=a(31276);C=a(5021);E=a(36129);G=a(45146);F=a(8825);I=a(3887);P=a(32219);M=a(32687);L=a(73056);Q=a(45266);J=a(16520);H=a(52569);K=a(72639);O=a(85001);R=a(31149);ca=a(43422);oa=a(78719);ta=a(35128);Fa=a(13494);ua=a(65361);ya=a(79048);Ca=a(24066);Va=a(26388);c.prototype.ue=function(S,ma){var Ja;ma=void 0 === ma?this.OB:ma;null === (Ja=this.sq.get(ma)) || void 0 === Ja?void 0:Ja.ue(S);};c.prototype.Zy=function(S){this.da.Zy(S);};c.prototype.c8=function(){var S;return !(null === (S=this.W) || void 0 === S || !S.Ca.Vm);};c.prototype.dN=function(){var S,ma,Ja;return !(null === (Ja=null === (ma=null === (S=this.W) || void 0 === S?void 0:S.Ca.Pm) || void 0 === ma?void 0:ma.pe.length) || void 0 === Ja || !Ja);};c.prototype.uSb=function(){var S;S=this;this.ac.addListener(function(ma){return S.da.ac.set(ma.newValue);});this.Og.addListener(function(ma){return S.da.Og.set(ma.newValue);});this.Nb.addListener(function(ma){return S.da.Nb.set(ma.newValue);});this.gi.addListener(function(ma){return S.da.gi.set(ma.newValue);});this.Ou.addListener(function(ma){return S.da.Ou.set(ma.newValue);});this.Ue.addListener(function(ma){return S.da.Ue.set(ma.newValue);});this.Vg.addListener(function(ma){return S.da.Vg.set(ma.newValue);});this.fe.addListener(function(ma){return S.da.fe.set(ma.newValue);});this.pf.addListener(function(ma){return S.da.pf.set(ma.newValue);});this.Ec[Va.u.Y].addListener(function(ma){return S.da.Ec[Va.u.Y].set(ma.newValue);});this.Ec[Va.u.X].addListener(function(ma){return S.da.Ec[Va.u.X].set(ma.newValue);});this.mediaTime.addListener(function(ma){return S.da.mediaTime.set(ma.newValue);});this.background.addListener(function(ma){return S.da.background.set(ma.newValue);});this.playbackRate.addListener(function(ma){return S.da.playbackRate.set(ma.newValue);});this.reb();};c.prototype.reb=function(){var S;S=this;this.da !== this.pza && (this.da.mediaTime.set(this.mediaTime.value),this.da.background.set(this.background.value),this.da.playbackRate.set(this.playbackRate.value),this.Zo(function(ma){return ma.ac;},this.fbc),this.Zo(function(ma){return ma.Og;},this.Obc),this.Zo(function(ma){return ma.Ou;},this.Kbc),this.Zo(function(ma){return ma.Nb;},this.Lbc),this.Zo(function(ma){return ma.gi;},this.dbc),this.Zo(function(ma){return ma.Ue;},this.Nbc),this.Zo(function(ma){return ma.Vg;},this.ebc),this.Zo(function(ma){return ma.pf;},this.Abc),this.Zo(function(ma){return ma.fe;},this.Bbc),this.Zo(function(ma){return ma.Ec[Va.u.Y];},function(ma){return S.Ec[Va.u.Y].set(ma.newValue);}),this.Zo(function(ma){return ma.Ec[Va.u.X];},function(ma){return S.Ec[Va.u.X].set(ma.newValue);}),this.Zo(function(ma){return ma.mediaTime;},this.ybc),this.Zo(function(ma){return ma.background;},this.gbc),this.Zo(function(ma){return ma.playbackRate;},this.$P),this.Nb.set(this.da.Nb.value),this.ac.set(this.da.ac.value,{g4:!0}),this.Og.set(this.da.Og.value),this.gi.set(this.da.gi.value),this.Ou.set(this.da.Ou.value),this.Ue.set(this.da.Ue.value),this.Vg.set(this.da.Vg.value),this.pza=this.da);};c.prototype.Zo=function(S,ma){this.pza && S(this.pza).removeListener(ma);S(this.da).addListener(ma);};c.prototype.XAb=function(){var S;return !(null === (S=this.Zc) || void 0 === S?0:S.Ml.value);};c.prototype.load=function(S){var ma,Ja;ma=this;this.load=function(){};this.Rbb=S;if(this.state.value == O.Xb.lK){this.Gc.info("Playback loading",this);this.cZb();this.ue("asl_load_start");Ja=this.xB;S=Ja.startTime;Ja=Ja.endTime;(0,M.$c)(S)?(0,M.$c)(Ja)?this.ue("asl_ended"):this.ue("asl_in_progress"):this.ue("asl_not_started");this.xB.ZW(function(Na){ma.ue("asl_load_complete");Na.pa?ma.SEb():ma.xs(Na.errorCode || E.V.ofa,Na);});}};c.prototype.B1b=function(){!1;try{this.state.value === O.Xb.LOADING && (this.mjb(),this.Pl=this.sL.uxb({jA:(0,C.Ob)(this.jb),O:this.O,dD:this.yy,bb:this.bb,ZC:this.bb.yg?u.config.fwa:u.config.ZC,xd:this.xd}).ea(C.ma),this.Pka(),this.VFb());}catch(S){this.xs(E.V.vob,{wa:E.R.Bm,Yb:(0,I.Nf)(S)});}};c.prototype.mjb=function(){var S,ma,Ja;Ja={width:1,height:1};this.mC({tjb:!0}).forEach(function(Na){Ja.width * Ja.height < Na.width * Na.height && (Ja={width:Na.width,height:Na.height});});Ja.height === (null === (S=this.VD.value) || void 0 === S?void 0:S.height) && Ja.width === (null === (ma=this.VD.value) || void 0 === ma?void 0:ma.width) || this.VD.set(Ja);};c.prototype.Gw=function(){var S,ma;!1;ma=this.tb.I7(this);this.sZa(ma);null === (S=this.eb) || void 0 === S?void 0:S.QD(ma);};c.prototype.UH=function(S){var ma,Ja;!1;(0,G.oa)(this.eb,"ASE should be initialized");Ja=this.tb.JV(S);Ja?S === this.tb.ph?this.eb.f5(Ja,!0) || this.aW(Ja,{}):null === (ma=this.eb) || void 0 === ma?void 0:ma.Sj(S,Ja,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.aW=function(S,ma,Ja){var Na,Za,V,la,ra;Na=this;Ja=void 0 === Ja?!0:Ja;!1;la=this.tb.Pr(S);if(this.Di.bda && this.tb.da.J === la.J)return Promise.resolve(this.ae.seek(la.hb,O.pc.Nx,void 0));la=this.Wj.bN(la.J);ma=(0,Q.e$)(la.sb,ma);if(null === (Za=this.eb) || void 0 === Za || !Za.Ih)throw (!1,Error("No streaming session"));!1;this.FF("Transition " + this.tb.ph + "->" + S);ra=this.$i(S);ra.vm=this.Ea.Lb().ea(C.ma);ra.bb=ma;return "seamless" !== (null !== (V=this.tb.Pr(S).Cd) && void 0 !== V?V:"seamless") || Ja?(this.eb.KV(S).aU?this.FQb(S,ra.O):this.dZ(S,ra.O)).then(function(){Na.TLb(ra.O);}):Promise.resolve();};c.prototype.dZ=function(S,ma){var Ja;Ja=this.tb.uk.aa[S].hb;!1;this.FF("NO DATA " + S + ", SEEKING " + Ja + ", viewableId: " + ma);return Promise.resolve(this.ae.seek(Ja,O.pc.Nx,S,!0));};c.prototype.FQb=function(S,ma){var Ja,Na,Za,V,la;Ja=this;!1;Na=this.eb;if(null === Na || void 0 === Na || !Na.Ih)throw Error("No streaming session");Za=new Promise(function(ra){function N(){!1;Na.removeEventListener("stop",N);ra();}Na.addEventListener("stop",N);});V=!1;la=new Promise(function(ra){function N(xa){!1;Ja.removeEventListener(O.ha.Kj,N);V=xa.skip;ra();}function ha(){!1;Ja.removeEventListener(O.ha.qD,ha);Na.stop();}Ja.addEventListener(O.ha.qD,ha);Ja.addEventListener(O.ha.Kj,N);});Za=Promise.all([Za,la]).then(function(){var ra;ra=!1;V && (ra=Na.f5(S,!1));if(!ra)return (Ja.FF("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Ja.dZ(S,ma));});la=Na.$ma(S,this.tb.uk.aa[S].hb);!1;this.ae.seek(la,O.pc.HE,S,!0);return Za;};c.prototype.qka=function(S,ma,Ja){var Na,Za,V,la,ra,N,ha,xa;ma=void 0 === ma?this.Yy.LB():ma;Ja=void 0 === Ja?this.Ea.Lb():Ja;V=!!u.config.Mjb && !(ma % u.config.Mjb);la=S.J;ra=S.H;N=S.bb;ha=S.Kf;if(this.sq.has(la))ma=this.sq.get(la);else {ma=this.pY(y.MA.index++,la,ra,N,ma,Ja,V,this.da,this.WG,ha,this);this.sq.set(la,ma);1 < this.sq.size && (ma.IN=this.JN.create(this,ma,!1,this.WG));ma.SN=new x.zLa(this,ma);xa=null === ha || void 0 === ha?void 0:ha.bc;(S=S.fzb) || (S=null === (Za=null === (Na=this.da.W) || void 0 === Na?void 0:Na.Ip) || void 0 === Za?void 0:Za.find(function($a){return $a.Ca.O === la && (void 0 === xa || $a.Ca.bc === xa);}));S && this.Raa(S,ma);1 < this.sq.size && this.Vh.a8(ma.O) && this.Yaa(ma);}};c.prototype.rZa=function(S,ma,Ja,Na){var Za,V,la,ra,N,ha,xa,$a,ab,db;Za=this;!1;$a={rN:!0,yg:!1,ND:Date.now()};(0,G.oa)(ma.Jf,"Auxiliary viewable config request options must have auxiliary options");ab=ma.Jf;ma=ab.bc;ab=ab.Gd;if(this.h8(ab)){db=null === (V=this.lk(ab).W) || void 0 === V?void 0:V.Ca;V={bc:ma,cY:this.Ad,Gd:ab,iY:db};(0,G.oa)(null === (la=this.eb) || void 0 === la?void 0:la.Bj,"If we have auxiliary viewables combined playgraph must exist");if(null === (N=null === (ra=this.eb) || void 0 === ra?void 0:ra.Bj) || void 0 === N?0:N.aa)(la=Object.keys(null === (xa=null === (ha=this.eb) || void 0 === ha?void 0:ha.Bj) || void 0 === xa?void 0:xa.aa).find(function(ub){var Ma,cb;return (null === (cb=null === (Ma=Za.eb) || void 0 === Ma?void 0:Ma.Bj) || void 0 === cb?void 0:cb.aa[ub].J) === S;}),(0,G.oa)(!!la,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.qka({fzb:Na,Kf:V,bb:$a,H:la,J:S},Ja));}};c.prototype.h8=function(S){return !!this.sq.has(S);};c.prototype.h5a=function(S){try{return (this.$i(S),!0);}catch(ma){return !1;}};c.prototype.lk=function(S){if(S === ya.Tq)return this.da;if(!this.sq.has(S))throw Error("Playback segment not found: " + S);return this.sq.get(S);};c.prototype.$i=function(S){var ma,Ja,Na;a:{for(var Za=ja(this.dI),V=Za.next();!V.done;V=Za.next())if((V=V.value,V.H === S)){Za=V;break a;}Za=void 0;}return Za?Za:(null === (Ja=null === (ma=this.eb) || void 0 === ma?void 0:ma.Bj) || void 0 === Ja?0:Ja.aa[S])?(S=null === (Na=this.eb) || void 0 === Na?void 0:Na.Bj.aa[S].J,this.eua.O === S && (Za=this.eua),null !== Za && void 0 !== Za?Za:this.lk(S)):this.da;};c.prototype.mPb=function(S){for(var ma,Ja,Na=ja(this.dI),Za=Na.next();!Za.done;Za=Na.next())if((Za=Za.value,(null === (Ja=null === (ma=Za.re) || void 0 === ma?void 0:ma.Fd) || void 0 === Ja?void 0:Ja.sessionId) === S))return Za;return this.da;};c.prototype.n3a=function(S){return this.H5a.get(S);};c.prototype.Yaa=function(S){var ma,Ja;ma=this;!1;Ja=S.O;this.Wj.h7b(Ja);return this.kZ(S).then(function(Na){ma.Raa(Na,S);Na=S.oH?ma.Gb.gl.Qdb(S):Promise.resolve();ma.M1b(S);return Na.then(function(){return ma.Wj.ofb(Ja);});}).catch(function(Na){ma.log.error("queueManifest failed",Na);ma.Wj.g7b(Ja,Na);throw ma.wh(Na.code,Na);});};c.prototype.Yw=function(S,ma){var Ja,Na,Za,V,la;Ja=this;(0,G.oa)(ma.Jf,"auxiliaryOptions must exist if an adBreak hydration was requested");Na=ma.Jf;Za=Na.bc;V=Na.Gd;(0,G.oa)(!!Za,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;ma=this.lk(ma.Jf.Gd);Na=K.Bl.On;la={rN:!0,yg:!1,ND:Date.now()};return this.Vh.qo({na:ma.na,bb:la,J:ma.O,Lr:Na,Ef:void 0,WP:void 0,Kf:{oh:S,bc:Za,Gd:V,cY:ma.Ad}},!1).then(function(ra){var N,ha;ra.Ip.forEach(function(xa){Ja.H5a.set(xa.Ca.O,xa);});if(null === (N=ra.Ca.Pm) || void 0 === N || !N.pe.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (V + ", adBreakToken: " + S));return null === (ha=ra.Ca.Pm) || void 0 === ha?void 0:ha.pe[0];});};c.prototype.RMb=function(){if((0,M.Tb)(this.yd.ats) && (0,M.Tb)(this.yd.at))return this.yd.at - this.yd.ats;};c.prototype.B2a=function(){var S,ma;S=this.t_();ma=this.NT();return Math.min(S,ma);};c.prototype.zP=function(){this.background.value || (this.Gc.info("Starting inactivity monitor for movie " + this.O),new v.mJa(this));};c.prototype.close=function(S){S && (this.state.value == O.Xb.CLOSED?S():this.addEventListener(O.ha.closed,function(){S();}));this.oAa();};c.prototype.vd=function(S,ma,Ja){S=this.wh(S,ma,Ja);this.YF(S,void 0);};c.prototype.YF=function(S,ma){var Ja,Na,Za,V;Ja=this;!1;(0,E.G0)(S.errorCode,S.wa,this.Ea.Lb().qa(this.Wh).ea(C.ma),null === (Na=this.ae) || void 0 === Na?void 0:Na.hw()) || this.Mla.add(this.va.se,null === (Za=this.re) || void 0 === Za?void 0:Za.EV(),S.errorCode,S.wa,S.Le);S.Afb(this.pl);if(this.state.value == O.Xb.lK)this.rh || (this.rh=S,this.load());else {ma && (this.state.value == O.Xb.CLOSED?ma():this.addEventListener(O.ha.closed,function(){ma();}));Na=function(){Ja.oAa(S);};Za=u.config.r_a && S && u.config.r_a[S.errorCode];V=-1;(0,M.xN)(Za) && (V=(0,I.fj)(Za));this.Gc.error("Fatal playback error",{Error:"" + S,HandleDelay:"" + Za});0 <= V?setTimeout(Na,V):Na();}};c.prototype.FF=function(S){var ma;ma=void 0 === ma?this.H:ma;S=this.Ea.Lb().ea(C.ma) + "-" + ma + "-" + S;!1;this.Obb.push(S);};c.prototype.GLb=function(){this.H1a();};c.prototype.Qqa=function(){var S;if(null === (S=this.eb) || void 0 === S?0:S.Ih)if((S=this.eb.ro().id,void 0 !== S))return S;return null;};c.prototype.jC=function(){var S,ma;ma=null === (S=this.eb) || void 0 === S?void 0:S.Ih;return void 0 === this.da.rU || ma?this.WG(this.mediaTime.value):this.da.rU;};c.prototype.Pqa=function(){var S;S=this.WG(this.ae.Z2a());return null === S?null:Math.min(this.yy.ea(C.ma),Math.max(0,S));};c.prototype.vV=function(){var S,ma;return null === (ma=null === (S=this.W) || void 0 === S?void 0:S.Ca.Op) || void 0 === ma?void 0:ma.aa;};c.prototype.Yca=function(S){!1;this.bb=(0,Q.e$)(this.bb,S);this.Pka();};c.prototype.tra=function(S){return (null === S || void 0 === S?0:S.J)?S.J:(null === S || void 0 === S?0:S.tjb) && this.ZF?this.ZF.J === ya.Tq?(S=this.ZF.wc) && this.eb && this.eb.Bj?this.eb.Bj.aa[S].J:this.O:this.ZF.J:this.O;};c.prototype.NMb=function(){var S;S=this.lk(this.tra(void 0)).ac;return S.value?S.value.streams:[];};c.prototype.mC=function(S){return (S=this.lk(this.tra(S)).Og) && S.value?S.value.streams:[];};c.prototype.$4a=function(S){for(var ma=ja(this.dI),Ja=ma.next();!Ja.done;Ja=ma.next())if(Ja=(Ja=Ja.value.tg) && Ja.find(function(Na){return Na.id === S;}))return Ja;!1;};c.prototype.M1b=function(S){S=void 0 === S?this.da:S;!1;S.Nb.value?this.Hn.Zbb(S.Nb.value):Promise.resolve();};c.prototype.W4a=function(S){for(var ma=ja(this.dI),Ja=ma.next();!Ja.done;Ja=ma.next()){Ja=ja(Ja.value.ii);for(var Na=Ja.next();!Na.done;Na=Ja.next())if(Na=Na.value.streams.find(function(Za){return Za.Wb === S;}))return Na;}!1;};c.prototype.l5a=function(S){for(var ma=ja(this.dI),Ja=ma.next();!Ja.done;Ja=ma.next()){Ja=ja(Ja.value.lx);for(var Na=Ja.next();!Na.done;Na=Ja.next())if(Na=(Na=Na.value) && Na.streams.find(function(Za){return Za.Wb === S;}))return Na;}!1;};c.prototype.lRb=function(S){for(var ma=ja(this.dI),Ja=ma.next();!Ja.done;Ja=ma.next())if(Ja.value.Ad === S)return !0;return !1;};c.prototype.Nt=function(){var S,ma,Ja;return null !== (Ja=null === (ma=null === (S=this.Aaa) || void 0 === S?void 0:S.tU) || void 0 === ma?void 0:ma.call(S)) && void 0 !== Ja?Ja:this.aFb().q1a;};c.prototype.Ofb=function(S){var ma,Ja;null !== (ma=this.eb) && void 0 !== ma && ma.Ih && this.sq.has(S) && ((null === (Ja=this.Aaa) || void 0 === Ja?0:Ja.tU)?this.Aaa.Rib():(ma=this.jna(S),this.eb.Zba(ma,S)));};c.prototype.$Tb=function(){return "trailer" === this.Md;};c.prototype.bTb=function(){return !!this.Md && 0 <= this.Md.indexOf("billboard");};c.prototype.fUb=function(){return !!this.Md && 0 <= this.Md.indexOf("video-merch");};c.prototype.ETb=function(){return !!this.Md && 0 <= this.Md.indexOf("mini-modal");};c.prototype.uN=function(){return this.$Tb() || this.bTb() || this.fUb() || this.ETb();};c.prototype.n7=function(){var S,ma,Ja;ma={tjb:!0};if((null === (S=this.lk(this.tra(ma)).W) || void 0 === S || !S.Ca.Dsa) && this.lx){this.mC(ma).forEach(function(Na){var Za,V;if((0,M.Tb)(Na.kna) && (0,M.Tb)(Na.NZa) && (0,M.Tb)(Na.MZa) && (0,M.Tb)(Na.LZa) && (0 < Na.kna || 0 < Na.NZa)){Za=1;V=1;(0,M.Tb)(Na.tbb) && (0,M.Tb)(Na.ubb) && (Za=Na.tbb,V=Na.ubb);Za=Na.LZa * V / (Na.MZa * Za);Ja=(0,M.Tb)(Ja)?0 < Na.kna?Math.max(Ja,Za):Math.min(Ja,Za):Za;}});return Ja;}};c.prototype.GPb=function(){return {tr:this.kBa,rt:this.Jya};};c.prototype.SM=function(S){return this.Bo[S];};c.prototype.Ola=function(){return this.vm?this.Ea.Lb().ea(C.ma) - this.vm:this.va.se.ea(C.ma) - this.IG();};c.prototype.dU=function(){var S;if(this.vm)return this.Ea.Lb().ea(C.ma) - this.vm;S=this.Ea.nz;return this.oY - (this.Wh.ea(C.ma) + S.ea(C.ma));};c.prototype.Pla=function(){return this.vm?this.Ea.Lb().ea(C.ma) - this.vm:this.oY - this.IG();};c.prototype.XMb=function(){var S,ma;S=this.loadTime;ma={};(0,I.bg)(this.pla,function(Ja,Na){ma[Ja]=Na.map(function(Za){return Za - S;});});return f.Rv?{level:f.Rv.x3a(),charging:f.Rv.aqa(),statuses:ma}:null;};c.prototype.W7=function(){this.G1a();return this.kda;};c.prototype.IG=function(){var S;S=this.bb.ND;S=(0,M.Tb)(S)?S:this.Wh.ea(C.ma) + this.Ea.nz.ea(C.ma);(0,G.oa)((0,M.BC)(S));return S;};c.prototype.l4a=function(){return this.Ea.Lb().ea(C.ma) - this.Wh.ea(C.ma);};c.prototype.Xcc=function(){this.r8b=!0;};c.prototype.I$=function(){this.qdb();};c.prototype.t_=function(){var S;S=this.pL();return S && S.vbuflmsec || 0;};c.prototype.NT=function(){var S;S=this.pL();return S && S.abuflmsec || 0;};c.prototype.B$b=function(){var S;S=this.pL();return S && S.tbuflmsec || 0;};c.prototype.eCa=function(){var S;S=this.pL();return S && S.vbuflbytes || 0;};c.prototype.Zka=function(){var S;S=this.pL();return S && S.abuflbytes || 0;};c.prototype.A$b=function(){var S;S=this.pL();return S && S.tbuflbytes || 0;};c.prototype.kZ=function(S,ma,Ja){var Na,Za,V,la;Na=this;S=void 0 === S?this.da:S;Ja=void 0 === Ja?!0:Ja;!1;Za=!!ma;V=!Za && S !== this.da;la=u.config.Waa.enabled?K.Bl.irb:V?K.Bl.oK:this.uN()?K.Bl.v2:K.Bl.On;Za=this.uN() || Za || V?void 0:this.Gb.gl.A7(V);return this.Vh.qo({na:S.na,bb:S.bb,J:S.O,Lr:la,Ef:Za,WP:ma,Kf:S.Kf},S.Kf?!1:Ja).then(function(ra){ra.Msa && Na.fireEvent(O.ha.WW,{O:S.O});return ra;});};c.prototype.Raa=function(S,ma,Ja){var Na,Za,V;ma=void 0 === ma?this.da:ma;Ja=void 0 === Ja?!1:Ja;!1;if(ma.bb.yg && !S.Ca.Op)this.vd(E.V.vlb);else {Na=this.mX.create(this);Za=!!(ma.Kf && ma.Kf.bc && ma.Kf.iY);if(Ja){V=Na.PRb(ma.W,ma.Dc,S);S=V.W;V=V.Dc;}else (S=Za?Na.W5b(S,null === (V=ma.Kf) || void 0 === V?void 0:V.iY):S,V=Na.bbb(S));ma.W=S;ma.Dc=V;Ja || (ma.Og.set(V.U5),ma.ac.set(V.BU),ma.Nb.set(V.CU));ma.xd.Z && ma.xd.A2b();}};c.prototype.TLb=function(S){var ma;ma=void 0 === ma?!1:ma;!1;this.II({J:S,kH:ma});};c.prototype.b5a=function(S,ma){if(!this.Di.$Ba)return !0;S=this.tq.ea(C.ma) - S;return 0 > S || S > ma;};c.prototype.w5b=function(){!1;this.ae.seek(this.jC() || 0,O.pc.J0);};c.prototype.F5a=function(S,ma){var Ja,Na;Ja=this;!1;Na=this.da;Na.e6=!0;return this.kZ(Na,{cY:Na.Ad,e5b:S,h5b:ma},!1).then(function(Za){var V;Ja.Raa(Za,Na,!0);Ja.Vh.DZ(Na.O,Na.W);return null === (V=Ja.eb) || void 0 === V?void 0:V.aQ(Ja.Nbb);}).then(function(){var Za,V;Za=Na.ii.find(function(la){return la.trackId === S;});V=Na.fh.find(function(la){return la.trackId === ma;});if(!(Za && Za.dg && V && V.dg))throw Error("Track hydration failed: requiredAudioTrackId=" + S + " requiredTextTrackId=" + ma);Ja.fireEvent(O.ha.kib);return {ac:Za,SZ:V};});};c.prototype.no=function(){return this.Zc;};c.prototype.II=function(S){var ma,Ja,Na;ma=S.J;Ja=S.kH;S=S.ZF;!1;S !== this.ZF && (this.ZF=S,this.mjb());if(this.HO){if(ma === this.OB){this.HO=ma;return;}S=this.lk(ma);Na=S.W;Na && (0,M.$c)(Na.zI) && (0,M.$c)(Na.ZO) && S.Zy({pr_ats:Na.zI,pr_at:Na.ZO});this.fireEvent(O.ha.kua,{O:this.OB});this.OB=ma;this.Pka();Ja || this.reb();this.dz=this.va.MI;this.da.vm || (this.da.vm=this.Ea.Lb().ea(C.ma));}("boolean" === typeof this.bb.kM?this.bb.kM:u.config.kM) && !Ja && this.uBa.kM(this);Ja={O:ma,kH:Ja,HO:this.HO};this.HO=ma;this.fireEvent(O.ha.EH,Ja);};c.prototype.SEb=function(){!1;try{this.Gb=new n.kLa(this);this.x5=new ca.BFa(this);this.IN=this.JN.create(this,this.da,!0,this.WG);u.config.aBb && new oa.lHa(this,this.Of,this.log);u.config.hU && this.hU(this);this.qcc();}catch(S){this.xs(E.V.uob,{wa:E.R.Bm,Yb:(0,I.Nf)(S)});}};c.prototype.qcc=function(){!1;this.rh?this.YF(this.rh):(0,M.Wsa)(this.O)?this.CBb():this.xs(E.V.rob,{Yb:"" + this.O});};c.prototype.CBb=function(){var S;!1;S=g.bJ.gfb;S?S.pa?this.zma():this.xs(E.V.fJa,S):((0,G.oa)(!u.config.v6),this.$ja());};c.prototype.zma=function(){var S;S=this;!this.background.value && u.config.zma?(0,y.Qga)(function(){S.$ja();},this):this.$ja();};c.prototype.$ja=function(){var S;S=this;!1;this.state.value == O.Xb.LOADING && (u.config.zoa && !this.uN()?g.bJ.Cp(y.$Na,function(ma){ma.pa?(S.F9=ma.F9,S.xWa()):S.xs(E.V.eJa);},!0):this.xWa());};c.prototype.xWa=function(){var S,ma,Ja;S=this;if(this.state.value == O.Xb.LOADING){this.log.info("Authorizing",this);ma=this.Ea.Lb().ea(C.ma);this.ue("ats");(0,G.TL)(this.O);(0,G.TL)(this.Vj);Ja=this.G2b.bind(this,ma);Promise.all([this.W,u.config.ss && this.Vh.a8(this.O)?this.Vh.i7(this.O).catch(function(){}):void 0]).then(function(Na){var Za,V;Za=ja(Na);Na=Za.next().value;Za=Za.next().value;Na && Za?V=Za.Ca.expiration > Na.Ca.expiration?Za:Na:Na?V=Na:Za && (V=Za);V && 18E5 > V.Ca.expiration - (0,Ca.yma)() && (V=void 0);return V?(S.TF=V === Na?"ui":"videopreparer",V):S.kZ();}).then(function(Na){try{S.Raa(Na);Ja(p.ig);S.Ebb || (S.Ebb=!0,S.Dwa.kj(S));}catch(Za){S.log.error("Exception processing authorization response",Za);Ja({pa:!1,wa:E.R.Tqb});}}).catch(Ja);}};c.prototype.G2b=function(S,ma){var Ja,Na;Ja=this;!1;if(this.state.value == O.Xb.LOADING){this.ue("at");Na=this.W;this.Zy({pr_ats:Na && (0,M.$c)(Na.zI)?Na.zI:S,pr_at:Na && (0,M.$c)(Na.ZO)?Na.ZO:this.Ea.Lb().ea(C.ma)});ma.pa?0 < this.Dc.tg.length && this.Dc.BU && this.Dc.U5 && this.Dc.CU?this.Rbb?(this.log.info("Processing post-authorize",this),this.Rbb(this,function(Za){Za.pa?Ja.Uib():Ja.xs(E.V.yob,Za);})):this.Uib():this.xs(E.V.GKa,this.lua(this.Dc)):this.xs(E.V.wE,ma);}};c.prototype.Uib=function(){var S,ma;m.__awaiter(this,void 0,void 0,function Na(){var Za;Za=this;return La(Na,function(V){!1;if(Za.state.value != O.Xb.LOADING)return V.return();(null === (S=Za.da.W) || void 0 === S?0:S.Ca.Op) && Za.tb.reset((0,ya.e5)(null === (ma=Za.da.W) || void 0 === ma?void 0:ma.Ca.Op,{config:u.config}));Za.eb=Za.Tka(Za.tb,Za);Za.eb.Q7b({Fp:d.Fp,config:u.config,ke:Za.ke,Gc:Za.Gc,pu:Za.pu.bind(Za),Zi:D.Zi,oZ:Za.oZ.bind(Za),II:Za.II.bind(Za)});Za.B1b();V.Bw=0;});});};c.prototype.VFb=function(){var S,ma,Ja,Na,Za,V,la;S=this;!1;try{if(this.state.value === O.Xb.LOADING){this.Gb.open();ma=new Promise(function(ra){S.Gb.addEventListener(J.$h.tgb,ra);});this.ae=new L.sLa(this);Ja=this.Dc.BU.Bh === ta.hp.NONE;Na={Rjb:this.Dc.BU.vo || Ja};Za={na:this.na,Lg:this.hf,WB:this.WB};try{if(this.state.value !== O.Xb.LOADING)return;V=this.eb;V.rW({flags:Na,PZa:Za,H:this.Nbb,jna:this.jna.bind(this)});la=this.tb.I7(this);this.sZa(la);V.QD(la);this.Xwb();V.yzb({Bo:this.Bo,loadTime:this.loadTime});this.Zc=this.eka(V,this);this.Zc.Ml.addListener(function(ra){ra.newValue?(S.Hn.wRb(),u.config.ss && S.kd.U4a()):S.Hn.t8b();});this.Zc.addEventListener(O.R_.rB,function(){S.kd.U4a();});}catch(ra){throw (this.log.error("Failed to initialize ASE streaming",{error:ra,startPts:this.jb,flags:Na}),ra);}ma.then(function(){var ra;S.state.value !== O.Xb.CLOSING && S.state.value !== O.Xb.CLOSED && (null === (ra=S.eb) || void 0 === ra?void 0:ra.open());});this.mediaTime.set(this.jb);this.Hn=new h.jRa(this);if("boolean" === typeof this.bb.hba?this.bb.hba:u.config.hba)this.XZ=new A.kRa(this);this.zP();y.Sga.forEach(function(ra){ra(S);});this.bZb();}}catch(ra){this.xs(E.V.wob,{wa:E.R.Bm,Yb:(0,I.Nf)(ra)});}};c.prototype.cZb=function(){(0,G.oa)(this.state.value == O.Xb.lK);this.loadTime=this.Ea.Lb().ea(C.ma);this.state.set(O.Xb.LOADING);};c.prototype.xs=function(S,ma){this.done || (this.done=!0,ma instanceof R.Qc?this.vd(ma.code,ma):this.vd(S,ma));};c.prototype.hU=function(S){var Ja,Na;function ma(){var Za,V;Za=f.Rv.aqa() + "";V=S.pla[Za];V || (V=S.pla[Za]=[]);V.push(Ja.Ea.Lb().ea(C.ma));Ja.log.trace("charging change event",{level:f.Rv.x3a(),charging:f.Rv.aqa()});}Ja=this;Na=f.Rv.Ylb;f.Rv.addEventListener(Na,ma);S.addEventListener(O.ha.ug,function(){f.Rv.removeEventListener(Na,ma);});};c.prototype.oAa=function(S){var ma,Ja;ma=this;if(this.state.value == O.Xb.lK || this.state.value == O.Xb.LOADING || this.state.value == O.Xb.oe){this.Gc.info("Playback closing",this,S?{ErrorCode:S.g6}:void 0);this.FF("Closing");w.te.removeListener(w.cl,this.TX);this.rh=S;this.da.rU=this.jC();this.G1a();(null === (Ja=this.eb) || void 0 === Ja?0:Ja.Ih) && this.eb.flush();try{this.Kb.Fc(O.ha.ug,{movieId:this.OB});}catch(Na){this.Gc.error("Unable to fire playback closing event",Na);}this.state.set(O.Xb.CLOSING);this.Kkb();this.r8b || (0,P.Mf)(function(){return ma.qdb();});}};c.prototype.vLb=function(){this.Kb.Fc(O.ha.Qib);};c.prototype.H1a=function(){var S;S=this.mediaTime.value;this.NUb != S && (!1,this.NUb=S,this.Kb.Fc(O.ha.WAa));};c.prototype.qdb=function(){var S,ma;S=this;(0,G.oa)(this.state.value == O.Xb.CLOSING);ma=this.F9;this.F9=void 0;ma?g.bJ.release(ma,function(Ja){(0,G.oa)(Ja.pa);S.Gma();}):this.Gma();};c.prototype.Kkb=function(){var S;null === (S=this.eb) || void 0 === S?void 0:S.Ce();delete this.eb;};c.prototype.Gma=function(){var S;this.Gma=p.Ix;(0,G.oa)(this.state.value == O.Xb.CLOSING);S=y.Dm.indexOf(this);(0,G.oa)(0 <= S);y.Dm.splice(S,1);this.state.set(O.Xb.CLOSED);this.Kb.Fc(O.ha.closed,void 0,!0);this.Kb.Gg();delete this.re;this.da.I$();};c.prototype.Pka=function(){this.bb.playbackState && ("number" === typeof this.bb.playbackState.volume && this.volume.set((0,F.Kx)(this.bb.playbackState.volume,0,1)),"boolean" === typeof this.bb.playbackState.muted && this.muted.set(this.bb.playbackState.muted),"number" === typeof this.bb.playbackState.playbackRate && this.playbackRate.set(this.bb.playbackState.playbackRate));};c.prototype.G1a=function(){this.Kb.Fc(O.ha.bgb,{kda:this.kda});};c.prototype.oZ=function(S,ma,Ja){ma=this.$4a(ma);S=this.$i(S);ma && S.Ec[Ja].set(ma);};c.prototype.pu=function(){return {AudioBufferLength:this.NT(),VideoBufferLength:this.t_()};};c.prototype.pL=function(){var S;if(null === (S=this.eb) || void 0 === S?0:S.Ih)return this.eb.y6a();};c.prototype.bZb=function(){this.state.value == O.Xb.LOADING && this.state.set(O.Xb.oe);};c.prototype.aFb=function(){var S,ma,Ja;S=void 0 === S?this.O:S;ma=this.mC({J:S});Ja=this.lk(S);return (0,Fa.Nt)(ma,function(Na){return Ja.SN.$z(Na);});};c.prototype.jna=function(S){var ma,Ja;S=void 0 === S?this.O:S;ma=this.mC({J:S});Ja=this.lk(S);return (0,Fa.N4a)(ma,function(Na){return Ja.SN.$z(Na);});};c.prototype.sZa=function(S){var ma;ma=this;Object.keys(S.aa).filter(function(Ja){return !ma.sq.has(S.aa[Ja].J);}).forEach(function(Ja){var Na,Za,V;Za=S.aa[Ja];V=Za.J;Za=Object.assign(null !== (Na=ma.Wj.bN(V).sb) && void 0 !== Na?Na:{},{jb:Za.hb,kf:Za.wb,yg:!1,ND:Date.now(),rN:!0});ma.qka({J:V,H:Ja,bb:Za});});};Ya.Object.defineProperties(c.prototype,{dI:{configurable:!0,enumerable:!0,get:function(){return this.sq.values();}},da:{configurable:!0,enumerable:!0,get:function(){return this.sq.get(this.OB);}},eua:{configurable:!0,enumerable:!0,get:function(){return this.lk(this.jWb);}},jb:{configurable:!0,enumerable:!0,get:function(){var S,ma;return void 0 !== this.Pl?this.Pl:null !== (ma=null === (S=this.dI.next()) || void 0 === S?void 0:S.value.bb.jb) && void 0 !== ma?ma:0;}},Dc:{configurable:!0,enumerable:!0,get:function(){return this.da.Dc;},set:function(S){this.da.Dc=S;}},V6:{configurable:!0,enumerable:!0,get:function(){return this.da.bb.V6;}},W6:{configurable:!0,enumerable:!0,get:function(){return this.da.bb.W6;}},index:{configurable:!0,enumerable:!0,get:function(){return this.da.index;}},H:{configurable:!0,enumerable:!0,get:function(){return this.da.H;}},Nbb:{configurable:!0,enumerable:!0,get:function(){return this.tb.aCa?this.tb.ph:this.da.H;}},re:{configurable:!0,enumerable:!0,get:function(){return this.da.re;},set:function(S){this.da.re=S;}},vm:{configurable:!0,enumerable:!0,get:function(){return this.da.vm;},set:function(S){this.da.vm=S;}},TF:{configurable:!0,enumerable:!0,get:function(){return this.da.TF;},set:function(S){this.da.TF=S;}},SF:{configurable:!0,enumerable:!0,get:function(){return this.da.SF;},set:function(S){this.da.SF=S;}},B8:{configurable:!0,enumerable:!0,get:function(){return this.da.B8;},set:function(S){this.da.B8=S;}},W:{configurable:!0,enumerable:!0,get:function(){return this.da.W;},set:function(S){this.da.W=S;}},Pl:{configurable:!0,enumerable:!0,get:function(){return this.da.Pl;},set:function(S){this.da.Pl=S;}},NZ:{configurable:!0,enumerable:!0,get:function(){return this.da.NZ;},set:function(S){this.da.NZ=S;}},bb:{configurable:!0,enumerable:!0,get:function(){return this.da.bb;},set:function(S){this.da.bb=S;}},IN:{configurable:!0,enumerable:!0,get:function(){return this.da.IN;},set:function(S){this.da.IN=S;}},ol:{configurable:!0,enumerable:!0,get:function(){return this.da.ol;}},O:{configurable:!0,enumerable:!0,get:function(){return this.da.O;}},Md:{configurable:!0,enumerable:!0,get:function(){return this.da.Md;}},ii:{configurable:!0,enumerable:!0,get:function(){return this.da.ii;}},lx:{configurable:!0,enumerable:!0,get:function(){return this.da.lx;}},gA:{configurable:!0,enumerable:!0,get:function(){return this.da.gA;}},fh:{configurable:!0,enumerable:!0,get:function(){return this.da.fh;}},Ad:{configurable:!0,enumerable:!0,get:function(){return this.da.Ad;}},oH:{configurable:!0,enumerable:!0,get:function(){return this.da.oH;}},Bu:{configurable:!0,enumerable:!0,get:function(){return this.da.Bu;}},Wk:{configurable:!0,enumerable:!0,get:function(){return this.da.Wk;}},tg:{configurable:!0,enumerable:!0,get:function(){return this.da.tg;}},yy:{configurable:!0,enumerable:!0,get:function(){return this.da.yy;},set:function(S){this.da.yy=S;}},na:{configurable:!0,enumerable:!0,get:function(){return this.da.na;}},Vj:{configurable:!0,enumerable:!0,get:function(){return this.da.Vj;}},Wh:{configurable:!0,enumerable:!0,get:function(){return this.da.Wh;}},dz:{configurable:!0,enumerable:!0,get:function(){return this.da.dz;},set:function(S){this.da.dz=S;}},hf:{configurable:!0,enumerable:!0,get:function(){return this.da.hf;}},NI:{configurable:!0,enumerable:!0,get:function(){return this.da.NI;}},vU:{configurable:!0,enumerable:!0,get:function(){return this.da.vU;}},yd:{configurable:!0,enumerable:!0,get:function(){return this.da.yd;}},Kp:{configurable:!0,enumerable:!0,get:function(){return this.da.Kp;}},foa:{configurable:!0,enumerable:!0,get:function(){return this.da.foa;}},SN:{configurable:!0,enumerable:!0,get:function(){return this.da.SN;}},WB:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.i6 && 0 === this.da.na % u.config.i6;}},e6:{configurable:!0,enumerable:!0,get:function(){return this.da.e6;}},xd:{configurable:!0,enumerable:!0,get:function(){return this.da.xd;}},sna:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},Ag:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.O,TrackingId:this.Vj,Xid:this.na};}},Eaa:{configurable:!0,enumerable:!0,get:function(){return this.tb.Eaa;}}});b.eOa=c;},52200:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y;function c(x,z,A,B,D,C){var E;E=this;this.j=x;this.Vk=z;this.n_=A;this.Ch=B;this.vZ=D;this.Zm=C;this.WZa={};this.update=function(){var G;if(E.Uo.selectionStart == E.Uo.selectionEnd){G="";E.DV().forEach(function(F){G=G?G + "\n":"";Object.entries(F).forEach(function(I){var P;P=ja(I);I=P.next().value;P=P.next().value;G+=I + ": " + P + "\n";});});E.Uo.style.fontSize=(0,k.Kx)((0,f.iK)(E.element.clientHeight / 60),8,18) + "px";E.Uo.value=G;}};this.b_b=function(){var G,F;if(E.j.ae){F=E.j.ae.NG();F && (E.mna=F - (null !== (G=E.aib) && void 0 !== G?G:0),E.aib=F,E.jO());}};this.jO=function(){E.n_.yh(E.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == l.EA.smb || G.keyCode == l.EA.Q) && E.toggle();};this.Bbb=[x.mediaTime,x.Ec[q.u.Y],x.Ec[q.u.X],x.pf,x.fe,x.Vg,x.Ue,x.gi,x.state,x.pr,x.Ab,x.volume,x.muted];this.element=this.Ch.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Uo=this.Ch.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Uo);this.controls=this.Ch.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.Ch.createElement("button",void 0,"X");z.addEventListener("click",function(){return E.lw();},!1);this.controls.appendChild(z);g.te.addListener(g.nC,this.onkeydown);x.addEventListener(h.ha.ug,function(){g.te.removeListener(g.nC,E.onkeydown);E.lw();});}Object.defineProperty(b,"__esModule",{value:!0});b.gOa=void 0;m=a(13044);g=a(37509);k=a(8825);d=a(77705);f=a(22365);n=a(32687);h=a(85001);l=a(43193);p=a(5021);q=a(26388);u=a(45247);r={};t=(r[h.Xb.lK]="Not Loaded",r[h.Xb.LOADING]="Loading",r[h.Xb.oe]="Normal",r[h.Xb.CLOSING]="Closing",r[h.Xb.CLOSED]="Closed",r);r={};v=(r[h.uf.oe]="Normal",r[h.uf.me]="Pre-buffering",r[h.uf.NPa]="Network stalled",r);r={};w=(r[h.kb.If]="Waiting for decoder",r[h.kb.Ie]="Playing",r[h.kb.Sg]="Paused",r[h.kb.Nq]="Media ended",r);y=[h.ha.vX];c.prototype.b7b=function(x){this.WZa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.uW=qb.setInterval(this.b_b,1E3),document.body.appendChild(this.element),this.Bbb.forEach(function(z){z.addListener(x.jO);}),y.forEach(function(z){x.j.addEventListener(z,x.jO);}),this.visible=!0,this.Zm.JZ().then(function(z){x.Ira=z;x.jO();}));this.update();};c.prototype.lw=function(){var x;x=this;this.visible && (clearInterval(this.uW),this.aib=this.mna=void 0,document.body.removeChild(this.element),this.Bbb.forEach(function(z){z.removeListener(x.jO);}),y.forEach(function(z){x.j.removeEventListener(z,x.jO);}),this.n_.yh(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.lw():this.show();};c.prototype.DV=function(){var x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va,S,ma,Ja,Na,Za,V,la,ra,N,ha,xa,$a,ab,db,ub,Ma,cb,kb,sb,pb,Ab,Eb,Kb,Nb,Qb,Ib,Pb;x=this;R=[];ca=this.Vk();R.push({Version:"6.0044.603.911",Esn:ca?ca.hk:"UNKNOWN",PBCID:this.j.hf,UserAgent:f.BE});try{oa=this.j.mediaTime.value;ta={MovieId:this.j.O,PackageId:null === (A=null === (z=this.j.W) || void 0 === z?void 0:z.Ca) || void 0 === A?void 0:A.yn,Xid:this.j.na + " (" + m.Dm.map(function(Rb){return Rb.na;}).join(", ") + ")",Position:(0,k.mh)(oa),Duration:(0,k.mh)(this.j.yy.ea(p.ma)),PlayerDuration:(0,k.mh)(this.j.tq.ea(p.ma)),Volume:(0,f.Mn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.Qqa()};if(this.j.bb.yg || this.j.bb.rN)ta["Segment Position"]=(0,k.mh)(this.j.jC());if(this.j.xd.Z){ta["Is Live"]="true";ta["Live Event Slate"]=this.j.xd.hC();ta["Is At Live Edge"]="" + this.j.xd.fz();ta["Adjusted Live Edge Target"]=(0,k.mh)(this.j.xd.Zt());ta["Live Adjusted Duration"]=(0,k.mh)(this.j.xd.L4a());ta["Live Adjusted Playback Position"]=(0,k.mh)(this.j.xd.T7());ta["Live Event Time Playback Position"]=this.j.xd.NNb();Fa=[q.u.X,q.u.Y,q.u.Da].reduce(function(Rb,Yb){var ic,Ac,Pc;Pc=null === (Ac=null === (ic=x.j.eb) || void 0 === ic?void 0:ic.vw) || void 0 === Ac?void 0:Ac[Yb];Rb[(0,u.KH)(Yb)]=Pc?{encoderRegion:Pc.YB,encoderTag:Pc.ZB}:void 0;return Rb;},{});ta["Live Logging Info"]=JSON.stringify(Fa);}R.push(ta);}catch(Rb){}try{R.push({"Player state":t[this.j.state.value],"Buffering state":v[this.j.pr.value],"Rendering state":w[this.j.Ab.value]});}catch(Rb){}try{ua=this.j.eCa() + this.j.Zka();ya=this.j.pf.value;Ca=null === ya || void 0 === ya?void 0:ya.stream;Va=this.j.fe.value;S=null === Va || void 0 === Va?void 0:Va.stream;ma=null !== (B=null === Ca || void 0 === Ca?void 0:Ca.bitrate) && void 0 !== B?B:"?";Ja=S?S.bitrate + " (" + S.width + "x" + S.height + ")":"?";Na=null !== (D=null === Ca || void 0 === Ca?void 0:Ca.Wb) && void 0 !== D?D:"?";Za=null !== (C=null === S || void 0 === S?void 0:S.Wb) && void 0 !== C?C:"?";V=null !== (E=null === S || void 0 === S?void 0:S.ub) && void 0 !== E?E:"?";la=null !== (F=null === (G=this.j.Ue.value) || void 0 === G?void 0:G.ub) && void 0 !== F?F:"?";ra=null !== (P=null === (I=this.j.Vg.value) || void 0 === I?void 0:I.bitrate) && void 0 !== P?P:"?";N=null !== (L=null === (M=this.j.Ue.value) || void 0 === M?void 0:M.bitrate) && void 0 !== L?L:"?";ha=this.j.Ec[q.u.X].value;xa=this.j.Ec[q.u.Y].value;R.push({"Playing bitrate (a/v)":ma + " / " + Ja,"Playing/Buffering vmaf":V + "/" + la,"Buffering bitrate (a/v)":ra + " / " + N,"Buffer size in Bytes (a/v)":this.j.Zka() + " / " + this.j.eCa(),"Buffer size in Bytes":"" + ua,"Buffer size in Seconds (a/v)":(0,k.mh)(this.j.NT()) + " / " + (0,k.mh)(this.j.t_()),"Downloadables (a/v)":Na + " / " + Za,"Current CDN (a/v)":(xa?xa.name + ", Id: " + xa.id:"?") + " / " + (ha?ha.name + ", Id: " + ha.id:"?")});}catch(Rb){}try{$a=this.j.pf.value;z={};if($a && $a.stream){ab=$a.stream;db=ab.track;ub=this.vZ.B5(db.streams);Ma=ab.wd;cb=(/xheaac/).test(Ma)?"xhe-aac":(/heaac/).test(Ma)?"he-aac":(/ddplus/).test(Ma)?"ddplus":"unknown";(/atmos/).test(Ma) && (cb+=", atmos");z["Audio Track"]=db.Ae + ", Id: " + db.trackId + ", Channels: " + db.channels + ", Codec: " + ub + " (" + cb + ")";z["Audio Tags"]=null === (Q=$a.stream) || void 0 === Q?void 0:Q.Hi.toString();}kb=this.j.fe.value;if(kb && kb.stream){sb=kb.stream;pb=this.vZ.I5(this.j.Og.value?this.j.Og.value.streams:[]);Ab=sb.wd;Eb=(/hevc/).test(Ab)?"hevc":(/vp9/).test(Ab)?"vp9":(/h264hpl/).test(Ab)?"avchigh":(/av1/).test(Ab)?"av1":"avc";(/hdr/).test(Ab) && (Eb+=", hdr");(/dv/).test(Ab) && (Eb+=", dv");(/prk/).test(Ab) && (Eb+=", prk");z["Video Track"]="Codec: " + pb + " (" + Eb + ")";z["Video Tags"]=null === (J=kb.stream) || void 0 === J?void 0:J.Hi.toString();}Kb=this.j.gi.value;z["Timed Text Track"]=Kb?Kb.Ae + ", Profile: " + Kb.profile + ", Id: " + Kb.trackId + ", DownloadableId: " + Kb.Wb:"none";R.push(z);}catch(Rb){}try{Nb=this.j.ae;Qb=this.j.Ue.value?this.j.Ue.value.framerate:0;Ib=a(99732).J8a;R.push({Framerate:Qb.toFixed(3),"Current Dropped Frames":(0,n.Tb)(this.mna)?this.mna:"","Total Frames":Nb.hw(),"Total Dropped Frames":Nb.NG(),"Total Corrupted Frames":Nb.zV(),"Main Thread stall/sec":Ib?Ib.y7().join(" "):"DISABLED",KeySystem:null === (H=this.j.re) || void 0 === H?void 0:H.EV(),KeyStatus:null === (O=null === (K=this.j.re) || void 0 === K?void 0:K.u3a) || void 0 === O?void 0:O.call(K),VideoDiag:(0,d.fua)(this.j.W7()),"HDR support":this.Ira?this.Ira.result + " (" + this.Ira.reason + ")":"unknown"});}catch(Rb){}try{R.push({Throughput:this.j.cb + " kbps"});}catch(Rb){}Pb=void 0;try{Object.entries(this.WZa).forEach(function(Rb){var Yb;Yb=ja(Rb);Rb=Yb.next().value;Yb=Yb.next().value;Pb=Pb || ({});Pb[Rb]=JSON.stringify(Yb);});Pb && R.push(Pb);}catch(Rb){}return R;};b.gOa=c;},25138:function(r,b,a){var g,k,d,f;function c(n,h,l,p){this.na=n;this.b5b=h;this.la=l;this.ag=p;this.yd={};}function m(n,h){this.Ff=n;this.ag=h;this.ce={};this.la=n.Za("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$qb=b.iOa=void 0;r=a(5163);g=a(22674);k=a(87386);d=a(81918);f=a(5021);m.prototype.g4b=function(n,h){this.ce[n] && this.la.warn("registerPlayback: xid " + n + " already registered, overriding");h=(h?h:this.ag.Lb()).ea(f.ma);this.la.trace("registerPlayback: xid " + n + " at " + h);this.ce[n]=new c(n,h,this.la,this.ag);return this.ce[n];};m.prototype.lPb=function(n){this.ce[n] || this.la.warn("getPlaybackMilestones: xid " + n + " is not registered");return this.ce[n];};m.prototype.C4b=function(n){this.la.trace("removePlayback: xid " + n);delete this.ce[n];};a=m;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.$a)),r.__param(1,(0,g.l)(d.Kc))],a);b.iOa=a;c.prototype.Dp=function(n,h){h=h?h.ea(f.ma):this.ag.Lb().ea(f.ma) - this.b5b;this.la.trace("addMilestone: xid " + this.na + " " + n + " at " + h);this.yd[n]=h;};b.$qb=c;},81889:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wga=void 0;a.prototype.mua=function(c){c=void 0 === c?{}:c;return {Vj:c.trackingId,F4:c.authParams,mm:c.sessionParams,Md:c.uiLabel,dda:c.uxLabels,Vna:c.disableTrackStickiness,ND:c.uiPlayStartTime,V6:c.forceAudioTrackId,W6:c.forceTimedTextTrackId,yg:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,kM:c.enableTrickPlay,Kra:c.heartbeatCooldown,rN:c.isPlaygraph,E9:c.loadImmediately || !1,pbb:c.pin,sY:c.preciseSeeking,jb:c.startPts,kf:c.endPts,dj:c.logicalEnd,hba:c.renderTimedText,b1a:c.extraManifestParams,Xka:c.assetId,Lyb:c.audioLanguages,D$b:c.textLanguages,Pjb:c.videoLanguage,yn:c.packageId,x_a:c.desiredDownloadables,Aya:c.requestReference,lxb:c.additionalAudioAssets,pxb:c.additionalTextAssets};};b.Wga=a;},65361:function(r,b,a){var m,g;function c(k,d){k=m.Jb.call(this,k) || this;k.xua=d;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.jOa=void 0;m=a(81734);g=a(8825);ea(c,m.Jb);c.prototype.set=function(k){m.Jb.prototype.set.call(this,(0,g.Kx)(k,0,this.xua));};b.jOa=c;},37025:function(r,b,a){var m,g;function c(k,d,f,n,h,l,p,q,u,t,v,w,y,x){this.index=k;this.O=d;this.H=f;this.bb=n;this.na=h;this.Wh=l;this.A8a=p;this.TCb=u;this.P9a=v;this.Kf=y;this.ac=new m.Jb(null);this.Og=new m.Jb(null);this.Nb=new m.Jb(null);this.gi=new m.Jb(null);this.Ou=new m.Jb(void 0);this.Ue=new m.Jb(null);this.Vg=new m.Jb(null);this.pf=new m.Jb(null);this.fe=new m.Jb(null);this.Ec=[new m.Jb(null),new m.Jb(null)];this.mediaTime=new m.Jb(void 0);this.playbackRate=new m.Jb(1);this.Kp=new m.Jb(null);this.background=new m.Jb(!1);this.TF=this.SF="notcached";this.e6=!1;q && (this.Ue.set(q.Ue.value),this.Vg.set(q.Vg.value));this.ol=t(this);this.im=this.P9a.g4b(this.na,this.Wh);this.xd=w(this,x);}Object.defineProperty(b,"__esModule",{value:!0});b.kOa=void 0;m=a(81734);g=a(5021);c.prototype.ue=function(k){this.im.Dp(k);};c.prototype.Zy=function(k){var d;d=this;Object.entries(k).forEach(function(f){var n;n=ja(f);f=n.next().value;n=n.next().value;d.im.Dp(f,(0,g.Ob)(n - d.Wh.ea(g.ma)));});};c.prototype.I$=function(){this.P9a.C4b(this.na);};Ya.Object.defineProperties(c.prototype,{Md:{configurable:!0,enumerable:!0,get:function(){return this.bb.Md;}},dda:{configurable:!0,enumerable:!0,get:function(){return this.bb.dda;}},Wk:{configurable:!0,enumerable:!0,get:function(){return this.Dc && this.Dc.Wk;}},ii:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.Dc && this.Dc.ii) && void 0 !== k?k:[];}},lx:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.Dc && this.Dc.lx) && void 0 !== k?k:[];}},gA:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.Dc && this.Dc.gA) && void 0 !== k?k:[];}},fh:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.Dc && this.Dc.fh) && void 0 !== k?k:[];}},Ad:{configurable:!0,enumerable:!0,get:function(){return this.Dc && this.Dc.Ad;}},oH:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.Dc && this.Dc.oH) && void 0 !== k?k:!1;}},Bu:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.Dc && this.Dc.Bu) && void 0 !== k?k:[];}},tg:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.Dc && this.Dc.tg) && void 0 !== k?k:[];}},yy:{configurable:!0,enumerable:!0,get:function(){var k,d;return this.xd.Z && (void 0 === this.NK || 0 >= this.NK.ea(g.ma) || Infinity <= this.NK.ea(g.ma))?(0,g.Ob)(this.xd.KM()):this.NK && 0 < this.NK.ea(g.ma)?this.NK:(0,g.Ob)(null !== (d=null === (k=this.W) || void 0 === k?void 0:k.Ca.duration) && void 0 !== d?d:0);},set:function(k){this.NK=k;}},v9a:{configurable:!0,enumerable:!0,get:function(){return this.xd.Z && (void 0 === this.u3 || 0 >= this.u3.ea(g.ma) || Infinity <= this.u3.ea(g.ma))?(0,g.Ob)(this.xd.GOb()):this.u3;},set:function(k){this.u3=k;}},Vj:{configurable:!0,enumerable:!0,get:function(){return this.bb.Vj || 0;}},vU:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.rU?this.rU:void 0 === this.mediaTime.value?null:this.TCb(this.mediaTime.value,this.H);}},hf:{configurable:!0,enumerable:!0,get:function(){var k,d;return null === (d=null === (k=this.W) || void 0 === k?void 0:k.Ca.Sv) || void 0 === d?void 0:d.Lg;}},NI:{configurable:!0,enumerable:!0,get:function(){var k,d;return null === (d=null === (k=this.W) || void 0 === k?void 0:k.Ca.Sv) || void 0 === d?void 0:d.NI;}},yd:{configurable:!0,enumerable:!0,get:function(){return this.im.yd;}}});b.kOa=c;},69334:function(r,b,a){var m,g,k;function c(d,f,n){this.bh=d;this.Cb=n;this.aa=[];this.log=f.Za("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.oOa=void 0;m=a(5163);r=a(22674);g=a(42207);k=a(87386);a(5021);c.prototype.some=function(d){return this.aa.some(d);};c.prototype.k8=function(){return !!(this.aa[0] && this.aa[0].stream && this.Cb.wg(this.aa[0].stream.ub));};c.prototype.Zp=function(d){return this.aa.filter(d).reduce(function(f,n){return f + (n.endTime - n.startTime) / n.rate;},0);};c.prototype.WV=function(d){return this.aa.filter(d).reduce(function(f,n){return f + n.endTime - n.startTime;},0);};c.prototype.Ppa=function(d,f){var n,h;n=this;h={};return this.aa.filter(function(l){return !f || l.track.cD === f;}).reduce(function(l,p){var q,u,t;q=d.bind(n,p)();u=q.key;q=m.__rest(q,["key"]);p=p.endTime - p.startTime;t=h[u];t?t.duration+=p:(t=q,t.duration=p,l.push(t),h[u]=t);return l;},[]);};c.prototype.Je=function(d,f,n){var h;n=void 0 === n?this.bh.playbackRate.value:n;h=this.aa;d && f && f >= d.startTime && (d={Ec:d.Ec,track:d.track,stream:d.stream,startTime:d.startTime,fz:d.fz,Lsa:d.Lsa,endTime:f,rate:n},(f=h[h.length - 1]) && f.track === d.track && f.stream === d.stream && f.Ec === d.Ec && f.endTime === d.startTime && f.rate === d.rate?f.endTime=d.endTime:h.push(d),!1);};a=c;a=m.__decorate([m.__param(1,(0,r.l)(k.$a)),m.__param(2,(0,r.l)(g.$f))],a);b.oOa=a;},82557:function(r,b,a){var m,g,k,d;function c(f){this.Ea=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.yPa=void 0;r=a(5163);m=a(85001);g=a(22674);k=a(81918);d=a(5021);c.prototype.Kj=function(f){f.ic !== m.pc.Ts && (this.trace.unshift({time:this.Ea.Lb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.B4a=function(){var f,n;f=this;if(0 === this.trace.length)return {};n=this.trace[0];return {timeSinceLastRepositionMs:this.Phb(n.time),lastRepositionCause:this.H2a(n.event.ic),repositionTrace:this.trace.map(function(h){return {timeSince:f.Phb(h.time),cause:f.H2a(h.event.ic),newMediaTime:h.event.y$,oldMediaTime:h.event.Ava,contentPts:h.event.zr,skip:h.event.skip};})};};c.prototype.Phb=function(f){return this.Ea.Lb().qa(f).ea(d.ma);};c.prototype.H2a=function(f){switch(f){case m.pc.Ts:return "initial";case m.pc.Nx:return "seek";case m.pc.cK:return "live_edge";case m.pc.HE:return "segment_changed";case m.pc.$R:return "track_changed";case m.pc.J0:return "force_rebuffer";case m.pc.YQ:return "fragments_missing";case m.pc.Sfa:return "media_discontinuity";}};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.Kc))],a);b.yPa=a;},13889:function(r,b,a){var m,g,k,d;function c(f,n,h){this.config=f;this.j=n;this.Ff=h;this.Hz=void 0;this.saa=!1;this.Q7a=0;this.log=this.Ff.Za();}Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=void 0;m=a(85001);g=a(5021);k=a(8825);d=a(32687);c.prototype.ROb=function(f,n,h,l,p){var q,u,t,v;h=void 0 === h?this.j.H:h;l=void 0 === l?!1:l;q=n === m.pc.HE;u=this.KAb(q?f:this.QBb(f,h),n,l,h);l=this.j.eb;q?(f=u,u=l.Yma(u)):f=l.$ma(h,u);n === m.pc.Ts && (this.j.UWa=u);p=this.ji(f,n,p);t=(q=q || p)?f:u;if(this.j.tq){v=this.j.bb.yg?this.config().fwa:this.config().ZC;this.j.b5a(t,v) || n !== m.pc.Nx && n !== m.pc.cK || (t=this.j.tq.ea(g.ma) - v - 1E3,q?(f=t,u=l.Yma(t)):(f=l.$ma(h,t),u=t));}return {y$:t,zr:u,k1b:f,ji:p};};c.prototype.KAb=function(f,n,h,l){this.MTb() || h?f=Math.round(f):(h=this.j.eb.NAb(f,l),f=(0,d.Tb)(h)?h:Math.round(f));this.j.bb.yg && (f=this.SLb(f));this.config().Meb && 0 !== f && n !== m.pc.Ts && (f+=this.config().Meb);return f;};c.prototype.ji=function(f,n,h){if(this.config().IHb || n === m.pc.Ts || n === m.pc.$R || n === m.pc.J0 || !h || f < h.start.ea(g.ma) || f >= h.end.ea(g.ma))return !1;n=this.j.eb;return (null === n || void 0 === n?void 0:n.Ih) && n.ji(f) || !1;};c.prototype.MTb=function(){return this.j.bb.yg?!0:"boolean" === typeof this.j.bb.sY?this.j.bb.sY:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().sY && this.config().H1b:this.config().sY;};c.prototype.QBb=function(f,n){var h;h=this.j.$i(n);n=h.yy;h=h.v9a;!1;n=h || n;h=this.j.xd.Z && !this.j.xd.FW()?0:this.config().qdc;n=Math.max(0,n.ea(g.ma) - h);return (0,k.Kx)(f,0,n);};c.prototype.SLb=function(f){var n,h,l;n=this.j.vV();if(Object.values(n).find(function(p){var q;q=p.wb;q=f < (null !== q && void 0 !== q?q:Infinity);return p.hb <= f && q;}))return (!1,f);l=f;Object.entries(n).forEach(function(p){var q;p=ja(p);p.next();p=p.next().value.hb;q=p - f;0 < q && (void 0 === h || q < h) && (h=q,l=p);});!1;return l;};Ya.Object.defineProperties(c.prototype,{U8:{configurable:!0,enumerable:!0,get:function(){return this.saa || !!this.Hz;}}});b.ZPa=c;},74834:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cQa=void 0;r=a(5163);a=a(22674);c.prototype.J2b=function(g,k){k.IN.gb.nza({xid:k.na,auxPlaybackcontextid:k.Ad,auxMid:g.auxMid,auxMidType:g.auxMidType,reason:g.reason,adBreakLocationMs:g.adBreakLocationMs},"error" === g.sev);};m=c;m=r.__decorate([(0,a.U)()],m);b.cQa=m;},37517:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u,t,v,w,y,x,z){var A;A=this;this.Bac=l;this.j=p;this.id=q;this.height=u;this.width=t;this.R0b=v;this.S0b=w;this.size=y;this.eu=x;this.urls=z;this.type=m.Yj.vBa;this.retry=!0;this.state=f.ip.U1;this.Ag={};this.y4={};this.H2b=function(B){if(B.pa)try{A.data=A.Bac.parse(B.content);A.state=f.ip.sE;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Ag);A.j.fireEvent(n.ha.f_);}catch(D){A.state=f.ip.xMa;A.log.error("TrickPlay parse failed.",D);}else (A.state=f.ip.U1,A.log.error("TrickPlay download failed.",(0,h.Ax)(B),A.Ag));};this.log=(0,k.Nh)(p,"TrickPlay");}b.z=void 0;m=a(51344);g=a(29204);k=a(31276);d=a(61726);f=a(94025);n=a(85001);h=a(36129);c.prototype.WNb=function(l){if(this.data && (this.eu && (l+=this.eu),l=Math.floor(l / this.data.header.Shb),0 <= l && l < this.data.images.length))return {image:this.data.images[l],time:l * this.data.header.Shb,height:this.height,width:this.width,pixelAspectHeight:this.R0b,pixelAspectWidth:this.S0b};};c.prototype.ZM=function(){switch(this.state){case f.ip.sE:return "downloaded";case f.ip.LOADING:return "loading";case f.ip.oR:return "downloadfailed";case f.ip.xMa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var l;l=this.tQb();l?(this.state=f.ip.LOADING,this.ZHb(l)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.tQb=function(){var l,p,q;l=this;p=Object.keys(this.urls).find(function(u){return (l.y4[l.urls[u]] || 0) <= g.config.xac;});if(p){q=this.urls[p];(q in this.y4)?this.y4[q]++:this.y4[q]=1;return {url:q,Tm:p};}};c.prototype.ZHb=function(l){var p,q;this.log.trace("Downloading",l.url,this.Ag);q=this.j7(l.Tm);l={responseType:d.iW,Ec:q,url:l.url,track:this,Ds:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",SB:"trickplay"};this.j.n8.download(l,this.H2b);};c.prototype.j7=function(l){return this.j.tg.find(function(p){return p && p.id === l;});};b.z=c;},18181:function(r,b,a){var m,g,k,d,f,n;function c(h,l){this.ag=h;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.wRa=void 0;r=a(5163);m=a(85001);g=a(94025);k=a(81918);d=a(22674);f=a(5021);a=a(4203);c.prototype.kM=function(h){var l;h.g_={};if(!h.uN() && h.gA && 0 < h.gA.length && (h.fA=this.m3a(h),h.fA)){l=this.R7b(h);l() || (h.Ab.addListener(l),h.Ue.addListener(l));}};c.prototype.R7b=function(h){var p;function l(){var q,u;if(!h.Ue.value || h.Ab.value === m.kb.If)return !1;q=h.fA;u=q.getState();return u === g.ip.LOADING?!1:u !== g.ip.sE && q.retry?(q=p.oQb(h))?(h.g_.offset=p.ag.Lb().ea(f.ma),h.fA=q,q.download(),!0):!1:(h.Ab.removeListener(l),h.Ue.removeListener(l),!1);}p=this;return l;};c.prototype.oQb=function(h){var l,p;l=this.config();p=h.ol.Zp() < l.zac;l=(h.Ue.value?h.Ue.value.bitrate:0) > l.yac;return this.JPb(h,p && l);};c.prototype.JPb=function(h,l){if(l && (l=this.m3a(h),this.r4a(h,l.size)))return (h.g_.Ydb="h",l);l=this.COb(h);if(this.r4a(h,l.size))return (h.g_.Ydb="l",l);};c.prototype.r4a=function(h,l){var p,q;p=this.config();q=Math.min(h.NT(),h.t_());return h.lzb.vAb(l) * (1 + .01 * p.nxb[2]) < q * p.Cac;};c.prototype.m3a=function(h){return h.gA[h.gA.length - 1];};c.prototype.COb=function(h){return h.gA[0];};n=c;n=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(k.Kc)),r.__param(1,(0,d.l)(a.Zb))],n);b.wRa=n;},25837:function(r,b,a){var m,g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yRa=void 0;r=a(5163);g=a(70834);a=a(22674);c.prototype.parse=function(d){var f,n;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);n=new g.TQ(f);d=this.k0b(n);f=this.l0b(n,f,d);return {header:d,images:f};};c.prototype.k0b=function(d){var f,n,h,l;if(d.Wqa() < this.f5b())throw Error("array buffer too short");m.FKa.forEach(function(p){if(p != d.Oz())throw Error("BIF has invalid magic.");});f=d.PO();if(f > m.VERSION)throw Error("BIF version in unsupported");n=d.PO();if(0 == n)throw Error("BIF has no frames.");h=d.PO();l=d.Jj(m.lPa);return {version:f,tZb:n,Shb:h,$db:l};};c.prototype.l0b=function(d,f,n){var p,q;for(var h=[],l=0;l <= n.tZb;l++){p={timestamp:d.PO(),offset:d.PO()};void 0 != q && h.push(f.subarray(q.offset,p.offset));q=p;}return h;};c.prototype.f5b=function(){return m.FKa.length + 4 + 4 + 4 + m.lPa;};k=m=c;k.FKa=[137,66,73,70,13,10,26,10];k.VERSION=0;k.lPa=44;k=m=r.__decorate([(0,a.U)()],k);b.yRa=k;},72614:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w;function c(y){return function(){return y.nb.get(m.BNa).Eb();};}Object.defineProperty(b,"__esModule",{value:!0});b.fI=void 0;r=a(22674);m=a(96687);g=a(32979);k=a(23048);d=a(62278);f=a(95480);n=a(91859);h=a(95398);l=a(77334);p=a(10469);q=a(44698);u=a(36258);t=a(78339);v=a(50889);w=a(18477);b.fI=new r.md(function(y){y(h.nOa).to(l.mOa).ia();y(g.Gga).to(k.xNa).ia();y(d.ZMa).to(f.YMa).ia();y(m.BNa).to(n.ANa).ia();y(m.OR).a_(c);y(v.zNa).to(w.yNa).ia();y(p.eNa).to(q.dNa).ia().D_();y(u.DNa).to(t.CNa).ia();y(u.uNa).to(t.tNa).ia();y(u.wNa).to(t.vNa).ia();});},62278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZMa="PboCachedPlaydataSymbol";},10469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dga={MW:"keepAlive",splice:"splice"};b.eNa="PboEventSenderSymbol";},32979:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gga="PboPlaydataFactorySymbol";},50889:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zNa="PboPlaydataPlaybackMonitorSymbol";},96687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BNa="PboPlaydataServicesSymbol";b.OR="PboPlaydataServicesProviderSymbol";},95398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nOa="PlaydataConfigSymbol";},95480:function(r,b,a){var k,d,f,n,h,l,p,q,u,t;function c(){}function m(){}function g(v,w,y,x,z){var A;A=this;this.is=v;this.ul=w;this.config=y;this.kG=x;this.C0b=z;this.Ru=function(){return new c().encode({version:A.version,data:A.fI});};this.Rbc=function(B){B=A.upgrade(B);A.C0b.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.Nm(B))return A.Sbc(B);D=B.version;if(void 0 != D && A.is.ck(D) && 1 == D)return A.Tbc(B);D=B.version;if(void 0 != D && A.is.ck(D) && 2 == D)return new c().decode(B);if(B.version && A.is.ck(B.version))throw new h.Qc(f.V.DA,f.R.FEa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new h.Qc(f.V.DA,f.R.yA,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.yk=new l.rfa(2,this.config().Fbb,"" !== this.config().Fbb && 0 < this.config().e1b,this.ul,this.Ru);}Object.defineProperty(b,"__esModule",{value:!0});b.YMa=void 0;r=a(5163);k=a(22674);d=a(4203);f=a(36129);n=a(42207);h=a(31149);l=a(52657);p=a(17892);q=a(33554);u=a(23048);a=a(36258);g.prototype.r3b=function(){return this.yk.load(this.Rbc).catch(function(v){throw new h.Qc(f.V.DA,v.wa || v.Pc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v);});};g.prototype.Zwb=function(v){return this.yk.add(v);};g.prototype.Bdb=function(v){return this.yk.remove(v,function(w,y){return w.na === y.na;});};g.prototype.MBa=function(v){return this.yk.update(v,function(w,y){return w.na === y.na;});};g.prototype.toString=function(){return JSON.stringify(this.Ru(),null,"  ");};g.prototype.pjb=function(v){return v?"/events?playbackContextId=" + v + "&esn=" + this.kG().hk:"";};g.prototype.UBa=function(v){return v.map(function(w){return {Wb:w.downloadableId,duration:w.duration};});};g.prototype.qjb=function(v){var w;return v?{total:v.playTimes.total,tJ:null !== (w=v.playTimes.totalContentTime) && void 0 !== w?w:v.playTimes.total,TP:v.playTimes.total,KD:0,LD:0,uJ:0,vJ:0,audio:this.UBa(v.playTimes.audio || []),video:this.UBa(v.playTimes.video || []),text:this.UBa(v.playTimes.timedtext || [])}:{total:0,tJ:0,TP:0,KD:0,LD:0,uJ:0,vJ:0,audio:[],video:[],text:[]};};g.prototype.Sbc=function(v){var w,y,x;w=this;v=JSON.parse(v);y={Vf:"VOD",href:this.pjb(v.playbackContextId),na:v.xid?v.xid.toString():"",O:v.movieId,position:v.position,uy:v.timestamp,om:v.playback?1E3 * v.playback.startEpoch:-1,PN:v.mediaId,Lw:this.qjb(v.playback),trackId:"",mm:{},LO:v.accountKey};x=JSON.stringify({keySessionIds:v.keySessionIds,movieId:v.movieId,xid:v.xid,licenseContextId:v.licenseContextId,profileId:v.profileId});this.ul.create().then(function(z){z.save(w.config().LU,x,!1);});if("" === y.href || "" === y.na)throw new h.Qc(f.V.DA,f.R.yA);return {version:2,data:[y]};};g.prototype.Tbc=function(v){var w;w=this;if(!v.playdata || !this.is.wB(v.playdata))throw new h.Qc(f.V.DA,f.R.yA,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,v);return {version:2,data:(function(y){return y.map(function(x){var z;return {Vf:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:w.pjb(x.playbackContextId),na:x.xid?x.xid.toString():"",O:x.movieId,position:x.position,uy:x.timestamp,om:x.playback?1E3 * x.playback.startEpoch:-1,PN:x.mediaId,Lw:w.qjb(x.playback),trackId:"",mm:{},LO:x.profileId};});})(v.playdata)};};Ya.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.yk.version;}},fI:{configurable:!0,enumerable:!0,get:function(){return this.yk.Ql;}}});t=g;t=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.$f)),r.__param(1,(0,k.l)(p.rx)),r.__param(2,(0,k.l)(d.Zb)),r.__param(3,(0,k.l)(q.xx)),r.__param(4,(0,k.l)(a.wNa))],t);b.YMa=t;m.prototype.encode=function(v){var w;w=new u.c2();return v.map(w.encode);};m.prototype.decode=function(v){var w;w=new u.c2();return v.map(w.decode);};c.prototype.encode=function(v){return {version:v.version,data:new m().encode(v.data)};};c.prototype.decode=function(v){return {version:v.version,data:new m().decode(v.data)};};},44698:function(r,b,a){var m,g,k;function c(d,f){this.mU=f;this.log=d.Za("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;r=a(5163);m=a(87607);g=a(87386);a=a(22674);c.prototype.vza=function(d,f){var n;n=this.mU(m.ap.start);return this.V0a(n,d,f);};c.prototype.$eb=function(d){var f;f=this;return this.mU(m.ap.stop).Cf(this.log,d).then(function(){}).catch(function(n){f.log.error("PBO stop event failed",n);throw n;});};c.prototype.jZ=function(d,f,n){d=this.mU(d);return this.V0a(d,f,n);};c.prototype.V0a=function(d,f,n){var h;h=this;return d.lo(this.log,f.W.wi,n).then(function(){}).catch(function(l){h.log.error("PBO event failed",l);throw l;});};k=c;k=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(g.$a)),r.__param(1,(0,a.l)(m.Tea))],k);b.dNa=k;},23048:function(r,b,a){var d,f,n,h,l,p;function c(q,u,t,v){this.va=q;this.ZV=u;this.Ea=t;this.profile=v;}function m(){}function g(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.xNa=b.c2=void 0;r=a(5163);d=a(22674);f=a(30869);n=a(5021);h=a(4203);l=a(81918);a=a(71501);k.prototype.encode=function(q){return {downloadableId:q.Wb,duration:q.duration};};k.prototype.decode=function(q){return {Wb:q.downloadableId,duration:q.duration};};g.prototype.encode=function(q){return {total:q.total,totalContentTime:q.tJ,totalAdDuration:q.KD,totalCombinedDuration:q.TP,totalOtherDuration:q.LD,totalStartSlateDuration:q.vJ,totalLiveEdgeDuration:q.uJ,audio:q.audio.map(new k().encode),video:q.video.map(new k().encode),text:q.text.map(new k().encode)};};g.prototype.decode=function(q){var u;return {total:q.total,tJ:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,KD:q.totalAdDuration,TP:q.totalCombinedDuration,LD:q.totalOtherDuration,vJ:q.totalStartSlateDuration,uJ:q.totalLiveEdgeDuration,audio:q.audio.map(new k().decode),video:q.video.map(new k().decode),text:q.text.map(new k().decode)};};m.prototype.encode=function(q){return {streamingType:q.Vf,href:q.href,xid:q.na,movieId:q.O,position:q.position,clientTime:q.uy,sessionStartTime:q.om,videoTrackId:q.hQ,audioTrackId:q.Hp,timedTextTrackId:q.RP,mediaId:q.PN,playTimes:new g().encode(q.Lw),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.mm,profileId:q.LO};};m.prototype.decode=function(q){return {Vf:q.streamingType,href:q.href,na:q.xid,O:q.movieId,position:q.position,uy:q.clientTime,om:q.sessionStartTime,hQ:q.videoTrackId,Hp:q.audioTrackId,RP:q.timedTextTrackId,PN:q.mediaId,Lw:new g().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,mm:q.sessionParams,LO:q.profileId};};b.c2=m;c.prototype.create=function(q){var u,t,v,w,y,x,z,A;A=Object.assign(Object.assign({},null !== (u=q.bb.mm) && void 0 !== u?u:{}),{uiVersion:this.ZV().Up.hx});u=null !== (t=q.xd.Z?q.xd.T7():q.vU) && void 0 !== t?t:0;return {href:q.W && q.W.wi?q.W.wi.QM("events").href:"",Vf:null !== (w=null === (v=q.W) || void 0 === v?void 0:v.Ca.Vf) && void 0 !== w?w:"VOD",na:q.na.toString(),O:q.O,position:Math.floor(u),uy:this.va.MI.ea(n.ma),om:q.dz?q.dz.ea(n.ma):-1,hQ:null === (y=q.Og.value) || void 0 === y?void 0:y.trackId,Hp:null === (x=q.ac.value) || void 0 === x?void 0:x.trackId,RP:null === (z=q.Nb.value) || void 0 === z?void 0:z.trackId,PN:void 0,Lw:this.Nqa(q),trackId:void 0 !== q.Vj?q.Vj.toString():"",sessionId:this.ZV().sessionId || this.Ea.id,appId:this.ZV().appId || this.Ea.id,mm:A,LO:this.profile};};c.prototype.load=function(q){return new m().decode(q);};c.prototype.Rqa=function(q){return q.map(function(u){return {Wb:u.downloadableId,duration:u.duration};});};c.prototype.Nqa=function(q){return (q=q.ol)?(q=q.kPb(),{total:q.total,tJ:q.totalContentTime,KD:q.totalAdDuration,LD:q.totalOtherDuration,TP:q.totalCombinedDuration,uJ:q.totalLiveEdgeDuration,vJ:q.totalStartSlateDuration,audio:this.Rqa(q.audio),video:this.Rqa(q.video),text:this.Rqa(q.timedtext)}):{total:0,tJ:0,KD:0,TP:0,LD:0,uJ:0,vJ:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.hg)),r.__param(1,(0,d.l)(h.Zb)),r.__param(2,(0,d.l)(l.Kc)),r.__param(3,(0,d.l)(a.vK))],p);b.xNa=p;},18477:function(r,b,a){var m,g,k,d;function c(f,n){this.jbb=n;this.log=f.Za("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.yNa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(85001);a=a(96687);c.prototype.kj=function(f){var n;n=this;this.jbb().then(function(h){f.addEventListener(k.ha.EH,function(l){var p;if(void 0 !== l.HO){p=f.lk(l.HO);h.CZ(p);l.kH || new Promise(function(q){var u;if(f.Ei.value)q();else {u=function(t){t.newValue && (q(),f.Ei.removeListener(u));};f.Ei.addListener(u);}}).then(function(){return h.kj(f,n.agb(f),function(q){return f.YF(q);});});}});f.addEventListener(k.ha.wu,function(){h.kj(f.da,n.agb(f),function(l){return f.YF(l);});});f.background.value || f.addEventListener(k.ha.WW,function(l){var p;l=f.lk(l.O);if(l.Kf){p=f.lk(l.Kf.Gd);n.log.trace("Auxiliary viewable segment (viewableId: " + l.O + "). Starting playdata monitor for parent viewable " + p.O);l=p;}h.sAa(l);});f.addEventListener(k.ha.ug,function(){h.Jgb();});f.addEventListener(k.ha.Hjb,function(){h.Yeb(f.da).catch(function(l){(l=l.AO) && f.YF(l);});});f.Nb.addListener(function(){f.bb.Vna?n.log.trace("stickiness is disabled for timedtext"):h.Qba(f.da);});f.ac.addListener(function(){f.bb.Vna?n.log.trace("stickiness is disabled for audio"):h.Qba(f.da).catch(function(l){(l=l.AO) && f.YF(l);});});});};c.prototype.agb=function(f){return f.state.value == k.Xb.oe;};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(a.OR))],d);b.yNa=d;},91859:function(r,b,a){var k,d,f,n,h,l,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,E,G){this.config=x;this.Ac=A;this.ix=B;this.yu=D;this.Baa=C;this.wh=E;this.tH=Promise.resolve();this.closed=!1;this.log=z.Za("PlaydataServices");this.eI=[];this.active=new Set();this.B5b=new m(x,G);}function m(x,z){this.config=x;this.va=z;}function g(x,z,A,B,D,C){this.log=x;this.Ac=z;this.bh=A;this.yu=B;this.ix=D;this.Y0b=C;this.i1a=this.Qd=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ANa=b.Vqb=void 0;r=a(5163);k=a(22674);d=a(5021);f=a(87386);n=a(53085);h=a(32979);l=a(62278);p=a(95398);q=a(36129);u=a(23048);t=a(10469);v=a(45266);w=a(30869);a=a(79274);g.prototype.XN=function(x,z){var B;function A(){var D;D=B.yu.create(B.bh);B.ix.MBa(D).catch(function(C){var E;E=B.i1a?f.nj.Vha:f.nj.Jk;B.i1a=!0;B.log.write(E,"Unable to save playdata changes to IDB",C);});}B=this;this.log.trace("Adding initial playdata",z);this.ix.Zwb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.Bs=B.Ac.GI(x,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new u.c2().encode(z)});B.Bs=B.Ac.GI(x,A);});};g.prototype.stop=function(x){var z,A;z=this;if(this.Qd)return Promise.resolve();this.Bs && this.Bs.cancel();A=this.yu.create(this.bh);return this.ix.MBa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.bh.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.Y0b.$eb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.ix.Bdb(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.O);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};g.prototype.cancel=function(){this.Qd=!0;this.Bs && this.Bs.cancel();this.ix.MBa(this.yu.create(this.bh));};Ya.Object.defineProperties(m.prototype,{UAb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.va.se;return !this.tH || 0 <= x.qa(this.tH).Tk(this.config.A7a)?(this.tH=x,!0):!1;}}});b.Vqb=m;c.prototype.Eb=function(){var x;x=this;this.tC || (this.log.trace("Starting playdata services"),this.tC=this.ix.r3b().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.tC;};c.prototype.close=function(){this.closed=!0;this.eI.forEach(function(x){x.XN.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.cI && z.tza?this.C6b(x):Promise.resolve();};c.prototype.kj=function(x,z,A){var B;B=this;this.closed || (this.sAa(x),this.vza(x).catch(function(D){B.log.error("Start command failed",{playdata:D.fI,error:D.YU});}),z && this.pAa(this.oOb(x),x,A));};c.prototype.CZ=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.yu.create(x);this.active.delete(A.na);x=ja((0,v.$C)(function(D){return D.key === A.na;},this.eI));B=x.next().value;this.eI=x.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.XN.stop(z.config.tza);})).then(function(){});};c.prototype.sAa=function(x){var z,A;x.ue("pdb");if(this.config.Kwa.Z6a()){z=this.yu.create(x);A=z.na;this.eI.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.eI.push({key:A,XN:this.OOb(x,z),dx:!1,stopped:!1}));}};c.prototype.C6b=function(x){var z,A,B,D;z=this;A=this.ix.fI.filter(function(C){return !z.active.has(C.na);});B=void 0;D=void 0;x && Infinity === x?B=A:(A=ja((0,v.$C)(function(C){return C.O === x;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.Ac.xk(this.config.Xeb,function(){z.Zeb(D).catch(function(){});});return B && 0 !== B.length?this.Zeb(B):Promise.resolve();};c.prototype.Zeb=function(x){var A;function z(B){return A.Baa.$eb(B).then(function(){return A.B4b(B);});}A=this;return x.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.B4b=function(x){var z;z=this;return this.ix.Bdb(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.OOb=function(x,z){x=new g(this.log,this.Ac,x,this.yu,this.ix,this.Baa);x.XN(this.config.Kwa,z);return x;};c.prototype.vza=function(x){var z,A;z=this;A=this.yu.create(x);return this.Baa.vza(x,A).then(function(){!1;z.$8a(x);}).catch(function(B){z.$8a(x);throw {fI:A,YU:B};});};c.prototype.$8a=function(x){this.eI.filter(function(z){return z.key === x.na.toString();}).forEach(function(z){z.dx=!0;});};c.prototype.Yeb=function(x){return this.B5b.UAb?this.jZ(t.Dga.MW,x,q.V.Afa):Promise.resolve();};c.prototype.Qba=function(x){return this.jZ(t.Dga.splice,x,q.V.MPa);};c.prototype.jZ=function(x,z,A){var D;function B(C){var E;E=D.eI.filter(function(G){return G.key === C.na.toString();});return 0 === E.length?!0:E.reduce(function(G,F){return G || F.stopped || !F.dx;},!1);}D=this;return B(z)?this.tH:this.tH=this.tH.catch(function(){return Promise.resolve();}).then(function(){var C;if(B(z))return Promise.resolve();!1;C=D.yu.create(z);return D.Baa.jZ(x,z,C);}).then(function(C){!1;return C;}).catch(function(C){var E;D.log.error("Failed to send event",{eventKey:x,xid:z.na,error:C});C.Tt?E=D.wh(A,C):C.Dz === q.O1.Qha && (E=D.wh(A,C));throw {YU:C,AO:E};});};c.prototype.pAa=function(x,z,A){var B;B=this;!1;this.sma();this.lta=this.Ac.xk(x,function(){B.sma();B.jZ(t.Dga.MW,z,q.V.Afa).then(function(){B.pAa(x,z,A);}).catch(function(D){var C;C=D.YU;(D=D.AO) && A(D);C.Dz !== q.O1.Qha && B.pAa(x,z,A);});});};c.prototype.Jgb=function(){this.sma();};c.prototype.sma=function(){this.lta && (this.lta.cancel(),this.lta=void 0);};c.prototype.oOb=function(x){return x.bb.Kra?(0,d.Ob)(x.bb.Kra):this.config.z7a;};y=c;y=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(p.nOa)),r.__param(1,(0,k.l)(f.$a)),r.__param(2,(0,k.l)(n.bi)),r.__param(3,(0,k.l)(l.ZMa)),r.__param(4,(0,k.l)(h.Gga)),r.__param(5,(0,k.l)(t.eNa)),r.__param(6,(0,k.l)(a.PR)),r.__param(7,(0,k.l)(w.hg))],y);b.ANa=y;},78339:function(r,b,a){var k,d,f,n;function c(){}function m(h){this.B0b=h;}function g(h){this.D0b=h;}Object.defineProperty(b,"__esModule",{value:!0});b.CNa=b.vNa=b.tNa=void 0;r=a(5163);k=a(22674);d=a(36258);f=a(31149);n=a(36129);g.prototype.validate=function(h){h.map(this.D0b.validate);};a=g;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.DNa))],a);b.tNa=a;m.prototype.validate=function(h){this.B0b.validate(h.data);};a=m;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.uNa))],a);b.vNa=a;c.prototype.validate=function(h){var l;h.na && "string" === typeof h.na?h.href && "string" === typeof h.href?h.LO && "string" === typeof h.LO || (l="ProfileId value is corrupted."):l="Href value is corrupted.":l="Xid value is corrupted.";if(l)throw new f.Qc(n.V.DA,n.R.yA,void 0,void 0,void 0,l,void 0,h.na);};d=c;d=r.__decorate([(0,k.U)()],d);b.CNa=d;},77334:function(r,b,a){var m,g,k,d,f,n;function c(h,l){h=g.Ve.call(this,h,"PlaydataConfigImpl") || this;h.config=l;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.mOa=void 0;r=a(5163);m=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(5021);a=a(34231);ea(c,g.Ve);Ya.Object.defineProperties(c.prototype,{cI:{configurable:!0,enumerable:!0,get:function(){return this.config.Ny?"unsentplaydatatest":"unsentplaydata";}},tza:{configurable:!0,enumerable:!0,get:function(){return !0;}},Xeb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ob)(1E4);}},Kwa:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ob)(4E3);}},z7a:{configurable:!0,enumerable:!0,get:function(){return (0,f.n$)(1);}},A7a:{configurable:!0,enumerable:!0,get:function(){return (0,f.zh)(30);}}});n=c;r.__decorate([d.config(d.string,"playdataPersistKey")],n.prototype,"cI",null);r.__decorate([d.config(d.od,"sendPersistedPlaydata")],n.prototype,"tza",null);r.__decorate([d.config(d.sk,"playdataSendDelayMilliseconds")],n.prototype,"Xeb",null);r.__decorate([d.config(d.sk,"playdataPersistIntervalMilliseconds")],n.prototype,"Kwa",null);r.__decorate([d.config(d.sk,"heartbeatCooldown")],n.prototype,"z7a",null);r.__decorate([d.config(d.sk,"keepAliveWindow")],n.prototype,"A7a",null);n=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Hl)),r.__param(1,(0,m.l)(a.Kn))],n);b.mOa=n;},58343:function(r,b,a){var m,g;function c(k,d){var f;f=this;this.Wh=k;this.Mg=d;this.addEventListener=function(n,h,l){return f.Mg.addListener(n,f.g_a(n,h),l);};this.removeEventListener=function(n,h){return f.Mg.removeListener(n,f.g_a(n,h));};this.getReady=function(){return f.Mg.pw();};this.getXid=function(){return f.zb().au();};this.getPlaybackContextId=function(){return f.zb().Z3a();};this.getMovieId=function(){return f.zb().M3a();};this.getPlaygraphId=function(){return f.Mg.nPb();};this.getElement=function(){return f.Mg.gn();};this.isPlaying=function(){return f.zb().AC();};this.isPaused=function(){return f.zb().lu();};this.isMuted=function(){return f.zb().Psa();};this.isReady=function(){return f.zb().pw();};this.isBackground=function(){return f.zb().G6a();};this.setBackground=function(n){return f.zb().Eza(n);};this.startInactivityMonitor=function(){return f.zb().zP();};this.setTransitionTime=function(n){return f.zb().Vza(n);};this.getDiagnostics=function(){return f.zb().T2a();};this.getTextTrackList=function(n){return f.zb().mra(n);};this.getMaxRecommendedTextIndex=function(n){return f.zb().Bqa(n);};this.getTextTrack=function(){return f.zb().lra();};this.setTextTrack=function(n){return f.zb().Qza(n);};this.getVolume=function(){return f.zb().P4a();};this.isEnded=function(){return f.zb().Jsa();};this.getBusy=function(){return f.zb().sh();};this.getError=function(){return f.zb().getError();};this.getCurrentTime=function(){return f.zb().LM();};this.getAdManager=function(){return f.zb().no();};this.getLivePlaybackManager=function(){var n;n=f.zb().$k();(0,g.oa)(n,"Unexpected call to getLivePlaybackManager()");if(n.Z && !n.g8b())return {seekToLiveEdge:function(){return n.Jba();},isAtLiveEdge:function(){return n.fz();},getLiveEventState:function(){return n.hC();},isLiveEventEnded:function(){return n.FW();}};};this.getBufferedTime=function(){return f.zb().C2a();};this.getSegmentTime=function(){return f.zb().m7();};this.getDuration=function(){return f.zb().KM();};this.getVideoSize=function(){return f.zb().O4a();};this.getAudioTrackList=function(){return f.zb().u2a();};this.getMaxRecommendedAudioIndex=function(){return f.zb().H3a();};this.getAudioTrack=function(){return f.zb().t2a();};this.getTimedTextTrackList=function(n){return f.zb().mra(n);};this.getMaxRecommendedTimedTextIndex=function(n){return f.zb().Bqa(n);};this.getTimedTextTrack=function(){return f.zb().lra();};this.getAdditionalLogInfo=function(){return f.zb().q2a();};this.getTrickPlayFrame=function(n){return f.zb().K4a(n);};this.getSessionSummary=function(){return f.zb().bra();};this.getTimedTextSettings=function(){return f.zb().VV();};this.setMuted=function(n){return f.zb().yfb(n);};this.setVolume=function(n){return f.zb().Pfb(n);};this.getPlaybackRate=function(){return f.zb().WM();};this.setPlaybackRate=function(n){return f.zb().Wba(n);};this.setAudioTrack=function(n){return f.zb().ifb(n);};this.setTimedTextTrack=function(n){return f.zb().Qza(n);};this.setTimedTextSettings=function(n){return f.zb().rP(n);};this.prepare=function(){return f.zb().jI();};this.load=function(){return f.zb().load();};this.close=function(n){return f.aWa(f.Mg.close(),n);};this.play=function(){return f.zb().play();};this.pause=function(){return f.zb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(n,h){return f.aWa(f.zb().mM(n),h);};this.induceError=function(n){return f.zb().a6a(n);};this.loadCustomTimedTextTrack=function(n,h,l,p){return f.zb().n8a(n,h,l,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return f.zb().n7();};this.generateScreenshots=function(n){return f.zb().j2a(n);};this.getCurrentSegmentId=function(){return f.Mg.O2a();};this.getPlaygraphMap=function(){return f.Mg.UG();};this.updatePlaygraphMap=function(n){return f.Mg.QD(n);};this.Loa=new Map();this.log=(0,m.Zi)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.O2=void 0;m=a(31276);a(24550);g=a(45146);c.prototype.zb=function(){return this.Mg.zb();};c.prototype.g_a=function(k,d){var f;this.Loa.has(k) || this.Loa.set(k,new Map());f=this.Loa.get(k);f.has(d) || f.set(d,this.FGb(k,d));return f.get(d);};c.prototype.FGb=function(k,d){var f;f=this;return function(n){return d(Object.assign({},n,{type:k,target:f}));};};c.prototype.aWa=function(k,d){return d?k.then(d,d):k;};b.O2=c;},64059:function(r,b,a){var m;function c(g,k,d){var f;f=m.O2.call(this,g,k) || this;f.seek=function(n){return f.zb().seek(n);};f.addEpisode=function(n){return f.zta.Kwb(n);};f.playNextEpisode=function(n){n=void 0 === n?{}:n;return f.zta.Z0b(n);};f.watchCredits=function(n){return f.zta.cdc(n);};f.playSegment=function(n){return f.zb().zbb(n);};f.queueSegment=function(n){return f.zb().Jcb(n);};f.updateNextSegmentWeights=function(n,h){return f.zb().Ji(n,h);};f.setNextSegment=function(n){for(var h=[],l=0;l < arguments.length;++l)h[l - 0]=arguments[l];h=h.map(function(p){return {H:p.segmentId,aO:p.nextSegmentId};});f.Mg.Sj.apply(f.Mg,aa(h));};f.clearNextSegment=function(n){for(var h=[],l=0;l < arguments.length;++l)h[l - 0]=arguments[l];return f.Mg.UBb.apply(f.Mg,aa(h));};f.goToNextSegment=function(n,h){return f.Mg.wra(n,h);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return !!f.zb().VV().visibility;};f.setTimedTextVisibility=function(n){return f.setTimedTextVisible(n);};f.setTimedTextSize=function(n){return f.zb().rP({size:n});};f.setTimedTextBounds=function(n){return f.zb().rP({bounds:n});};f.setTimedTextMargins=function(n){return f.zb().rP({margins:n});};f.setTimedTextVisible=function(n){return f.zb().rP({visibility:n});};f.getCongestionInfo=function(n){n && n({success:!1,name:null,isCongested:null});};f.zta=d(g,k,f.log);return f;}b.W_=void 0;m=a(58343);ea(c,m.O2);b.W_=c;},59219:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x;function c(z){var A,B;A=this;this.zaa=new x.Wga();this.createPlaygraphPlayer=function(D,C,E){var G;D=t.$ga.encode(D);G=d.za.get(v.hK);E=E?G.create(E):void 0;G=d.za.get(p.bha).create(D);return G.DFb(D.Oe,A.zaa.mua(A.wWa(C,G.q7())),E);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,k.Qga)(D);};this.init=function(D){A.xB.ZW(function(C){C.pa?A.F6b().then(function(){(0,m.RNa)();}).catch(function(E){d.log.error("Unable to initialize the playdata services",E);}).then(function(){Object.assign(A,c.qL);D(Object.assign({success:!0},c.qL));}):D({success:!1,error:(0,d.rOa)(C.errorCode || n.V.ofa,C)});});};this.applyConfig=function(D){A.Zib(D);(0,g.Nma)(D);};this.prepare=function(D,C){var E;D=A.$bb.sHb(D) || [];E=new Set();D=D.filter(function(G){var F;F=E.has(G.O);E.add(G.O);return !F;});if(g.config.ss && A.kd)try{A.kd.jI(D,C);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(D){qb._cad_global.playerPredictionModel?(D=A.$bb.uHb(D)) && qb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.MM)().JZ().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.MM)().KZ().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.MM)().HZ().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.MM)().Cca().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return g.config.mJb;};this.Zib(z);d.za.get(y.oDa);this.$bb=d.za.get(f.TNa);this.xB=d.za.get(u.Zh);B=d.za.get(w.ONa).apply();(0,g.OYa)([z],B);this.kd=d.za.get(q.NE);(0,d.MM)().KZ();}Object.defineProperty(b,"__esModule",{value:!0});b.OE=void 0;m=a(86258);g=a(29204);k=a(13044);d=a(31276);f=a(68976);n=a(36129);h=a(83767);l=a(96687);p=a(58252);q=a(66476);u=a(11479);t=a(79048);v=a(17398);w=a(52033);y=a(13847);x=a(81889);c.prototype.wWa=function(z,A){var B,D,C,E;z=void 0 === z?{}:z;E=null !== (D=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== D?D:A.hb;return Object.assign(Object.assign({startPts:E,uiPlayStartTime:Date.now()},z),{endPts:null !== (C=A.wb) && void 0 !== C?C:void 0,isPlaygraph:!0});};c.prototype.Zib=function(z){d.za.get(h.jR).CXb(z);};c.prototype.F6b=function(){d.za.get(l.OR)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.OE=c;c.qL={};},17925:function(r,b,a){var m,g,k,d,f,n;function c(h){var l;l=k.OE.call(this,h) || this;l.createPlayer=function(p,q){var u,t,v;q=void 0 === q?{}:q;q="number" === typeof q?{Vj:q}:q;u=m.za.get(g.tK);t=m.za.get(f.hK).create(q.manifest);v=m.za.get(d.eha);p=u.AFb(p);u=m.za.get(n.bha).create(p);p=u.q7();v=v.BZa(u);v.addEpisode({movieId:p.J,playbackParams:l.wWa(q,p),manifest:t});return v;};return l;}Object.defineProperty(b,"__esModule",{value:!0});b.YRa=void 0;m=a(31276);g=a(75864);k=a(59219);d=a(32050);f=a(17398);n=a(58252);ea(c,k.OE);b.YRa=c;},41325:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(17925);c=a(29204);m=a(13044);b=a(87386);g=a(31276);k=a(45118);d=a(36410);f=a(45146);n=a(32687);qb.netflix=qb.netflix || ({});(0,f.oa)(!qb.netflix.player);qb.netflix.player={VideoSession:r.YRa,diag:{togglePanel:function(h,l){var p;p=[];if(!c.config || c.config.JY){switch(h){case "info":p=m.Dm.map(function(q){return q.waa;});break;case "streams":p=m.Dm.map(function(q){return q.Aaa;});break;case "log":p=[];}p.forEach(function(q){(0,n.$c)(l)?l?q.show():q.lw():q.toggle();});}},addLogMessageSink:function(h){g.za.get(k.Al).addListener({aoc:function(){},EXb:function(l){h({data:l.data});}});}},log:(0,g.Zi)("Ext"),LogLevel:b.nj,addLogSink:function(h,l){g.za.get(d.fK).eba(h,l);},getVersion:function(){return "6.0044.603.911";},getMostRecentPlaybackDiagnosticGroups:function(){var h;return null === (h=m.MA.j$a) || void 0 === h?void 0:h.E_a.DV();}};},61524:function(r,b,a){var c,m,g,k,d,f,n,h,l,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(1481);m=a(59219);g=a(33096);k=a(29204);r=a(36129);d=a(31276);f=a(45146);n=a(3887);h=a(32687);l=a(45118);p=a(31850);a=a(11479);d.za.get(a.Zh).register(r.V.$Ia,function(q){var u,t;u=(0,d.Zi)("NccpApi");t=(0,n.iWa)(["info","warn","trace","error"]);m.OE.qL.nccp={getEsn:function(){return c.Vk.hk;},getPreferredLanguages:function(){return k.config.Up.kxa;},setPreferredLanguages:function(v){(0,f.oa)((0,h.isArray)(v) && (0,h.xN)(v[0]));k.config.Up.kxa=v;},queueLogblob:function(v,w,y){var x;if(v && w)if((w=w.toLowerCase(),t[w])){x=d.za.get(l.Al);v=d.za.get(p.Dx).Ot(v,w,y);x.yc(v);}else u.warn("Invalid severity",{severity:w});},flushLogblobs:function(){d.za.get(l.Al).flush(!0);}};q(g.ig);});},42433:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(59219);m=a(1481);g=a(33096);k=a(52569);r=a(36129);d=a(31276);f=a(70834);n=a(45146);h=a(32687);l=a(22365);b=a(11479);p=a(24066);q=a(71501);u=a(97996);t=a(22816);d.za.get(b.Zh).register(r.V.aJa,function(v){var B;function w(){return m.Vk.hk;}function y(D){var C;C=d.za.get(q.vK);d.za.get(u.IR)().then(function(E){var G,F;G=E.HX.getStateForMdx(C);F=G.cryptoContext;E=G.masterToken;G=G.userIdToken;E && G?((0,n.oa)(F),E=["1",(0,d.ly)(JSON.stringify(E.toJSON())),(0,d.ly)(JSON.stringify(G.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:E,encrypt:function(I,P){I=(0,h.zg)(I)?(0,d.eQ)(I):I;F.encrypt(I,{result:function(M){M=(0,d.ly)(M);P({success:!0,mslEncryptionEnvelopeBase64:M});},timeout:function(){P({success:!1});},error:function(M){(0,n.oa)(!1,"Encrypt error: " + M);P({success:!1});}});},decrypt:function(I,P){I=(0,d.qr)(I);F.decrypt(I,{result:function(M){P({success:!0,text:(0,d.q_)(M)});},timeout:function(){P({success:!1});},error:function(M){(0,n.oa)(!1,"Decrypt error: " + M);P({success:!1});}});},hmac:function(I,P){I=(0,h.zg)(I)?(0,d.eQ)(I):I;F.sign(I,{result:function(M){P({success:!0,hmacBase64:(0,d.ly)(M)});},timeout:function(){P({success:!1});},error:function(M){(0,n.oa)(!1,"Hmac error: " + M);P({success:!1});}});}}})):((0,n.oa)(!1,"Must login first"),D({success:!1}));});}function x(D,C){var E;E=(0,d.qr)(D);D=E.subarray(32,48);E=E.subarray(0,32);if(16 != D.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,k.XH)(l.Rp.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,k.XH)(l.Rp.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){C({success:!0,cryptoContext:z(G[0],G[1])});},function(){C({success:!1});});}function z(D,C){function E(G){G=new f.TQ((0,d.qr)(G));G.Oz();return {iv:G.Pcb(),AJb:G.Pcb()};}return {encrypt:function(G,F){var I;G=(0,h.zg)(G)?(0,d.eQ)(G):G;I=l.IA.getRandomValues(new Uint8Array(16));(0,k.XH)(l.Rp.encrypt({name:"AES-CBC",iv:I},D,G)).then(function(P){var M,L;P=new Uint8Array(P);M=[];L=new f.TQ(M);L.xda(2);L.rkb(I);L.rkb(P);P=(0,d.ly)(M);F({success:!0,encryptedDataAsn1Base64:P});},function(P){(0,n.oa)(!1,"Encrypt error: " + P);F({success:!1});});},decrypt:function(G,F){var I;I=E(G);G=I.iv;I=I.AJb;(0,k.XH)(l.Rp.decrypt({name:"AES-CBC",iv:G},D,I)).then(function(P){P=new Uint8Array(P);F({success:!0,text:(0,d.q_)(P)});},function(P){(0,n.oa)(!1,"Decrypt error: " + P);F({success:!1});});},hmac:function(G,F){G=(0,h.zg)(G)?(0,d.eQ)(G):G;(0,k.XH)(l.Rp.sign({name:"HMAC",hash:{name:"SHA-256"}},C,G)).then(function(I){I=new Uint8Array(I);F({success:!0,hmacBase64:(0,d.ly)(I)});},function(I){(0,n.oa)(!1,"Hmac error: " + I);F({success:!1});});}};}function A(){return (0,p.yma)();}B=d.za.get(t.dE);if(B.L6a || B.AW)c.OE.qL.mdx={getEsn:w,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};v(g.ig);});},13777:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(11479);b=a(36129);c=a(87386);m=a(91581);g=a(15348);k=a(33096);d=a(29204);f=a(31276);n=a(13044);h=a(59219);l=a(62898);p=a(66476);q=a(45118);f.za.get(r.Zh).register(b.V.bJa,function(u){var w,y,x,z;function t(A,B){return void 0 === A || void 0 === B?Promise.reject("Invalid email and/or password"):f.za.get(l.VMa).Cf(this.log,{},{email:A,password:B}).then(function(){});}function v(A){var B;B=f.za.get(p.NE);return B.p1a.fetch(A,B);}if(d.config.pKb){w=f.za.get(g.Hga);y=f.za.get(m.gp);x=f.za.get(c.$a).Za("Test");z=f.za.get(q.Al);h.OE.qL.test={setPboRequestsListener:function(A){return w.p7b(A);},playbacks:n.Dm,playgraphManager:{isNextSegmentReady:function(A){var B,D;return void 0 !== (null === (D=null === (B=n.Dm.find(function(C){return C.na === A;})) || void 0 === B?void 0:B.eb) || void 0 === D?void 0:{wla:0});},isNextSegmentBuffering:function(A,B){var D,C;return null === (C=null === (D=n.Dm.find(function(E){return E.na === A;})) || void 0 === D?void 0:D.eb) || void 0 === C?void 0:C.KV(B).aU;}},live:{isLive:function(A){var B;return null === (B=n.Dm.find(function(D){return D.na === A;})) || void 0 === B?void 0:B.xd.Z;},isAtLiveEdge:function(A){var B;return null === (B=n.Dm.find(function(D){return D.na === A;})) || void 0 === B?void 0:B.xd.fz();}},device:{esn:qb._cad_global.device.hk,esnPrefix:y.jo,errorPrefix:y.Fr},log:{info:function(A,B){for(var D=[],C=1;C < arguments.length;++C)D[C - 1]=arguments[C];return x.info(A,D);},error:function(A,B){for(var D=[],C=1;C < arguments.length;++C)D[C - 1]=arguments[C];return x.error(A,D);},warn:function(A,B){for(var D=[],C=1;C < arguments.length;++C)D[C - 1]=arguments[C];return x.warn(A,D);},trace:function(A,B){for(var D=[],C=1;C < arguments.length;++C)D[C - 1]=arguments[C];return x.trace(A,D);},log:function(A,B){for(var D=[],C=1;C < arguments.length;++C)D[C - 1]=arguments[C];return x.log(A,D);},debug:function(A,B){for(var D=[],C=1;C < arguments.length;++C)D[C - 1]=arguments[C];return x.debug(A,D);},flush:function(){return z.flush();}},login:t,getManifest:v};}u(k.ig);});},66093:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.Rv=void 0;c=a(33096);m=a(29204);r=a(36129);g=a(31276);k=a(22365);d=a(11479);f=a(32687);n=a(59818);h=a(5021);a=g.za.get(d.Zh);l=g.za.get(n.NA);a.register(r.V.RIa,function(p){var v,w;function q(){p(c.ig);q=c.Ix;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,f.hq)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=k.He.getBattery();if(!(0,f.hq)(y.then))throw "getBattery did not return a promise";return y;});}v=(0,g.Zi)("BatteryManager");b.Rv={Ylb:"chargingchange",x3a:function(){return w?w.level:null;},aqa:function(){return w?w.charging:null;},addEventListener:function(y,x){w && w.addEventListener(y,x);},removeEventListener:function(y,x){w && w.removeEventListener(y,x);}};m.config.hU && (0,f.hq)(k.He.getBattery)?l.Bq((0,h.Ob)(m.config.WMb),t()).then(function(y){u(y);w=y;}).catch(function(y){v.error("getBattery failed",y);}).then(q):q();});},94886:function(r,b,a){var m,g;function c(){var k,d;k=this;this.pt={};this.on=function(f,n,h){k.addListener(f,n,h);};this.addListener=function(f,n,h){k.pt && (k.pt[f]=k.pt[f] || new g.gha(!0)).add(n,h);};this.removeListener=function(f,n){k.pt && k.pt[f] && k.pt[f].removeAll(n);};this.kqa=function(f){return k.pt && k.pt[f]?k.pt[f].flatten():[];};d=this;this.Fc=function(f,n,h){var l;if(d.pt){l=d.kqa(f);for(f={MJ:0};f.MJ < l.length;(f={MJ:f.MJ},f.MJ++))h?(function(p){return function(){var q;q=l[p.MJ];(0,m.Mf)(function(){q(n);});};})(f)():l[f.MJ].call(this,n);}};}Object.defineProperty(b,"__esModule",{value:!0});b.Xj=void 0;m=a(32219);g=a(20483);c.prototype.Gg=function(){this.pt=void 0;};b.Xj=c;},31298:function(r,b,a){var m,g,k;function c(d,f,n,h,l,p,q){this.debug=d;this.config=f;this.platform=n;this.X9=h;this.debug.assert(l && l != g.V.jp,"There should always be a specific error code");this.errorCode=l || g.V.jp;p && "object" === typeof p?(this.wa=p.wa || p.Pc,this.Le=p.Le || p.De,this.ZU=p.ZU || p.Iy,this.Yb=p.Yb || p.details,this.JU=p.Tt,this.x6=p.x6 || p.Qmc || p.Dz,this.wG=p.wG || p.data,p.xX && (this.xX=p.xX),this.kY=p.kY,this.Wl=p.Wl,this.method=p.method,this.v$=p.v$,this.alert=p.alert,this.Aka=p.Aka,this.cH=p.cH,!this.Yb && this.cH && (this.Yb=JSON.stringify(this.cH)),this.Ad=p.Ad,this.debug.assert(!this.Wl || this.Wl == this.Le)):(this.wa=p,this.Le=q);this.stack=[this.errorCode];this.wa?this.stack.push(this.wa):this.Le && this.stack.push(g.R.jp);this.Le && this.stack.push(this.Le);this.g6=this.HW?this.kY:this.platform.Fr + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.sOa=void 0;m=a(33096);g=a(36129);k=a(32687);a(3887);c.prototype.Afb=function(d){this.j1b=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.g6 + "]";this.Yb && (d+=" " + this.Yb);this.JU && (d+=" (CustomMessage: " + this.JU + ")");return d;};c.prototype.b_=function(){var d,f,n,h;this.JU && (n=["streaming_error"]);n || this.X9.Yt() !== m.C0 || ("80080017" == this.Le && (n=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Le && (n=["pause_timeout"]));n || this.X9.Yt() !== m.Kea || this.errorCode !== g.V.GGa && this.errorCode !== g.V.D0 || (n=["no_cdm","platform_error","plugin_error"]);n || this.errorCode !== g.V.Nea || this.wa !== g.R.Lea || (n=["pause_timeout"]);this.x6 === g.O1.Qha && (this.dma("2018") || this.dma("2020")?n=["received_soad"]:this.dma("5000") && (n=["should_reset_device"]));h=this.dNb();h && (n=[h],this.JU=void 0);if(!n)switch(this.errorCode){case g.V.Z1:case g.V.F1:case g.V.Wkb:case g.V.uga:this.j1b && (n=["pause_timeout"]);break;case g.V.eJa:case g.V.fJa:n=this.wa?["platform_error"]:["multiple_tabs"];break;case g.V.pfa:case g.V.IMa:case g.V.yga:case g.V.yqb:n=["platform_error","plugin_error"];break;case g.V.wga:n=["no_cdm","platform_error","plugin_error"];break;case g.V.MGa:case g.V.KA:case g.V.xga:switch(this.Le){case "FFFFD000":n=["device_needs_service","platform_error"];break;case "48444350":n=["unsupported_output","platform_error"];break;case "00000024":n=["private_mode"];}break;case g.V.GMa:case g.V.vga:n=["unsupported_output"];}!n && (0,g.gHa)(this.wa) && (n=this.wa == g.R.fR?["geo"]:["internet_connection_problem"]);n || this.errorCode !== g.V.D0 || this.wa !== g.R.Bm || "S" !== this.platform.Fr || (n=["private_mode"]);if(!n)switch(this.GAa(this.wa)){case g.R.Wha:n=["should_upgrade"];break;case g.R.BMa:n=["should_reset_device"];break;case g.R.AMa:n=["should_reload_device"];break;case g.R.zMa:n=["should_exit_device"];break;case g.R.zpb:case g.R.MKa:n=["should_signout_and_signin"];break;case g.R.Apb:n=["internet_connection_problem"];break;case g.R.KFa:n=["platform_error","plugin_error"];break;case g.R.Cmb:case g.R.OIa:case g.R.PIa:n=["private_mode"];break;case g.R.Qfa:n=["should_reload_with_preferred_locales"];}n=n || [];if(this.HW)(n.push(this.kY,this.ZU),this.GAa(this.wa) === g.R.rga && n.push("incorrect_pin"));else if((n.push(this.platform.Fr + this.errorCode),this.wa))switch(this.GAa(this.wa)){case g.R.rga:n.push("incorrect_pin");break;default:n.push("" + this.wa);}n={display:{code:this.g6,text:this.JU},messageIdList:n,alert:this.alert,alertTag:this.Aka,preferredAudioLocale:null === (d=this.cH) || void 0 === d?void 0:d.I5a,preferredTextLocale:null === (f=this.cH) || void 0 === f?void 0:f.J5a};this.config().oKb && (n.debugData=this.wG);return n;};c.prototype.GAa=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.dma=function(d){return ((0,k.Tb)(this.Le)?this.Le.toString():(0,k.zg)(this.Le)?this.Le:"").endsWith(d);};c.prototype.dNb=function(){if(this.errorCode === g.V.mR && (this.wa === g.R.qga || this.wa === g.R.yMa))return this.eNb(this.wa === g.R.qga);};c.prototype.eNb=function(d){var f,n,h,l;h=this.config().browserInfo || ({});l=null === (f=h.os) || void 0 === f?void 0:f.name;f=((null === (n=h.os) || void 0 === n?void 0:n.version) || "").split(".");n=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(l){case "windows":return 6 > n || 6 === n && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > n || 10 === n && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};Ya.Object.defineProperties(c.prototype,{HW:{configurable:!0,enumerable:!0,get:function(){return !!this.kY && !!this.ZU;}}});b.sOa=c;},981:function(r,b){function a(c,m){this.eBa=c;this.kw=m;}Object.defineProperty(b,"__esModule",{value:!0});b.rPa=void 0;a.prototype.J7b=function(){this.K3 || (this.K3=setInterval(this.kw,this.eBa));};a.prototype.mYa=function(){this.K3 && (clearInterval(this.K3),this.K3=void 0);};b.rPa=a;},35128:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H2=void 0;b.hp={pK:"PRIMARY",Dda:"ASSISTIVE",OEa:"COMMENTARY",NONE:"NONE"};b.H2={assistive:b.hp.Dda,closedcaptions:b.hp.Dda,directorscommentary:b.hp.OEa,commentary:b.hp.OEa,subtitles:b.hp.pK,primary:b.hp.pK,none:b.hp.NONE};},24066:function(r,b,a){var m,g,k,d,f;function c(){return m.Cc.get(k.Kc).nz.ea(f.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.eCb=b.yma=b.qYa=b.cCb=b.dCb=b.xma=b.fo=void 0;m=a(83989);g=a(30869);k=a(81918);d=a(62665);f=a(5021);b.fo=function(){return m.Cc.get(k.Kc).Lb().ea(f.ma);};b.xma=function(){return m.Cc.get(g.hg).se.ea(f.Qn);};b.dCb=function(){return m.Cc.get(k.Kc).nz.ea(f.Qn);};b.cCb=function(){return m.Cc.get(d.Cx).LB();};b.qYa=c;b.yma=function(){return m.Cc.get(g.hg).se.ea(f.ma);};b.eCb=function(){return c();};},33096:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lha=b.yR=b.L1=b.Nlb=b.Ilb=b.Klb=b.Llb=b.pEa=b.Hlb=b.Jlb=b.oEa=b.Mlb=b.Tlb=b.Rlb=b.Slb=b.Qlb=b.qnb=b.pnb=b.onb=b.bpb=b.dpb=b.cpb=b.JKa=b.LKa=b.KKa=b.rnb=b.Kea=b.C0=b.Npb=b.Crb=b.IKa=b.Blb=b.HFa=b.mga=b.nK=b.X1=b.HKa=b.Ex=b.Alb=b.aEa=b.Qob=b.hsb=b.apb=b.$ob=b.vrb=b.urb=b.Qq=b.ig=b.mPa=b.Ix=void 0;b.YDa=b.ZDa=void 0;b.Ix=function(){};b.mPa=function(){return !0;};b.ig={pa:!0};b.Qq=1E3;b.urb=86400;b.vrb=604800;b.$ob=1E4;b.apb=1E7;b.hsb=1.5;b.Qob=.128;b.aEa=7.8125;b.Alb=128;b.Ex=145152E5;b.HKa=1E5;b.X1="$netflix$player$order";b.nK=-1;b.mga=1;b.HFa=["en-US"];b.Blb=8;b.IKa=65535;b.Crb=65536;b.Npb=Number.MAX_VALUE;b.C0="playready";b.Kea="widevine";b.rnb="fps";b.KKa='audio/mp4; codecs="mp4a.40.5"';b.LKa='audio/mp4; codecs="mp4a.40.42"';b.JKa='audio/mp4; codecs="ec-3"';b.cpb='video/mp4; codecs="avc1.640028"';b.dpb='video/mp4; codecs="hev1.2.6.L153.B0"';b.bpb='video/mp4; codecs="dvhe.01000000"';b.onb="9A04F079-9840-4286-AB92-E65BE0885F95";b.pnb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.qnb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Qlb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Slb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Rlb="4E657466-6C69-7846-7261-6D6552617465";b.Tlb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Mlb="mp4a";b.oEa="enca";b.Jlb="ec-3";b.Hlb="avc1";b.pEa="encv";b.Llb="hvcC";b.Klb="hev1";b.Ilb="dvhe";b.Nlb="vp09";b.L1=0;b.yR=1;b.lha="position:relative;width:100%;height:100%;overflow:hidden";b.ZDa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";b.YDa="AAAAIGZ0eXBpc282AAAAAWlzbzZkc21zbXNpeGRhc2gAAABJZnJlZUlzb01lZGlhIEZpbGUgUHJvZHVjZWQgd2l0aCBHUEFDIDIuMy1ERVYtcmV2NzMyNC1nYmY2MjljNjllLUhFQUQAAAACyW1vb3YAAABsbXZoZAAAAADh+ZcJ4fmXCQAAu4AAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIddHJhawAAAFx0a2hkAAAAB+H5lKLh+ZcJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAAAAAAAAAAAQAAAAABlW1kaWEAAAAgbWRoZAAAAADh+ZSi4fmXCQAAu4AAAAAAFccAAAAAACVoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAc291bgAAAAFIbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEMc3RibAAAAKZzdHNkAAAAAAAAAAEAAACWbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAALuAAAAAAAByZXNkcwAAAAADZAAAAARcQBUABhoAAx/QAALzCAVN+UZDIjzA08ngIAAAEkt4gQIEBgtciAIJAggJCAAJ1AGAQARCAAV1AGAwsAGQgAgdcgBgKHACEIAIGQAYCAAABMAK5JYATgAgAASfSwAGAQIAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAABpzZ3BkAQAAAHByb2wAAAACAAAAAQABAAAAOG12ZXgAAAAQbWVoZAAAAAAJVBbgAAAAIHRyZXgAAAAAAAAAAQAAAAEAAAQAAAAAAAABAAA=";},77705:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.OZa=b.fua=void 0;c=a(45146);m=a(3887);g=a(32687);(function(){var d,f,n;function k(h){(0,c.oa)(void 0 !== d[h]);return d[h];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;n=/[", ]/;b.OZa=function(h){return (0,g.$c)(h)?(0,g.Tb)(h)?h:(0,g.zg)(h)?h.replace(f,k):(0,g.H6a)(h)?h:isNaN(h)?"NaN":"":"";};b.fua=function(h){var l,p;l=b.OZa;p="";(0,m.bg)(h,function(q,u){q=l(q) + "=" + l(u);n.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},45146:function(r,b,a){var g,k,d;function c(){d || (d=g.za.get(k.vx));return d;}function m(f,n){return c().assert(f,n);}Object.defineProperty(b,"__esModule",{value:!0});b.qGb=b.yna=b.jGb=b.nGb=b.TL=b.yU=b.mGb=b.oGb=b.zU=b.$Za=b.lGb=b.kGb=b.oa=b.pGb=b.llb=void 0;g=a(31276);k=a(90597);b.llb=function(){m(!1);};b.pGb=!0;d=void 0;b.oa=m;b.kGb=function(f,n){return c().pyb(f,n);};b.lGb=function(f,n){return c().qyb(f,n);};b.$Za=function(f,n){return c().u4(f,n);};b.zU=function(f,n){return c().wyb(f,n);};b.oGb=function(f,n){return c().uyb(f,n);};b.mGb=function(f,n){return c().t4(f,n);};b.yU=function(f,n){return c().syb(f,n);};b.TL=function(f,n){return c().vyb(f,n);};b.nGb=function(f,n){return c().tyb(f,n);};b.jGb=function(f,n){return c().oyb(f,n);};b.yna=function(f,n){return c().ryb(f,n);};b.qGb=function(){return c().SSb();};},32219:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mf=void 0;b.Mf=function(a){return setTimeout(a,0);};},22894:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;b.DHa=function(a){var g,k,d,f;function c(){if(d)for(var n;n=g.pop();)n(f);}function m(n){d=!0;f=n;c();}g=[];return function(n){g.push(n);k || (k=!0,a(m));c();};};},37509:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.X7=b.Qr=b.Y7=b.nC=b.cl=b.te=void 0;r=a(94886);c=a(32219);m=a(22365);b.te=new r.Xj();b.cl=1;b.nC=2;b.Y7=3;b.Qr=4;b.X7=5;(0,c.Mf)(function(){var k,d,f;function g(n,h){if(d)d.on(n,h);else qb.addEventListener(n,h);}k=qb.jQuery;d=k && k(qb);k=(k=qb.netflix) && k.cadmium && k.cadmium.addBeforeUnloadHandler;f=m.Qg.hidden;k?k(function(n){b.te.Fc(b.cl,n);}):g("beforeunload",function(n){b.te.Fc(b.cl,n);});g("keydown",function(n){b.te.Fc(b.nC,n);});g("resize",function(){b.te.Fc(b.Y7);});m.Qg.addEventListener("visibilitychange",function(){f !== m.Qg.hidden && (f=m.Qg.hidden,b.te.Fc(b.Qr));});});(function(){qb.addEventListener("error",function(g){b.te.Fc(b.X7,g);return !0;});})();},52828:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(36129);c=a(31276);m=a(31701);a=a(11479);c.za.get(a.Zh).register(r.V.TIa,function(g){c.za.get(m.BGa)().then(function(){g({pa:!0});}).catch(function(k){c.log.error("error in initializing indexedDb debug tool",k);g({pa:!0});});});},37353:function(r,b,a){var n,h,l,p,q;function c(u){var t,w;(0,h.zU)(u);if((0,p.zg)(u) && b.gJa.test(u)){t=u.split(".");if(4 === t.length){for(var v=0;v < t.length;v++){w=(0,q.fj)(t[v]);if(0 > w || !(0,p.BC)(w,0,255) || 1 !== t[v].length && 0 === t[v].indexOf("0"))return;}return u;}}}function m(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.fj)(u[0]) << 24,t+=(0,q.fj)(u[1]) << 16,t+=(0,q.fj)(u[2]) << 8,t + (0,q.fj)(u[3]));}function g(u){var t,v;(0,h.zU)(u);if((0,p.zg)(u) && u.match(b.hJa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=k(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){v=parseInt(t[u],16);if(!(0,p.BC)(v,0,n.IKa))return;}return t.join(":");}}}function k(u){var t;u=m(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,v,w;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);v=8 - (t.length + u.length);if(1 > v)return [];for(w=0;w < v;w++)t.push("0");for(w=0;w < u.length;w++)t.push(u[w]);return t;}function f(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.Hob=b.Mob=b.Job=b.Iob=b.Lob=b.Gob=b.Kob=b.pE=b.hJa=b.gJa=void 0;n=a(33096);h=a(45146);l=a(22365);p=a(32687);q=a(3887);b.gJa=/^[0-9.]*$/;b.hJa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.pE="0000000000000000";b.Kob=c;b.Gob=m;b.Lob=g;b.Iob=k;b.Job=d;b.Mob=function(u,t,v){var w,y,x,z;w=c(u);y=g(u);x=c(t);z=g(t);if(!w && !y || !x && !z || w && !x || y && !z)return !1;if(u === w)return (v=f(v),(m(u) & v) !== (m(t) & v)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(w=(0,l.iK)(v / b.pE.length);w--;)if(u[w] !== t[w])return !1;v%=b.pE.length;if(0 !== v)for((u=parseInt(u[w],16).toString(2),t=parseInt(t[w],16).toString(2),u=b.pE.substring(0,b.pE.length - u.length) + u,t=b.pE.substring(0,b.pE.length - t.length) + t,w=0);w < v;w++)if(u[w] !== t[w])return !1;return !0;}return !1;};b.Hob=f;},32687:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.hq=b.H6a=b.xN=b.zg=b.gta=b.rTb=b.dTb=b.Wsa=b.BC=b.R6a=b.Tb=b.fta=b.isArray=b.i7a=b.ku=b.$c=b.is=void 0;r=a(76564);b.is=r.qE;b.$c=function(c){return b.is.wg(c);};b.ku=function(c){return b.is.HT(c);};b.i7a=function(c){return b.is.Yja(c);};b.isArray=function(c){return b.is.wB(c);};b.fta=function(c){return b.is.NVa(c);};b.Tb=function(c,m,g){return b.is.ck(c,m,g);};b.R6a=function(c,m,g){return b.is.Fka(c,m,g);};b.BC=function(c,m,g){return b.is.IT(c,m,g);};b.Wsa=function(c){return b.is.nT(c);};b.dTb=function(c){return b.is.fwb(c);};b.rTb=function(c){return b.is.gwb(c);};b.gta=function(c){return b.is.OVa(c);};b.zg=function(c){return b.is.Bp(c);};b.xN=function(c){return b.is.Nm(c);};b.H6a=function(c){return b.is.M3(c);};b.hq=function(c){return b.is.O3(c);};},2734:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(31276);b=a(36410);a=a(34126);r.za.get(b.fK).eba(a.Lfa.imb,function(c){var m,g;m=c.level;if(!qb._cad_global.config || m <= qb._cad_global.config.$Vb){c=c.Mca();g=qb.console;1 >= m?g.error(c):2 >= m?g.warn(c):g.log(c);}});},73100:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);r=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);r.za.get(a.Zh);!1;},8825:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mh=b.Opb=b.Kx=void 0;c=a(32687);b.Kx=b.Kx || (function(m,g,k){return m >= g?m <= k?m:k:g;});b.Opb=function(m,g,k,d,f){return (m - g) * (f - d) / (k - g) + d;};b.mh=function(m){if((0,c.Tb)(m))return (m / 1E3).toFixed(3);};},87051:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.icc=b.Yrb=b.Wrb=b.Vrb=b.Xrb=void 0;c=a(32687);m=a(22365);b.Xrb=function(g,k,d){for(d=(d - g.length) / k.length;0 < d--;)g+=k;return g;};b.Vrb=function(g,k,d){d=(0,c.zg)(d)?d:"...";return g.length <= k?g:g.substr(0,g.length - (g.length + d.length - k)) + d;};b.Wrb=function(g,k){var f;for(var d=1;d < arguments.length;++d);f=m.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(n,h){return "undefined" != typeof f[h]?f[h]:n;});};b.Yrb=function(g){for(var k=g.length,d=new Uint16Array(k),f=0;f < k;f++)d[f]=g.charCodeAt(f);return d.buffer;};b.icc=function(g){var k;k=new Uint8Array(g.length);Array.prototype.forEach.call(g,function(d,f){k[f]=d.charCodeAt(0);});return k;};},52569:function(r,b,a){var n,h,l,p,q,u;function c(){var t,v;if(t=b.K7.dUa)return t;t=p.S1.search.substr(1);v=t.indexOf("#");0 <= v && (t=t.substr(0,v));t=m(t);return b.K7.dUa=t;}function m(t){for(var v=/[+]/g,w=(t || "").split("&"),y={},x,z=0;z < w.length;z++)(t=(0,l.trim)(w[z]),x=t.indexOf("="),0 <= x?y[decodeURIComponent(t.substr(0,x).replace(v,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(v,"%20")):y[t.toLowerCase()]=null);return y;}function g(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function k(t){return g(t.constructor);}function d(t){return p.sort.call(t,function(v,w){return v - w;});}function f(t){for(var v=0,w=t.length;w--;)v+=t[w];return v;}Object.defineProperty(b,"__esModule",{value:!0});b.A1b=b.TG=b.$2a=b.hta=b.w1b=b.$6a=b.Olb=b.Plb=b.ELb=b.AL=b.CCb=b.R6=b.NKb=b.XH=b.flb=b.xQ=b.glb=b.T_=b.elb=b.PSb=b.createElement=b.sU=b.b2b=b.yva=b.cqa=b.getFunctionName=b.jY=b.K7=b.vPb=b.Rcb=b.vVa=b.UYa=b.m3b=b.IB=b.DYa=void 0;n=a(33096);h=a(31276);l=a(3887);p=a(22365);q=a(32687);u=a(82100);b.DYa=function(t,v){if(t === v)return !0;if(!t || !v)return !1;for(var w in t)if(t.hasOwnProperty(w) && (!v.hasOwnProperty(w) || t[w] !== v[w]))return !1;return !0;};b.IB=b.IB || (function(t,v){if(t.length == v.length){for(var w=t.length;w--;)if(t[w] != v[w])return !1;return !0;}return !1;});b.m3b=function(t){var v;if(t){v=t.length;if(v)return (v=(0,l.Mcb)(0,v - 1),t[v]);}};b.UYa=function(t,v){if(t.length != v.length)return !1;t.sort();v.sort();for(var w=t.length;w--;)if(t[w] !== v[w])return !1;return !0;};b.vVa=function(t,v,w){function y(){t.removeEventListener(v,y);w.apply(this,arguments);}t.addEventListener(v,y);};b.Rcb=function(){var t,v,w,y,x,z;t=p.Qg.cookie.split("; ");v=t.length;x={};for(w=0;w < v;w++)if(y=(0,l.trim)(t[w])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}return x;};b.vPb=c;b.K7=Object.assign(c,{dUa:void 0});b.jY=m;b.getFunctionName=g;b.cqa=k;b.yva=function(t){var v;v="";(0,q.isArray)(t) || (0,q.fta)(t)?v=p.reduce.call(t,function(w,y){return w + (32 <= y && 128 > y?(0,p.NQa)(y):".");},""):(0,q.zg)(t)?v=t:(0,l.bg)(t,function(w,y){v+=(v?", ":"") + "{" + w + ": " + ((0,q.hq)(y)?g(y) || "function":y) + "}";});return "[" + k(t) + " " + v + "]";};b.b2b=function(t,v){t.firstChild?t.insertBefore(v,t.firstChild):t.appendChild(v);};b.sU=b.sU || (function(t){var v;v="";(0,l.bg)(t,function(w,y){v+=(v?";":"") + w + ":" + y;});return v;});b.createElement=b.createElement || (function(t,v,w,y){var x;x=p.Qg.createElement(t);v && (x.style.cssText=v);w && (x.innerHTML=w);y && (0,l.bg)(y,function(z,A){x.setAttribute(z,A);});return x;});b.PSb=function(t,v){var w;w=t[0];if(v <= w[0])return w.slice(1);for(var y=1,x;x=t[y++];){if(v <= x[0]){t=(v - w[0]) / (x[0] - w[0]);v=[];for(y=1;y < w.length;y++)v.push((w[y] || 0) + t * ((x[y] || 0) - (w[y] || 0)));return v;}w=x;}return w.slice(1);};b.elb=function(t,v){var x;for(var w={},y=0;y < v.length;y++){x=v[y];if("string" != typeof x && "number" != typeof x)return !1;w[v[y]]=1;}for(y=0;y < t.length;y++)if((x=t[y],!w[x]))return !1;return !0;};b.T_=d;b.glb=f;b.xQ=function(t,v){var w,y,x,z;w=-1;y=t.length;if(1 === arguments.length){for(;++w < y && !(null != (x=t[w]) && x <= x);)x=void 0;for(;++w < y;)null != (z=t[w]) && z > x && (x=z);}else {for(;++w < y && !(null != (x=v.call(t,t[w],w)) && x <= x);)x=void 0;for(;++w < y;)null != (z=v.call(t,t[w],w)) && z > x && (x=z);}return x;};b.flb=function(t,v){var w,y,x,z;w=-1;y=t.length;if(1 === arguments.length){for(;++w < y && !(null != (x=t[w]) && x <= x);)x=void 0;for(;++w < y;)null != (z=t[w]) && x > z && (x=z);}else {for(;++w < y && !(null != (x=v.call(t,t[w],w)) && x <= x);)x=void 0;for(;++w < y;)null != (z=v.call(t,t[w],w)) && x > z && (x=z);}return x;};b.XH=function(t){return (0,q.hq)(t.then)?t:new Promise(function(v,w){t.oncomplete=function(){v(t.result);};t.onerror=function(){w(t.error);};});};b.NKb=function(t,v){var y,x,z,A,B,D;function w(C){0 > y.indexOf(C) && (0,q.Tb)(C) && y.push(C);}t=t.slice();d(t);y=[];if(!v || !v.length)return t;if(!t.length)return [];x=v.length;try{for(;x--;){A="" + v[x];B=(0,l.fj)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){D=t[z];if(D < B){w(D);break;}}break;case "+":for(z=0;z < t.length;z++)if((D=t[z],D > B)){w(D);break;}break;default:0 <= t.indexOf(B) && w(B);}}}catch(C){}y.length || y.push(t[0]);d(y);return y;};b.R6=b.R6 || (function(t,v,w){var y;if(t / v > w){y=(0,p.Mn)(v * w);t=v;}else (y=t,t=(0,p.Mn)(t / w));return {width:y,height:t};});b.CCb=function(t,v,w){for(var y=[],x=0;x < v;x++)y.push((0,p.aLa)(t[x] - w,2));return (0,p.bLa)(f(y) / y.length);};b.AL=function(t,v){var w;w=t.length;v=(w - 1) * v + 1;if(1 === v)return t[0];if(v == w)return t[w - 1];w=(0,p.iK)(v);return t[w - 1] + (v - w) * (t[w] - t[w - 1]);};b.ELb=function(t,v){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");v=(0,q.isArray)(v)?v:[v];for(var w=t.length,y=0;y < w;y++)for(var x=0;x < v.length;x++)if(t[y].type == v[x])return t[y];throw Error("Box not found " + v);};b.Plb=function(t){return t.xNb("trak/mdia/minf/stbl/stsd/" + n.oEa + "|" + n.pEa).children.filter(function(v){return "sinf" == v.type && v.Okc.schm.Pnc == u.cv;})[0].xNb("schi/tenc").xo;};b.Olb=function(t){var w;function v(y,x){var z;z=w[y];w[y]=w[x];w[x]=z;}w=new Uint8Array(t);v(0,3);v(1,2);v(4,5);v(6,7);return w;};b.$6a=function(){return (0,q.hq)(p.He.requestMediaKeySystemAccess);};b.w1b=function(t){return function(v){return v && v[t];};};(0,q.hq)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,v){var w,y;void 0 === t && (t=0);void 0 === v && (v=this.byteLength);t=Math.floor(t);v=Math.floor(v);0 > t && (t+=this.byteLength);0 > v && (v+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);if(0 >= v - t)return new ArrayBuffer(0);w=new ArrayBuffer(v - t);y=new Uint8Array(w);t=new Uint8Array(this,t,v - t);y.set(t);return w;});b.hta=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.$2a=function(){var t,v;t=new ArrayBuffer(4);v=new Uint8Array(t);t=new Uint32Array(t);v[0]=161;v[1]=178;v[2]=195;v[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.TG=function(){var t,v,w;try{t=/playercore.*js/;v=p.ov.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(v && 0 < v.length){w=(0,p.Mn)(v[0].duration);return JSON.stringify(w);}}catch(y){}};b.A1b=function(t,v,w){if(t && t.length){if(w && w.JBb)try{t.forEach(function(y,x){var z;z=(x=w.JBb[x]) && x.media;z && (0,q.zg)(z)?(!1,z=(0,h.qr)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:v,Ec:x.cdn}):h.log.warn("chunk not in cache",y.Ag);});}catch(y){h.log.error("error reading cached chunks",y);}else h.log.warn("chunks not available in cached stream",w.type);}else h.log.warn("chunks not available in mediabuffer",w.type);};},3887:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.YCb=b.Xl=b.cg=b.jCb=b.Nf=b.ww=b.trim=b.Tra=b.ahb=b.Mcb=b.g0b=b.fj=b.iWa=b.uXa=b.de=b.bg=void 0;c=a(45146);m=a(22365);g=a(32687);b.bg=function(k,d){for(var f in k)k.hasOwnProperty(f) && d(f,k[f]);};b.de=b.de || (function(k,d,f){var n,h,l;if(d)if(f){n=f.iX;h=f.prefix;l=f.eaa;(0,b.bg)(d,function(p,q){if(!l || (0,g.$c)(q))k[(h || "") + (n?p.toLowerCase():p)]=q;});}else (0,b.bg)(d,function(p,q){k[p]=q;});return k;});b.uXa=function(k,d,f,n){var h;if(k){h=k[d];(0,g.hq)(h) && (f=h.apply(k,m.slice.call(arguments,3)));}return f;};b.iWa=function(k){for(var d={},f=k.length;f--;)d[k[f]]=!0;return d;};b.fj=b.fj || (function(k){return parseInt(k,10);});b.g0b=function(k){return (/^true$/i).test(k);};b.Mcb=function(k,d){return (0,m.Mn)(k + (0,m.N1)() * (d - k));};b.ahb=function(k){return JSON.stringify(k,null,"  ");};b.Tra=(function(){var d,f;function k(n){(0,c.oa)(void 0 !== d[n]);return d[n];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(n){return n.replace(f,k);};})();b.trim=(function(){var k;k=/^\s+|\s+$/gm;return function(d){return d.replace(k,"");};})();b.ww=function(k){return Array.isArray(k)?k:[k];};b.Nf=b.Nf || (function(k){var d,f,n;if(k){d=k.stack;f=k.number;n=k.message;n || (n="" + k);d?(k="" + d,0 != k.indexOf(n) && (k=n + "\n" + k)):k=n;f && (k+="\nnumber:" + f);return k;}});b.jCb=function(k){var n;for(var d=0;d < arguments.length;++d);d=0;for(var f=arguments.length;d < f;){n=arguments[d++];if((0,g.$c)(n))return n;}};b.cg=function(k){return (0,g.Tb)(k)?k.toFixed(0):void 0;};b.Xl=function(k){return (0,g.Tb)(k)?(k / 1E3).toFixed(0):void 0;};b.YCb=function(k){for(var d=[],f=0;f < k.length;f++)d[f]=k[f];return d;};},29204:function(r,b,a){var g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D;function c(C){return (C=b.config.Rac[m(C)])?C:{};}function m(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":0 <= C.indexOf("live")?"live":C;}Object.defineProperty(b,"__esModule",{value:!0});b.ECb=b.FCb=b.NYa=b.r5=b.OYa=b.Nma=b.config=void 0;g=a(33096);k=a(52569);d=a(31276);f=a(34231);n=a(45146);h=a(56800);l=a(75568);p=a(3887);a(87386);q=a(22365);u=a(32687);t=a(93294);v=a(45118);w=a(31850);y=a(5614);x=a(72574);z=a(5021);A=a(91581);B=a(81918);D=a(88195);b.OYa=function(C,E){var ya,Ca,Va,S,ma,Ja,Na,Za,V;function G(la,ra){(0,p.bg)(la,function(N,ha){(0,u.hq)(ha)?ra[N]=ha.call(void 0,ra[N]):(0,u.ku)(ha) && (ra[N]=ra[N] || ({}),G(ha,ra[N]));});}function F(la,ra,N,ha){for(var xa=[],$a=3;$a < arguments.length;++$a)xa[$a - 3]=arguments[$a];return function(ab){(0,u.$c)(ab) && (N=ab);(0,n.oa)((0,u.hq)(la));return la.apply(void 0,[ra,N].concat(aa(xa)));};}function I(la){la=la.toLowerCase();S.hasOwnProperty(la) && (Va[la]=S[la],ma[la]=S[la]);return la;}function P(la,ra,N){var ha;la=la.toLowerCase();if(Va.hasOwnProperty(la)){ha=Va[la];try{ha=N?N(ha):ha;}catch(xa){ha=void 0;}if(void 0 !== ha)return ha;(0,n.oa)(!1);d.log.error("Invalid configuration value. Name: " + la);}return ra;}function M(la,ra,N,ha){return P(la,ra,function(xa){(0,u.zg)(xa) && (xa=(0,p.fj)(xa));if((0,u.R6a)(xa,N,ha))return xa;});}function L(la,ra,N,ha){return P(la,ra,function(xa){(0,u.zg)(xa) && (xa=(0,p.fj)(xa));if((0,u.BC)(xa,N,ha))return xa;});}function Q(la,ra,N,ha){return P(la,ra,function(xa){(0,u.zg)(xa) && (xa=parseFloat(xa));if((0,u.Tb)(xa,N,ha))return xa;});}function J(la,ra,N){return P(la,ra,function(ha){if(N?N.test(ha):(0,u.zg)(ha))return ha;});}function H(la,ra){return P(la,ra,function(N){if("true" == N || !0 === N)return !0;if("false" == N || !1 === N)return !1;});}function K(la,ra){return P(la,ra,function(N){if((0,u.zg)(N))return JSON.parse((0,q.T1)(N));if((0,u.ku)(N))return N;});}function O(la,ra,N,ha,xa,$a){var ab;la=la.toLowerCase();Va.hasOwnProperty(la) && (ab=Va[la]);if(!(0,u.$c)(ab))return ra;if((0,u.zg)(ab))if(ab[0] !== N)ab=ha(ab);else try{ab=JSON.parse((0,q.T1)(ab));}catch(db){ab=void 0;}if(void 0 === ab)return ra;for(la=0;la < xa.length;la++)if(!xa[la](ab))return ra;return $a?$a(ab):ab;}function R(la,ra,N,ha,xa){return O(la,ra,"[",function($a){$a=$a.split("|");for(var ab=$a.length;ab--;)$a[ab]=(0,p.fj)($a[ab]);return $a;},[function($a){return (0,u.isArray)($a) && 0 < $a.length;},function($a){for(var ab=$a.length;ab--;)if(!(0,u.BC)($a[ab],N,ha))return !1;return !0;},function($a){return void 0 === xa || $a.length >= xa;}]);}function ca(la,ra){return O(la,ra,"[",function(N){N=(0,u.isArray)(N)?N:N.split("|");for(var ha=N.length;ha--;)try{N[ha]=JSON.parse((0,q.T1)(N[ha]));}catch(xa){N=void 0;break;}return N;},[function(N){return (0,u.isArray)(N) && 0 < N.length;},function(N){for(var ha=N.length;ha--;)if(!(0,u.$c)(N[ha]) || !(0,u.ku)(N[ha]))return !1;return !0;}]);}function oa(la,ra){var N;N=ta(la,[]);return N && 0 < N.length?(0,D.fg)(N):ca(la,ra);}function ta(la,ra,N,ha){return O(la,ra,"[",function(xa){return (0,u.isArray)(xa)?xa:xa.split("|");},[function(xa){return (0,u.isArray)(xa) && 0 < xa.length;},function(xa){for(var $a=xa.length;$a--;)if(N?!N.test(xa[$a]):!(0,u.xN)(xa[$a]))return !1;return !0;},function(xa){return void 0 === ha || xa.length >= ha;}]);}function Fa(la,ra,N){return O(la,ra,"{",function(ha){var xa,ab,db;xa={};ha=ha.split(";");for(var $a=ha.length;$a--;){ab=ha[$a];db=ab.indexOf(":");if(0 >= db)return;xa[ab.substring(0,db)]=ab.substring(db + 1);}return xa;},[function(ha){return (0,u.ku)(ha) && 0 < Object.keys(ha).length;},function(ha){if(N)for(var xa in ha)if(!N.test(ha[xa]))return !1;return !0;}],function(ha){var xa;xa={};(0,p.de)(xa,ra);(0,p.de)(xa,ha);return xa;});}function ua(la){var ra;ra=[];(0,p.bg)(la,function(N,ha){var xa;try{xa="videoapp" === N.toLowerCase()?"[object object]":JSON.stringify(ha);}catch($a){xa="cantparse";}ra.push(N + "=" + xa);});return ra.join("\n");}ya=/^[0-9]+[%]?$/;Ca=/^[0-9]*$/;ma={};Ja=d.za.get(f.Kn);Na=d.za.get(y.sK);(function(la){function ra(N){N.split(",").forEach(function(ha){var xa;xa=ha.indexOf("=");0 < xa && (Va[ha.substring(0,xa).toLowerCase()]=ha.substring(xa + 1));});}Va={};(0,p.de)(Va,la);C && C.length && q.forEach.call(C,function(N){(0,u.zg)(N)?ra(N):(0,u.ku)(N) && (0,p.de)(Va,N,{iX:!0});});S=(0,p.de)({},(0,k.K7)(),{iX:!0});if(la=(0,k.Rcb)().cadmiumconfig)(d.log.info("Config cookie loaded",la),ra(la));if(d.za.get(A.gp).Eka || Va.istestaccount)((0,p.de)(Va,S),ma=S);})(E);b.config={};Za={uJb:F(H,I("enableXHEAAC"),!1),PIb:F(H,I("enableDDPlus20"),!0),OIb:F(H,I("enableDDPlus"),!0),RU:F(H,I("enableDDPlusAtmos"),!1),YIb:F(H,I("enableLSSDH"),!0),VIb:F(H,I("enableHEVC"),!1),Qab:F(H,I("overrideEnableHEVC"),!1),qoa:F(H,I("enableHDR"),!1),Pab:F(H,I("overrideEnableHDR"),!1),Oab:F(H,I("overrideEnableDV"),!1),eM:F(H,I("enableAVCHigh"),Na.eM),Mab:F(H,I("overrideEnableAVCHigh"),!1),noa:F(H,I("enableAVCHighLive"),Na.noa),Nab:F(H,I("overrideEnableAVCHighLive"),!0),qJb:F(H,I("enableVP9"),!1),Rab:F(H,I("overrideEnableVP9"),!1),EIb:F(H,I("enableAV1"),!1),Lab:F(H,I("overrideEnableAV1"),!1),W_b:F(H,I("overrideEnableXHEAAC"),!1),U_b:F(H,"overrideEnableAllAudioProfiles",!1),V_b:F(H,"overrideEnableAllVideoProfiles",!1),gJb:F(H,I("enablePRK"),!1),QIb:F(H,I("enableDV"),!1),s0a:F(H,I("enableHWDRM"),!1),XIb:F(H,I("enableImageSubs"),!0),LF:F(oa,I("audioProfiles"),Na.LF),UIb:F(H,I("enableFullHdForWidevineL3"),!1),r0a:F(H,I("enableFullHdForWidevineL1"),!1),pJb:F(H,I("enableUHD"),!0),jda:F(L,"videoCapabilityDetectorType",h.Il.wx),cla:F(L,"audioCapabilityDetectorType",h.bv.wx),Dh:F(oa,I("videoProfiles"),Na.Dh),jq:F(oa,I("liveVideoProfiles"),Na.jq),CVa:F(oa,I("additionalVideoProfiles"),[]),Kvb:F(ta,I("timedTextProfiles"),Na.Pu),Pu:function(){return Za.Kvb().filter(function(la){return la === l.Em.tea?Za.YIb():la === l.Em.kK?Za.XIb():!0;});},endpoint:F(H,I("endpoint"),!1),version:F(J,"version","unknown"),WIb:F(H,I("enableHdcp"),!1),ss:F(H,I("prepareCadmium"),!1),kwb:F(H,I("acceptManifestOnPrepareItemParams"),!0),F1b:F(K,"ppmconfig",{maxNumberTitlesScheduled:1}),SU:F(H,I("enableLdlPrefetch"),!1),y0a:F(H,I("enableMediaPrefetch"),!1),bJb:F(H,I("enableManifestCache"),!0),gHb:F(H,I("deleteCachedManifestOnPlayback"),!1),fHb:F(H,I("deleteCachedManifestOnCreate"),!1),iHb:F(H,I("deleteOtherManifestCacheOnCreate"),!1),hHb:F(H,I("deleteOtherLdlCacheOnCreate"),!1),lnc:F(L,I("periodicPrepareLogsIntervalMilliseconds"),36E5),Y1b:F(L,I("prepareManifestCacheMaxCount"),50),W1b:F(L,I("prepareLdlCacheMaxCount"),30),bcb:F(L,I("prepareManifestExpiryMilliseconds"),12E5),X1b:F(L,I("prepareLdlExpiryMilliseconds"),78E4),Q1b:F(L,I("prefetcherMaxWishlistSize"),10),P1b:F(L,I("prefetcherBudgetInBytes"),Infinity),R1b:F(H,I("prefetcherOverrideItemPriority"),!0),V1b:F(J,I("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Yoc:F(K,"videoApp"),CD:F(K,"storageRules"),qMb:F(H,"ftlEnabled",!0),$ra:F(L,I("imageSubsResolution"),0),$Rb:F(L,I("imageSubsMaxBuffer"),Na.VWb.ea(x.Ps),0),hU:F(H,I("captureBatteryStatus"),!1),WMb:F(L,I("getBatteryApiTimeoutMilliseconds"),5E3),sn:F(J,I("keySystemId"),Na.sn),E7a:F(ta,I("keySystemList"),void 0,void 0),dCa:F(H,I("validateKeySystemAccess"),!1),LXb:F(L,I("hdcpGlobalTimeout1"),1E4),MXb:F(L,I("hdcpGlobalTimeout2"),1E4),Bmc:F(L,I("hdcpQueryTimeout1"),1E3),Cmc:F(L,I("hdcpQueryTimeout2"),1E3),K9a:F(L,I("hdcpQueryTimeout2"),100),L9a:F(H,I("microsoftHwdrmRequiresHevc"),!1),NXb:F(H,I("microsoftHwdrmRequiresQHD"),!1),J9a:F(H,I("microsoftClearLeadRequiresSwdrm"),!1),IXb:F(H,I("microsoftEnableDeviceInfo"),!1),JXb:F(H,I("microsoftEnableHardwareInfo"),!1),KXb:F(H,I("microsoftEnableHardwareReset"),!1),cJb:F(H,I("enableMediaCapabilities"),!1),E1b:F(H,I("powerEfficientForVideo"),!1),dJb:F(H,I("enableMediaCapabilitiesSourceBufferCheck"),!1),WVb:F(H,"logMediaPipelineStatus",!1),JY:F(H,I("renderDomDiagnostics"),!0),z8a:function(){return -1;},HN:F(M,I("logDisplayMaxEntryCount"),Na.HN,-1),$Vb:F(M,I("logToConsoleLevel"),-1),wjc:F(M,I("bladerunnerCmdHistorySize"),10),Ny:function(){return Ja.Ny;},Nta:F(H,"logErrorIfEsnNotProvided",!0),zoa:F(H,"enforceSinglePlayback",Na.zoa),v6:F(H,"enforceSingleSession",Na.v6),zma:F(H,"closeOtherPlaybacks",!0),zyb:F(L,"asyncLoadTimeout",15E3,1),lWb:F(L,"mainThreadMonitorPollRate",0),$G:function(){return Ja.$G;},BL:function(){return Ja.BL;},i_:function(){return Ja.i_;},Mjb:F(L,I("verbosePlaybackInfoDenominator"),0),hba:F(H,"renderTimedText",!0),G1b:F(H,"preBufferTimedText",!0),FKb:F(H,"fatalOnTimedTextLoadError",!0),cBa:F(Fa,"timedTextStyleDefaults",{}),Lca:F(Fa,"timedTextStyleOverrides",{}),Kca:F(Fa,"timedTextFontFamilyMapping",Na.Kca || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),QP:F(L,"timedTextSimpleFallbackThreshold",Na.QP.ea(x.Ps)),t8:F(ta,I("increasedMediumScaleLanguageList"),Na.t8),u8:F(ta,I("increasedSmallScaleLanguageList"),Na.u8),v9:F(ta,I("lessBoldLanguageList"),Na.v9),vna:F(J,I("customDfxpUrl")),oJb:F(H,I("enableSubtitleTrackerLogging"),!1),I6b:F(H,I("sendSubtitleQoeLogblobOnMidplay"),!1),Zla:F(R,"cdnIdWhiteList",[]),Yla:F(R,"cdnIdBlackList",[]),Bpa:F(J,I("forceAudioTrack")),Fpa:F(J,I("forceTimedTextTrack")),dXb:F(L,I("maxRetriesTimedTextDownload"),0),V$b:F(L,I("timedTextRetryInterval"),8E3),s9b:F(J,"storageType","idb",/^(none|fs|idb|ls)$/),v8a:F(L,"lockExpiration",1E4),UVb:F(L,"lockRefresh",3E3),aBb:F(H,"captureUnhandledExceptions",!0),ZRb:F(H,"ignoreUnhandledExceptionDuringPlayback",!0),Uac:F(H,"unhandledExceptionsArePlaybackErrors",!1),Jib:F(J,"unhandledExceptionSource",""),i2b:F(H,"preserveLastFrame",!1),WXb:F(L,"minBufferingTimeInMilliseconds",4E3),Q2b:F(L,"progressBackwardsGraceTimeMilliseconds",4E3),R2b:F(L,"progressBackwardsMinPercent",10),Czb:F(J,I("bookmarkIgnoreBeginning"),"0",ya),Dzb:F(J,I("bookmarkIgnoreEnd"),"5%",ya),Ezb:F(J,I("bookmarkIgnoreEndForBranching"),"60000",ya),wua:F(L,"maxParallelConnections",3),tya:F(H,"reportThroughputInLogblobs",!0),Aw:F(L,"minAudioMediaRequestDuration",4E3),UXb:F(L,"minAudioMediaRequestDurationBranching",0),Bz:F(L,"minVideoMediaRequestDuration",4E3),cYb:F(L,"minVideoMediaRequestDurationVariableGOP",0),bYb:F(L,"minVideoMediaRequestDurationBranching",0),Rua:F(L,"minAudioMediaRequestSizeBytes",0),Vua:F(L,"minVideoMediaRequestSizeBytes",0),kIb:F(H,"droppedFrameRateFilterEnabled",!1),lIb:F(L,"droppedFrameRateFilterMaxObservation",60,10,1E3),nIb:F(function(la,ra,N,ha,xa,$a){return O(la,ra,"[",function(ab){ab=ab.split(";");for(var db=ab.length;db--;){ab[db]=ab[db].split("|");for(var ub=ab[db].length;ub--;)ab[db][ub]=(0,p.fj)(ab[db][ub]);}return ab;},[function(ab){return (0,u.isArray)(ab) && 0 < ab.length;},function(ab){for(var db=ab.length;db-- && void 0 !== ab;){if(!(0,u.isArray)(ab[db]))return !1;for(var ub=ab[db].length;ub--;)if(!(0,u.BC)(ab[db][ub],N,ha))return !1;}return !0;},function(ab){if(void 0 !== xa)for(var db=ab.length;db--;)if(xa !== ab[db].length)return !1;return !0;},function(ab){return void 0 === $a || ab.length >= $a;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),mIb:F(L,"droppedFrameRateFilterMinHeight",384),oIb:F(R,"droppedFramesPercentilesList",[]),OXb:F(H,"microsoftScreenSizeFilterEnabled",!1),xUb:F(H,"keyStatusFilterEnabled",!1),Qac:F(H,"uiLabelFilterEnabled",!0),Pac:F(K,"uiLabelFilter",{}),QGb:F(L,I("defaultVolume"),100,0,100),xua:F(L,I("maxPlaybackRate"),2,0,16),l1a:F(H,"fastForwardAds",!1),H_a:F(H,"disableVideoRightClickMenu",!1),j$:F(L,"minDecoderBufferMilliseconds",1E3,0,g.Ex),ZC:F(L,"optimalDecoderBufferMilliseconds",5E3,0,g.Ex),fwa:F(L,"optimalDecoderBufferMillisecondsBranching",3E3,0,g.Ex),m$:F(L,"minimumTimeBeforeBranchDecision",3E3,0,g.Ex),b$a:F(L,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,g.Ex),vz:F(L,"maxDecoderBufferMilliseconds",Na.vz.ea(z.ma),0,g.Ex),f_a:F(L,"decoderTimeoutMilliseconds",1E4,1),G$a:F(L,"noRenderTimeoutMilliseconds",0),Ojb:F(L,"videoGapsTimeoutMilliseconds",500),z0b:F(L,"pauseTimeoutLimitMilliseconds",18E5),esa:F(L,"inactivityMonitorInterval",3E4,0),jwb:F(R,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),kM:F(H,"enableTrickPlay",!1),nxb:F(R,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),yac:F(L,"trickPlayHighResolutionBitrateThreshold",1E3),zac:F(L,"trickPlayHighResolutionThresholdMilliseconds",1E4),Cac:F(Q,"trickplayBufferFactor",.5),xac:F(L,"trickPlayDownloadRetryCount",1),oua:F(J,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),iKb:F(ta,"experimentalFilter",["throughput-wssl"]),oma:F(J,"ciPredictorSource","throughput-ci"),hAa:F(J,"simulationDurationStrategy","default"),eva:F(J,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),AIa:F(K,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),k9a:F(M,"maxIQRSamples",Infinity),T9a:F(M,"minIQRSamples",5),Bjb:F(H,"useResourceTimingAPI",!1),XRb:F(H,"ignoreFirstByte",!0),zKb:F(R,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),t5:F(L,"connectTimeoutMilliseconds",8E3,500),lva:F(L,"noProgressTimeoutMilliseconds",8E3,500),Qhb:F(L,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Smc:F(L,"netflixRequestExpiryTimeout",0),fdc:F(H,"webkitDecodedFrameCountIncorrectlyReported",!1),Bca:F(ta,I("supportedAudioTrackTypes"),[],void 0,1),z8:F(L,"initialLogFlushTimeout",5E3),Fbb:F(J,"playdataPersistKey",Ja.Ny?"unsentplaydatatest":"unsentplaydata"),Znc:F(H,"sendPersistedPlaydata",!0),e1b:F(L,"playdataPersistIntervalMilliseconds",4E3),nnc:F(L,"playdataSendDelayMilliseconds",1E4),$nc:F(H,"sendPlaydataBackupOnInit",!0),YVb:F(ta,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),M9a:F(H,"midplayEnabled",!0),g$:F(L,"midplayIntervalMilliseconds",3E5),N9a:F(R,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),i6:F(L,"downloadReportDenominator",0),aIb:F(L,"downloadReportInterval",3E5),y8a:F(L,"logConfigApplyDenominator",0),SWa:F(Fa,I("bookmarkByMovieId"),{}),kV:F(H,I("forceLimitedDurationLicense"),!1),FC:F(L,I("licenseRenewalRequestDelay"),0),Lwa:F(L,I("persistedReleaseDelay"),1E4),$lc:F(H,I("limitedDurationFlagOverride"),void 0),yeb:F(L,"safariPlayPauseWorkaroundDelay",100),qdc:F(L,"workaroundValueForSeekIssue",1200),Tla:F(H,I("callEndOfStream"),Na.Tla),I0b:F(H,"performRewindCheck",!0),HKb:F(H,"fatalOnUnexpectedSeeking",!0),GKb:F(H,"fatalOnUnexpectedSeeked",!0),EKb:F(H,"fatalOnManifestMistmatch",!0),L7b:F(H,I("setVideoElementSize")),$Bb:F(H,I("clearVideoSrc"),!0),s_a:F(L,I("delayPlayPause"),0),Ks:F(H,I("useTypescriptEme"),!1),ujb:F(H,I("useEncryptedEvent"),!0),LU:F(J,I("drmPersistKey"),"unsentDrmData"),vcb:F(H,I("promiseBasedEme"),!1),nZb:F(H,I("nudgeSourceBuffer"),!1),Meb:F(M,I("seekDelta"),1),sY:F(H,I("preciseSeeking"),!1),H1b:F(H,I("preciseSeekingOnTwoCoreDevice"),!1),r_a:F(Fa,I("delayErrorHandling")),hk:F(J,"esn",""),n1a:F(J,"fesn",""),jJb:F(H,I("enablePerformanceLogging"),!1),q0a:F(H,I("enableEmeVerboseLogging"),!1),appId:F(J,"appId","",Ca),sessionId:F(J,"sessionId","",Ca),CXa:F(J,"cdnProxyUrl"),X1a:F(L,"forceXhrErrorResponseCode",void 0),Up:{Pmc:F(J,"mslApiPath","/msl/"),wnc:F(J,"proxyPath",""),hx:F(J,"uiVersion"),Uca:F(J,"uiPlatform"),Kjc:function(){return "0";},kxa:F(ta,"preferredLanguages",g.HFa,/^[a-zA-Z-]{2,5}$/,1),NLb:F(J,I("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),c$b:F(H,"supportPreviewContentPin",!0),d$b:F(H,"supportWatermarking",!0),s8b:F(H,"showAllSubDubTracks",!1),Mkc:F(H,I("failOnGuidMismatch"),!1)},Waa:{enabled:F(H,"qcEnabled",!1),yn:F(J,"qcPackageId","")},Js:F(H,"useRangeHeader",!1),TU:F(H,"enableMilestoneEventList",!0),bzb:F(Fa,"authenticationKeyNames",(0,p.de)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),p$b:F(J,"systemKeyWrapFormat"),l8b:F(H,"shouldSendUserAuthData",!0),wza:F(H,"sendUserAuthIfRequired",Na.wza),e8b:F(H,"shouldClearUserData",!1),dQ:F(H,"usesMsl",!0),vYb:F(H,"mslDeleteStore",!1),xYb:F(H,"mslPersistStore",!0),cDb:F(H,"correctNetworkForShortTitles",!0),k$b:F(H,"supportsUnequalizedDownloadables",!0),a_a:F(L,I("debugAseDenominator"),100),p4:F(L,"aseAudioBufferSizeBytes",Na.p4.ea(x.Ps)),s4:F(L,"aseVideoBufferSizeBytes",Na.s4.ea(x.Ps)),r4:F(L,"aseTextBufferSizeBytes",Na.r4.ea(x.Ps)),zz:F(L,"minInitVideoBitrate",560),YXb:F(L,"minHCInitVideoBitrate",560),NC:F(L,"maxInitVideoBitrate",Infinity),yz:F(L,"minInitAudioBitrate",0),XXb:F(L,"minHCInitAudioBitrate",0),yw:F(L,"maxInitAudioBitrate",65535),h$:F(L,"minAcceptableVideoBitrate",235),Az:F(L,"minRequiredBuffer",3E4),kq:F(L,"minPrebufSize",7800),Sua:F(L,"minCheckBufferingCompleteInterval",999999),Yxa:F(Q,"rebufferingFactor",1),gs:F(L,"maxBufferingTime",2600),ZBa:F(H,"useMaxPrebufSize",!0),OC:F(L,"maxPrebufSize",45E3),yua:F(L,"maxRebufSize",Infinity),x8:F(ca,"initialBitrateSelectionCurve",null),e6a:F(L,"initSelectionLowerBound",560),f6a:F(L,"initSelectionUpperBound",1050),TZ:F(L,"throughputPercentForAudio",15),lla:F(L,"bandwidthMargin",10),mla:F(H,"bandwidthMarginContinuous",!1),nla:F(ca,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Pma:F(L,"conservBandwidthMargin",20),PAa:F(H,"switchConfigBasedOnInSessionTput",!1),Rma:F(L,"conservBandwidthMarginTputThreshold",0),Qma:F(ca,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),qhb:F(H,"switchAlgoBasedOnHistIQR",!1),QAa:F(J,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),q9a:F(M,"maxPlayerStateToSwitchConfig",-1),D8a:F(J,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),iJa:F(Q,"IQRThreshold",.5),z5a:F(J,"histIQRCalcToUse","simple"),sX:F(L,"maxTotalBufferLevelPerSession",0),QU:F(H,"enableCombinedPlaygraphs",!0),fM:F(H,"enableAdPlaygraphs",!0),sba:F(H,"retainSbrOnFade",!1),Soa:F(ta,"excludedContentPlaygraphIds",[]),s6:F(H,"enableDiscontiguousBuffering",!1),Dpa:F(R,"forceImmediateTransitionTypeForTitles",[]),Cpa:F(L,"forceImmediateTransitionExitZone",0),o_:F(H,"useBufferSizeLimiter",!1),Ybc:F(H,"useLegacyFragmentRounding",!1),u5a:F(L,"highWatermarkLevel",3E4),Yhb:F(L,"toStableThreshold",3E4),Nca:F(L,"toUnstableThreshold",Na.Nca.ea(z.ma)),jAa:F(H,"skipBitrateInUpswitch",!1),pCa:F(L,"watermarkLevelForSkipStart",8E3),Mra:F(L,"highStreamRetentionWindow",9E4),Yta:F(L,"lowStreamTransitionWindow",51E4),Ora:F(L,"highStreamRetentionWindowUp",3E5),$ta:F(L,"lowStreamTransitionWindowUp",3E5),Nra:F(L,"highStreamRetentionWindowDown",6E5),Zta:F(L,"lowStreamTransitionWindowDown",0),Lra:F(Q,"highStreamInfeasibleBitrateFactor",.5),pz:F(L,"lowestBufForUpswitch",15E3),bX:F(L,"lockPeriodAfterDownswitch",15E3),bua:F(L,"lowWatermarkLevel",25E3),qz:F(L,"lowestWaterMarkLevel",2E4),cua:F(H,"lowestWaterMarkLevelBufferRelaxed",!1),Z9:F(Q,"mediaRate",1),JH:F(L,"maxTrailingBufferLen",1E4),$ka:F(L,"audioBufferTargetAvailableSize",262144),fCa:F(L,"videoBufferTargetAvailableSize",1048576),y9a:F(L,"maxVideoTrailingBufferSize",8388608),c9a:F(L,"maxAudioTrailingBufferSize",393216),H6:F(Q,"fastUpswitchFactor",3),cpa:F(Q,"fastDownswitchFactor",1),HH:F(L,"maxMediaBufferAllowed",24E4),hgb:F(H,"simulatePartialBlocks",!0),ggb:F(H,"simulateBufferFull",!0),Sma:F(H,"considerConnectTime",!1),Oma:F(Q,"connectTimeMultiplier",1),fWb:F(L,"lowGradeModeEnterThreshold",12E4),gWb:F(L,"lowGradeModeExitThreshold",9E4),f9a:F(L,"maxDomainFailureWaitDuration",3E4),M9:F(L,"maxAttemptsOnFailure",40),soa:F(H,"enableMaxAttemptsOnFailure",!0),X0a:F(H,"exhaustAllLocationsForFailure",!0),m9a:F(L,"maxNetworkErrorsDuringBuffering",20),N9:F(L,"maxBufferingTimeAllowedWithNetworkError",12E4),k1a:F(L,"fastDomainSelectionBwThreshold",2E3),Hhb:F(L,"throughputProbingEnterThreshold",4E4),Ihb:F(L,"throughputProbingExitThreshold",34E3),t8a:F(L,"locationProbingTimeout",1E4),s1a:F(L,"finalLocationSelectionBwThreshold",1E4),Fhb:F(Q,"throughputHighConfidenceLevel",.75),Ghb:F(Q,"throughputLowConfidenceLevel",.4),A0a:F(H,"enablePerfBasedLocationSwitch",!1),pI:F(H,"probeServerWhenError",!0),vxa:F(L,"probeRequestTimeoutMilliseconds",8E3),GT:F(H,"allowSwitchback",!0),jcb:F(L,"probeDetailDenominator",100),O9:F(L,"maxDelayToReportFailure",300),Kta:F(L,"locationStatisticsUpdateInterval",6E4),eDb:F(H,"countGapInBuffer",!1),Cxb:F(H,"allowCallToStreamSelector",!0),Qzb:F(L,"bufferThresholdForAbort",1E4),cXb:F(L,"maxResponsesInitialTput",6),u0a:F(H,"enableInitialTputLogging",!1),P0b:F(L,"pipelineScheduleTimeoutMs",2),NN:F(L,"maxPartialBuffersAtBufferingStart",2),hXb:F(L,"maxStreamingSkew",4E3),aXb:F(L,"maxPendingBufferPercentage",10),l8:F(L,"headerRequestSize",4096),Hoa:F(H,"estimateHeaderSize",!1),CX:F(L,"minBufferLenForHeaderDownloading",1E4),pZb:F(L,"numExtraFragmentsAllowed",2),zn:F(H,"pipelineEnabled",!1),pgb:F(L,"socketReceiveBufferSize",0),B4:F(L,"audioSocketReceiveBufferSize",32768),mda:F(L,"videoSocketReceiveBufferSize",65536),Jra:F(L,"headersSocketReceiveBufferSize",32768),Dbc:F(L,"updatePtsIntervalMs",1E3),Tzb:F(L,"bufferTraceDenominator",100),$Wa:F(L,"bufferLevelNotifyIntervalMs",2E3),MT:F(L,"aseReportDenominator",0),Vka:F(L,"aseReportIntervalMs",3E5),FIb:F(H,"enableAbortTesting",!1),hwb:F(L,"abortRequestFrequency",8),C9b:F(L,"streamingStatusIntervalMs",2E3),rY:F(L,"prebufferTimeLimit",24E4),Q9a:F(L,"minBufferLevelForTrackSwitch",2E3),Fwa:F(L,"penaltyFactorForLongConnectTime",2),Vta:F(L,"longConnectTimeThreshold",200),wka:F(L,"additionalBufferingLongConnectTime",2E3),xka:F(L,"additionalBufferingPerFailure",8E3),CY:F(L,"rebufferCheckDuration",6E4),aJb:F(H,"enableLookaheadHints",!1),dWb:F(L,"lookaheadFragments",2),iM:F(H,"enableOCSideChannel",!0),V1:F(K,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Vib:F(H,"updateDrmRequestOnNetworkFailure",!1),aHb:F(H,"deferAseScheduling",!1),Ina:F(L,"defaultHeaderCacheSize",4),Hna:F(L,"defaultHeaderCacheDataPrefetchMs",8E3),v$a:F(H,"neverWipeHeaderCache",!0),dva:F(L,"networkFailureResetWaitMs",2E3),cva:F(L,"networkFailureAbandonMs",6E4),S9:F(L,"maxThrottledNetworkFailures",3),Fca:F(L,"throttledNetworkFailureThresholdMs",200),aua:F(M,"lowThroughputThreshold",400),Roa:F(H,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),tYb:F(H,"mp4ParsingInNative",!1),R8b:F(H,"sourceBufferInOrderAppend",!0),$O:F(H,"requireAudioStreamToEncompassVideo",!0),Bxb:F(H,"allowAudioToStreamPastVideo",!0),x0a:F(H,"enableManagerDebugTraces",!1),O8a:F(L,"managerDebugMessageInterval",1E3),N8a:F(L,"managerDebugMessageCount",20),Ymc:F(H,"notifyManifestCacheEom",!1),Szb:F(L,"bufferThresholdToSwitchToSingleConnMs",18E4),Rzb:F(L,"bufferThresholdToSwitchToParallelConnMs",12E4),uaa:F(L,"periodicHistoryPersistMs",3E5),Dba:F(L,"saveBitrateMs",18E4),WVa:F(H,"appendMediaRequestOnComplete",!0),lCa:F(H,"waitForDrmToAppendMedia",!1),Apa:F(H,I("forceAppendHeadersAfterDrm"),!1),KLb:F(H,I("forceAppendEncryptedStreamHeaderFirst"),!0),w3b:F(H,I("reappendRequestsOnSkip"),!1),CYb:F(L,"netIntrStoreWindow",36E3),$Xb:F(L,"minNetIntrDuration",8E3),BKb:F(L,"fastHistoricBandwidthExpirationTime",10368E3),jzb:F(L,"bandwidthExpirationTime",5184E3),AKb:F(L,"failureExpirationTime",86400),yRb:F(L,"historyTimeOfDayGranularity",4),gKb:F(H,"expandDownloadTime",!1),iYb:F(L,"minimumMeasurementTime",500),hYb:F(L,"minimumMeasurementBytes",131072),L$b:F(L,"throughputMeasurementTimeout",2E3),ySb:F(L,"initThroughputMeasureDataSize",262144),M$b:F(J,"throughputPredictor","ewma"),K$b:F(L,"throughputMeasureWindow",5E3),P$b:F(L,"throughputWarmupTime",5E3),J$b:F(L,"throughputIQRMeasureWindow",5E3),Nob:F(L,"IQRBucketizerWindow",15E3),HCb:F(L,"connectTimeHalflife",10),t5b:F(L,"responseTimeHalflife",10),xRb:F(L,"historicBandwidthUpdateInterval",2E3),gYb:F(L,"minimumBufferToStopProbing",1E4),jza:F(J,"secondThroughputEstimator","none"),Jeb:F(M,"secondThroughputMeasureWindowInMs",Infinity),SIb:F(ta,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),SKb:F(K,"filterDefinitionOverrides",{}),LGb:F(J,"defaultFilter","throughput-ewma"),k6b:F(J,"secondaryFilter","none"),l_a:F(K,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),bva:F(H,"needMinimumNetworkConfidence",!0),qla:F(H,"biasTowardHistoricalThroughput",!0),kka:F(H,"addHeaderDataToNetworkMonitor",!1),qAa:F(H,"startMonitorOnLoadStart",!1),sya:F(H,"reportFailedRequestsToNetworkMonitor",!1),uua:F(M,"maxFastPlayBufferInMs",Infinity),h9a:F(M,"maxFastPlayBitThreshold",Infinity),Ika:F(H,"appendFirstHeaderOnComplete",!0),lyb:F(J,"ase_stream_selector","optimized"),C9:F(J,"liveStreamSelectorAlgorithm","livesimple"),e9:F(H,"jointStreamSelectorEnabled",!1),Ala:F(J,"bufferingSelectorAlgorithm","default"),rGb:F(J,"ase_ls_failure_simulation",""),zna:F(H,"ase_dump_fragments",!1),Ana:F(L,"ase_location_history",0),c_a:F(L,"ase_throughput",0),sGb:F(H,"ase_simulate_verbose",!1),x1b:F(L,"pollingPeriod",150),OVb:F(L,"loadTimeMs",18E4),IWb:F(L,"marginTimeMs",1E4),fqa:F(H,"getDeviceIdFromBindDevice",!1),jka:F(H,"addFailedLogBlobsToQueue",!0),Rac:{"content-sampling":{gs:F(L,"contentSamplingMaxBufferingTime",3E3),mP:F(J,"contentSamplingSelectStartingVMAFMethod","fallback"),R3:F(H,"contentSamplingActivateSelectStartingVMAF",!0),ru:F(L,"contentSamplingMinStartingVideoVMAF",80),BX:F(L,"contentSamplingMinAcceptableVMAF",70),NH:F(L,"contentSamplingMinAllowedVmaf",60)},billboard:{zz:F(L,"billboardMinInitVideoBitrate",1050),NC:F(L,"billboardMaxInitVideoBitrate",null),kq:F(L,"billboardMinPrebufSize",null),OC:F(L,"billboardMaxPrebufSize",null),gs:F(L,"billboardMaxBufferingTime",null),NN:F(L,"billboardMaxPartialBuffersAtBufferingStart",null),qz:F(L,"billboardLowestWaterMarkLevel",6E3),pz:F(L,"billboardLowestBufForUpswitch",25E3),QAa:F(J,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{zz:F(L,"preplayMinInitVideoBitrate",1050),NC:F(L,"preplayMaxInitVideoBitrate",null),kq:F(L,"preplayMinPrebufSize",null),OC:F(L,"preplayMaxPrebufSize",null),gs:F(L,"preplayMaxBufferingTime",null),NN:F(L,"preplayMaxPartialBuffersAtBufferingStart",null),qz:F(L,"preplayLowestWaterMarkLevel",6E3),pz:F(L,"preplayLowestBufForUpswitch",25E3)},embedded:{zz:F(L,"embeddedMinInitVideoBitrate",1050),NC:F(L,"embeddedMaxInitVideoBitrate",null),kq:F(L,"embeddedMinPrebufSize",null),OC:F(L,"embeddedMaxPrebufSize",null),gs:F(L,"embeddedMaxBufferingTime",null),NN:F(L,"embeddedMaxPartialBuffersAtBufferingStart",null),qz:F(L,"embeddedLowestWaterMarkLevel",6E3),pz:F(L,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{zz:F(L,"videoMerchBobHorizontalMinInitVideoBitrate",null),NC:F(L,"videoMerchBobHorizontalMaxInitVideoBitrate",null),kq:F(L,"videoMerchBobHorizontalMinPrebufSize",null),OC:F(L,"videoMerchBobHorizontalMaxPrebufSize",null),gs:F(L,"videoMerchBobHorizontalMaxBufferingTime",null),NN:F(L,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),qz:F(L,"videoMerchBobHorizontalLowestWaterMarkLevel",null),pz:F(L,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{zz:F(L,"miniModalHorizontalMinInitVideoBitrate",null),NC:F(L,"miniModalHorizontalMaxInitVideoBitrate",null),kq:F(L,"miniModalHorizontalMinPrebufSize",null),OC:F(L,"miniModalHorizontalMaxPrebufSize",null),gs:F(L,"miniModalHorizontalMaxBufferingTime",500),NN:F(L,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),qz:F(L,"miniModalHorizontalLowestWaterMarkLevel",null),pz:F(L,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},rJb:F(H,"enableVerbosePlaydelayLogging",!1),mJb:F(H,"enableSeamless",!1),x5a:F(L,"hindsightDenominator",0),w5a:F(L,"hindsightDebugDenominator",0),y5a:F(K,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),B0a:F(H,"enableSessionHistoryReport",!1),a0a:F(L,"earlyStageEstimatePeriod",1E4),W7a:F(L,"lateStageEstimatePeriod",3E4),n9a:F(L,"maxNumSessionHistoryStored",30),X9a:F(L,"minSessionHistoryDuration",3E4),pX:F(L,"maxActiveRequestsPerSession",3),a9a:F(L,"maxActiveRequestsSABCell100",2),Bta:F(H,"limitAudioDiscountByMaxAudioBitrate",!0),ud:F(K,"browserInfo",{}),cAb:F(L,I("busyGracePeriod"),199),J6b:F(H,I("sendTransitionLogblob"),!0),vIb:F(H,I("editVideoFragments"),!0),$_a:F(H,I("earlyAppendSingleChildBranch"),!0),hSb:F(H,I("includeSegmentInfoOnLogblobs"),!0),pKb:F(H,"exposeTestData",!1),oKb:F(H,I("exposeErrorData"),!1),e_a:F(H,"declareBufferingCompleteAtSegmentEnd",!0),LT:F(H,I("applyProfileTimestampOffset"),!1),Saa:F(K,I("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Rm:F(H,I("applyProfileStreamingOffset"),!1),b$:F(H,I("mediaSourceSupportsNegativePts"),!1),Gxb:F(H,I("allowSmallSeekDelta"),!1),I8b:F(L,I("smallSeekDeltaThresholdMilliseconds"),t.t2),KIb:F(H,"enableCDMAttestedDescriptors",!1),Cya:F(H,"requireDownloadDataAtBuffering",!1),Dya:F(H,"requireSetupConnectionDuringBuffering",!1),ldb:F(H,"recordFirstFragmentOnSubBranchCreate",!1),xjb:F(H,"useMobileVMAF",!1),z_a:F(J,"desiredVMAFTypeMobile","phone_plus_lts"),A_a:F(J,"desiredVMAFTypeNonMobile","plus_lts"),R3:F(H,"activateSelectStartingVMAF",!1),ru:F(L,"minStartingVideoVMAF",1),BX:F(L,"minAcceptableVMAF",1),NH:F(L,"minAllowedVmaf",1),Jxb:F(H,"alwaysNotifyEOSForPlaygraph",!0),eJb:F(H,"enableNewAse",!0),$bc:F(H,"useNewApi",!0),L9:F(L,"maxAllowedOutstandingRequests",4),Kxb:F(H,"alwaysRunUnderflowTimer",!0),Tua:F(L,"minStreamableConcurrencyWindow",3E3),BAa:F(Q,"streamableConcurrencyFactor",.3),bU:F(L,"bufferingConcurrencyWindow",7800),A8b:F(H,"singleStreamablePerBranch",!0),u6:F(H,"enableResolutionVMAFStreamFilter",!1),pba:F(K,"resolutionVMAFCappingRuleList",{}),Iwa:F(M,"percentCapTitlesForResolutionVMAFStreamFilter",100),IHb:F(H,"disableSkipping",!1),ada:F(H,"useHLSPlayer",Na.ada),YBa:F(H,I("useExitZones"),!0),a5b:F(H,"requestSegmentVmaf",!1),vO:F(K,"perFragmentVMAFConfig",{enabled:!1}),qwa:F(L,"paddingDurationMs",1E3),rwa:F(J,"paddingMediaType","padding"),qO:F(J,"paddingCodecSelector","flexible"),ohb:F(H,"supportsPtsChanged",!1),J1b:F(H,I("preferUnletterboxed"),!1),v0a:F(H,"enableKeySystemRestrictor",!1),WJb:F(L,"errorEventToRestrict",2),VJb:F(R,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),UJb:F(R,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),p0a:F(H,"enableCachedErrors",!1),mAb:F(L,"cachedErrorCountLimit",20),oAb:F(L,"cachedErrorExpirationSeconds",604800),pAb:F(L,"cachedErrorsStorageTimeoutSeconds",2E3),HC:F(L,"liveTargetBufferDuration",1E4),YW:F(M,"liveEdgeCushion",0),p6:F(H,"enableConditionalServerTimeUpdate",!1),u$:F(M,"negligibleServerTimeDeltaDifference",1E3),Gta:F(H,"liveSwitchStreamsOnErrorInPipeline",!0),x9:F(H,"liveAccurateFragmentTimestamps",!0),hM:F(H,"enableMissingSegmentsDetection",!0),UU:F(H,"enableMissingSegmentsReplacement",!1),vVb:F(M,"liveMaxTemporaryRequestErrorRetries",6),hWb:F(M,"lowerStreamLiveMaxTemporaryRequestErrorRetries",3),nKb:F(M,"explorationPhaseLiveMaxTemporaryRequestErrorRetries",1),sP:F(H,"simulateLiveEdge",!1),sVb:F(M,"liveEdgeThreshold",1E4),OLb:F(H,"forceDisableLiveUi",!1),TIb:F(H,"enableForceLiveEdgeAtEventStart",!0),ZIb:F(H,"enableLivePlaybackRateDriftCorrection",!1),AVb:F(Q,"livePlaybackRateMin",.98),zVb:F(Q,"livePlaybackRateMax",1.02),yVb:F(M,"livePlaybackRateAdjustmentThresholdMs",20),xVb:F(M,"livePlaybackRateAdjustmentIntervalMs",1E3),wVb:F(Q,"livePlaybackRateAdjustmentFactor",.1),MLb:F(M,"forceAstRelativeLiveBookmark",void 0),PLb:F(M,"forceEstRelativeLiveBookmark",void 0),i9b:F(M,"startSlateMs",void 0),DVb:F(M,"liveSlateMs",void 0)};V=!0;b.Nma=function(la){var ra,N,ha;ra=d.za.get(B.Kc).id;if(0 < b.config.y8a && 0 === ra % b.config.y8a)try{N=d.za.get(v.Al);ha=d.za.get(w.Dx).Ot("config","info",{params:la});N.yc(ha);}catch(xa){d.log.error("Failed to log config$apply",xa);}qb._cad_global.config=b.config;(0,n.oa)(la);la && (Va=(0,p.de)({},la,{iX:!0}),(0,p.de)(Va,ma,{iX:!0}),G(Za,b.config),Va.istestaccount && d.log.trace("Config applied for",ua(V?Va:la)),V=!1);};(0,b.Nma)(Va);};b.r5=function(C){C=c(C);return (0,p.de)({},a(87141)(C),{eaa:!0});};b.NYa=function(C,E,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));C={Aw:C?b.config.UXb:b.config.Aw,Bz:C?b.config.bYb:G?b.config.cYb:b.config.Bz,$_a:!E};return (0,p.de)({},a(87141)(C),{eaa:!0});};b.FCb=c;b.ECb=m;},70:function(r,b,a){var c,m,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(52569);m=a(33096);g=a(36129);k=a(22365);r=a(31276);a=a(11479);d=r.za.get(a.Zh);d.register(g.V.cJa,function(f){k.Rp && k.Rp.generateKey && k.Rp.importKey && k.Rp.unwrapKey?(d.ue("wcs"),(0,c.XH)(k.Rp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.ue("wcdone");f(m.ig);},function(n){var h;n="" + n;if(0 <= n.indexOf("missing crypto.subtle"))h=g.R.Wha;else 0 <= n.indexOf("timeout waiting for iframe to load") && (h=g.R.ksb);f({wa:h,Yb:n});})):f({wa:g.R.Wha});});},1481:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.Vk=void 0;c=a(33096);m=a(29204);r=a(36129);g=a(45146);k=a(31276);d=a(68703);f=a(22365);n=a(11479);h=a(91581);l=k.za.get(n.Zh);l.register(r.V.pfa,function(p){var q,u,t;q=k.za.get(h.gp);(0,g.oa)(m.config);(0,g.oa)(f.IA && f.IA.getDeviceId || f.RLa || q.EM);u=k.za.get(d.hGa);t=(0,k.Zi)("Device");l.ue("devs");u.create({deviceId:m.config.deviceId,EM:q.EM,C_a:"deviceid",hk:m.config.hk,jo:q.jo,FU:q.FU,userAgent:f.BE,Nta:m.config.Nta,fqa:m.config.fqa,Rmc:m.config.Ny?"mslstoretest":"mslstore",dQ:m.config.dQ}).then(function(v){b.Vk=v;qb._cad_global.device=b.Vk;t.info("Esn source: " + b.Vk.y6);l.ue("devdone");p(c.ig);}).catch(function(v){v.pa=void 0;p(v);});});},15531:function(r,b,a){var p,q,u,t,v,w,y;function c(x,z,A,B,D){var C;C={};"right" == x.horizontalAlignment?C.right=100 * (A - z.left - z.width - D) / A + "%":C.left=100 * (z.left - D) / A + "%";"bottom" == x.verticalAlignment?C.bottom=100 * (B - z.top - z.height - D) / B + "%":C.top=100 * (z.top - D) / B + "%";return C;}function m(x,z){var A;if(x && z){40 === z.x && 19 === z.y?A=4 / 3 / (40 / 19):52 === z.x && 19 === z.y && (A=16 / 9 / (52 / 19));if(A)return x.width / x.fontSize / A;}}function g(x,z,A,B,D,C,E){for(var G=x.style,F=(0,q.Tra)(x.text),I=x.lineBreaks;I--;)F="<br />" + F;return k(F,G,z,A,B,D,C,x.lang,E);}function k(x,z,A,B,D,C,E,G,F){var I;I=z.characterStyle;D=D[I];I=0 <= I.indexOf("MONOSPACE")?m(D,z.cellResolution) || D.lineHeight:D.lineHeight;B=z.characterSize * B.height / (I || 1);G && "ja" === G.slice(0,2) && z.ruby && "text" === z.ruby && (B/=2);B=0 < C?(0,u.iK)(B * C):(0,u.Mn)(B);C={"font-size":B + "px","line-height":"normal","font-weight":"normal"};z.characterItalic && (C["font-style"]="italic");z.characterUnderline && (C["text-decoration"]="underline");z.characterColor && (C.color=z.characterColor);z.backgroundColor && 0 !== z.backgroundOpacity && (C["background-color"]=d(z.backgroundColor,z.backgroundOpacity));if(G && "ja" === G.slice(0,2)){if(z.textEmphasis){B=z.textEmphasis;switch(B.textEmphasisShape){case "auto":C["text-emphasis"]="vertical-lr" === E || "vertical-rl" === E?"filled sesame":"filled circle";break;default:C["text-emphasis"]=B.textEmphasisFill + " " + B.textEmphasisShape;}F=n(B.textEmphasisPosition,F);switch(E){case "vertical-rl":C["text-emphasis-position"]=w[F];break;case "vertical-lr":C["text-emphasis-position"]=y[F];break;default:C["text-emphasis-position"]=v[F];}}z.textCombine && (C["text-combine-upright"]=z.textCombine);}E=z.characterEdgeColor || "#000000";switch(z.characterEdgeAttributes){case "DROP_SHADOW":C["text-shadow"]=E + " 0px 0px 7px";break;case "UNIFORM":C["text-shadow"]="-1px 0px " + E + ",0px 1px " + E + ",1px 0px " + E + ",0px -1px " + E;break;case "RAISED":C["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":C["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}E=(0,p.sU)(C);(A=A[z.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (E+=";" + A);A=z.characterOpacity;0 < A && 1 > A && (x='<span style="opacity:' + A + '">' + x + "</span>");G && "ja" === G.slice(0,2)?(x='<span lang="ja" style="' + E + '">' + x + "</span>",z.ruby && "text" === z.ruby && (x="<rt>" + x + "</rt>")):x='<span style="' + E + '">' + x + "</span>";return x;}function d(x,z){x=x.substring(1);x=parseInt(x,16);return "rgba(" + (x >> 16 & 255) + "," + (x >> 8 & 255) + "," + (x & 255) + "," + (void 0 !== z?z:1) + ")";}function f(x,z,A,B){var D;D="";x && "text" === x && (D='<ruby style="ruby-position: ' + ("before" === z || "over" === z || "outside" === z && 0 === A?"over":"under") + "; " + B + '">');return D;}function n(x,z){return x === t[0] || "outside" === x && 0 === z?t[0]:t[1];}function h(x){return x.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}function l(x){return (x=x.match(/(font-size:\d+px)/))?x[0]:"";}Object.defineProperty(b,"__esModule",{value:!0});b.TNb=b.qYb=b.WCb=b.aAb=b.L0a=b.NJb=b.LJb=b.OJb=b.MJb=b.M0a=b.N0a=b.Boa=void 0;p=a(52569);q=a(3887);u=a(22365);b.Boa=function(x,z,A,B,D){var C,E,G,F,I,P,M;C="";E="";G=0;F="";I=!1;P="";M="";x.textNodes.forEach(function(L){var Q,J,H,K;G+=L.lineBreaks;H=g(L,A,z,B,D,x.region.writingMode,G);if(L.lang && "ja" === L.lang.slice(0,2)){if(L.style && L.style.ruby && "" != L.style.ruby && ("base" === L.style.ruby && (M=l(H)),"container" !== L.style.ruby && (P+=H),H="","text" === L.style.ruby)){K=f(L.style.ruby,null !== (Q=L.style.rubyPosition) && void 0 !== Q?Q:"outside",G,M);I="" !== K;P=K + P;}!F || "" === F || L.style.ruby && "" !== L.style.ruby && "container" !== L.style.ruby || (P=h(P + (I?"</ruby> ":"")),H=P + H,I=!1,P="");}C+=H;F=null !== (J=L.style.ruby) && void 0 !== J?J:"";"" === E && L.style && L.style.shear && (E="font-style: oblique " + -90 * parseFloat(L.style.shear) + "deg;");});"" !== P && (C+=P + (I?"</ruby> ":""));x.region && x.region.multiRowAlignment && (C='<span style="display:inline-block;' + E + "text-align:" + x.region.multiRowAlignment + '">' + C + "</span>");return C;};b.N0a=function(x,z,A,B,D){var C,E,F,I,P;C="";E=D.width;D=D.height;for(var G=z.length;G--;){F=z[G];I=x[G];I=I && I.region;P="position:absolute;background:" + B + ";width:" + (0,u.Mn)(F.width + 2 * A) + "px;height:" + (0,u.Mn)(F.height + 2 * A) + "px;";F=c(I,F,E,D,A);(0,q.bg)(F,function(M,L){P+=M + ":" + L + ";";});C+='<div style="' + P + '"></div>';}return C;};b.M0a=c;b.MJb=m;b.OJb=g;b.LJb=k;b.NJb=d;b.L0a=function(x){var z;x=x.region;z={display:"block","white-space":"nowrap"};switch(x.horizontalAlignment){case "left":z["text-align"]="left";break;case "right":z["text-align"]="right";break;default:z["text-align"]="center";}!x.writingMode || "vertical-lr" !== x.writingMode && "vertical-rl" !== x.writingMode || (z["writing-mode"]=x.writingMode);return (0,p.sU)(z);};b.aAb=f;b.WCb=n;b.qYb=h;b.TNb=l;t=["before","after"];v={before:"over right",after:"under right"};w={before:"over right",after:"over left"};y={before:"over left",after:"over right"};},33579:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Hib=void 0;c=a(22365);b.Hib=function(m,g){function k(n,h,l){var t,w,y,x,z;if(n && 1 < n.length){for(var p=[],q=[],u=0;u < n.length;u++)(p[u]=0,q[u]=0);t=!1;for(u=0;u < n.length;u++)for(var v=u + 1;v < n.length;v++){w=n[u];y=n[v];if(0 > w.width || 0 > y.width || y.left > w.left + w.width || y.left + y.width < w.left || y.top > w.top + w.height?0:y.top + y.height >= w.top){x=(0,c.Vs)(w.left,y.left);z=(0,c.Vs)(w.top,y.top);x={width:(0,c.Vs)((0,c.Fx)(w.left + w.width,y.left + y.width) - x,0),height:(0,c.Vs)((0,c.Fx)(w.top + w.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,w=d(n[u]),y=d(n[v]),z && h || !z && !h))(x=(0,c.Vs)(x.width / 2,.25),w.x <= y.x?(q[u]-=x,q[v]+=x):(q[v]-=x,q[u]+=x));else if(z && !h || !z && h)(w=(0,c.Vs)(x.height / 2,.25),p[u]-=w,p[v]+=w);}for(u=0;u < n.length;u++){if(-.25 > q[u] && 0 <= n[u].left + q[u] || .25 < q[u] && n[u].left + n[u].width + q[u] <= l.width)(n[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= n[u].top + p[u] || .25 < p[u] && n[u].top + n[u].height + p[u] <= l.height)(n[u].top+=p[u],t=!0);}return t;}}function d(n){return {x:n.left + n.width / 2,y:n.top + n.height / 2};}m=m.map(function(n){return {top:n.top,left:n.left,width:n.width,height:n.height};});(function(n,h){n.forEach(function(l){0 > l.left && l.left + l.width < h.width?l.left+=(0,c.Fx)(-l.left,h.width - (l.left + l.width)):l.left + l.width > h.width && 0 < l.left && (l.left-=(0,c.Fx)(l.left + l.width - h.width,l.left));0 > l.top && l.top + l.height < h.height?l.top+=(0,c.Fx)(-l.top,h.height - (l.top + l.height)):l.top + l.height > h.height && 0 < l.top && (l.top-=(0,c.Fx)(l.top + l.height - h.height,l.top));});})(m,g);for(var f=0;50 > f && k(m,!0,g);f++);for(f=0;50 > f && k(m,!1,g);f++);return m;};},99732:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.J8a=void 0;c=a(29204);m=a(33096);g=a(24066);r=a(36129);k=a(22365);d=a(32687);f=a(31276);a=a(11479);f.za.get(a.Zh).register(r.V.VIa,function(n){var p,q,u,t,v;function h(){return (0,k.iK)((0,g.fo)() / u);}function l(){var w;w=h();if(w != v){for(var y=(0,k.Fx)(w - v,30);y--;)t.push(0);(y=(0,k.Vs)(t.length - 31,0)) && t.splice(0,y);v=w;}t[t.length - 1]++;}p=c.config.lWb;q=-6 / (p - 2 - 2);u=m.Qq;t=[];v=h();(0,d.Wsa)(p) && (setInterval(l,1E3 / p),b.J8a={y7:function(){var x;for(var w=[],y=t.length - 1;y--;){x=t[y];w.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,k.Mn)((x - 2) * q + 7));}return w;}});n(m.ig);});},24674:function(r,b,a){var d,f,n,h,l,p;function c(q){var u;q=new n.TQ(q);if(1481462272 != q.xq())throw Error("Invalid header");u={XMR:{Version:q.xq(),RightsID:q.Uw(16)}};m(q,u.XMR,q.buffer.length);return u;}function m(q,u,t){var v,w,y,x,z;for(;q.position < t;){v=q.dh();w=q.xq();w-=8;switch(v){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:g(v)};z=u[y];z?(0,p.isArray)(z)?z.push(x):(u[y]=[],u[y].push(z),u[y].push(x)):u[y]=x;switch(v){case 1:case 2:case 4:case 7:case 9:case 54:m(q,x,q.position + w);break;case 5:x.Reserved1=q.dh();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.dh();x.MinimumAnalogVideoOutputProtectionLevel=q.dh();x.Reserved2=q.dh();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.dh();break;case 10:x.Reserved=q.Uw(16);x.SymmetricCipherType=q.dh();x.AsymmetricCipherType=q.dh();w=q.dh();x.EncryptedKeyLength=w;v=q.Uw(w);x.EncryptedKeyData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 11:x.SignatureType=q.Uw(2);w=q.dh();v=q.Uw(w);x.SignatureData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 13:x.Reserved=q.dh();break;case 18:x.BeginDate=q.xq();x.EndDate=q.xq();break;case 42:x.CurveType=q.Uw(2);w=q.dh();v=q.Uw(w);x.Key=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 48:x.ExpireAfterFirstPlay=q.xq();break;case 50:x.Sequence=q.xq();break;case 51:x.LicenseProcessingIndicator=q.dh();break;case 52:x.MinimumSecurityLevel=q.dh();break;case 57:x.PlayEnablerType=k(q.Uw(16));break;case 85:break;default:x.OtherData=q.Uw(w);}}}function g(q){return "0x" + q.toString(16);}function k(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.xGb=b.yGb=b.wGb=b.vGb=b.uGb=void 0;d=a(33096);f=a(31276);n=a(70834);h=a(62604);l=a(84281);p=a(32687);b.uGb=function(q,u,t){switch(u){case d.C0:q && (q=(0,f.KWa)(q),(0,l.wkb)(q,function(v){v.pa && (v=v.object) && (v=(0,h.S2a)(v,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (v=(0,h.dbb)(v)) && (v=(0,f.qr)(v)) && (v=c(v)) && t(v);}));}};b.vGb=c;b.wGb=m;b.yGb=g;b.xGb=k;},59032:function(r,b){var c;function a(m,g){var k;k=this;this.Hia=[];c.forEach(function(d){(d=d(m,g)) && k.Hia.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.BR=b.zLa=void 0;c=[];a.prototype.$z=function(m){var d;for(var g=[],k=this.Hia.length;k--;){d=this.Hia[k];d.$z(m) && g.push(d.K6);}if(g.length)return g;};b.zLa=a;b.BR=function(m){c.push(m);};},3390:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(31276);m=a(4203);g=a(95136);k=a(81918);(0,r.BR)(function(d,f){var n,h;n=c.za.get(m.Zb);if(n().kIb){h=c.za.get(k.Kc);return new g.yGa(d,f,c.Ff,h,n);}});},95136:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q,u){var t;t=this;this.j=h;this.ya=l;this.la=p;this.Ea=q;this.S$={};this.$L={};this.xP=[];this.A6a=1E3;this.uca=m.HKa;this.Vva=function(){var v;v=t.j.Ab.value === d.kb.Ie && t.j.state.value === d.Xb.oe && t.j.O === t.ya.O;t.uW?v || (clearInterval(t.uW),t.uW=void 0,t.QW=void 0):v && (t.uW=qb.setInterval(t.R$b,t.A6a));};this.R$b=function(){var v,w,y,x;w=t.j.fe.value;w=w && w.stream;w=null !== (v=w && w.height) && void 0 !== v?v:null;if(null !== w && 0 < w){v=t.Ea.Lb().ea(n.ma);y=t.j.ae.NG();if(y){if(t.QW && v - t.QW.time < 2 * t.A6a && w === t.QW.height){x=y - t.QW.jIb;t.rka(w,x);t.Uwb(w,x);}t.QW={time:v,jIb:y,height:w};t.j.waa && t.j.waa.b7b(t.S$);}}};this.Upa=function(){var v;v={};t.$L && t.xP.forEach(function(w){var y,x,z;y=t.$L[w];if(y){x=0;z=0;(0,f.bg)(y,function(A,B){z+=(0,f.fj)(A);x+=B;});v[w]=z / x;}});return v;};this.NV=function(v){var w;w={};v.forEach(function(y){w[y]={};});t.$L && ((0,g.T_)(v),t.xP.forEach(function(y){var x,z,A,B;x=t.$L[y];if(x){z=0;A=0;(0,f.bg)(x,function(F,I){z+=I;});B=Object.keys(x).map(Number);(0,g.T_)(B);for(var D=B.length - 1,C=B[D],E=v.length - 1;0 <= E;E--){for(var G=v[E];C >= G && 0 <= D;)((C=x[C]) && (A+=C),C=B[--D]);w[G][y]=(0,k.Mn)(A / z * 100);}}}));return w;};this.log=this.la.Za("DFF",h);this.Haa=u().nIb;this.$Wb=u().lIb;this.Z9a=u().mIb;this.ya.foa={Upa:this.Upa,NV:this.NV};h.state.addListener(this.Vva);h.Ab.addListener(this.Vva);h.addEventListener(d.ha.EH,this.Vva);}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;m=a(33096);g=a(52569);k=a(22365);d=a(85001);f=a(3887);n=a(5021);c.prototype.$z=function(h){return h.lower && h.height > this.Z9a?h.height >= this.YPb():!1;};c.prototype.rka=function(h,l){var p;p=this.S$[h];p || (this.S$[h]=p=[],h > this.Z9a && (this.xP.push(h),(0,g.T_)(this.xP)));0 < l && !(this.DX && this.DX < h) && (this.DX=h);p.push(l);p.length > this.$Wb && p.shift();};c.prototype.Uwb=function(h,l){var p;p=this.$L[h];p || (this.$L[h]=p={});h=p[l];p[l]=h?h + 1:1;};c.prototype.YPb=function(){var p,q;if(this.DX){for(var h=this.xP.length,l=0;l < h;l++){p=this.xP[l];if(p >= this.DX && p < this.uca){q=this.S$[p];if(q && this.yBb(this.Haa,q) && this.uca != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.ya.Kp.set({reason:"droppedFrames",height:p}),this.uca=p);}}this.DX=void 0;}return this.uca;};c.prototype.yBb=function(h,l){var t,v;for(var p=h.length,q=l.length,u=0;u < p;u++){t=h[u];v=t[0];t=t[1];for(var w=0;w < q;w++)if(l[w] >= t && 0 >= --v)return !0;}return !1;};Ya.Object.defineProperties(c.prototype,{K6:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.yGa=c;},25357:function(r,b,a){var m,g,k;function c(d,f,n,h){var l;l=this;this.j=d;this.ya=f;this.la=n;this.va=h;this.Hxb=function(p){!0 === p.oldValue && !1 === p.newValue && (l.log.error("RestartStreaming: UHD key is no longer usable"),l.j.w5b());};this.Oac=function(p){var q,u,t;l.log.trace("UhdKeyStatus: " + p.oldValue + " -> " + p.newValue);u=null === p || void 0 === p?void 0:p.newValue;t=null === p || void 0 === p?void 0:p.oldValue;"usable" !== u && (l.U6b(u,(null === (q=null === p || void 0 === p?void 0:p.Lh) || void 0 === q?void 0:q.height) || 0),"usable" === t && (p=l.va.se.qa(l.zUb),l.log.error("UHD KeyStatus unexpectedly changed: " + p.ea(k.ma))));};this.h7a=!1;this.log=this.la.Za("KeyStatusStreamFilter",this.j);this.LVa=new g.Jb(!1,this.Hxb);this.Nac=new g.Jb(void 0,this.Oac);}Object.defineProperty(b,"__esModule",{value:!0});b.GJa=void 0;m=a(28048);g=a(81734);k=a(5021);c.prototype.$z=function(d){return d.si && (this.O9b(),this.LVa.set(this.h7a),d.lower && 1080 < d.height && !this.LVa.value)?!0:!1;};c.prototype.z$a=function(d){var f;f=this;Object.entries(d).forEach(function(n){var h,l,p;h=ja(n);n=h.next().value;h=h.next().value;n=null !== (p=null === (l=f.yUb) || void 0 === l?void 0:l[n]) && void 0 !== p?p:0;1080 < n && (f.h7a="usable" === h,f.Nac.set(h,{height:n}));});};c.prototype.O9b=function(){var d,f,n;d=this;n=this.ya.re;!this.YTb && (0,m.Hsa)(n) && (this.YTb=!0,this.yUb=null === (f=null === n || void 0 === n?void 0:n.context) || void 0 === f?void 0:f.h9,this.z$a(n.keyStatuses.value),n.keyStatuses.addListener(function(h){return d.z$a(h.newValue);}),this.zUb=this.va.se);};c.prototype.U6b=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.ya.Kp.set({reason:"keyStatus",height:f});};Ya.Object.defineProperties(c.prototype,{K6:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.GJa=c;},2898:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);m=a(31276);g=a(25357);(0,r.BR)(function(k,d){if(c.config.xUb)return new g.GJa(k,d,m.Ff,m.va);});},45706:function(r,b,a){var m,g;function c(k,d){var f,n;f=(0,g.Nh)(k,"MSS");if(m.config.OXb)return {K6:"mss",$z:function(h){var l,p;if(h.lower && 2160 <= h.height)a:{for(l=h;l.lower;){if(2160 > l.height && 1080 < l.height){l=!0;break a;}if(1080 >= l.height)break;l=l.lower;}l=!1;}else l=void 0;if(l){if(void 0 === n){try{p=qb.MSMediaKeys;n=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");n=!0;}n || (f.warn("Restricting resolution due screen size",{MaxHeight:h.height}),d.Kp.set({reason:"microsoftScreenSize",height:h.height}));}return !n;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.vpb=void 0;r=a(59032);m=a(29204);g=a(31276);(0,r.BR)(c);b.vpb=c;},76563:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);m=a(31276);(0,r.BR)(function(g,k){var d,f,n,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.Pac);f=d[k.Md];if(c.config.Qac && f){n={};h=(0,m.Nh)(g,"MediaStreamFilter");return {K6:"uiLabel",$z:function(l){if(l.lower && l.height > f)return (n[l.height] || (n[l.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:l.height}),k.Kp.set({reason:"uiLabel",height:l.height})),!0);}};}});},24427:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.FIa=void 0;c=a(85001);m=a(61726);b.FIa=function(g){function k(d){g.fireEvent(c.ha.mG,{response:d,O:g.da.O});}return {download:function(d,f){d.j=g;d=m.Ne.download(d,f);d.Z3(k);return d;}};};},61726:function(r,b,a){var f,n,h,l,p,q,u,t,v,w,y,x,z,A;function c(){this.Ni=(0,q.Zi)("Http");this.uj=new f.Xj();this.UE=0;this.Uf={ssl:0,"non-ssl":0,invalid:0};this.o2={Da:1,nsb:2,$Da:3};this.addEventListener=this.uj.addListener;this.removeEventListener=this.uj.removeListener;}function m(B){var D,C,E,G;D=B.url.split("?");C="sc=" + B.i6b;E=B.hAb?"random=" + (1E17 * (0,v.N1)()).toFixed(0):"";G=D[0];G=D[1]?G + ("?" + D[1] + "&" + C):G + ("?" + C);G+=E?"&" + E:"";B.Ec && !(0,h.hta)(G) && (B=n.config && n.config.CXa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function g(B,D){var C,E,G;C=B.url.split("?");E=k(B);G=C[0];E && (D.Sw=E,(void 0 === B.Js?n.config.Js:B.Js) || B.Ds !== x.KR?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + E):(D.Sw=E,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=E));E=B.hAb?"random=" + (1E17 * (0,v.N1)()).toFixed(0):"";n.config.iM && B.SI && (E="sc=" + B.SI + (E?"&" + E:""));G=C[1]?G + ("?" + C[1] + (E?"&" + E:"")):G + (E?"?" + E:"");B.Ec && !(0,h.hta)(G) && (B=n.config && n.config.CXa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));D.url=G;}function k(B){var D;D=B.offset;if(void 0 !== D)return ((0,u.yU)(D),void 0 !== B.length?(B=D + B.length - 1,(0,u.yU)(B),D + "-" + B):D + "-");}function d(B,D,C,E){var G,F;G=E.Sbb;F=E.headers;B.open(G?"POST":"GET",D,C);switch(E.responseType){case b.iW:B.responseType="arraybuffer";break;case b.Vra:(0,t.uXa)(B,"overrideMimeType",void 0,"text/xml");}G && (D={"Content-Type":(0,y.zg)(G)?"text/plain":"application/x-octet-stream"},F=F?(0,t.de)(D,F):D);F && (0,t.bg)(F,function(I,P){B.setRequestHeader(I,P);});E.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.iW=b.Vra=b.Ura=b.GRb=b.Wra=b.FRb=b.D5a=b.m8=b.Ne=b.DRb=b.ERb=void 0;f=a(94886);n=a(29204);r=a(33096);h=a(52569);l=a(24066);p=a(36129);q=a(31276);u=a(45146);t=a(3887);v=a(22365);w=a(32219);y=a(32687);x=a(32934);z=a(57504);c.prototype.u8b=function(B){var D;D=new XMLHttpRequest();B=m(B);D.open("HEAD",B,!0);D.onreadystatechange=function(){2 === D.readyState && 200 <= D.status && 299 >= D.status && !1;};D.send();return function(){return D.abort();};};c.prototype.download=function(B,D){var Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va;function C(){var S;if(!ca){ca=!0;Va && (qb.clearTimeout(Va),Va=null);Q.uj.removeListener(b.Wra,I);Q.vja(ua,ya);ya && (ya.onloadstart=null,ya.onreadystatechange=null,ya.onprogress=null,ya.onerror=null,ya.onload=null,ya=ya.onabort=null);ua.pa || (ua.wa != p.R.nE?H.warn("Download failed",R,(0,p.Ax)(ua)):H.trace("Download aborted",R));S=oa;oa=null;null === S || void 0 === S?void 0:S.reduceRight(function(ma,Ja){(0,w.Mf)(function(){return Ja(ua);});},null);Q.uj.Fc(b.D5a,ua,!0);}}function E(){Va && (qb.clearTimeout(Va),Va=null);Va=qb.setTimeout(P,Ca?O:K);}function G(S,ma,Ja,Na){var Za,V;ua.pa=!1;ua.wa=S;Za=(0,l.fo)();V=ua.em;V.hj=V.hj || Za;V.Cq=V.Cq || Za;ma && 0 < ma && (ua.Wl=ma,ua.Le=ma.toString());Ja && (ua.Yb=Ja);Na && (ua.tD=Na);S !== p.R.dR && S !== p.R.oE && S !== p.R.gR || !ya || (ya.onabort=null,M());C();}function F(S){var ma,Ja;try{Ja=S.getResponseHeader("X-Netflix.Retry.Server.Policy");Ja && (ma=JSON.parse(Ja));}catch(Na){!1;}return ma;}function I(){A() || G(p.R.dR);}function P(){G(Ca?p.R.oE:p.R.gR);}function M(){try{null === ya || void 0 === ya?void 0:ya.abort();}catch(S){}}function L(){G(p.R.nE);}Q=this;(0,u.oa)(D);H=(null === (J=null === B || void 0 === B?void 0:B.j) || void 0 === J?0:J.log)?(0,q.Nh)(B.j,"Http"):this.Ni;K=B.t5 || n.config.t5;O=B.lva || n.config.lva;R={Num:this.UE++};ca=!1;oa=[D];ta={};this.Vvb(B);ua=new z.IIa(B,M,P,ta,function(S){ca || ((0,u.oa)(oa,"Callback should be added before download starts."),oa && oa.unshift(S));});Ca=!1;(0,w.Mf)(function(){var S;if((0,y.gta)(B.url))try{if((g(B,ua),Fa=ua.url,(0,u.zU)(Fa),R.Url=Fa,A())){!1;ya=new XMLHttpRequest();ya.onreadystatechange=function(){2 === (null === ya || void 0 === ya?void 0:ya.readyState) && (Ca=!0,ta.hj=(0,l.fo)(),ya.onreadystatechange=null,E(),!1,Q.vja(ua,ya),ua.VH({timestamp:ta.hj,connect:!0,mediaRequest:B,start:ta.Rz,rt:[ta.hj - ta.Rz],responseHeaders:ua.headers,httpCode:ua.ln}));};ya.onprogress=function(ma){Ca=!0;ta.qU=ma.loaded;E();Q.vja(ua,ya);ma={mediaRequest:B,bytes:ma.loaded,timestamp:(0,l.fo)(),bytesLoaded:ma.loaded,responseHeaders:ua.headers,httpCode:ua.ln};ua.VH(ma);};ya.onload=function(ma){if(!ca && ya){(0,u.oa)(void 0 === ta.Cq);ta.Cq=(0,l.fo)();ta.hj=ta.hj || ta.Cq;ta.qU=ma.loaded;if(200 <= ya.status && 299 >= ya.status){a:switch((ma=ya,ua.type)){case b.iW:ma=ma.response || new ArrayBuffer(0);break a;case b.Vra:ma=ma.responseXML;break a;default:ma=ma.responseText;}ua.parsed=!1;ua.content=ma;ua.pa=!0;}else 420 === ya.status?G(p.R.fR,ya.status):G(p.R.eR,ya.status,ya.response,F(ya));C();}};ya.onabort=L;ya.onerror=function(){var ma,Ja;if(ya){ma=ya.status;"undefined" !== typeof n.config.X1a && (ma=n.config.X1a);if(0 < ma){if(420 === ma)G(p.R.fR,ma);else {try{Ja=ya.responseText;}catch(Na){}G(p.R.eR,ma,Ja,F(ya));}}else G(p.R.hR);}};S=(0,l.fo)();d(ya,Fa,!0,B);Q.uj.Fc(b.m8,ua,!0);ta.Rz=S;ua.iO({mediaRequest:B,timestamp:S});E();Q.uj.addListener(b.Wra,I);}else (0,w.Mf)(G.bind(void 0,p.R.dR));}catch(ma){H.error("Exception starting download",ma,R);G(p.R.mfa,void 0,(0,t.Nf)(ma));}else G(p.R.lIa);});return ua;};c.prototype.v2b=function(B){var D,C;D=new XMLHttpRequest();C=B.s2b;D.open("HEAD",B.url,!0);D.timeout=n.config.vxa;D.onreadystatechange=function(){2 === D.readyState && (!1,C && C.eO(D.status));};D.ontimeout=D.onerror=function(){!1;C && C.uva(D.status);};D.send();};c.prototype.Vvb=function(B){var D;try{D=B.url;(0,y.gta)(D)?0 === D.indexOf("https")?this.Uf.ssl++:0 === D.indexOf("http")?this.Uf["non-ssl"]++:this.Uf.invalid++:this.Uf.invalid++;}catch(C){}};c.prototype.vja=function(B,D){var C;if((void 0 === B.ln || void 0 === B.headers) && D){B.ln=D.status;C={};D.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(E){var G;G=ja(E.split(": "));E=G.next().value;G=Z(G).join(": ");E && (C[E.toLowerCase()]=G);});B.headers=C;}};b.ERb=g;b.DRb=k;A=r.mPa;b.Ne=new c();b.m8=1;b.D5a=2;b.FRb=3;b.Wra=4;b.GRb=5;b.Ura=b.Ne.o2.Da;b.Vra=b.Ne.o2.nsb;b.iW=b.Ne.o2.$Da;qb._cad_global.http=b.Ne;},57504:function(r,b,a){var m;function c(g,k,d,f,n){this.Z3=this.VH=this.iO=m.Ix;this.request=g;this.type=g.responseType;this.em=f;this.abort=k;this.timeout=d;this.Z3=n;}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;m=a(33096);c.prototype.q7b=function(g){this.iO=g;};c.prototype.x7b=function(g){this.VH=g;};b.IIa=c;},31276:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.za=b.rOa=b.sV=b.Nh=b.Zi=b.log=b.Ff=b.MM=b.KWa=b.qr=b.ly=b.oc=b.qzb=b.ola=b.ozb=b.pzb=b.Ui=b.eQ=b.q_=b.hh=b.Ac=b.va=void 0;c=a(83989);r=a(87386);m=a(56800);g=a(84408);k=a(6405);d=a(2248);f=a(32687);n=a(79274);h=a(30869);a=a(53085);b.va=c.Cc.get(h.hg);b.Ac=c.Cc.get(a.bi);b.hh=c.Cc.get(g.Zq);b.q_=b.hh.encode.bind(b.hh);b.eQ=b.hh.decode.bind(b.hh);b.Ui=c.Cc.get(k.vA);b.pzb=b.Ui.encode.bind(b.Ui);b.ozb=b.Ui.decode.bind(b.Ui);b.ola=b.Ui.CM.bind(b.Ui);b.qzb=b.Ui.Zhb.bind(b.Ui);b.oc=c.Cc.get(d.ih);b.ly=function(l){l=(0,f.zg)(l)?(0,b.eQ)(l):l;return b.oc.encode(l);};b.qr=b.oc.decode.bind(b.oc);b.KWa=function(l){return (0,b.q_)((0,b.qr)(l));};b.MM=function(){return c.Cc.get(m.hE);};b.Ff=c.Cc.get(r.$a);b.log=b.Ff.Za("General");b.Zi=function(l,p){return b.Ff.Za(l,void 0,p);};b.Nh=function(l,p,q){return b.Ff.Za(p,l,q);};b.sV=function(l,p,q,u){return b.Ff.Za(l,void 0,u,p,q);};b.rOa=function(l,p,q){return c.Cc.get(n.PR)(l,p,q).b_();};b.za=c.Cc;},93114:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(82956);m=a(33096);g=a(29204);k=a(13044);d=a(24066);r=a(36129);f=a(31276);n=a(77134);h=a(22365);l=a(32219);p=a(32687);q=a(45118);u=a(31850);a=a(11479);w=f.za.get(a.Zh);w.register(r.V.UIa,function(y){var z;function x(){var A,B,D;A=w.startTime;B={browserua:h.BE,browserhref:h.S1.href,initstart:A,initdelay:w.endTime - A};(A=h.Qg.documentMode) && (B.browserdm="" + A);(0,p.xN)(g.config.n1a) && (B.fesn=g.config.n1a);Object.assign(B,(0,c.Zqa)());D=h.ov && h.ov.timing;D && g.config.YVb.map(function(C){var E;E=D[C];E && (B["pt_" + C]=E - (0,d.qYa)());});A=z.EOb();Object.entries(A).forEach(function(C){var E;E=ja(C);C=E.next().value;E=E.next().value;return B["m_" + C]=E;});A=v.Ot("startup","info",B,k.MA.vpa);t.yc(A);}v=f.za.get(u.Dx);t=f.za.get(q.Al);z=f.za.get(n.zK);w.ZW(function(){t.Eb();(0,l.Mf)(x);});y(m.ig);});},86258:function(r,b,a){var g,k,d,f,n,h,l,p,q,u,t,v;function c(w,y){var z;function x(){function A(B,D){return D.Pe && 0 !== D.Pe.length && D.Pe[0].zH?(0,g.uI)(w,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.IY(D):Promise.resolve();}).catch(function(C){z.error("Unable to send stop command for session",JSON.stringify({xD:D,error:C}));throw C;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.IY(D):Promise.resolve());}m(z).then(function(B){var D;D=B.l6.filter(function(C){return !1 === C.active;}).map(function(C){return A(B,C);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");y(k.ig);}).catch(function(C){C=C || ({});C.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",C);y(k.ig);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(k.ig);});}z=(0,h.Zi)("PlayDataManager");y=y || k.Ix;d.config.Ks?y(k.ig):x();}function m(w){var y;if(!b.boa){y=h.za.get(l.mea);b.boa=new Promise(function(x,z){y.Tcb().then(function(){x(y);}).catch(function(A){w.error("Unable to load DRM data for license release",A);z(A);});});}return b.boa;}Object.defineProperty(b,"__esModule",{value:!0});b.RNa=b.QNa=b.boa=void 0;g=a(43422);k=a(33096);d=a(29204);f=a(37509);n=a(91581);h=a(31276);r=a(36129);l=a(93673);p=a(96687);q=a(85001);u=a(45118);t=a(11479);v=a(21892);b.QNa=function(w){var z,A,B,D,C,E;function y(){A || (w.ue("pdsb"),A=h.za.get(p.OR)().then(function(G){D=G;w.ue("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);w.ue("pdse");throw G;}));return A;}function x(){B=!0;D && D.close();f.te.removeListener(f.cl,x);}z=(0,h.Nh)(w,"PlayDataManager");B=!1;C=h.za.get(n.e2);if(!C.WJ || !C.UJ){E=h.za.get(v.Lga)();C.WJ=E.xD;C.UJ=E.request;}w.ue("pdctor");w.addEventListener(q.ha.ug,function(){f.te.removeListener(f.cl,x);});w.addEventListener(q.ha.WW,function(){var G;if(!d.config.Ks && w.re){G=w.x5.hZa();m(z).then(function(F){return F.hVa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});w.addEventListener(q.ha.ug,function(){var G;if(!B){w.Xcc();G=[(function(){return d.config.Ks || !w.re?Promise.resolve():new Promise(function(F){var I;z.info("Sending the expedited playdata");I=w.x5.hZa();w.re.hKb(I).then(function(){z.info("Sent the expedited playdata");return m(z);}).then(function(P){return P?P.IY(I):Promise.resolve();}).then(function(){F(void 0);}).catch(function(P){z.error("Unable to send the expedited playdata",P);F();});});})(),(function(){return y().then(function(F){return F.CZ(w.da);}).then(function(){z.info("Sent the playdata");}).catch(function(F){z.error("Unable to send the playdata",F);});})(),(function(){return new Promise(function(F){h.za.get(u.Al).flush(!1).catch(function(){z.error("Unable to send logblob");F(void 0);}).then(function(){F(void 0);});});})()];Promise.all(G).then(function(){w.I$();}).catch(function(){w.I$();});}});f.te.addListener(f.cl,x);return {};};b.RNa=function(){return new Promise(function(w){c({},function(y){w(y);});});};h.za.get(t.Zh).register(r.V.DA,function(w){w(k.ig);});},46493:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);m=a(50040);g=a(1481);k=a(29204);d=a(33096);f=a(36129);n=a(45146);h=a(31276);l=a(77134);p=a(63156);q=a(17892);u=a(3887);t=a(22365);v=a(32687);w=a(52569);y=a(45842);x=a(5021);r=a(11479);z=a(50681);A=a(59219);B=a(32934);D=a(71501);C={};E=h.za.get(r.Zh);E.register(f.V.WIa,function(G){var M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya;function F(Ca){Ca && Ca.userList && k.config.e8b && (Ca.userList=[]);J({esn:g.Vk.hk,esnPrefix:g.Vk.jo,authenticationKeyNames:k.config.bzb,systemKeyWrapFormat:k.config.p$b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ua,storeState:Ca,notifyMilestone:E.ue.bind(E),log:O,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.R.qpb,MSL_READ_TIMEOUT:f.R.ppb}},{result:function(Va){I(Va);},timeout:function(){G({wa:f.R.NKa});},error:function(Va){G(P(f.R.NKa,void 0,Va));}});}function I(Ca){var S,ma,Ja,Na;function Va(){Fa && h.za.get(q.rx).create().then(function(Za){return Za.save(oa,Ja,!1);}).catch(function(Za){O.error("Error persisting msl store",(0,f.Ax)(Za));});}S=this;ma=h.za.get(y.KE)((0,x.Ob)(100));Na=H.extend({init:function(Za){this.ITa=Za;},getResponse:function(Za,V,la){var ra,N;V=this.ITa;ra=V.$ua.Ne || ra;Za=(0,v.fta)(Za.body)?(0,h.q_)(Za.body):Za.body;(0,n.zU)(Za,"Msl should not be sending empty request");Za={url:V.url,Sbb:Za,withCredentials:!0,SB:"nq-" + V.method,headers:V.headers};V=this.ITa.timeout;Za.t5=V;Za.lva=V;N=ra.download(Za,function(ha){try{if(ha.pa)la.result({body:ha.content});else if(400 === ha.Wl && ha.Yb)la.result({body:ha.Yb});else throw (0,u.de)(new K("HTTP error, SubCode: " + ha.wa + (ha.Wl?", HttpCode: " + ha.Wl:"")),{cadmiumResponse:ha});}catch(xa){la.error(xa);}});return {abort:function(){N.abort();}};}});ca && Ca.addEventHandler("shouldpersist",function(Za){Ja=Za.storeState;ma.yh(Va);});(0,u.de)(C,{Glc:function(){ta=!0;},send:function(Za){function V(){var la,ra;la=Za.$ua;ra={method:Za.method,nonReplayable:Za.K$a,encrypted:Za.sG,userId:Za.Fjb,body:Za.body,timeout:2 * Za.timeout,url:new Na(Za),allowTokenRefresh:Fa,sendUserAuthIfRequired:ya,shouldSendUserAuthData:k.config.l8b};la.email?(ra.email=la.email,ra.password=la.password || ""):ta && (ra.useNetflixUserAuthData=!0);return ra;}return new Promise(function(la,ra){var N;N=V();Ca.send(N).then(function(ha){ta && (ta=!1);la({pa:!0,body:ha.body});}).catch(function(ha){var xa,$a;if(ha.error){xa=ha.error.cadmiumResponse && ha.error.cadmiumResponse.wa?ha.error.cadmiumResponse.wa:Ca.isErrorReauth(ha.error)?f.R.MKa:Ca.isErrorHeader(ha.error)?f.R.jpb:f.R.ipb;$a=Ca.getErrorCode(ha.error);ra(P(xa,$a,ha.error));}else (O.error("Unknown MSL error",ha),ha.Pc=ha.subCode,ra({wa:ha.Pc?ha.Pc:f.R.rpb}));});});},HX:Ca});A.OE.qL.mslFetch=function(Za,V){return c.__awaiter(S,void 0,void 0,function ra(){var N,ha,xa;return La(ra,function($a){if(1 == $a.Bw)return (N=h.za.get(D.vK),Pa($a,C.send({$ua:{Ne:h.za.get(B.gv),profile:N},timeout:8E3,url:Za.toString(),body:null === V || void 0 === V?void 0:V.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},Fjb:N,J4b:!1,K$a:!0,sG:!0}),2));ha=$a.K_;xa={get body() {this.bodyUsed=!0;return ha.body;}};return $a.return((xa.bodyUsed=!1,xa.ok=ha.pa,xa.status=ha.pa?200:400,xa.statusText=ha.pa?"OK":"Bad Request",xa.type="basic",xa.url=Za.toString(),xa.headers=new Headers({"Content-Type":"application/json"}),xa.text=function(){return Promise.resolve(this.body);},xa.json=function(){return Promise.resolve(JSON.parse(this.body));},xa.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},xa.clone=function(){return Object.assign({},this);},xa.blob=function(){return this.arrayBuffer().then(function(ab){return new Blob([ab]);});},xa.formData=function(){throw Error("Not implemented");},xa.redirected=!1,xa));});});};G(d.ig);h.za.get(z.gga).zYb(C);}function P(Ca,Va,S){var ma,Ja,Na,Za;Na={wa:Ca,x6:Va};if(S){Za=function(V){var la;V=V || "" + S;if(S.stack){la="" + S.stack;V=0 <= la.indexOf(V)?la:V + la;}return V;};if(Ja=S.cadmiumResponse){if(ma=Ja.Le && Ja.Le.toString())Ja.Le=ma;Ja.wa=Ca;Ja.x6=Va;Ja.Yb=Za(S.message);Ja.error={Pc:Ca,De:ma,Dz:Va,data:S.cause,message:S.message};return Ja;}Za=Za(S.errorMessage);ma=(0,u.fj)(S.internalCode) || (0,u.fj)(S.error && S.error.internalCode);Ja=void 0 !== S.ZJb?(0,w.yva)(S.ZJb):void 0;}Za && (Na.Yb=Za);ma && (Na.Le=ma);Na.error={Pc:Ca,De:ma.toString(),Dz:Va,data:Ja,message:Za};return Na;}(0,n.oa)(k.config);M=h.za.get(l.zK);L=p.Lk.qj;if(t.IA && t.Rp && t.Rp.unwrapKey){try{Q=qb.netflix.msl;J=Q.createMslClient;H=Q.IHttpLocation;K=Q.MslIoException;}catch(Ca){G({wa:f.R.kpb});return;}O=(0,h.Zi)("Msl");R=k.config.vYb;ca=k.config.xYb;oa=k.config.Ny?"mslstoretest":"mslstore";Q=m.bJ.gfb;ta=!0;Fa=!Q || Q.pa;ua=(0,h.qr)(k.config.Ny?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ya=!!k.config.wza;h.za.get(q.rx).create().then(function(Ca){R?Ca.remove(oa).then(function(){F();}).catch(function(Va){O.error("Unable to delete MSL store",(0,f.Ax)(Va));F();}):ca?Ca.load(oa).then(function(Va){M.mark(L.mpb);F(Va.value);}).catch(function(Va){Va.wa == f.R.Px?(M.mark(L.opb),F()):(O.error("Error loading msl store",(0,f.Ax)(Va)),M.mark(L.npb),Ca.remove(oa).then(function(){F();}).catch(function(S){G(S);}));}):F();}).catch(function(Ca){O.error("Error creating app storage while loading msl store",(0,f.Ax)(Ca));G(Ca);});}else G({wa:f.R.lpb});});},78719:function(r,b,a){var c,m,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;c=a(29204);m=a(37509);g=a(3887);k=a(36129);d=a(85001);b.lHa=function(f,n,h){function l(q){var u,t;u=q.error || q;t=(0,g.Nf)(u);h.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.Jib && c.config.Uac?0 <= u.indexOf(c.config.Jib):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.vd(k.V.DRa));}function p(){m.te.removeListener(m.X7,l);f.removeEventListener(d.ha.ug,p);f.removeEventListener(d.ha.wu,p);}try{m.te.addListener(m.X7,l);f.addEventListener(d.ha.ug,p);c.config.ZRb && f.addEventListener(d.ha.wu,p);}catch(q){h.error("exception in exception handler ",q);}};},42654:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.mJa=void 0;c=a(29204);m=a(24066);g=a(36129);k=a(981);d=a(22365);f=a(32687);n=a(85001);h=a(31276);l=a(4246);b.mJa=function(p){var u,t,v,w;function q(){p.state.value !== n.Xb.oe || p.Ab.value !== n.kb.Sg && p.Ab.value !== n.kb.Nq?t.Ro():t.$B();}u=c.config.z0b;if(!p.uN() && u){t=h.za.get(l.bS)(u,function(){p.fireEvent(n.ha.gN,g.V.Z1);});p.Ab.addListener(q);p.state.addListener(q);if(c.config.esa){v=(0,m.fo)();w=new k.rPa(c.config.esa,function(){var y,x;y=(0,m.fo)();x=y - v;x > u && (p.fireEvent(n.ha.gN,g.V.F1),w.mYa());x > 2 * c.config.esa && (p.fsa=(0,d.Vs)(x,p.fsa || 0));v=y;});w.J7b();}p.addEventListener(n.ha.ug,function(){t.Ro();(0,f.$c)(w) && w.mYa();});}};},33059:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w;function c(y,x){this.j=y;this.jj=x;this.l$b=!1;this.log=(0,k.Nh)(this.j,"MediaAppendManager");this.Gb=this.j.Gb;this.fa=this.Gb.fa;this.y_=this.RT=!1;this.audio={type:g.Yj.audio,Yv:[],kl:[],uO:!1};this.video={type:g.Yj.video,Yv:[],kl:[],uO:!1};y={};this.wJ=(y[w.u.X]=this.video,y[w.u.Y]=this.audio,y);this.closed=!1;this.vz=m.config.vz;this.j$=m.config.j$;this.ZC=this.j.bb.yg?m.config.fwa:m.config.ZC;this.EWa=!0;this.oc=k.za.get("Base64EncoderSymbol");this.tpa=!1;this.Gwa=[];(0,f.oa)(this.vz > this.j$,"bad config");(0,f.oa)(this.vz > this.ZC,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.cLa=void 0;m=a(29204);g=a(51344);k=a(31276);d=a(36129);f=a(45146);n=a(3887);h=a(33096);l=a(85001);p=a(93294);q=a(5021);u=a(63156);t=a(75568);v=a(69931);w=a(26388);c.prototype.g7=function(){var z,A;function y(B,D){return x(B,D.a$);}function x(B,D){var C,E,G,F;G=!!D.response;F=D.response;if(D.Ee)return B + (F.byteLength || 0);D=(null !== (C=null === D || void 0 === D?void 0:D.T4) && void 0 !== C?C:0) - (null !== (E=null === D || void 0 === D?void 0:D.U4) && void 0 !== E?E:0);return (G?F.byteLength:D) + B;}z=this.wJ[w.u.X];A=this.wJ[w.u.Y];return {videoToAppend:z.kl.reduce(x,0),videoInBuffer:z.Yv.reduce(y,0),audioToAppend:A.kl.reduce(x,0),audioInBuffer:A.Yv.reduce(y,0)};};c.prototype.mZb=function(){this.audio.Gi && !this.audio.Gi.sh() && (!1,this.audio.Gi.VVa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.z7b=function(){this.audio.Zza=!0;this.video.Zza=!0;};c.prototype.F7b=function(y){y === w.u.Y?this.RT=!0:y === w.u.X && (this.y_=!0);};c.prototype.sh=function(){var y,x;return !(null === (y=this.audio.Gi) || void 0 === y || !y.sh()) || !(null === (x=this.video.Gi) || void 0 === x || !x.sh());};c.prototype.Uba=function(y){var x,z;null === (x=this.audio.Gi) || void 0 === x?void 0:x.Uba(y);null === (z=this.video.Gi) || void 0 === z?void 0:z.Uba(y);};c.prototype.Vxb=function(y){var x;y.mediaType === w.u.Y?this.RT=!1:y.mediaType === w.u.X && (this.y_=!1);x=this.wJ[y.mediaType];x?x.kl.push(y):(0,f.oa)(!1);};c.prototype.Uxb=function(y,x,z){var A;A=this;x=this.eXa(y.mediaType,x,z);if(!this.tpa)if(y.mediaType === w.u.X)(this.a2b(y),this.tpa=!0,this.Gwa.forEach(function(B){return A.Kka(B);}),this.Gwa=[]);else {this.Gwa.push(x);return;}this.Kka(x);};c.prototype.Kka=function(y){var x;x=this.wJ[y.mediaType];x?x.kl.push(y):(0,f.oa)(!1);};c.prototype.eXa=function(y,x,z){return {mediaType:y,iu:!1,response:x,ri:function(){return "header";},get Ee() {return !this.iu;},profile:z.profile};};c.prototype.a2b=function(y){(0,f.oa)(!!y.Agb,"startOfSegment properties need to be set before first header is appended");this.tpa || !m.config.KLb || !this.j.c8() && !this.j.dN() || y.Agb.N6a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.oc.decode(h.ZDa),this.Kka(this.eXa(w.u.X,y,{profile:t.G.kE})));};c.prototype.D7b=function(y){var x;x=this.wJ[y.type];if(x)try{x.Gi=y;}catch(z){this.vd(d.V.yga,{wa:(0,p.v7)(y.type),Yb:(0,n.Nf)(z)});}};c.prototype.close=function(){this.fa=this.Gb=void 0;this.closed=!0;};c.prototype.vd=function(y,x,z){this.closed || this.j.vd(y,x,z);};c.prototype.Ena=function(y){return this.M_a(this.audio,y,this.N5()) && this.M_a(this.video,y,this.N5());};c.prototype.N5=function(){return this.j.Ab.value === l.kb.If?this.ZC:this.j$;};c.prototype.$$b=function(){var y,x;y=this.video.kl.filter(function(z){return !z.Ee;}).reduce(function(z,A){return z + A.St;},0);x=this.audio.kl.filter(function(z){return !z.Ee;}).reduce(function(z,A){return z + A.St;},0);return Math.min(y,x);};c.prototype.M_a=function(y,x,z){var A;A=y.Fna;A=A && A.a$;return !y.Gi || 0 === y.kl.length && (y.type === g.Yj.audio && this.RT || y.type === g.Yj.video && this.y_)?!0:A && A.lD - x >= z || !1;};c.prototype.wib=function(y){this.l$b || (this.vib(this.audio,y),this.vib(this.video,y));this.closed || this.OXa();};c.prototype.OXa=function(){var y,x,z,A,B,D;A=!this.audio.Gi || 0 !== this.audio.Yv.length;B=0 === this.video.kl.length && this.y_;D=!this.video.Gi || 0 !== this.video.Yv.length;!(0 === this.audio.kl.length && this.RT && D || B && A) || (null === (y=this.audio.Gi) || void 0 === y?0:y.sh()) || (null === (x=this.video.Gi) || void 0 === x?0:x.sh()) || this.voa || !(this.fa.readyState > u.Lk.CA.HAVE_NOTHING) || this.jj.U8 || (this.voa=!0,null === (z=this.Gb) || void 0 === z?void 0:z.endOfStream());};c.prototype.vib=function(y,x){var z,A,B,D;if(!this.closed && y.Gi){A=y.Gi;B=y.Yv;!A.sh() && 0 < B.length && (y.Fna=B[B.length - 1]);if(y.Zza){if(A.sh())return;y.Zza=!1;D=null === (z=this.Gb) || void 0 === z?void 0:z.Dqa().ixa(q.ma);D && 0 < D && A.remove(0,D / h.Qq);}for(z=y.kl[0];z && z.response && (z.Ee || z.NO - x <= this.vz);)if((this.voa=!1,this.Lac(z)))(y.kl.shift(),z=y.kl[0]);else break;!A.sh() && 0 < B.length && (y.Fna=B[B.length - 1]);}};c.prototype.Lac=function(y){var x,z,A;!1;(0,f.oa)(y && !!y.response);x=y.response;z=y.mediaType;A=this.wJ[z];if(!this.closed && A.Gi && !A.Gi.sh()){try{y.Ee && y.profile && A.Gi.lBb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.Gi.VVa(x,y);y.Ee || A.Yv.push(this.UEb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.P5=this.j.P5?this.j.P5 + 1:1,this.EWa=!1,A.uO=!0):(this.log.error("Exception while appending media",y,B),this.vd("CodecSwitchingError" === B.name?d.V.JMa:d.V.Mqb,(0,p.v7)(z)));return;}return !0;}};c.prototype.MEb=function(y){var x;if(v.Cha[y.Vb])return v.Cha[y.Vb];x=this.j.$4a(y.Wc);x || (this.log.warn("Could not find CDN",{cdnId:y.Wc}),x={id:y.Wc,s8a:y.location});return x;};c.prototype.DZa=function(y){var x,z;x=y.Vb;if(v.Dha[x])return v.Dha[x];y.mediaType === w.u.Y?z=this.j.W4a(x):y.mediaType === w.u.X && (z=this.j.l5a(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.UEb=function(y){var x;x=this.DZa(y);return {a$:y,stream:x,EL:{startTime:Math.floor(y.NO),endTime:Math.floor(y.lD)},Ec:this.MEb(y)};};c.prototype.fma=function(y){this.UXa(y,w.u.Y);this.UXa(y,w.u.X);};c.prototype.UXa=function(y,x){var z,A,B,D,C,E,G,F,I;z=this;B=y;this.EWa && (B-=m.config.JH);D=this.wJ[x];C=D.Yv;F=!1;C.some(function(P,M){var L;L=P.a$;if(y < L.NO)return ((0,f.oa)(!1,"decoder content does not contain media time"),!0);B >= L.lD && (E=M);if(y < L.lD)return (G=M,M=x === w.u.Y?z.j.pf:z.j.fe,P !== M.value && (M.set(P),F=!0),!0);});if((D.uO || F) && void 0 !== E && !this.voa){if(E + 1 === G){if(0 === E)return;E--;}I=E === C.length - 1?null === (A=this.Gb) || void 0 === A?void 0:A.Dqa().ixa(q.ma):C[E].a$.lD - 1;!1;I && 0 < I && ((A=D.Gi) && !A.sh()?(A.remove(0,I / h.Qq),D.uO=!1,C.splice(0,E + 1)):(D.uO=!0,!1));}};c.prototype.beb=function(){!1;[this.audio,this.video].forEach(function(y){y.Yv=[];y.Fna=void 0;y.kl=[];});this.y_=this.RT=!1;this.j.fireEvent(l.ha.vX);};c.prototype.rra=function(){return [this.audio,this.video].filter(function(y){return y.Gi;});};c.prototype.aNb=function(){var y,x;if(this.sh())(0,f.oa)(!1,"should not be busy while checking buffer ranges");else {y=this.rra().map(function(z){var A,B,D,C,E;C=z.kl.filter(function(G){return G.iu;});E=z.Gi.buffered();z=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=C[0]) || void 0 === A?void 0:A.NO;A=null !== (D=null === (B=C[C.length - 1]) || void 0 === B?void 0:B.lD) && void 0 !== D?D:E;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,aa(y.map(function(z){return z.start;})));y=Math.min.apply(Math,aa(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Ob)(x),end:(0,q.Ob)(y)};}}};c.prototype.skip=function(y){(0,f.oa)(!this.sh(),"should not be busy while skipping");this.rra().forEach(function(x){x.uO=!0;});this.fma(y);this.rra().forEach(function(x){0 < x.Yv.length || (x.kl=x.kl.filter(function(z){return z.Ee || z.lD > y?!0:!1;}));});};b.cLa=c;},36582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$fa="MediaElementHelpersSymbol";},50093:function(r,b,a){var m,g,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;r=a(5163);m=a(4203);g=a(33096);a=a(22674);c.prototype.Yt=function(){return (/widevine/i).test(this.config().sn)?g.Kea:(/fps/i).test(this.config().sn)?"fairplay":g.C0;};k=c;k=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(m.Zb))],k);b.jLa=k;},90762:function(r,b,a){var g,k,d,f,n,h,l,p,q,u,t,v;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function m(w,y,x,z){var A,B;A=this;this.j=w;this.type=y;this.log=z;this.l3=new d.Jb(!1);this.VE={data:void 0,state:"",operation:""};this.error=void 0;this.mimeType=this.e1a((this.type === v.u.X?this.j.Og.value:this.j.ac.value).streams);this.uj=new f.Xj();this.fja={Type:this.type};if(k.config.FC){B=!0;this.spa=new d.Jb(!1);}this.log.trace("Adding source buffer",this.fja,{TypeId:this.mimeType});this.Mc=x.addSourceBuffer(this.mimeType);this.Mc.addEventListener("updatestart",function(){!1;A.VE.state="updatestart";});this.Mc.addEventListener("update",function(){!1;A.VE.state="update";});this.Mc.addEventListener("updateend",function(){var D;!1;A.l3.set(!1);A.zSa && A.zSa();A.VE.state="updateend";D=0;try{D=A.Mc.buffered.length;}catch(C){}B && D && (B=!1,A.spa.set(!0),!1);});this.Mc.addEventListener("error",function(D){var C;!1;try{C=D.target.error && D.target.error.message;(D.message || C) && z.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(E){}D={wa:(0,g.v7)(A.type),Yb:A.q7()};w.vd(h.V.Nqb,D);});this.Mc.addEventListener("abort",function(){!1;});w.addEventListener(q.ha.closed,function(){A.Mc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.pmb=b.aga=void 0;g=a(93294);k=a(29204);d=a(81734);f=a(94886);n=a(31276);a(24550);h=a(36129);a(5021);l=a(45146);p=a(32687);q=a(85001);u=a(95162);t=a(48220);v=a(26388);m.prototype.sh=function(){return this.l3.value;};m.prototype.updating=function(){return this.Mc?this.Mc.updating:!1;};m.prototype.Uba=function(w){this.zSa=w;};m.prototype.q7=function(){return this.VE;};m.prototype.buffered=function(){return this.Mc.buffered;};m.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};m.prototype.toJSON=function(){return {type:this.type};};m.prototype.Zpa=function(){var w,z,A;try{w=this.Mc.buffered;if(w){for(var y=[],x=0;x < w.length;x++){z=1E3 * w.start(x);A=1E3 * w.end(x);(0,l.oa)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};m.prototype.h7=function(){var w,y;w=this.Zpa();if(w){w=w.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=w.reduce(function(x,z){return x + z.end - z.start;},0);w=w.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:w.join("|")};}};m.prototype.VVa=function(w,y){var x;!1;try{(0,l.oa)(this.Mc.buffered && 1 >= this.Mc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.h7()));}catch(z){}(0,l.oa)(!this.sh());x=y && y.Vaa / 1E3;(0,p.Tb)(x) && this.Mc.timestampOffset !== x && (!1,this.$ba("timestampOffset",x),this.Mc.timestampOffset=x);this.$ba((null === y || void 0 === y?0:y.Ee)?"headerappend":"mediaappend");this.Mc.appendBuffer(w);!1;this.l3.set(!0);};m.prototype.remove=function(w,y){(0,l.oa)(!this.sh());try{this.$ba("remove");!1;this.Mc.remove(w,y);this.l3.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.fja);}};m.prototype.$ba=function(w,y){this.VE.data=y;this.VE.state="init";this.VE.operation=w;};m.prototype.Nfb=function(w,y){this.OUb=w / y * 1E3;};m.prototype.lBb=function(w){var y;if(this.Mc){if((w=this.e1a([{type:this.SCb,wd:w}]),w !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.Mc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.$ba("changeType",w);this.Mc.changeType(w);this.mimeType=w;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.fja,{From:y,To:w}),new c(x.message));}}}else this.log.info("No SourceBuffer");};m.prototype.appendBuffer=function(w,y){!y || y.Ee?this.Jka(w,y):this.Lka(w,y);return !0;};m.prototype.Jka=function(w,y){this.j.ae.Jka(this,w,y || ({}));};m.prototype.Lka=function(w,y){w=this.LCb(w,y);!1;this.j.ae.Lka(w);};m.prototype.LCb=function(w,y){var x;x=this.OUb || 0;return {ri:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.dd.Rc.DONE,NO:y.jb,lD:y.jb + y.duration,St:y.duration,Vaa:x,zr:y.zr,H:y.H,Vb:y.Vb,Wc:+y.Wc,location:y.location,U4:y.offset,T4:y.offset + y.ta - 1,bitrate:y.bitrate,response:w,gRb:w && 0 < w.byteLength,iu:!0,get Ee() {return !this.iu;},Oeb:this.tj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.H,isHeader:this.Ee,ptsStart:this.NO,ptsOffset:this.Vaa,responseType:this.Vic,duration:this.St,readystate:this.Ye};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};m.prototype.endOfStream=function(){var w;this.j.FF("EndOfStream");null === (w=this.j.ae) || void 0 === w?void 0:w.J$(this.mediaType);return !0;};m.prototype.zgb=function(w){this.Hvb=w;};m.prototype.addEventListener=function(w,y,x){this.uj.addListener(w,y,x);};m.prototype.removeEventListener=function(w,y){this.uj.removeListener(w,y);};m.prototype.e1a=function(w){var y;y=n.za.get(u.XR);return this.type === v.u.X?y.I5(w):y.B5(w);};Ya.Object.defineProperties(m.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Agb:{configurable:!0,enumerable:!0,get:function(){return this.Hvb;}},SCb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.aga=m;ea(c,Error);b.pmb=c;},73056:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q;function c(J){var H;H=this;this.j=J;this.Gb=this.j.Gb;this.log=(0,h.Nh)(this.j,"MediaPresenterASE");this.w$=this.O5=0;this.fa=this.Gb.fa;this.Gz=new L.QRa(this.fa,this.j);this.ybb=this.nbb=this.W8=this.Swa=!1;this.w9=new Set();this.o$b=h.za.get(B.KE)((0,A.Ob)(x.t2));this.oL=void 0;this.jj=h.za.get(C.YPa)(this.j);this.kx={};this.B9a={};this.$V={};this.Bg=new G.cLa(this.j,this.jj);this.m$b=function(){var K,O,R;H.j.NZ=(0,n.fo)();if(!H.cm() && H.uC){K=H.Gb.s4a();K || (H.H0b(),H.Bg.wib(H.mediaTime));H.j.paused.value || !H.Bg.Ena(H.mediaTime) || !H.Cla() || K || H.jj.U8?H.Oya():H.Swa || H.Pya();H.G0b();if(!H.Gb.s4a() && !H.W8){K=H.Gb.LM(!0);O=H.j.Ab.value;R=H.BCb();O !== R && !1;R === w.kb.Nq?(H.mediaTime=H.j.tq.ea(A.ma),H.Oya()):R !== w.kb.If && H.zbc(K);H.fjb();H.Bg.fma(H.mediaTime);H.j.Ab.set(R);R !== w.kb.If || O !== w.kb.Ie && O !== w.kb.Sg || H.Rva();}}};this.vl=(0,E.ycb)(this.m$b);this.mediaTime=J.jb;this.j.Kh=!1;this.Gb.addEventListener(z.$h.rgb,function(){if(H.sgb){H.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{H.Eb();}catch(K){H.log.error("Exception while initializing",K);H.vd(l.V.xqb);}}});this.Gb.addEventListener(z.$h.b8a,function(K){K=K.J;H.sgb?H.pab(K):H.w9.add(K);});}Object.defineProperty(b,"__esModule",{value:!0});b.sLa=void 0;m=a(33096);g=a(29204);k=a(13044);d=a(37509);f=a(52569);n=a(24066);h=a(31276);a(24550);l=a(36129);p=a(91591);q=a(45146);u=a(8825);t=a(3887);v=a(32219);w=a(85001);y=a(32687);x=a(93294);z=a(16520);A=a(5021);B=a(45842);D=a(4246);C=a(65106);E=a(97368);G=a(33059);F=a(91562);I=a(28048);P=a(22365);M=a(26388);L=a(49587);Q=a(63156);c.prototype.a3b=function(J){var H,K,O;H=this;if(this.Gz.paused){K=Math.ceil(J.BSb);O=function(R){H.jj.Hz?H.jj.Hz.time=R:H.E9a=R;};K > (this.jj.Hz?this.jj.Hz.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",K),O(K));J.Gpa && (this.log.trace("ptsChanged forcedTimestamp",J.Gpa),O(J.Gpa));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.Z2a=function(){return this.Gb.LM(!1);};c.prototype.r7=function(){return this.Gb.r7();};c.prototype.hw=function(){return this.Gb.hw();};c.prototype.NG=function(){return this.Gb.NG();};c.prototype.zV=function(){return this.Gb.zV();};c.prototype.Eb=function(){var J,H;J=this;this.log.trace("Video element initializing");this.Gb.sourceBuffers.forEach(function(K){return J.Bg.D7b(K);});this.j.oH?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.O}),null === (H=this.j.eb) || void 0 === H?void 0:H.m6(this.j.O));0 < this.w9.size && setTimeout(function(){J.log.trace("Notifying about licenses that were added before source buffers created");Array.from(J.w9).forEach(function(K){J.w9.delete(K);J.pab(K);});},0);this.log.trace("Waiting for loadedmetadata");(0,f.vVa)(this.fa,"loadedmetadata",function(){J.log.trace("Video element event: loadedmetadata");J.j.ue("md");});d.te.addListener(d.cl,this.$V[d.cl]=function(){return J.close();},m.nK);this.j.addEventListener(w.ha.ug,function(){return J.close();},m.nK);this.j.addEventListener(w.ha.zeb,function(){return J.Pya();});this.j.addEventListener(w.ha.EH,function(){return J.e_b();});this.j.paused.addListener(function(){return J.vl();});this.j.muted.addListener(function(){return J.RBa();});this.j.volume.addListener(function(){return J.RBa();});this.j.playbackRate.addListener(function(){return J.$P();});this.j.pr.addListener(function(){return J.vl();});this.j.rm.addListener(function(){return J.vl();});this.RBa();this.$P();this.Bg.Uba(function(){return J.W9();});this.W9();this.Fac();};c.prototype.pab=function(J){var H;this.j.ue("ld",J);null === (H=this.j.eb) || void 0 === H?void 0:H.m6(J);this.j.fireEvent(w.ha.Z7a);};c.prototype.Lka=function(J){var H;H=this;!1;this.Bg.Vxb(J);this.kBb(J).then(function(){H.W9();H.j.fireEvent(w.ha.vX);}).catch(function(K){H.vd(l.V.Cqb,{Yb:(0,t.Nf)(K)});});};c.prototype.Jka=function(J,H,K){K=void 0 === K?{}:K;H=this.sIb(J,H);this.Bg.Uxb(J,H,K);this.W9();this.nbb || J.type !== M.u.X || (this.jj.U8 || this.seek(this.j.jb,w.pc.Ts),this.nbb=!0);};c.prototype.Fac=function(){var J;J=this;this.Gb.addEventListener(z.$h.eZ,this.kx[z.$h.eZ]=function(){return J.u_b();});this.Gb.addEventListener(z.$h.io,this.kx[z.$h.io]=function(){return J.W$();});this.fa.addEventListener("ended",this.kx.ended=function(){return J.XZb();});this.fa.addEventListener("play",this.kx.play=function(){return J.Nva();});this.fa.addEventListener("pause",this.kx.pause=function(){return J.Mva();});this.fa.addEventListener("playing",this.kx.playing=function(){return J.Pva();});this.uC=!0;this.Bg.wib(this.mediaTime);this.log.trace("Video element initialization complete");this.j.ue("vi");g.config.s_a?setTimeout(function(){J.zva=!0;J.vl();},g.config.s_a):this.zva=!0;this.a9b();this.j.xd.Z && this.b9b();(0,v.Mf)(function(){return J.vl();});};c.prototype.a9b=function(){var K;function J(){var O;K.j.Ab.value !== w.kb.Ie || 0 !== (null === (O=K.j.ae) || void 0 === O?void 0:O.r7()) || P.Qg.hidden?(K.H$a.Ro(),O="stopTimer"):(K.H$a.$B(),O="ensureTimer");K.log.trace("No render timer update: " + O,{presentingState:w.kb[K.j.Ab.value],hidden:P.Qg.hidden});}function H(O){var R,ca;O=void 0 === O?!0:O;R=K.j.eb;ca=(null === R || void 0 === R?void 0:R.Ih) && R.d5a();K.j.Ab.value == w.kb.If && K.j.state.value == w.Xb.oe && K.j.pr.value == w.uf.oe && K.j.rm.value == w.uf.oe && !K.j.Kh && ca?(O && K.Q5.Ro(),K.Q5.$B(),R="ensureTimer"):(K.Q5.Ro(),R="stopTimer");K.log.trace("Timer update: " + R,{presentingState:w.kb[K.j.Ab.value],playbackState:w.Xb[K.j.state.value],avBufferingState:w.uf[K.j.pr.value],textBufferingState:w.uf[K.j.rm.value],autoplayWasBlocked:K.j.Kh,hasLicense:ca,restartTimer:O});}K=this;g.config.f_a && ((0,q.oa)(!this.Q5),this.Q5=h.za.get(D.bS)(g.config.f_a,function(){var O;O=h.za.get(p.Fea).D_a(K.j);K.vd(O.code,O);}),this.j.Ab.addListener(function(){return H();}),this.j.pr.addListener(function(){return H();}),this.j.rm.addListener(function(){return H();}),this.j.state.addListener(function(){return H();}),this.j.addEventListener(w.ha.Z7a,function(){return H();}),this.j.addEventListener(w.ha.Kh,function(){return H();}),this.j.addEventListener(w.ha.hla,function(){return H();}),this.j.addEventListener(w.ha.qD,function(){return H(!0);}),H());g.config.G$a && (this.H$a=h.za.get(D.bS)(g.config.G$a,function(){var O;0 === (null === (O=K.j.ae) || void 0 === O?void 0:O.hw()) && (O=h.za.get(p.Fea).D_a(K.j),K.vd(O.code,O));K.j.Ab.removeListener(J);d.te.removeListener(d.Qr,K.$V[d.Qr]);}),this.j.Ab.addListener(J),d.te.addListener(d.Qr,this.$V[d.Qr]=J),J());};c.prototype.b9b=function(){var K;function J(){var O,R,ca,oa;oa=K.Gb.sourceBuffers.find(function(ta){return ta.mediaType === M.u.X;});oa=null !== (O=null === oa || void 0 === oa?void 0:oa.Zpa()) && void 0 !== O?O:[];1 < oa.length?(O=null !== (ca=null === (R=K.fa) || void 0 === R?void 0:R.readyState) && void 0 !== ca?ca:Q.Lk.CA.HAVE_NOTHING,ca=O < Q.Lk.CA.HAVE_FUTURE_DATA,R=H(oa,K.mediaTime),ca && R?(K.lda.$B(),ca="ensureTimer"):(K.lda.Ro(),ca="stopTimer"),K.log.trace("Video Gaps Monitor Timer update: " + ca,{mediaTime:K.mediaTime,bufferedRanges:JSON.stringify(oa),nextRange:JSON.stringify(R),readyState:O})):K.lda.Ro();}function H(O,R){return O.find(function(ca,oa){if(Math.abs(R - ca.end) < Math.abs(R - ca.start))return !1;ca=ca.end - ca.start;return oa !== O.length - 1 && ca < g.config.HC?!1:!0;});}K=this;g.config.Ojb && ((0,q.oa)(!this.lda),this.lda=h.za.get(D.bS)(g.config.Ojb,function(){var O,R;R=K.Gb.sourceBuffers.find(function(ca){return ca.mediaType === M.u.X;});R=null !== (O=null === R || void 0 === R?void 0:R.Zpa()) && void 0 !== O?O:[];if(O=H(R,K.mediaTime))(K.log.error("Detected media gaps: seeking over gap",{seekPoint:O.start,ranges:JSON.stringify(R)}),K.Gb.k5b(),K.seek(O.start,w.pc.Sfa));}),this.j.mediaTime.addListener(J),this.j.Gb.addEventListener(z.$h.$cb,J),this.j.addEventListener(w.ha.vX,J),J());};c.prototype.sIb=function(J,H){var K;K=this.j.re;(K=(0,I.Hsa)(K)?K.NM():void 0) && J.type === M.u.X && ((J=new F.lR(this.log,{mediaType:M.u.X,url:"http://some-url"},H).Ha(K))?H=J:!1);return H;};c.prototype.W9=function(){this.uC && this.vl();this.Bg.OXa();};c.prototype.l9b=function(){!1;this.j.Ab.set(w.kb.If);this.W8=!0;this.vl();};c.prototype.yCb=function(){var J;J=this;this.W8 && (!1,this.W8=!1,(0,v.Mf)(function(){return J.seek(J.j.jC() || 0,w.pc.$R);}));};c.prototype.g7=function(){return this.Bg.g7();};c.prototype.J$=function(J){var H;H=this;this.Bg.F7b(J);(0,v.Mf)(function(){return H.vl();});};c.prototype.jOb=function(){return {O5:this.O5,w$:this.w$};};c.prototype.kBb=function(J){var H;H=this.Gb && this.Gb.Dqa();(0,q.oa)(this.j.tq,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.tq && H && (J=Infinity !== J.Oeb?J.Oeb + J.Vaa:J.lD,J > this.j.tq.ixa(A.ma) && (this.j.tq=(0,A.Ob)(J)));return Promise.resolve();};c.prototype.G0b=function(){var J,H;J=this;this.jj.saa && (!1,this.Cla() && this.Bg.Ena(this.mediaTime) && (this.Gb.seek(null !== (H=this.E9a) && void 0 !== H?H:this.mediaTime),this.E9a=void 0,this.jj.saa=!1,(0,v.Mf)(function(){return J.vl();})));};c.prototype.zbc=function(J){var H;if(J < this.mediaTime){H=this.mediaTime - J;g.config.I0b && J && H > x.t2 && (J={ElementTime:(0,u.mh)(J),MediaTime:(0,u.mh)(this.mediaTime)},H > x.nPa?this.vd(l.V.Oqb,{Yb:Object.assign({Trace:this.Gb.lC()},J)}):this.log.warn("VIDEO.currentTime became smaller",J));}else this.mediaTime=(0,u.Kx)(J,0,this.j.tq.ea(A.ma));};c.prototype.Cla=function(){return this.j.pr.value === w.uf.oe && this.j.rm.value === w.uf.oe;};c.prototype.BCb=function(){var J,H,K;J=this;H=this.j.Ab.value;K=H;this.jj.U8?K=w.kb.If:this.fa && this.fa.ended?H === w.kb.Ie && (K=w.kb.Nq):this.Cla() && this.Bg.Ena(this.mediaTime)?this.Gb.AHb()?K=this.Gz.paused?w.kb.Sg:w.kb.Ie:this.o$b.yh(function(){return J.n$b();}):K=this.j.tq?this.j.b5a(this.mediaTime,this.Bg.N5())?w.kb.If:w.kb.Nq:w.kb.If;return K;};c.prototype.Rva=function(){var J;if(this.j.Ab.value === w.kb.If){J=this.Bg.$$b() > this.Bg.N5();this.j.rm.value !== w.uf.oe?this.j.gi.value?(this.j.fireEvent(w.ha.oy,{ic:k.YNa}),this.log.warn("rebuffer due to timed text",this.j.gi.value.Ag)):this.j.fireEvent(w.ha.PP):J?(this.O5++,this.j.fireEvent(w.ha.oy,{ic:k.Nga})):(this.w$++,this.j.fireEvent(w.ha.oy,{ic:k.Oga}));}};c.prototype.n$b=function(){this.cm() || (g.config.nZb && this.Bg.mZb(),this.vl());};c.prototype.u_b=function(){this.vl();};c.prototype.W$=function(){this.vl();this.j.fireEvent(w.ha.io);};c.prototype.XZb=function(){this.log.trace("Video element event: ended");this.vl();};c.prototype.Nva=function(){this.log.trace("Video element event: play");this.vl();};c.prototype.Mva=function(){this.log.trace("Video element event: pause");this.Gz.Mva();this.vl();};c.prototype.Pva=function(){this.log.trace("Video element event: playing");this.Gz.Nva();this.vl();};c.prototype.RBa=function(){this.cm() || (this.fa && this.fa.volume !== this.j.volume.value && (this.fa.volume=this.j.volume.value),this.fa && this.fa.muted !== this.j.muted.value && (this.fa.muted=this.j.muted.value));};c.prototype.$P=function(){!this.cm() && this.fa && (this.fa.playbackRate=this.j.playbackRate.value);};c.prototype.Pya=function(){var J;J=this;!this.cm() && (0,y.$c)(this.fa) && !this.fa.ended && this.zva && this.Gz.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.Gz.play()).then(function(){J.closed || (J.Swa=!1,J.fa.style.display=null,J.j.Kh=!1,J.j.fireEvent(w.ha.hla));}).catch(function(H){"NotAllowedError" === H.name?(J.log.warn("Playback is blocked by the browser settings",H),J.j.Kh=!0,J.closed || (J.Swa=!0,J.fa.style.display="none",J.j.fireEvent(w.ha.Kh,{player:{play:function(){return J.Pya();}}}))):J.closed || J.ybb || (J.ybb=!0,J.log.error("Play promise rejected",H));}));};c.prototype.e_b=function(){this.jj.Q7a=this.j.jC() || 0;};c.prototype.Oya=function(){this.cm() || !(0,y.$c)(this.fa) || this.fa.ended || !this.zva || this.Gz.paused || (this.log.trace("Calling pause on element"),this.Gz.pause());};c.prototype.fjb=function(J){this.j.mediaTime.set(this.mediaTime);J && this.j.GLb();};c.prototype.seek=function(J,H,K,O){var R,ca;K=void 0 === K?this.j.H:K;O=void 0 === O?!1:O;ca=null === (R=this.j.eb) || void 0 === R?void 0:R.Ih;!this.cm() && ca && (this.j.fireEvent(w.ha.qD,{ic:H}),this.jj.Hz={time:J,ic:H,H:K,RLb:O},this.j.Ab.set(w.kb.If),this.vl());};c.prototype.H0b=function(){var J,H,K,O,R,ca,oa,ta;if(this.jj.Hz){J=this.jj.Hz;H=J.time;K=J.ic;O=J.H;R=J.RLb;if(!this.Bg.sh() || K === w.pc.Ts){J=this.j.$i(O).O;ca=this.Bg.sh()?void 0:this.Bg.aNb();ca=this.jj.ROb(H,K,O,R,ca);O=ca.y$;R=ca.zr;oa=ca.k1b;ca=ca.ji;this.Bg.fma(this.mediaTime);ta=this.mediaTime;H=(0,u.mh)(H);this.j.FF("SEEKING: Requested: (" + J + ":" + K + ":" + H + ") - Actual: (contentPts: " + R + ",playerPts: " + (oa + ", newMediaTime: " + O + ")"));this.log.info("Seeking",{Requested:H,Actual:(0,u.mh)(O),Cause:K,Skip:ca});K === w.pc.Ts || ca || (this.Bg.beb(),this.Bg.z7b());this.mediaTime=O;this.jj.Q7a=R;H=this.j.pf.value;oa=this.j.fe.value;this.j.pf.set(null);this.j.fe.set(null);this.fjb(!0);this.jj.Hz=void 0;this.jj.saa=!0;this.j.fireEvent(w.ha.Kj,{Ava:ta,y$:O,zr:R,ic:K,skip:ca,pf:H,fe:oa,O:J});ca && this.Bg.skip(O);}}};c.prototype.vd=function(J,H,K){this.closed || this.j.vd(J,H,K);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Bg.close();this.Gb.removeEventListener(z.$h.eZ,this.B9a[z.$h.eZ]);this.Gb.removeEventListener(z.$h.io,this.B9a[z.$h.io]);this.fa.removeEventListener("ended",this.kx.ended);this.fa.removeEventListener("play",this.kx.play);this.fa.removeEventListener("pause",this.kx.pause);this.fa.removeEventListener("playing",this.kx.playing);this.Gz.close();d.te.removeListener(d.cl,this.$V[d.cl]);d.te.removeListener(d.Qr,this.$V[d.Qr]);this.closed=!0;try{this.fa.volume=0;this.fa.muted=!0;this.Oya();this.Gb.close();}catch(J){}this.fa=void 0;this.Bg.beb();}};c.prototype.cm=function(){return this.closed?!0:(0,y.$c)(this.fa)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Ya.Object.defineProperties(c.prototype,{sgb:{configurable:!0,enumerable:!0,get:function(){var J,H;J=this;return !(null === (H=this.j.eb) || void 0 === H || !H.Kg) && [].concat(aa(this.j.eb.Kg)).every(function(K){return J.Gb.sourceBuffers.find(function(O){return O.mediaType === K;});});}}});b.sLa=c;},93294:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.nPa=b.t2=b.v7=void 0;c=a(26388);m=a(36129);b.v7=function(g){return g === c.u.Y?m.R.Vfa:m.R.Wfa;};b.t2=50;b.nPa=1E3;},53754:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p){var u,t;function q(){u.iT=new h.lRa();return u.iT;}(0,m.Zi)("MediaSourceASE").trace("Inside MediaSourceASE");u=this;t=p.JOb();u.ETa=t;u.readyState=l.Rc.CLOSED;u.addSourceBuffer=function(v){return v === n.u.Da?q():t.addSourceBuffer(v);};u.BT=function(v){v.includes(n.u.Da) && q();return t.BT(v);};u.removeSourceBuffer=function(v){if(v.mediaType === n.u.Da)u.iT=void 0;else return ((0,f.oa)(v.mediaType === n.u.Da,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),t.removeSourceBuffer(v));};u.Sp=function(v){u.iT=void 0;t.Sp(v);};u.duration=void 0;this.readyState=l.Rc.OPEN;this.Af=g.za.get(k.Fh).OH(l.Af,{});p=new d.EventEmitter();p.on("subtitleData",function(v){(0,f.oa)(t.j.Nb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");t.j.Nb.value.Mxa(v);});this.events=p;}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;m=a(31276);g=a(31276);k=a(74870);d=a(90745);f=a(45146);n=a(45247);h=a(91515);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.iT?this.ETa.sourceBuffers.concat(this.iT):this.ETa.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.tj;},set:function(p){var q;this.tj=p || Infinity;q=Math.floor(1E3 * p) || Infinity;this.sourceBuffers.forEach(function(u){u.tj=q;});}});l={Rc:{CLOSED:0,OPEN:1,Nq:2,name:["CLOSED","OPEN","ENDED"]},Af:{hCb:!0,AYb:!0}};b.xLa=Object.assign(c,l);},69931:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Dha=b.Cha=void 0;r=a(79048);a={};b.Cha=(a[r.Tq]={id:-1,name:"hardcoded",dc:1,type:"hardcoded",s8a:"-1",CTb:!1,location:{id:"-1",dc:1,level:100,weight:1}},a);a={};b.Dha=(a[r.Tq]={track:{type:"padding",trackId:"padding",Bh:"padding",hf:"padding",cD:"other",Ae:"padding",oD:"padding",iH:"padding",Ag:{}},type:"padding",Wb:"-1",bitrate:1,ub:100,wd:"unknown",size:1,Zna:{},Ag:{},Wk:"",framerate:0,si:!1,Hi:[],height:1,width:1},a);},6305:function(r,b,a){var m,g,k;function c(d,f,n,h,l,p,q,u,t,v,w){this.track=d;this.type=f;this.Wb=n;this.bitrate=h;this.ub=l;this.size=p;this.Zna=q;this.wd=u;this.framerate=t;this.si=v;this.Hi=w;this.Ag={Type:f,Bitrate:h,DownloadableId:n};}Object.defineProperty(b,"__esModule",{value:!0});b.omb=b.MediaStream=void 0;m=a(33096);g=a(32687);k=a(51344);c.prototype.toJSON=function(){return this.Ag;};c.prototype.N7b=function(d,f,n,h){(0,g.$c)(d) && (0,g.$c)(f) && (this.width=d,this.height=f,(0,g.Tb)(n) && (0,g.Tb)(h) && (this.width=Math.round(n / h * d)),this.Ag.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.$6b=function(d,f,n,h,l,p){(0,g.$c)(d) && (0,g.$c)(f) && (0,g.$c)(n) && (0,g.$c)(h) && (this.kna=d,this.NZa=f,this.MZa=n,this.LZa=h);(0,g.$c)(l) && (0,g.$c)(p) && (this.tbb=l,this.ubb=p);};b.MediaStream=c;b.omb=function(d,f,n,h,l){if(d == m.L1 || d === k.Yj.audio)return f;if(d == m.yR || d === k.Yj.video)return n;if(d == k.Yj.dBa)return h;if(d == k.Yj.vBa)return l;};},51344:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yj={audio:"audio",video:"video",dBa:"timedtext",vBa:"trickplay"};},62439:function(r,b,a){var m,g,k,d,f,n,h;function c(l){var p,q,u,t;p=this;this.j=l;this.tU=void 0;this.Bia=(0,g.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.pia=(0,g.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.hia=(0,g.createElement)("DIV","width:100%;text-align:center");this.zsb=this.sia("Audio Bitrate");this.Tja=this.sia("Video Bitrate / VMAF");this.lia=this.sia("CDN");this.QS={};this.ZV=k.za.get(d.Kn);this.Bia.appendChild(this.pia);this.pia.appendChild(this.hia);q=(0,g.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.ysb.bind(this),!1);this.hia.appendChild(q);q=(0,g.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Bja.bind(this),!1);this.hia.appendChild(q);u=this.Tub.bind(this);m.te.addListener(m.nC,u);l.addEventListener(n.ha.EH,function(){p.QS={};});l.addEventListener(n.ha.ug,function(){m.te.removeListener(m.nC,u);});t=this.pvb.bind(this);l.Ec.forEach(function(v){v.addListener(t);});l.ac.addListener(t);l.Og.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.lOa=void 0;m=a(37509);g=a(52569);k=a(31276);d=a(34231);f=a(43193);n=a(85001);h=a(26388);c.prototype.show=function(){this.mT || (this.kUa(),document.body.appendChild(this.Bia),this.mT=!0);};c.prototype.lw=function(){this.mT && (document.body.removeChild(this.Bia),this.mT=!1);};c.prototype.toggle=function(){this.mT?this.lw():this.show();};c.prototype.Rib=function(){var q,u,t,v;function l(w,y,x){var z,A,B;A=[];y.filter(function(D){return D.wd === w;}).forEach(function(D){0 <= x.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(w,y,x){var z;z=[];y.filter(function(A){return A.wd === w;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.Nt();t=this.j.mC().sort(function(w,y){return w.bitrate - y.bitrate;});v=t.reduce(function(w,y){0 > w.indexOf(y.wd) && w.push(y.wd);return w;},[]).map(function(w){return {profile:w,ranges:l(w,t,u),disallowed:p(w,t,u)};});!1;null === (q=this.j.eb) || void 0 === q?void 0:q.Zba(v,this.j.O);};c.prototype.ysb=function(){var q,u;this.QS={};for(var l=this.Tja.options,p=l.length;p--;){q=l[p];q.selected && (this.QS[q.value]=1);}this.tU=this.Psb.bind(this);this.Rib();if(l=this.j.tg){u=this.lia.value;l=l.filter(function(t){return t.id == u;})[0];p=this.j.Ec[h.u.X].value;l && l != p && (l.DXa={testreason:"streammanager",selreason:"userselection"},this.j.Ec[h.u.X].set(l));}this.lw();};c.prototype.Bja=function(){this.tU=void 0;this.j.Ofb(this.j.O);this.lw();};c.prototype.Psb=function(){var l;l=this;return this.j.mC().filter(function(p){return l.QS[p.bitrate];});};c.prototype.kUa=function(){var l,p,q,u;l=this;p=this.j.ac.value;q=this.j.Og.value;u=this.j.tg;p && (u=u.slice(),u.sort(function(t,v){return t.dc - v.dc;}),this.Jja(this.zsb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == l.j.Vg.value};})));q && (this.Jja(this.Tja,q.streams.map(function(t){var v,w,y;v=l.j.SN.$z(t);w=t.bitrate;t=t.ub;y="" + w;t && (y+=" / " + t);v && (y+=" (" + v.join("|") + ")");return {value:w,caption:y,selected:l.tU?l.QS[w]:!v};})),this.Tja.removeAttribute("disabled"));u && (this.Jja(this.lia,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == l.j.Ec[h.u.X].value};})),this.lia.removeAttribute("disabled"));};c.prototype.pvb=function(){this.mT && this.kUa();};c.prototype.sia=function(l){var p,q;p=(0,g.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");l=(0,g.createElement)("DIV",void 0,l);q=(0,g.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(l);p.appendChild(q);this.pia.appendChild(p);return q;};c.prototype.Jja=function(l,p){l.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,g.createElement)("option",void 0,q.caption,u);u.value=q.value;l.appendChild(u);});};c.prototype.Tub=function(l){l.ctrlKey && l.altKey && l.shiftKey && l.keyCode == f.EA.W_ && this.ZV.cta && this.toggle();};b.lOa=c;},79173:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.ePa=void 0;c=a(31276);m=a(61726);b.ePa=(function(){(0,c.Zi)("ProbeDownloader");return {qV:function(g){g={url:g.url,s2b:g};!1;m.Ne.v2b(g);}};})();},27758:function(r,b,a){var m,g,k,d,f,n,h;function c(){var l;l=new g.Xj();this.addEventListener=l.addListener.bind(this);this.removeEventListener=l.removeListener.bind(this);this.emit=l.Fc.bind(this);this.B3=n++;this.Ni=(0,k.Zi)("ProbeRequest");this.XTa=m.ePa;(0,d.oa)(void 0 !== this.XTa);this.Ye=b.pj.Rc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.pj=void 0;m=a(79173);g=a(94886);k=a(31276);d=a(45146);f=a(3887);n=0;(function(){function l(){return JSON.stringify({url:this.ff,id:this.B3,affected:this.R2,readystate:this.Ye});}(0,f.de)(c.prototype,{eO:function(p){this.Ye !== b.pj.Rc.H0 && this.Ye !== b.pj.Rc.DONE && (this.G3=p,p={url:this.ff,affected:this.R2,probed:{requestId:this.B3,url:this.ff,Wc:this.gT,groupId:this.i3}},200 <= this.G3 && 299 >= this.G3?(this.Ye=b.pj.Rc.DONE,this.emit(b.pj.Kk.LR,p)):(this.Ye=b.pj.Rc.H0,this.emit(b.pj.Kk.JA,p)));},uva:function(p){this.Ye !== b.pj.Rc.H0 && this.Ye !== b.pj.Rc.DONE && (this.G3=p,p={url:this.ff,affected:this.R2,probed:{requestId:this.B3,url:this.ff,Wc:this.gT,groupId:this.i3}},this.Ye=b.pj.Rc.H0,this.emit(b.pj.Kk.JA,p));},open:function(p,q,u){if(!p)return (!1,!1);this.ff=p;this.R2=q;this.gT=u;this.Ye=b.pj.Rc.OPENED;this.XTa.qV(this);this.Ye=b.pj.Rc.Ox;return !0;},Ce:function(){!1;return !0;},ri:function(){return this.B3;},toString:l,toJSON:l});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Ye;}},status:{get:function(){return this.G3;}},url:{get:function(){return this.ff;}},ejc:{get:function(){return this.R2;}}});})();(function(l){l.Kk={LR:"pr0",JA:"pr1"};l.Rc={UNSENT:0,OPENED:1,Ox:2,DONE:3,H0:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(h || (h={}));b.pj=Object.assign(c,h);},59405:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);m=a(33096);r=a(36129);g=a(31276);k=a(69484);a=a(11479);g.za.get(a.Zh).register(r.V.SIa,function(d){c.config.qMb && g.za.get(k.CHa).start();d(m.ig);});},91515:function(r,b,a){var m;function c(){this.mediaType=m.u.Da;}Object.defineProperty(b,"__esModule",{value:!0});b.lRa=void 0;m=a(45247);c.prototype.appendBuffer=function(){return !0;};c.prototype.Nfb=function(){};b.lRa=c;},49587:function(r,b){function a(c,m){this.j=m;this.bI=!0;this.Rca=!1;this.fa=c;}Object.defineProperty(b,"__esModule",{value:!0});b.QRa=void 0;a.prototype.Nva=function(){this.bI && (this.bI=!1,this.j.paused.set(!1));};a.prototype.Mva=function(){this.bI || (this.bI=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.bI=!0,null === (c=this.fa) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,m;c=this;return this.paused && !this.Rca?(this.Rca=!0,Promise.resolve(null === (m=this.fa) || void 0 === m?void 0:m.play()).then(function(){c.Rca=!1;}).catch(function(g){var k;c.Rca=!1;c.bI=!(null === (k=c.fa) || void 0 === k || !k.paused);throw g;})):Promise.resolve();};a.prototype.close=function(){this.fa=void 0;};Ya.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.bI;}}});b.QRa=a;},20318:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fp=b.jlb=void 0;b.jlb=a;b.Fp=new a();},70632:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);m=a(45247);g=a(51790);k=a(27758);d=a(90762);f=a(29204);n=a(33096);h=a(67263);l=a(53754);p=a(24066);r=a(36129);q=a(31276);u=a(21941);t=a(22365);v=a(59416);b=a(11479);w=a(13044);y=a(20318);x=a(2248);z=a(84408);q.za.get(b.Zh).register(r.V.QIa,function(A){var B,D,C,E,G,F,I,P,M,L;B=q.za.get(u.$La).xFb();D=q.za.get(h.Iea).VQ;C=q.za.get(g.uLa).ep;E=q.za.get(x.ih);G=q.za.get(z.Zq);F={yaa:(0,q.sV)("ASE"),hyb:(0,q.sV)("JS-ASE",void 0,"Platform"),Zi:q.sV,storage:v.storage,YOb:t.QFa,getTime:p.fo,M5:function(Q){return E.decode(Q).buffer;},Dna:function(Q){return G.encode(Q);},yH:{},ep:C,pj:k.pj,VQ:D,MediaSource:l.xLa,SourceBuffer:d.aga,TM:function(){return [f.config.p4,f.config.s4,f.config.r4];},Nt:function(Q){w.Dm.forEach(function(J){J.Ofb(Q);});}};D=new Promise(function(Q){v.storage.load("nh",function(J){F.yH.nh=J.pa?J.data:void 0;Q();});});C=new Promise(function(Q){v.storage.load("lh",function(J){F.yH.lh=J.pa?J.data:void 0;Q();});});I=new Promise(function(Q){v.storage.load("gh",function(J){F.yH.gh=J.pa?J.data:void 0;Q();});});P=new Promise(function(Q){v.storage.load("sth",function(J){F.yH.sth=J.pa?J.data:void 0;Q();});});M=new Promise(function(Q){v.storage.load("vb",function(J){F.yH.vb=J.pa?J.data:void 0;Q();});});L=new Promise(function(Q){v.storage.load("ab",function(J){F.yH.ab=J.pa?J.data:void 0;Q();});});Promise.all([D,C,L,M,P,I]).then(function(){return c.__awaiter(this,void 0,void 0,function J(){var H,K;return La(J,function(O){if(1 == O.Bw)return (H=a(92623)(F),y.Fp.zj=a(21457),y.Fp.zj.declare(m.Dj),y.Fp.zj.set(a(87141)(f.config),!0,(0,q.sV)("ASE")),Pa(O,m.UM(H),2));K=O.K_;K.open(y.Fp.zj,B);K.V6b({audio:f.config.p4,video:f.config.s4,text:f.config.r4},{v:f.config.JH,ta:void 0});y.Fp.Yh=K;A(n.ig);O.Bw=0;});});}).catch(function(Q){F.yaa.error("Exception loading location history from local storage",Q);});});},39480:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.aOa=void 0;c=a(33096);m=a(29204);g=a(24066);k=a(8825);d=a(22365);f=a(32219);n=a(32687);h=a(85001);b.aOa=function(l){var t,v,w,y,x,z;function p(){return l.state.value === h.Xb.LOADING || l.state.value === h.Xb.oe && l.Ab.value === h.kb.If;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,f.Mf)(u));}function u(){var A,B,D,C,E,G,F,I;A=(0,g.fo)();B=t.value;D=B?B.progress:0;C=l.state.value == h.Xb.LOADING || p() && A - v > m.config.cAb;if(C && l.state.value == h.Xb.oe){if(l.Xd.value === h.uf.NPa)(E=D,G=!0);else {F=A;w=w || A;y=y || w + m.config.WXb + 1;(0,n.Tb)(F) && (F=(0,d.Vs)(F,y),E=(0,d.Mn)(1E3 * (0,k.Kx)((A - w) / (F - w),0,.99)) / 1E3);}if(E < D)if(D - E < m.config.R2b / 100)(E=D,x=void 0);else if(x){if(A - x > m.config.Q2b){I=!0;x=void 0;}else E=D;}else (x=A,E=D);}else x=y=w=void 0;A=C?{En:G,progress:E,S2b:I}:null;(!A || !t || !B || (0,n.Tb)(A.progress) && !(0,n.Tb)(B.progress) || (0,n.Tb)(A.progress) && (0,n.Tb)(B.progress) && .01 < (0,d.M1)(A.progress - B.progress) || A.En !== B.En) && t.set(A);}t=l.Gla;v=0;l.state.addListener(function(){q();u();},c.mga);l.Ab.addListener(function(A){if(A.oldValue !== h.kb.If || A.newValue !== h.kb.If)v=(0,g.fo)();q();});l.Xd.addListener(function(){q();});l.pr.addListener(function(){q();});l.rm.addListener(function(){q();});z || (z=setInterval(u,100));};},13044:function(r,b,a){var m,g;function c(k,d){var f;f=b.Dm[0];f == d && (f=b.Dm[1]);f?f.close(function(){c(k,d);}):k && k(m.ig);}Object.defineProperty(b,"__esModule",{value:!0});b.$Na=b.YNa=b.Nga=b.Oga=b.MA=b.Pga=b.ZNa=b.Sga=b.Rga=b.Dm=b.bOa=b.Qga=void 0;m=a(33096);g=a(45146);b.Qga=c;b.bOa=function(k,d){switch(k){case b.ZNa:b.Rga.push(d);return;case b.Pga:b.Sga.push(d);return;}(0,g.oa)(!1);};b.Dm=[];b.Rga=[];b.Sga=[];b.ZNa=1;b.Pga=3;b.MA={index:0,j$a:void 0,vpa:void 0};b.Oga="network";b.Nga="media";b.YNa="timedtext";b.$Na="playback";},30689:function(r,b,a){var c,m,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);m=a(33096);r=a(36129);g=a(31276);b=a(11479);k=a(66476);g.za.get(b.Zh).register(r.V.XIa,function(f){var n,h,l;if(c.config.ss){n=(0,g.Zi)("PlayerPredictionModel");h=g.za.get(k.NE);l=a(99886);n.log=n.trace.bind(n);d=new l({},n,{MY:function(){},K4b:function(){}},h,{jI:function(){}});qb._cad_global.playerPredictionModel=d;n.info("ppm v2 initialized");}f(m.ig);});},22365:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jta=b.localStorage=b.nSb=b.indexedDB=b.RLa=b.Rp=b.IA=b.HA=b.URL=b.T1=b.Dpb=b.bLa=b.aLa=b.M1=b.N1=b.Fx=b.Vs=b.Mn=b.tpb=b.iK=b.NQa=b.QFa=b.Rpb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.jy=b.Cpb=b.Qg=b.ov=b.SLa=b.pv=b.S1=b.BE=void 0;r=qb;b.He=r.navigator;b.BE=null === b.He || void 0 === b.He?void 0:b.He.userAgent;b.S1=r.location;b.pv=r.screen;b.SLa=r.devicePixelRatio;b.ov=r.performance;b.Qg=r.document;b.Cpb=b.Qg.documentElement;b.jy=Array.prototype;b.sort=b.jy.sort;b.map=b.jy.map;b.slice=b.jy.slice;b.every=b.jy.every;b.reduce=b.jy.reduce;b.filter=b.jy.filter;b.forEach=b.jy.forEach;b.pop=b.jy.pop;b.Rpb=Object.create;b.QFa=Date.now;b.NQa=String.fromCharCode;b.iK=Math.floor;b.tpb=Math.ceil;b.Mn=Math.round;b.Vs=Math.max;b.Fx=Math.min;b.N1=Math.random;b.M1=Math.abs;b.aLa=Math.pow;b.bLa=Math.sqrt;b.Dpb=r.escape;b.T1=r.unescape;b.URL=r.URL || r.webkitURL;b.HA=r.MediaSource || r.WebKitMediaSource;b.IA=r.webkitCrypto || r.msCrypto || r.crypto;b.Rp=b.IA && (b.IA.webkitSubtle || b.IA.subtle);b.RLa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.nSb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Jta=a || "noex";}},59416:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(29204);m=a(33096);g=a(50350);r=a(36129);k=a(75876);d=a(19630);f=a(31276);a=a(11479);b.storage=b.storage || void 0;f.za.get(a.Zh).register(r.V.YIa,function(n){var h;switch(c.config.s9b){case "idb":h=k.Lgb;break;case "none":h=g.Ngb;break;case "ls":h=d.Mgb;}h(function(l){l.pa?(b.storage=l.storage,n(m.ig)):n(l);});});},75876:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Lgb=void 0;c=a(31276);m=a(17892);g=a(74870);k=a(6675);b.Lgb=function(d){c.za.get(m.rx).create().then(function(f){d({pa:!0,storage:new k.Ffa(f,c.za.get(g.Fh))});}).catch(function(f){d(f);});};},19630:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Mgb=void 0;c=a(6675);m=a(31276);g=a(56278);k=a(74870);b.Mgb=function(d){d({pa:!0,storage:new c.Ffa(m.za.get(g.jKa),m.za.get(k.Fh))});};},50350:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ngb=void 0;c=a(33096);m=a(31276);g=a(36129);a(3887);b.Ngb=function(k){var d;(0,m.Zi)("Storage");d={};k({pa:!0,storage:{load:function(f,n){var h;if(d.hasOwnProperty(f)){h=d[f];!1;n({pa:!0,data:h,sca:f});}else (!1,n({wa:g.R.Px}));},save:function(f,n,h,l){h && d.hasOwnProperty(f)?l({pa:!1}):(d[f]=n,!1,l && l({pa:!0,sca:f}));},remove:function(f,n){delete d[f];!1;n && n(c.ig);}}});};},50040:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.bJ=void 0;c=a(33096);m=a(29204);g=a(37509);k=a(24066);d=a(36129);f=a(45146);n=a(31276);h=a(3887);l=a(22365);p=a(59416);q=a(32687);r=a(11479);n.za.get(r.Zh).register(d.V.ZIa,function(u){var w,y,x;function t(){var z;t=c.Ix;z=setInterval(v,m.config.UVb);g.te.addListener(g.cl,function(A){A && A.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):((0,h.bg)(y,function(B,D){localStorage.removeItem(D.cs);}),clearInterval(z));},c.nK);}function v(){var z;z=(0,k.xma)();(0,h.bg)(y,function(A,B){!1;A=localStorage.getItem(B.cs);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.cs,JSON.stringify(A));});}(0,f.oa)(p.storage);w=(0,n.Zi)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.bJ={Cp:function(z,A,B){var C,E,G,F,I,P,M,L,Q,J;function D(H){localStorage.setItem(G,JSON.stringify(H));H={cs:G};y[G]=H;w.trace("Lock acquired",{Name:H.cs});t();A({pa:!0,F9:H});}C=this;B=void 0 === B?!1:B;if(localStorage){E=(0,k.xma)();G="lock-" + z;F={updated:E,sessionId:x,count:1};try{if((G in localStorage)){I=localStorage.getItem(G);P=0;M=JSON.parse(I);(0,q.BC)(M.updated) && (P=M.updated);L=(0,l.M1)(E - P) * c.Qq;Q=x === M.sessionId;if(L < m.config.v8a){if(Q)(M.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:x,count:M.count}),M.updated=E,D(M));else if(B){J=m.config.v8a - L + c.Qq;w.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:M.count,Epoch:E,LockEpoch:P,waitTimeoutMs:J});qb.setTimeout(function(){return C.Cp(z,A,!1);},J);}else A({pa:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:E,LockEpoch:P}),D(F));}else D(F);}catch(H){w.error("Error acquiring Lock",{errorSubCode:d.R.Bm,errorDetails:(0,h.Nf)(H)});A({pa:!0});}}else (l.Jta?w.error("Local storage access exception",{errorSubCode:d.R.Krb,errorDetails:(0,h.Nf)(l.Jta)}):w.error("No localstorage",{errorSubCode:d.R.Lrb}),A({pa:!0}));},release:function(z,A){var B,D;(0,f.oa)(y[z.cs] == z);if(localStorage){try{B=localStorage.getItem(z.cs);D=JSON.parse(B);D && 1 < D.count?(--D.count,localStorage.setItem(z.cs,JSON.stringify(D)),w.trace("Lock count decremented",{Name:z.cs,count:D.count})):(localStorage.removeItem(z.cs),delete y[z.cs],w.trace("Lock released",{Name:z.cs}));}catch(C){w.error("Unable to release Lock",{Name:z.cs},C);}A && A(c.ig);}}};m.config.v6?b.bJ.Cp("session",function(z){b.bJ.gfb=z;u(c.ig);}):u(c.ig);});},991:function(r,b,a){var k,d,f,n;function c(h,l,p,q){var u,t,v;(0,k.oa)((0,n.ku)(h) && !(0,n.isArray)(h));q=q || "";u="";t=h.hasOwnProperty(f.I_) && h[f.I_];t && (0,d.bg)(t,function(w,y){u && (u+=" ");u+=w + '="' + g(y) + '"';});p=(l?l + ":":"") + p;t=q + "<" + p + (u?" " + u:"");v=h.hasOwnProperty(f.px) && h[f.px].trim && "" !== h[f.px].trim() && h[f.px];if(v)return t + ">" + g(v) + "</" + p + ">";h=m(h,l,q + "  ");return t + (h?">\n" + h + "\n" + q + "</" + p + ">":"/>");}function m(h,l,p){var q;(0,k.oa)((0,n.ku)(h) && !(0,n.isArray)(h));p=p || "";q="";(0,d.bg)(h,function(u,t){var y;if("$" != u[0])for(var v=(0,d.ww)(t),w=0;w < v.length;w++)if((t=v[w],q && (q+="\n"),(0,n.ku)(t)))q+=c(t,l,u,p);else {y=(l?l + ":":"") + u;q+=p + "<" + y + ">" + g(t) + "</" + y + ">";}});return q;}function g(h){if((0,n.zg)(h))return (0,d.Tra)(h);if((0,n.Tb)(h))return ((0,k.yU)(h,"Convert non-integer numbers to string for xml serialization."),"" + h);if(null === h || void 0 === h)return "";(0,k.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.iac=b.tUb=b.sUb=void 0;k=a(45146);d=a(3887);f=a(62604);n=a(32687);b.sUb=c;b.tUb=m;b.iac=g;},62604:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.tWb=b.dbb=b.m0b=b.S2a=b.x0b=b.vkb=b.ukb=b.px=b.vCa=b.tkb=b.I_=void 0;c=a(3887);m=a(45146);b.I_="$attributes";b.tkb="$children";b.vCa="$name";b.px="$text";b.ukb="$parent";b.vkb="$sibling";b.x0b=/^\s*<\?xml.*\?>/i;b.S2a=function(g,k,d){for(var f=2;f < arguments.length;++f);for(f=1;(k=arguments[f++]) && (g=g[k]););return g;};b.m0b=function(g,k){var d;g?d=(0,c.fj)(g[b.px]):void 0 !== k && (d=k);(0,m.yU)(d);return d;};b.dbb=function(g,k){var d;g?d=g[b.px]:void 0 !== k && (d=k);(0,m.$Za)(d);return d;};b.tWb=function(g,k){var d;d={};d[b.I_]=g;d[b.px]=k;return d;};},84281:function(r,b,a){var c,m,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.wkb=void 0;c=a(31276);m=a(36129);g=a(78857);k=a(74413);d=a(32219);b.wkb=function(f,n){var h,l;try{l=(0,g.xkb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Mf)(function(){if(l && l.documentElement)try{h=(0,k.ykb)(l);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Mf)(function(){h?n({pa:!0,object:h}):n({pa:!1,wa:m.R.Nnb});});});};},78857:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.xkb=void 0;c=a(31276);m=a(32687);b.xkb=function(g){var k,d;if((0,m.xN)(g)){k=new DOMParser().parseFromString(g,"text/xml");d=k.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:g.slice(0,300),fileSize:g.length});}catch(f){}throw Error("xml parser error");}return k;}throw Error("bad xml text");};},74413:function(r,b,a){var m;function c(g){var k,d,f,n,h,l,p;d={};d[m.vCa]=g.localName;f={};d[m.I_]=f;n=[];d[m.tkb]=n;h=g.attributes;l=h.length;for(k=0;k < l;k++){p=h[k];f[p.localName]=p.value;}g=g.childNodes;l=g.length;f={};for(k=0;k < l;k++)switch((h=g[k],h.nodeType)){case b.Bkb:h=c(h);p=h[m.vCa];h[m.ukb]=d;n.push(h);d[p]?f[p][m.vkb]=h:d[p]=h;f[p]=h;break;case b.Ckb:case b.zkb:(h=h.text || h.nodeValue,n.push(h),d[m.px] || (d[m.px]=h));}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Akb=b.zkb=b.Ckb=b.wdc=b.Bkb=b.xdc=b.ykb=void 0;m=a(62604);b.ykb=function(g){return c(g.nodeType == b.Akb?g.documentElement:g);};b.xdc=c;b.Bkb=1;b.wdc=2;b.Ckb=3;b.zkb=4;b.Akb=9;},87886:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w;Object.defineProperty(b,"__esModule",{value:!0});b.Mg=void 0;r=a(22674);c=a(58252);m=a(60443);g=a(32050);k=a(62468);d=a(75864);f=a(45716);n=a(99282);h=a(52531);l=a(88063);p=a(79054);q=a(56190);u=a(69751);t=a(62665);v=a(7342);w=a(82585);b.Mg=new r.md(function(y){y(c.bha).to(m.EOa).ia();y(g.eha).to(k.POa).ia();y(d.tK).to(f.COa).ia();y(h.EE).to(n.AOa).ia();y(l.JOa).to(p.IOa).ia();y(q.MOa).je(function(x){var z;z=x.nb;return function(A){return new u.NOa(A,z.get(t.Cx),z.get(h.EE));};});y(v.PJa).je(function(x){var z;z=x.nb;return function(A,B,D){return new w.QJa(A,B,D,z.get(h.EE),z.get(d.tK));};});});},7342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PJa="LegacyPostPlayShimFactorySymbol";},52531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EE="PlaygraphConfigSymbol";},75864:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tK=b.GE=void 0;r=b.GE || (b.GE={});r.bgc="ident";r.Pfa="main";r.VEa="credits";b.tK="PlaygraphHelperSymbol";},58252:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bha="PlaygraphManagerFactorySymbol";},88063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JOa="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MOa="PlaygraphStateFactorySymbol";},32050:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eha="PlaygraphVideoPlayerFactorySymbol";},56819:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rx=void 0;r=b.Rx || (b.Rx={});r[r.gMa=0]="None";r[r.tHa=1]="Fetching";r[r.nnb=2]="Done";r[r.Error=3]="Error";},82585:function(r,b,a){var m,g;function c(k,d,f,n,h){this.Wh=k;this.Mg=d;this.log=f;this.Di=n;this.jm=h;this.zaa=new m.Wga();}Object.defineProperty(b,"__esModule",{value:!0});b.QJa=void 0;m=a(81889);g=a(75864);c.prototype.Kwb=function(k){var d,f,n,h,l,p,q;this.log.info("Next episode added",k);p=this.zaa.mua(k.playbackParams);q=Math.max(0,null !== (n=null !== (f=null !== (d=k.startPts) && void 0 !== d?d:k.nextStartPts) && void 0 !== f?f:p.jb) && void 0 !== n?n:0);d=null !== (l=null !== (h=k.endPts) && void 0 !== h?h:k.currentEndPts) && void 0 !== l?l:p.dj;return this.Mg.kxb({O:k.movieId,jb:q,dj:d,sb:p,W:k.manifest,Wh:this.Wh});};c.prototype.Z0b=function(k){var d,f,n,h,l,p;k=this.zaa.mua(k);this.log.info("Playing the next episode",k);n=this.Mg.O2a();h=this.Mg.UG();l=h.aa[n];p=Object.keys(null !== (d=l.next) && void 0 !== d?d:{}).find(function(q){return l.J !== h.aa[q].J;});d=!this.Di.Iaa || !(null === (f=k.mm) || void 0 === f?0:f.isUIAutoPlay);return p?this.Mg.wra(n,p,k,d):Promise.reject(Error("Next episode not found"));};c.prototype.cdc=function(k){var d,f;d=this.jm.Mr(k,g.GE.Pfa);k=this.jm.Mr(k,g.GE.VEa);f=this.Mg.tb;this.Di.Iaa && f.ph !== k && f.wD(k) && f.JV(d) !== k && this.Mg.Sj({H:d,aO:k});};b.QJa=c;},65473:function(r,b,a){var m;function c(g,k,d,f,n){var h;h=this;this.tb=g;this.Wj=k;this.Gu=d;this.Kb=f;this.jm=n;this.Kaa=new Map();this.S7b();this.Kb.addListener(m.Ka.loaded,function(){return h.ccb();});}Object.defineProperty(b,"__esModule",{value:!0});b.AE=void 0;m=a(85001);c.prototype.yVa=function(g){var k,d;k=this;d=Object.keys(this.tb.uk.aa).find(function(f){return k.tb.uk.aa[f].J === g.O;});g.id || (g.id=null !== d && void 0 !== d?d:this.jm.Mr(g.O));d || (this.tb.uk=this.jm.Xxb(this.tb.uk,g));d=this.kI(g.id);g.dj && this.tb.Gbc(g.id,g.dj);return d;};c.prototype.Aib=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.xra=function(g,k){var d;d=this;k=void 0 === k?{}:k;return this.Gu.transition(g,k).then(function(){d.tb.ph=g;});};c.prototype.close=function(g){return this.Gu.close(g);};c.prototype.pw=function(){return this.Gu.yPb();};c.prototype.gn=function(){return this.Gu.gn();};c.prototype.SG=function(){return this.Gu.SG();};c.prototype.kI=function(g){this.Kaa.has(g) || this.Kaa.set(g,this.Gu.Je(this.bAb(g)));return this.Kaa.get(g);};c.prototype.S7b=function(){var g;g=this;this.Gu.addListener(m.FE.hZ,function(){return g.Kb.Fc(m.FE.hZ);});Object.values(m.Ka).forEach(function(k){g.Gu.addListener(k,function(d){return g.Kb.Fc(k,d);});});};c.prototype.Gw=function(){this.ccb();};c.prototype.Uva=function(g){this.Gu.Fbc({id:g,O:this.tb.Pr(g).J,dj:this.tb.PPb(g)});};c.prototype.UH=function(){};c.prototype.ccb=function(){var g,k;if(this.pw()){g=this.tb.ph;k=this.tb.JV(g);k && !this.Kaa.has(k) && (this.Uva(g),this.kI(k));}};c.prototype.bAb=function(g){var k,d,f,n;d=this.tb.Pr(g);f=this.Wj.bN(d.J);n=null === f || void 0 === f?void 0:f.sb;f=null === f || void 0 === f?void 0:f.W;return {id:g,O:d.J,jb:d.hb,dj:null !== (k=null === n || void 0 === n?void 0:n.dj) && void 0 !== k?k:d.wb,sb:n,W:f};};b.AE=c;},99282:function(r,b,a){var m,g,k,d,f;function c(n){return g.Ve.call(this,n,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AOa=void 0;r=a(5163);m=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(5021);ea(c,g.Ve);Ya.Object.defineProperties(c.prototype,{$1b:{configurable:!0,enumerable:!0,get:function(){return 2;}},Z1b:{configurable:!0,enumerable:!0,get:function(){return (0,f.n$)(3);}},$Ba:{configurable:!0,enumerable:!0,get:function(){return !1;}},bda:{configurable:!0,enumerable:!0,get:function(){return !1;}},Cjb:{configurable:!0,enumerable:!0,get:function(){return !1;}},W1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Iaa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.hA,"prepareSegmentsUpfront")],a.prototype,"$1b",null);r.__decorate([d.config(d.sk,"prepareSegmentsDuration")],a.prototype,"Z1b",null);r.__decorate([d.config(d.od,"usePlaygraphForPostPlay")],a.prototype,"$Ba",null);r.__decorate([d.config(d.od,"usePlaygraphForSkipSegment")],a.prototype,"bda",null);r.__decorate([d.config(d.od,"useSinglePlayerPlayback")],a.prototype,"Cjb",null);r.__decorate([d.config(d.od,"forcePlaygraphTrace")],a.prototype,"W1a",null);r.__decorate([d.config(d.od,"postPlayDefaultNextEpisode")],a.prototype,"Iaa",null);a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Hl))],a);b.AOa=a;},45716:function(r,b,a){var m,g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.COa=void 0;r=a(5163);m=a(75864);g=a(22674);k=a(79048);c.prototype.AFb=function(d){var h,l,p;for(var f=[],n=0;n < arguments.length;++n)f[n - 0]=arguments[n];h=this;if(0 === f.length)throw Error("Empty playgraph");l=new k.Vq().Yz(this.Mr(f[0]));f.reverse().forEach(function(q){var u;u=h.Mr(q);l.Je(u,Object.assign({J:q,hb:0,wb:Infinity},p?{wc:p}:{}));p=u;});return l.Wg();};c.prototype.Mr=function(d,f){f=void 0 === f?m.GE.Pfa:f;return d + ":" + f;};c.prototype.Xxb=function(d,f){var n,h,l,p;if(void 0 === l)l=null !== (n=f.id) && void 0 !== n?n:this.Mr(f.O);n=this.v3a(d);p=new k.Vq(d);p.Je(l,{J:f.O,hb:null !== (h=f.jb) && void 0 !== h?h:0,wb:Infinity});d=d.aa[n];f={};p.Je(n,Object.assign({},d,{wc:l,next:Object.assign({},d.next || ({}),(f[l]={},f))}));return p.Wg();};c.prototype.v3a=function(d){for(var f=d.Oe,n=f;n=d.aa[n].wc;)f=n;return f;};a=c;a=r.__decorate([(0,g.U)()],a);b.COa=a;},60443:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u,t,v,w,y,x){this.Ff=q;this.Noa=u;this.Di=t;this.rBa=v;this.r1b=w;this.t1b=y;this.s1b=x;}Object.defineProperty(b,"__esModule",{value:!0});b.EOa=void 0;r=a(5163);m=a(22674);g=a(9862);k=a(87386);d=a(52531);f=a(44720);n=a(88063);h=a(25830);l=a(56190);a=a(32050);c.prototype.create=function(q){return new g.FOa(q,this.Ff,this.Noa,this.Di,this.rBa,this.r1b,this.t1b,this.s1b);};p=c;p=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(f.XQ)),r.__param(2,(0,m.l)(d.EE)),r.__param(3,(0,m.l)(h.rRa)),r.__param(4,(0,m.l)(n.JOa)),r.__param(5,(0,m.l)(l.MOa)),r.__param(6,(0,m.l)(a.eha))],p);b.EOa=p;},9862:function(r,b,a){var m,g,k;function c(d,f,n,h,l,p,q,u){this.rBa=l;this.hCa=u;this.iV=!1;h.bda && (d=new k.GOa().rac(d));this.tb=q(d);this.Wj=new g.QOa(this.tb);this.Wj.ofb(this.tb.da.J);this.log=f.Za("PlaygraphManager");this.Kb=n.create();this.xu=p.create(this.tb,this.Wj,this.log,this.Kb);this.T7b();}Object.defineProperty(b,"__esModule",{value:!0});b.FOa=void 0;m=a(85001);g=a(98899);k=a(15645);c.prototype.nPb=function(){return this.tb.Eaa;};c.prototype.q7=function(){return this.tb.da;};c.prototype.O2a=function(){return this.tb.ph;};c.prototype.UG=function(){return this.tb.uk;};c.prototype.Sj=function(d){for(var f=[],n=0;n < arguments.length;++n)f[n - 0]=arguments[n];this.tb.Sj.apply(this.tb,aa(f));};c.prototype.UBb=function(d){for(var f=[],n=0;n < arguments.length;++n)f[n - 0]=arguments[n];this.tb.nWa(f);};c.prototype.QD=function(d){this.tb.uk=d;};c.prototype.Ji=function(d,f){this.tb.Ji(d,f);};c.prototype.wra=function(d,f,n,h){var l,p;n=void 0 === n?{}:n;h=void 0 === h?!0:h;if(d !== this.tb.ph)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (l=this.UG().aa[d].next) && void 0 !== l?l:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.Ufb();null === (p=n.mm) || void 0 === p?void 0:p.isUIAutoPlay;return this.xu.xra(f,n,h);};c.prototype.pw=function(){return this.xu.pw();};c.prototype.addListener=function(d,f,n){this.Kb.addListener(d,f,n);};c.prototype.removeListener=function(d,f){this.Kb.removeListener(d,f);};c.prototype.gn=function(){return this.xu.gn();};c.prototype.zb=function(){return this.xu.SG();};c.prototype.DFb=function(d,f,n){var h;d=void 0 === d?this.UG().Oe:d;f=void 0 === f?{}:f;h=this.hCa.BZa(this);this.U1b(null !== d && void 0 !== d?d:this.UG().Oe,f,n);return h;};c.prototype.kxb=function(d){var f;this.log.info("Adding segment - movieId: " + d.O + ", startPts: " + d.jb + ", logicalEnd: " + d.dj);f=Object.assign({},d.sb,d.jb?{jb:d.jb}:{},d.dj?{dj:d.dj}:{});this.Qgb(d.O,f,d.W);d=this.xu.yVa(d);this.Ufb();return d;};c.prototype.transition=function(d){var f;f=this.tb.JV(this.tb.ph);return f?this.wra(this.tb.ph,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.xu.close(d);};c.prototype.U1b=function(d,f,n){var h;void 0 === d && (d=null === (h=this.UG()) || void 0 === h?void 0:h.Oe);(f || n) && this.Qgb(this.UG().aa[d].J,null !== f && void 0 !== f?f:{},n);this.xu.kI(d);};c.prototype.Qgb=function(d,f,n){n && this.Wj.kL(d,n);this.Wj.Ywb(d,f);};c.prototype.T7b=function(){var d;d=this;this.tb.R9b(function(){d.Wj.Gw();d.xu.Gw();});this.tb.S9b(function(f){d.xu.Uva(f);});this.tb.Q9b(function(f){d.xu.UH(f);});this.addListener(m.FE.hZ,function(){return d.v_b();});this.addListener(m.Ka.x6a,function(f){return d.l_b(f);});};c.prototype.Ufb=function(){var d;d=this;this.iV || (this.zb().ska(m.ha.HI,function(f){return d.Iw(f);}),this.iV=!0);};c.prototype.l_b=function(d){var f;f=this;this.xu.Aib(d).catch(function(){return f.Kb.Fc(m.Ka.error,d.b_());});};c.prototype.v_b=function(){var d;d=this.zb().getError();d?this.Kb.Fc(m.Ka.vL,d):(this.Kb.Fc(m.Ka.D4),this.Kb.Fc(m.Ka.Ol),this.Kb.Fc(m.Ka.Qu),this.Kb.Fc(m.Ka.wl),this.Kb.Fc(m.Ka.f_),this.Kb.Fc(m.Ka.vL));};c.prototype.Iw=function(d){var f,n,h;!1;f=d.metrics;if(f){n=this.zb();h=n.$i(d.position.segmentId);f=n.$i(f.srcsegment);this.rBa.M2b(d,h,f,!!n.$3a().yg);}};b.FOa=c;},15645:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.GOa=void 0;m=a(79048);c.prototype.rac=function(g){var k;if(!this.UTb(g.aa))return g;k=new m.Vq().Yz(g.Oe);Object.entries(g.aa).forEach(function(d){var f;f=ja(d);d=f.next().value;f=f.next().value;d === g.Oe?k.Je(d,Object.assign(Object.assign({},f),{next:void 0,wb:void 0,wc:void 0})):k.Je(d,f);});return k.Wg();};c.prototype.UTb=function(g){g=Object.values(g).map(function(k){return k.J;});return 1 === new Set(g).size;};b.GOa=c;},79054:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u,t,v,w,y,x,z){this.Ea=u;this.r6b=v;this.Di=y;this.jm=z;this.n6b=t.LG(!1,"6.0044.603.911",u.id,x,w);}Object.defineProperty(b,"__esModule",{value:!0});b.IOa=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(52531);d=a(88574);f=a(93488);n=a(2911);h=a(4203);l=a(65473);p=a(63368);a=a(75864);c.prototype.create=function(u,t,v,w){var y,x;y=this.r6b.qFb(u,this.n6b,t);x=u.aCa;v.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.qQa(this.Di,u,t,v,y,w,this.jm):new l.AE(u,t,y,w,this.jm);};q=c;q=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Kc)),r.__param(1,(0,m.l)(f.aQa)),r.__param(2,(0,m.l)(n.yha)),r.__param(3,(0,m.l)(h.Zb)),r.__param(4,(0,m.l)(k.EE)),r.__param(5,(0,m.l)(p.d2)),r.__param(6,(0,m.l)(a.tK))],q);b.IOa=q;},69751:function(r,b,a){var m,g;function c(k,d,f){this.Yy=d;this.Di=f;this.w3={};this.Xib=[];this.mgb=[];this.B$a=[];this.Uka=new WeakMap();this.reset(k);}Object.defineProperty(b,"__esModule",{value:!0});b.NOa=void 0;m=a(79048);g=a(79048);c.prototype.reset=function(k){var d;d=1 < Object.keys(k.aa).length && 1 === new Set(Object.values(k.aa).map(function(f){return f.J;})).size;this.Wvb=this.Di.Cjb || d;this.Cfb(k);this.ph=k.Oe;this.$ub=this.Yy.LB();this.kAa=new Map();};c.prototype.I7=function(k){if(this.aCa)return this.uk;this.Uka.has(k) || this.Uka.set(k,(0,m.hca)(k.O,k.H));return this.Uka.get(k);};c.prototype.Cfb=function(k){this.avb=k;this.w3={};k=Object.keys(k.aa);this.nWa(k);this.lZb();};c.prototype.Sj=function(k){var n;for(var d=[],f=0;f < arguments.length;++f)d[f - 0]=arguments[f];n=this;d.filter(function(h){return n.wD(h.H);}).filter(function(h){h=h.aO;return !h || n.wD(h);}).forEach(function(h){var l;l=h.H;n.w3[l]=n.W$a(h.aO);n.fZb(l);});};c.prototype.nWa=function(k){var d;d=this;k.filter(function(f){return d.wD(f);}).forEach(function(f){d.w3[f]=d.W$a(d.Pr(f).wc);});};c.prototype.Ji=function(k,d){var f,n,h;f=this.Pr(k);if(f && f.next){n=new g.Vq(this.uk);h=Object.keys(f.next).reduce(function(l,p){l[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return l;},{});h=Object.assign({},f,{next:h});n.Je(k,h);this.uk=n.Wg();}};c.prototype.wD=function(k,d){d=void 0 === d?this.uk.aa:d;return (k in d);};c.prototype.JV=function(k){return this.w3[k];};c.prototype.Pr=function(k){return this.uk.aa[k];};c.prototype.PPb=function(k){if(this.kAa.has(k))return this.kAa.get(k);k=this.Pr(k);return isFinite(k.wb)?k.wb:void 0;};c.prototype.Gbc=function(k,d){this.kAa.set(k,d);this.iZb(k);};c.prototype.R9b=function(k){this.Xib.push(k);};c.prototype.S9b=function(k){this.mgb.push(k);};c.prototype.Q9b=function(k){this.B$a.push(k);};c.prototype.lZb=function(){var k;k=this;this.Xib.forEach(function(d){return d(k.uk);});};c.prototype.fZb=function(k){this.B$a.forEach(function(d){return d(k);});};c.prototype.iZb=function(k){this.mgb.forEach(function(d){return d(k);});};c.prototype.W$a=function(k){return null === k?void 0:k;};Ya.Object.defineProperties(c.prototype,{Eaa:{configurable:!0,enumerable:!0,get:function(){return this.$ub;}},aCa:{configurable:!0,enumerable:!0,get:function(){return this.Wvb;}},uk:{configurable:!0,enumerable:!0,get:function(){return this.avb;},set:function(k){if(this.ph && !this.wD(this.ph,k.aa))throw Error("Provided playgraphMap does not contain the current segmentId " + this.ph);this.Cfb(k);}},ph:{configurable:!0,enumerable:!0,get:function(){return this.Ysb;},set:function(k){if(!this.wD(k))throw Error("Provided currentSegmentId " + k + " does not exist in the current playgraph");this.Ysb=k;}},da:{configurable:!0,enumerable:!0,get:function(){return this.Pr(this.ph);}}});b.NOa=c;},62468:function(r,b,a){var m,g,k,d;function c(f,n){this.Ea=f;this.SUb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.POa=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(7342);c.prototype.create=function(f){return new (a(58343).O2)(this.Ea.Lb(),f);};c.prototype.BZa=function(f){return new (a(64059).W_)(this.Ea.Lb(),f,this.SUb);};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Kc)),r.__param(1,(0,m.l)(k.PJa))],d);b.POa=d;},98899:function(r,b,a){var m;function c(g){this.$=g;this.iQ={};this.Gw();}Object.defineProperty(b,"__esModule",{value:!0});b.QOa=void 0;m=a(56819);c.prototype.Gw=function(){var g;g=this;Object.values(this.$.uk.aa).forEach(function(k){k=k.J;g.iQ[k] || g.m6a(k);});this.Xca();};c.prototype.bN=function(g){return this.iQ[g];};c.prototype.h7b=function(g){this.MV(g).state=m.Rx.tHa;this.Xca();};c.prototype.g7b=function(g,k){g=this.MV(g);g.state=m.Rx.Error;g.error=k;g.heb(!1);this.Xca();};c.prototype.ofb=function(g){g=this.MV(g);g.state=m.Rx.nnb;g.heb(!0);this.Xca();};c.prototype.Ywb=function(g,k){this.MV(g).sb=k;};c.prototype.kL=function(g,k){this.MV(g).W=k;};c.prototype.MV=function(g){var k;return null !== (k=this.bN(g)) && void 0 !== k?k:this.m6a(g);};c.prototype.m6a=function(g){var k,d;k=void 0;d=new Promise(function(f,n){k=function(h){(h?f:n)();};});return this.iQ[g]={state:m.Rx.gMa,t3b:d,heb:k};};c.prototype.Xca=function(){var k;for(var g=this.$.ph;g=this.$.JV(g);){k=this.al(g);if(this.iQ[k].state === m.Rx.Error)break;if(this.iQ[k].state === m.Rx.tHa)break;if(this.iQ[k].state === m.Rx.gMa)break;}};c.prototype.al=function(g){return this.$.uk.aa[g].J;};b.QOa=c;},88574:function(r,b,a){var m,g,k,d,f;function c(n,h,l,p,q,u,t){var v;v=d.AE.call(this,h,l,q,u,t) || this;v.Di=n;v.la=p;v.iV=!1;v.Foa=new Map();v.p_b=function(){v.SG().ska(g.ha.HI,function(w){v.Kb.Fc(g.FE.hZ);v.tb.ph=w.position.segmentId;});};v.qSb();u.addListener(g.Ka.loaded,v.p_b);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.qQa=void 0;m=a(79048);g=a(85001);k=a(36129);d=a(65473);f=a(75864);ea(c,d.AE);c.prototype.yVa=function(n){var h,l,p,q,u,t,v,w,y,x,z;h=this;p=this.tb.uk;q=this.jm.Mr(n.O,"ident");u=this.jm.Mr(n.O,"main");t=this.jm.Mr(n.O,"credits");v=isFinite(n.dj);w=isFinite(n.jb) && n.O !== p.aa[p.Oe].J;y={};x=new m.Vq(p).Je(u,Object.assign({J:n.O,hb:w && n.jb || 0,wb:null !== (l=n.dj) && void 0 !== l?l:Infinity},v?{next:(y[t]={},y),wc:t}:{}));w && (l={},x.Je(q,{J:n.O,hb:0,wb:n.jb,next:(l[u]={},l),wc:u}));v && x.Je(t,{J:n.O,hb:n.dj,wb:Infinity});if(!this.tb.wD(u)){n=p.aa[this.jm.v3a(p)].J;z=this.jm.Mr(n,f.GE.VEa);[this.jm.Mr(n,f.GE.Pfa),z].filter(function(A){return h.tb.wD(A);}).forEach(function(A){var B,D,C;B=h.tb.Pr(A);D=A === z || h.Di.Iaa;C={};x.Je(A,Object.assign({},B,{next:Object.assign({},B.next,(C[u]={},C))},D?{wc:u}:{}));});}this.tb.uk=x.Wg();return this.kI(u);};c.prototype.Gw=function(){this.pw() && this.SG().Gw();};c.prototype.Uva=function(){};c.prototype.UH=function(n){this.SG().UH(n);};c.prototype.xra=function(n,h,l){h=void 0 === h?{}:h;this.la.debug("goToSegment " + n);return this.SG().aW(n,h,l);};c.prototype.kI=function(n){if(n === this.m6b)return null;this.m6b=n;return this.iV?this.Wj.bN(this.tb.Pr(n).J).t3b:(this.iV=!0,d.AE.prototype.kI.call(this,n));};c.prototype.Aib=function(n){return n.errorCode && this.Foa.has(n.errorCode)?this.Foa.get(n.errorCode)(n):Promise.reject(Error("Error " + n.errorCode + " isn't recoverable"));};c.prototype.qSb=function(){var n;n=this;this.Foa.set(k.V.JMa,function(){var h,l;return null !== (l=null === (h=d.AE.prototype.kI.call(n,n.tb.ph)) || void 0 === h?void 0:h.then(function(){var p,q;d.AE.prototype.xra.call(n,n.tb.ph,null !== (q=null === (p=n.Wj.bN(n.tb.da.J)) || void 0 === p?void 0:p.sb) && void 0 !== q?q:{});})) && void 0 !== l?l:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.qQa=c;},32754:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ccb=void 0;r=a(22674);c=a(69493);m=a(28978);g=a(98166);k=a(660);b.Ccb=new r.md(function(d){d(c.uGa).to(m.tGa).ia();d(g.qR).to(k.VJa).ia();});},82100:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.Mma=b.Fsa=b.Mqa=b.C7=b.KIa=b.rrb=b.Ss=b.sIa=b.x2=b.w2=b.dSa=b.eSa=b.EMa=b.I0=b.TEMPORARY=b.cv=void 0;c=a(32687);m=a(22210);b.cv="cenc";b.TEMPORARY="temporary";b.I0="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.EMa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.eSa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.dSa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.w2="SW_SECURE_CRYPTO";b.x2="SW_SECURE_DECODE";b.sIa="HW_SECURE_DECODE";b.Ss="HW_SECURE_ALL";b.rrb={w2:"SW_SECURE_CRYPTO",x2:"SW_SECURE_DECODE",sIa:"HW_SECURE_DECODE",Ss:"HW_SECURE_ALL"};b.KIa=[b.Ss];b.C7=function(g){var k;k=g.getConfiguration();return [b.Ss,b.x2,b.w2].find(function(d){var f;return null === (f=k.videoCapabilities) || void 0 === f?void 0:f.some(function(n){return n.robustness === d;});});};b.Mqa=function(g){var k,n;try{for(var d=/\((\d[^)]+)\)/g,f;f=d.exec(g);){n=Number(f[1]);(0,c.Tb)(n) && (k=n);}}catch(h){}return k;};b.Fsa=function(g){return m.Dd.Ki.test(g);};b.Mma=function(g){return g.robustness?g.keySystem + "." + g.robustness:g.keySystem;};},56039:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.wqa=void 0;c=a(31276);b.wqa=function(m){var g;g={};try{m.forEach(function(k){var d,f;if(k.pG){for(var n=(0,c.ly),h=k.pG,l=0,p=new Uint8Array(16),q=0;q < h.length;q+=2)p[l++]=parseInt(h.slice(q,q + 2),16);n=n(p);k=null !== (d=k.height) && void 0 !== d?d:k.Gya;g[n]=Math.max(k,null !== (f=g[n]) && void 0 !== f?f:0);}});}catch(k){}return g;};},69493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uGa="DrmProviderSymbol";},98166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qR="LicenseProviderSymbol";},24735:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ata=b.Eh=void 0;(function(a){a[a.On=0]="STANDARD";a[a.Ln=1]="LIMITED";})(b.Eh || (b.Eh={}));b.Ata=function(a){return ["STANDARD","LIMITED"][a];};},28978:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p,q,u,t){this.Ch=p;this.Qv=q;this.jcc=u;this.DN=t;}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;r=a(5163);m=a(22674);g=a(74870);k=a(2248);d=a(84408);f=a(53921);n=a(24735);h=a(82100);a=a(98166);c.prototype.cj=function(p){var q;q=this;return this.Ch.IB(p.ek[0].data[0],[8,4])?Promise.resolve({Pe:[{id:"ddd",zH:"cert",VW:void 0}],tn:[{sessionId:"ddd",data:new Uint8Array(this.Qv.decode(h.dSa))}]}):this.Ch.IB(p.ek[0].data[0],this.jcc.decode("certificate"))?Promise.resolve({Pe:[{id:"ddd",zH:"cert",VW:void 0}],tn:[{sessionId:"ddd",data:new Uint8Array(this.Qv.decode(h.I0))}]}):this.DN.Cp(this.hMb(p)).then(function(u){return q.iMb(u);});};c.prototype.release=function(p){return this.DN.release(this.mMb(p)).then(function(){});};c.prototype.hMb=function(p){var q,u;q=this;u=p.ek.map(function(t){return t.data.map(function(v){return {sessionId:t.sessionId,dataBase64:q.Qv.encode(v)};});});return {na:p.na,Ad:p.Ad,k6:p.k6,Ef:(0,n.Ata)(p.Ef),Er:f.Ik[p.Er],ek:u.reduce(function(t,v){return t.concat(v);},[]),wi:p.wi,Vf:p.Vf};};c.prototype.mMb=function(p){return {na:p.na,Pe:p.Pe};};c.prototype.iMb=function(p){return {Pe:p.Pe,tn:p.tn};};l=c;l=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.Fh)),r.__param(1,(0,m.l)(k.ih)),r.__param(2,(0,m.l)(d.Zq)),r.__param(3,(0,m.l)(a.qR))],l);b.tGa=l;},660:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q,u){this.nwb=h;this.p4b=l;this.Wdb=q;this.u5b=u;this.la=p.Za("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.VJa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(81378);a(24674);d=a(75014);f=a(16257);a=a(829);c.prototype.Cp=function(h){var l,p;l=this;!1;p=this.Wdb.pac(h);return this.nwb.lo(this.la,h.wi,p).then(function(q){q.map(function(u){return u.VUb;});return l.u5b.mib(q);}).catch(function(q){l.la.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(h){var l;l=this;!1;h=this.Wdb.sac(h);return this.p4b.Cf(this.la,h).then(function(){return {pa:!0};}).catch(function(p){l.la.error("PBO release license failed",p);return Promise.reject(p);});};n=c;n=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.TMa)),r.__param(1,(0,m.l)(d.GNa)),r.__param(2,(0,m.l)(g.$a)),r.__param(3,(0,m.l)(f.iNa)),r.__param(4,(0,m.l)(a.Ega))],n);b.VJa=n;},45266:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.G_a=b.T4a=b.Kib=b.$C=b.e$=b.F9a=void 0;r=a(29664);c=a(31435);m=a(60024);g=a(56663);a=a(5154);b.F9a=r;b.e$=function(k,d){return (0,b.F9a)(function(f,n){return void 0 !== n?n:f;},k,d);};b.$C=c;b.Kib=m;b.T4a=g;b.G_a=a;},17892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Trb="StorageValidatorSymbol";b.rx="AppStorageFactorySymbol";},44272:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HQa="Storage";},62945:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(22674);c=a(91133);m=a(48159);g=a(56278);k=a(42304);d=a(42236);f=a(84970);n=a(57925);h=a(67894);l=a(17892);p=a(86607);q=a(26305);b.storage=new r.md(function(u){u(m.ULa).je(function(){return function(){return qb.localStorage;};});u(m.NIa).je(function(){return function(){return qb.indexedDB;};});u(p.DLa).to(q.CLa).ia();u(l.rx).to(h.pDa).ia();u(g.jKa).to(k.iKa).ia();u(c.H1).to(n.oJa).ia();u(d.qJa).to(f.pJa).ia();u(d.MIa).to(f.LIa).ia();u(d.sJa).to(f.rJa).ia();});},56278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jKa="LocalStorageSymbol";},86607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DLa="MemoryStorageSymbol";},48159:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hpb="NativeLocalStorageSymbol";b.ULa="NativeLocalStorageFactorySymbol";b.NIa="IDBFactorySymbol";},31679:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Amb="__default_rule_key__";},67894:function(r,b,a){var g,k,d,f,n,h,l;function c(p,q,u,t){this.la=p;this.config=q;this.SRb=u;this.Jua=t;this.aG={mem:{storage:this.Jua,key:"mem"}};this.CD=this.config.CD;}function m(p,q,u,t){this.Ff=p;this.ul=q;this.Jua=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Oda=b.pDa=void 0;r=a(5163);g=a(22674);k=a(36129);d=a(42236);f=a(87386);n=a(86607);h=a(31679);a=a(34231);m.prototype.create=function(){this.uU || (this.uU=this.ML());return this.uU;};m.prototype.ML=function(){this.Pxb=new c(this.Ff.Za("AppStorage"),this.config,this.ul,this.Jua);return this.Pxb.create();};l=m;l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.$a)),r.__param(1,(0,g.l)(d.sJa)),r.__param(2,(0,g.l)(n.DLa)),r.__param(3,(0,g.l)(a.Kn))],l);b.pDa=l;c.prototype.create=function(){var p;p=this;return this.fFb().then(function(q){if(!p.WAb(q,p.config.kW))throw p.UYb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.xV(p).storage.load(p).then(function(v){u(v);}).catch(function(v){t(v);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(v,w){t.xV(p).storage.save(p,q,u).then(function(y){v(y);}).catch(function(y){w(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.xV(p).storage.remove(p).then(function(){u();}).catch(function(v){t(v);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.tdb("mem").then(function(){return p.tdb("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.la.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.l8a("mem").then(function(u){q=q.concat(u);return p.l8a("idb");}).catch(function(u){p.VTb(u) || p.la.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.la.error("load all failed",u);throw u;});};c.prototype.fFb=function(){var p;p=this;return this.SRb.create().then(function(q){p.aG.idb={storage:q,key:"idb"};}).catch(function(q){p.la.error("idb failed to load",q);return q || ({wa:k.R.jp});});};c.prototype.WAb=function(p,q){return !p || p && q?!0:!1;};c.prototype.UYb=function(p){var q;q="";p && (q+=p.wa);return {wa:q};};c.prototype.tdb=function(p){return (p=this.aG[p])?p.storage.removeAll():Promise.resolve();};c.prototype.l8a=function(p){return (p=this.aG[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.hLb=function(p){for(var q in this.CD)if(p.startsWith(q))return this.CD[q];return this.CD[h.Amb];};c.prototype.xV=function(p){var q,u;q=this;this.hLb(p).every(function(t){return q.aG[t]?(u=q.aG[t],!1):!0;});if(!u){this.la.error("component not found for storageKey",{r9b:p,rjc:Object.keys(this.aG),rules:this.CD});u=this.aG.mem;}this.la.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.VTb=function(p){return (p && (p.wa || p.errorSubCode)) === k.R.Px;};b.Oda=c;},6675:function(r,b){function a(c,m){this.iy=c;this.ke=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Ffa=void 0;a.prototype.load=function(c,m){var g;g=this;this.iy.load(c).then(function(k){m && m(a.ehb(k));}).catch(function(k){m && m(g.Goa(c,k));});};a.prototype.save=function(c,m,g,k){var d;d=this;this.iy.save(c,m,g).then(function(){k && k(a.ehb({key:c,value:m}));}).catch(function(f){k && k(d.Goa(c,f));});};a.prototype.remove=function(c,m){var g;g=this;this.iy.remove(c).then(function(){m && m({pa:!0,sca:c});}).catch(function(k){m && m(g.Goa(c,k));});};a.ehb=function(c){return {pa:!0,data:c.value,sca:c.key};};a.prototype.Goa=function(c,m){return {pa:!1,sca:c,wa:m.wa,Yb:m.ic?this.ke.Nf(m.ic):void 0};};b.Ffa=a;},42304:function(r,b,a){var m,g,k;function c(d){this.bD=d;}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;r=a(5163);m=a(22674);g=a(36129);a=a(48159);c.prototype.load=function(d){var f;f=this;return new Promise(function(n,h){var l,p;try{l=f.bD.getItem(d);if(l){p=l;if("{" === l[0])try{p=JSON.parse(l) || l;}catch(q){}n({key:d,value:p});}else h({wa:g.R.Px});}catch(q){h({wa:g.R.PPa,ic:q});}});};c.prototype.save=function(d,f,n){var h;h=this;return new Promise(function(l,p){if(n && h.bD.getItem(d))l(!1);else try{"string" === typeof f?h.bD.setItem(d,f):h.bD.setItem(d,JSON.stringify(f));l(!0);}catch(q){p({wa:g.R.QPa,ic:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(n,h){try{f.bD.removeItem(d);n();}catch(l){h({wa:g.R.uha,ic:l});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.Hpb))],k);b.iKa=k;},26305:function(r,b,a){var m,g,k;function c(d){this.Ff=d;this.RH={};this.la=this.Ff.Za("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;r=a(5163);m=a(22674);g=a(36129);a=a(87386);c.prototype.load=function(d){var f;if(this.RH.hasOwnProperty(d)){f=this.RH[d];this.la.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.la.debug("Storage entry not found",{key:d});return Promise.reject({wa:g.R.Px});};c.prototype.save=function(d,f,n){if(n && this.RH.hasOwnProperty(d))return Promise.resolve(!1);this.RH[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.RH[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.RH).map(function(f){var n;n=ja(f);f=n.next().value;n=n.next().value;return {key:f,value:n};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.RH={};return Promise.resolve();};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.$a))],k);b.CLa=k;},92093:function(r,b,a){var g,k,d;function c(f,n,h){this.config=f;this.Ko=n;this.bD=h;}function m(f,n){this.reason=f;this.ic=n;}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=b.qPa=void 0;g=a(36129);k=a(59818);(function(f){f[f.kga=0]="NoData";f[f.Error=1]="Error";f[f.yK=2]="Timeout";})(d=b.qPa || (b.qPa={}));c.prototype.load=function(f){var n;n=this;return new Promise(function(h,l){n.D6("get",!1,f).then(function(p){h({key:f,value:p});}).catch(function(p){var q;q=g.R.PPa;switch(p.reason){case d.kga:q=g.R.Px;break;case d.yK:q=g.R.Jrb;}l({wa:q,ic:p.ic});});});};c.prototype.save=function(f,n,h){var l;l=this;return new Promise(function(p,q){l.D6(h?"add":"put",!0,{name:f,data:n}).then(function(){p(!h);}).catch(function(u){var t;t=g.R.QPa;switch(u.reason){case d.yK:t=g.R.Mrb;}q({wa:t,ic:u.ic});});});};c.prototype.remove=function(f){var n;n=this;return new Promise(function(h,l){n.D6("delete",!0,f).then(function(){h();}).catch(function(p){var q;q=g.R.uha;switch(p.reason){case d.yK:q=g.R.OPa;}l({wa:q,ic:p.ic});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(n,h){f.D6("clear",!0,"").then(function(){n();}).catch(function(l){var p;p=g.R.uha;switch(l.reason){case d.yK:p=g.R.OPa;}h({wa:p,ic:l.ic});});});};c.prototype.loadAll=function(){var f;f=this;return this.Ko.Bq(this.config.timeout,new Promise(function(n,h){var l,p,q;if(f.config.fAa)h(new m(f.config.fAa));else {l=[];p=f.bD.transaction(f.config.SX,"readonly");q=p.objectStore(f.config.SX).openCursor();p.onerror=function(){h(new m(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{l.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){h(new m(d.Error,t));}else n(l);};q.onerror=function(){h(new m(d.Error,q.error));};}})).catch(function(n){return n instanceof k.Wq?Promise.reject(new m(d.yK,n)):n instanceof m?Promise.reject(n):Promise.reject(new m(d.Error,n));});};c.prototype.D6=function(f,n,h){var l;l=this;return this.Ko.Bq(this.config.timeout,new Promise(function(p,q){var u,t;u=l.bD.transaction(l.config.SX,n?"readwrite":"readonly");t=u.objectStore(l.config.SX)[f](h);u.onerror=function(){q(new m(d.Error,t.error));};t.onsuccess=function(v){var w;if("get" == f)try{w=v.target.result;w?p(w.data):q(new m(d.kga));}catch(y){q(new m(d.kga,y));}else p(void 0);};t.onerror=function(){q(new m(d.Error,t.error));};})).catch(function(p){return p instanceof k.Wq?Promise.reject(new m(d.yK,p)):p instanceof m?Promise.reject(p):Promise.reject(new m(d.Error,p));});};b.nJa=c;},91133:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H1="IndexedDBConfigSymbol";},42236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="IDBDatabaseFactorySymbol";b.qJa="IndexedDBFactorySymbol";b.sJa="IndexedDBStorageFactorySymbol";},57925:function(r,b,a){var m,g,k,d,f;function c(n,h){n=k.Ve.call(this,n,"IndexedDBConfigImpl") || this;n.config=h;n.version=1;n.SX="namedatapairs";return n;}Object.defineProperty(b,"__esModule",{value:!0});b.oJa=void 0;r=a(5163);m=a(22674);g=a(12501);k=a(64174);d=a(34231);a=a(83767);ea(c,k.Ve);Ya.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Ny?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Ogb;}},m4:{configurable:!0,enumerable:!0,get:function(){return this.config.m4;}},gAa:{configurable:!0,enumerable:!0,get:function(){return 0;}},fAa:{configurable:!0,enumerable:!0,get:function(){return 0;}},Q1a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([g.config(g.hA,"simulateIdbOpenError")],f.prototype,"gAa",null);r.__decorate([g.config(g.hA,"simulateIdbLoadAllError")],f.prototype,"fAa",null);r.__decorate([g.config(g.od,"fixInvalidDatabase")],f.prototype,"Q1a",null);f=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.Hl)),r.__param(1,(0,m.l)(d.Kn))],f);b.oJa=f;},84970:function(r,b,a){var k,d,f,n,h,l,p,q,u,t,v,w;function c(y,x,z,A,B,D){this.config=x;this.xU=z;this.ul=A;this.ucc=B;this.Dk=D;this.la=y.Za(l.HQa);}function m(y,x){this.config=y;this.SP=x;}function g(y,x,z,A,B){this.config=x;this.SP=z;this.Dk=B;this.la=y.Za(l.HQa);this.xU=new Promise(function(D,C){var E;try{E=A();E?D(E):C({wa:h.R.OIa});}catch(G){C({wa:h.R.G1,ic:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.rJa=b.pJa=b.LIa=void 0;r=a(5163);k=a(22674);d=a(87386);f=a(92093);n=a(48159);h=a(36129);l=a(44272);p=a(91133);q=a(59818);u=a(17892);t=a(77134);v=a(42236);w=a(63156);g.prototype.create=function(){this.wna || (this.wna=this.ML());return this.wna;};g.prototype.Sp=function(y){var x;x=this;this.wna=null;return this.SP.Bq(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.Wq?Promise.reject({wa:h.R.G1}):z.wa?Promise.reject(z):Promise.reject({wa:h.R.G1,ic:z});});};g.prototype.delete=function(y){var x;x=this;return this.SP.Bq(this.config.timeout,new Promise(function(z,A){x.xU.then(function(B){var D;D=B.deleteDatabase(y);D.onsuccess=function(){z();};D.onerror=function(){A({wa:h.R.G1,ic:D.error});};}).catch(function(B){A(B);});}));};g.prototype.ML=function(){var y,x;y=this;return this.SP.Bq(this.config.timeout,new Promise(function(z,A){if(y.config.gAa)return A({wa:y.config.gAa});y.xU.then(function(B){y.Dk.mark(w.qj.job);x=B.open(y.config.name,y.config.version);if(!x)return A({wa:h.R.PIa});x.onblocked=function(){y.Dk.mark(w.qj.gob);A({wa:h.R.cob});};x.onupgradeneeded=function(){var D;y.Dk.mark(w.qj.qob);D=x.result;try{D.createObjectStore(y.config.SX,{keyPath:"name"});}catch(C){y.la.error("Exception while creating object store",C);}};x.onsuccess=function(D){var C,E;y.Dk.mark(w.qj.pob);try{C=D.target.result;E=C.objectStoreNames.length;y.la.trace("objectstorenames length ",E);if(0 === E){y.la.error("invalid indexedDb state, deleting");y.Dk.mark(w.qj.iob);try{C.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({wa:h.R.bob});},1);return;}}catch(G){y.la.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.Dk.mark(w.qj.hob);y.la.error("IndexedDB open error",x.error);A({wa:h.R.dob,ic:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.Wq){try{x && x.readyState && y.Dk.mark("readyState-" + x.readyState);}catch(A){}if(y.config.m4 && x && "done" === x.readyState){if(y.occ(x))return (y.Dk.mark(w.qj.nob),Promise.resolve(x.result));y.Dk.mark(w.qj.mob);}y.Dk.mark(w.qj.lob);return Promise.reject({wa:h.R.fob});}if(z.wa)return Promise.reject(z);y.Dk.mark(w.qj.kob);y.la.error("IndexedDB open exception occurred",z);return Promise.reject({wa:h.R.eob,ic:z});});};g.prototype.occ=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.Dk.mark(w.qj.oob);this.la.error("failed to check open request state",x);}return !1;};a=g;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.$a)),r.__param(1,(0,k.l)(p.H1)),r.__param(2,(0,k.l)(q.NA)),r.__param(3,(0,k.l)(n.NIa)),r.__param(4,(0,k.l)(t.zK))],a);b.LIa=a;m.prototype.create=function(y){return Promise.resolve(new f.nJa(this.config,this.SP,y));};a=m;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(p.H1)),r.__param(1,(0,k.l)(q.NA))],a);b.pJa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.uU || (this.uU=this.ML(this.ucc));return this.uU;};c.prototype.ML=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.Dk.mark(w.qj.Irb);x.xU.create().then(function(B){x.ul.create(B).then(function(D){Promise.all(y.map(function(C){return C.validate(D);})).then(function(){x.storage=D;z(x.storage);}).catch(function(C){x.la.debug("DB validation failed, cause: " + C);x.config.Q1a?(x.la.debug("Fixing corrupt DB"),x.xU.Sp(B).then(function(){x.la.error("Invalid database deleted, creating new database.");x.ML().then(function(E){x.la.error("Invalid database successfully recreated.");x.storage=E;z(x.storage);});}).catch(function(E){x.la.error("Couldn't delete invalid database.");A(E);})):(x.la.debug("Ignoring invalid DB due to config"),x.storage=D,z(x.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.$a)),r.__param(1,(0,k.l)(p.H1)),r.__param(2,(0,k.l)(v.MIa)),r.__param(3,(0,k.l)(v.qJa)),r.__param(4,(0,k.optional)()),r.__param(4,(0,k.QH)(u.Trb)),r.__param(5,(0,k.l)(t.zK))],a);b.rJa=a;},69899:function(r,b,a){var g;function c(k,d,f){this.start=k;this.track=d;this.FD=Array.isArray(f)?f:[];}function m(k,d){this.log=k;this.SD=d;this.Rxa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.SQa=void 0;g=a(45146);m.prototype.qwb=function(k,d){this.x$a(k,d,"activating");};m.prototype.iGb=function(k){this.xoa(k,"de-activating");};m.prototype.x$a=function(k,d,f){var n;this.gk && this.xoa(k,"close current for new");n=[];this.orphans.length && (n.push.apply(n,aa(this.orphans)),this.orphans=[]);this.gk=new c(k,d,n);this.SD && this.log.trace("new range: " + f,this.gk);};m.prototype.xoa=function(k,d){this.gk && (this.gk.end=k,this.Rxa.push(this.gk),this.SD && this.log.trace("end range: " + d,this.gk || ({})),this.gk=void 0);};m.prototype.njb=function(k){for(var d=[],f=0;f < arguments.length;++f)d[f - 0]=arguments[f];this.gk?this.gk.FD.push.apply(this.gk.FD,aa(d)):this.orphans.push.apply(this.orphans,aa(d));};m.prototype.jra=function(k){var d,f;d=this.Rxa.slice(0);if(this.gk && "undefined" !== typeof k){f=new c(this.gk.start,this.gk.track,this.gk.FD);f.end=k;d.push(f);}k=d.reduce(function(n,h){var l,p,q,u;if(!h.track)return n;p=h.track.Wb;q=h.track.$l(h.start,h.end);if(void 0 === q || null === q)return n;u=new Set(h.FD);n[p]?(h=n[p],h.expected+=q,h.missed+=q - u.size):n[p]={dlid:p,bcp47:h.track.Ae,profile:h.track.profile,expected:q,missed:q - u.size,startPts:null !== (l=h.track.TPb()) && void 0 !== l?l:0};return n;},{});k=Object.values(k);this.SD && this.log.trace("subtitleqoe:",JSON.stringify(k,null,"\t"));return k;};m.prototype.KPb=function(k){var d,f,n,h;d=this.Rxa.slice(0);f=0;n=0;if(this.gk && "undefined" != typeof k){h=new c(this.gk.start,this.gk.track,this.gk.FD);h.end=k;d.push(h);}d.forEach(function(l){var p,q;if(l.track){if(l.end < l.start){(0,g.oa)(!1,"negative range");l.uD=0;return;}p=new Set(l.FD);q=l.track.$l(l.start,l.end);l.F6=q;l.uD=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else l.uD=100;p=l.end - l.start;f+=p;n+=l.uD * p;});h=f?Math.round(n / f):100;this.log.trace("qoe score " + h + ", at pts: " + k);this.SD && (k=d.map(function(l){return {start:l.start,"end  ":l.end,duration:l.end - l.start,score:Math.round(l.uD),lang:l.track?l.track.Ae:"none","actual  ":l.FD.join(" "),expected:l.F6};}),this.log.trace("score for each range: ",JSON.stringify(k,function(l,p){return p;}," ")));return h;};b.SQa=m;},40076:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.mJ=void 0;r=a(22674);c=a(53205);m=a(29773);g=a(22692);k=a(87549);b.mJ=new r.md(function(d){d(k.gRa).to(c.fRa);d(g.dRa).xl(new m.cRa());d(k.eRa).je(function(f){return function(){return f.nb.get(k.gRa);};});});},87549:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gRa="ThroughputTrackerSymbol";b.eRa="ThroughputTrackerFactorySymbol";},22692:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dRa="ThroughputTrackerConfigSymbol";},70826:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;c=a(72574);b.mGa=function(m,g){this.bIb=m;this.size=g.Rsa()?c.Ba:g;};},29773:function(r,b,a){function c(m){this.cIb=void 0 === m?10:m;}Object.defineProperty(b,"__esModule",{value:!0});b.cRa=void 0;r=a(5163);a=a(22674);c=r.__decorate([(0,a.U)()],c);b.cRa=c;},53205:function(r,b,a){var m,g,k,d;function c(f){this.config=f;this.iAa=g.Ba;this.wP=[];}Object.defineProperty(b,"__esModule",{value:!0});b.fRa=void 0;r=a(5163);m=a(22674);g=a(72574);k=a(5021);a=a(22692);c.prototype.jn=function(){var n;for(var f;0 < this.wP.length;)(f=this.wP.shift(),this.gVa(f));f=void 0 === this.KU || void 0 === this.nG?k.Ba:this.nG.qa(this.KU);n=f.k7a()?0:this.iAa.ea(g.bE) / f.ea(k.ma);return {YAa:Math.floor(n),ukc:f.ea(k.ma)};};c.prototype.Jwb=function(f){this.iAa=this.iAa.add(f.size);this.wP.push(f.bIb);for(this.wP.sort(function(n,h){return n.start.Tk(h.start);});this.wP.length > this.config.cIb;)(f=this.wP.shift(),this.gVa(f));};c.prototype.gVa=function(f){void 0 === this.KU && (this.KU=f.start);void 0 !== this.nG && 0 > this.nG.Tk(f.start) && (this.KU=this.KU.add(f.start.qa(this.nG)));if(void 0 === this.nG || 0 > this.nG.Tk(f.end))this.nG=f.end;};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.dRa))],d);b.fRa=d;},35781:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u,t,v,w,y){var x,z;q=f.LE.call(this,u,q,q,w,!0,{hf:"",cD:"content"},"1",[{Eg:0,url:t,type:"unknown"}],"xx",v || q,n.hp.pK,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.Js=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.hRa=void 0;r=a(13044);m=a(29204);g=a(37509);k=a(31276);d=a(52569);f=a(26159);n=a(35128);h=a(61726);l=a(43193);p=a(85001);(0,r.bOa)(r.Pga,function(q){var t;function u(v){var w;if(v.ctrlKey && v.altKey && v.shiftKey && v.keyCode == l.EA.bsb){w=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var y,x,z;y=w.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.Hn.hka("nourl",x,{content:z.result});});}});w.click();}}t=(0,k.Nh)(q,"TimedTextCustomTrack");m.config.vna && (t.info("Loading url",{Url:m.config.vna}),q.Hn.hka(m.config.vna,"custom"));g.te.addListener(g.nC,u);q.addEventListener(p.ha.ug,function(){g.te.removeListener(g.nC,u);});});ea(c,f.LE);c.TEb=function(q,u,t,v){var w;w="custom" + c.MSb++;return new c(w,q,u,t,-1,v);};c.prototype.U_a=function(){var q;q=this;return new Promise(function(u,t){var v,w;if(null === (v=q.options) || void 0 === v?0:v.content)u(q.options.content);else if(q.url){w={responseType:h.Ura,url:q.url,track:q,Ec:void 0,SB:"tt-" + q.Ae,Ds:"unknown"};q.j.n8.download(w,function(y){y.pa?u(y.content):(y.reason="downloadfailed",y.url=w.url,y.track=q,t(y));});}});};b.hRa=c;c.MSb=0;},97154:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p){this.S6=h;this.Jy={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,m.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.rfb(l);this.ypa=this.h3a(this.S6);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.iRa=void 0;m=a(52569);g=a(33579);k=a(15531);d=a(29204);f=a(22365);n=a(3887);c.prototype.gn=function(){return this.element;};c.prototype.T6b=function(h){this.Mv=h;};c.prototype.e7b=function(h){this.entry=h;this.wI();};c.prototype.m7b=function(h){this.rfb(h);this.wI();};c.prototype.n7b=function(h){this.lang=h;this.wI();};c.prototype.wI=function(){var h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E;h=this;p=this.gn();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;v=0;w=0;y=0;q={width:u,height:t};z=null !== (l=d.config.Lca.characterSize) && void 0 !== l?l:d.config.cBa.characterSize;this.lang && d.config.t8 && d.config.t8.includes(this.lang) && "MEDIUM" === z && (y=1.4);this.lang && d.config.u8 && d.config.u8.includes(this.lang) && "SMALL" === z && (y=1.6);if(0 < u && 0 < t && this.entry){this.Mv && (q=(0,m.R6)(u,t,this.Mv),v=Math.round((u - q.width) / 2),w=Math.round((t - q.height) / 2));A=this.MAb(q);B=(0,m.R6)(A.width,A.height,this.Mv);(x=this.O8b(this.entry.blocks)) && (x=this.F5b(x));A=x && x.map(function(G){var F;F=null === G || void 0 === G?void 0:G.region;switch(F.horizontalAlignment){case "start":F.horizontalAlignment="rtl" === h.Jy.direction?"right":"left";break;case "end":F.horizontalAlignment="rtl" === h.Jy.direction?"left":"right";}F=(0,k.Boa)(G,B,h.S6,h.ypa,y);G=(0,k.L0a)(G) + ";position:absolute";return (0,m.createElement)("div",G,F,c.sea);});}Object.assign(this.Jy,{left:v + "px",right:v + "px",top:w + "px",bottom:w + "px"});p.style.display="none";p.style.direction=this.Jy.direction;p.innerHTML="";if(A && A.length){l=q.width;u=q.height;v=q;this.ZT && (v=this.lwb(q,this.ZT,t,w));this.Jy.margin=this.fs?this.Z4(q,"top") + "px " + this.Z4(q,"right") + "px " + this.Z4(q,"bottom") + "px " + this.Z4(q,"left") + "px ":void 0;A.forEach(function(G){return p.appendChild(G);});t=(0,m.sU)(this.Jy);p.style.cssText=t + ";visibility:hidden;z-index:-1";w=[];for(z=A.length - 1;0 <= z;z--){D=A[z];C=x[z];E=this.J$a(D,C,l,u);y=0 < y?l / E.width * y:l / E.width;E.width > l && (D.innerHTML=(0,k.Boa)(C,q,this.S6,this.ypa,y),E=this.J$a(D,C,l,u));w[z]=E;}w=(0,g.Hib)(w,v);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(v=z.windowColor,z=z.windowOpacity,v && 0 < z && (D=Math.round(u / 50),q=(0,k.N0a)(x,w,D,v,q),q=(0,m.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,q,c.sea),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=w.length - 1;0 <= q;q--)(z=w[q],v=A[q].style,D=x[q].region,z=(0,k.M0a)(D,z,l,u,0),Object.assign(v,z));p.style.cssText=t;}};c.prototype.Rza=function(h){this.ZT=h;this.wI();};c.prototype.nra=function(){return this.ZT;};c.prototype.Sza=function(h){this.fs=h;this.wI();};c.prototype.ora=function(){return this.fs;};c.prototype.pra=function(){return "block" === this.Jy.display;};c.prototype.Tza=function(h){var l;l=h?"block":"none";this.element.style.display=l;this.Jy.display=l;h && this.wI();};c.prototype.rbc=function(h){this.S6=h;this.ypa=this.h3a(h);};c.prototype.h3a=function(h){var l,p;l=this;p={};(0,n.bg)(h,function(q,u){p[q]=l.vXb(u);});return p;};c.prototype.rfb=function(h){this.Jy.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.Z4=function(h,l){if(this.fs){if("left" === l || "right" === l)return h.width * (this.fs[l] || 0);if("top" === l || "bottom" === l)return h.height * (this.fs[l] || 0);}return 0;};c.prototype.MAb=function(h){return this.fs?{height:h.height * (1 - (this.fs.top || 0) - (this.fs.bottom || 0)),width:h.width * (1 - (this.fs.left || 0) - (this.fs.right || 0))}:h;};c.prototype.vXb=function(h){var l;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,m.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.sea);f.Qg.body.appendChild(h);l={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};f.Qg.body.removeChild(h);return l;};c.prototype.J$a=function(h,l,p,q){var u,t,v,w,y;u=l.region;t=(u.marginTop || 0) * q;v=(u.marginBottom || 0) * q;w=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;l=h.clientWidth || 1;h=h.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - v - h) / 2;break;default:q=q - v - h;}switch(u.horizontalAlignment){case "left":p=w;break;case "right":p=p - y - l;break;default:p=(w + p - y - l) / 2;}return {top:q,left:p,width:l,height:h};};c.prototype.lwb=function(h,l,p,q){return {height:p - Math.max(q,l.bottom || 0) - Math.max(q,l.top || 0),width:h.width};};c.prototype.F5b=function(h){var l,u,t,v;l=h && h.map(function(w,y){var x;return "vertical-rl" === (null === (x=null === w || void 0 === w?void 0:w.region) || void 0 === x?void 0:x.writingMode)?y:-1;}).filter(function(w){return -1 !== w;});if(l && 0 !== l.length)for(var p=0,q=l.length - 1;p < q;(p++,q--)){u=l[p];t=l[q];v=ja([h[t],h[u]]);h[u]=v.next().value;h[t]=v.next().value;}return h;};c.prototype.O8b=function(h){var l,p;if(!h || 0 === h.length)return h;p=h.filter(function(t){var v;return "horizontal-tb" === (null === (v=t.region) || void 0 === v?void 0:v.writingMode);}).sort(function(t,v){return t.region.marginTop - v.region.marginTop;});if(!p || 0 === p.length)return h;for(var q=0,u=0;q < p.length && u < h.length;u++)"horizontal-tb" === (null === (l=h[u].region) || void 0 === l?void 0:l.writingMode) && (h[u]=p[q++]);return h;};b.iRa=c;c.sea={"class":"player-timedtext-text-container"};},7953:function(r,b){function a(c,m){var g;g=this;this.I3a=c;this.kab=m;this.gBa=!1;this.lO=function(){g.sm=void 0;g.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.mRa=void 0;a.prototype.update=function(c){var m,g,k,d,f;k=this.I3a();if(this.ojb !== k){d=null === (g=null === (m=this.jX) || void 0 === m?void 0:m.fC(k)) || void 0 === g?void 0:g[0];if(d && ("startTime" in d))if(d.startTime <= k && k <= d.endTime){f=d;this.$ib(d.endTime - k);}else this.$ib(d.startTime - k);this.ojb=k;this.cka !== f && (this.cka=f,!c && this.kab && this.kab());}};a.prototype.start=function(){this.gBa=!0;this.update();};a.prototype.xfb=function(c){this.jX=c;this.cka=this.ojb=void 0;c || this.stop();};a.prototype.stop=function(){this.gBa=!1;this.Ro();};a.prototype.DMb=function(){this.update(!0);return this.cka;};a.prototype.$ib=function(c){this.Ro();this.gBa && 0 < c && (this.sm=qb.setTimeout(this.lO,c + a.Bpb));};a.prototype.Ro=function(){this.sm && (qb.clearTimeout(this.sm),this.sm=void 0);};b.mRa=a;a.Bpb=10;},26159:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R,ca){this.j=x;this.trackId=z;this.iH=A;this.dc=B;this.dg=D;this.fib=C;this.Wb=E;this.urls=G;this.Ae=F;this.displayName=I;this.Bh=P;this.dJ=M;this.variant=L;this.oD=Q;this.profile=J;this.qu=H;this.E$=K;this.ULb=O;this.S8=R;this.eu=ca;this.type=d.Yj.dBa;this.Js=void 0;this.nk=!(!J || J != n.Em.kK);this.Ag={bcp47:F,trackId:z,downloadableId:E,isImageBased:this.nk};this.log=(0,f.Nh)(x,"TimedTextTrack");this.state=y.U1;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.LE=void 0;m=a(5163);g=a(61726);k=a(29204);d=a(51344);f=a(31276);n=a(75568);h=a(45146);l=a(32687);p=a(58174);q=a(85001);u=a(36129);t=a(92020);v=a(32934);w=a(45247);(function(x){x[x.U1=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.sE=2]="LOADED";x[x.oR=3]="LOAD_FAILED";})(y || (y={}));c.prototype.w8=function(){var x;x=this;if(this.j.state.value === q.Xb.CLOSED || this.j.state.value === q.Xb.CLOSING)return Promise.reject({pa:!1});if(this.nk)return this.ESb();if(this.j.xd.Z)return (this.state=y.LOADING,this.l6a());this.S_a || (this.S_a=this.U_a());return this.S_a.then(function(z){return x.l6a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.vo=function(){return this.E$;};c.prototype.rn=function(){return this.ULb;};c.prototype.ira=function(){var x;return (null === (x=this.EZ) || void 0 === x?0:x.ready)?this.EZ.jX:void 0;};c.prototype.$l=function(x,z){var A;try{return null === (A=this.ira()) || void 0 === A?void 0:A.$l(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.nk});}};c.prototype.TPb=function(){var x,z,A;if(!(0,l.$c)(this.jb))try{A=null === (z=null === (x=this.ira()) || void 0 === x?void 0:x.fC(0)) || void 0 === z?void 0:z[0];this.jb=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.jb;};c.prototype.Mxa=function(x){var z,A;(0,h.oa)((0,w.wW)(x));(0,h.oa)(null === (z=this.j.W) || void 0 === z?void 0:z.Ca.Sh,"Live manifest is unavailable.");(0,h.oa)(null === (A=this.EZ) || void 0 === A?void 0:A.jX,"Subtitle manager is unavailable");z=x.Bib;this.EZ.jX.Mxa({H:x.H,xml:z,jb:x.jb,kf:x.kf,size:z.length,us:x.us,endOfStream:x.endOfStream});};c.prototype.bca=function(x){return this.j.state.value === q.Xb.CLOSING || this.j.state.value === q.Xb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Nb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.FZa=function(x){var z,A;z=this;A=(0,f.Nh)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.GZa)(this.j,A,this.request,this);x=new t.default(A,x);this.EZ={jX:x,ready:!1};x.on("ready",function(){z.EZ.ready=!0;});return x;};c.prototype.ESb=function(){var x,z,A,B,D,C,E;x=this;if(!this.j6a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",AWa:!1,Oua:this.qu.offset,O9a:this.qu.length,Fe:this.j.mediaTime.value || 0,bufferSize:k.config.$Rb,Mba:{aa:this.j.vV()}};A=(this.urls || []).map(function(G){return G.Eg;});B=0;D={};C=!0;E=function(G,F){var I;(0,l.$c)(G)?C || x.bca(x.$t(x.Qt,"","image"))?(C=!1,x.qu.url=null === (I=x.j7(x.Qt)) || void 0 === I?void 0:I.url,z.url=x.qu.url,D[G]=(D[G] || 0) + 1,I=x.FZa(z),I.on("ready",function(){F({pa:!0,track:x});}),I.on("error",function(P){var M;P=Object.assign({pa:!1},P);M=x.$t(x.Qt,x.qu.url,"image");M.details={midxoffset:x.qu.offset,midxsize:x.qu.length};M.errorstring=P.errorString;D[G] <= k.config.Qhb?(x.M6(M,!0,"retry with current cdn"),x.kla(D[G]).then(function(L){x.log.trace("retry timed text download after " + L,x.$t(x.Qt,"","image"));E(x.Qt,F);})):(x.Qt=A[B++],x.Qt?(x.M6(M,!0,"retry with next cdn"),x.kla(D[G]).then(function(L){x.log.trace("retry timed text download after " + L,x.$t(x.Qt,"","image"));E(x.Qt,F);})):(x.M6(M,!1,"all cdns tried"),F({pa:!1,uYb:"all cdns failed for image subs",track:x})));}),I.start()):F({pa:!1,aborted:!0}):(F({pa:!1,uYb:"cdnId is not defined for image subs downloadUrl"}),x.M6(x.$t(0,"","image"),!1,"cdnId is undefined"));};this.Qt=A[B++];this.j6a=new Promise(function(G,F){E(x.Qt,function(I){I.pa?(x.log.info("Loaded image subtitle manager"),x.state=y.sE,G(I)):(x.log.error("Unable to load image subtitles manager",I),x.state=y.oR,F(I));});});}return this.j6a;};c.prototype.l6a=function(x){var z,A;z=this;A=this.j.VD.value;(0,h.oa)(A);(0,h.oa)(void 0 !== x || this.j.xd.Z);return new Promise(function(B,D){var C;C=z.FZa({profile:z.profile,xml:x,Dj:k.config.cBa,preferences:k.config.Lca,Fe:z.j.mediaTime.value || 0,AWa:!1,videoSize:A,Z:z.j.xd.Z});C.on("ready",function(){B(C);}).on("error",function(E){D({pa:!1,error:E});}).start();}).then(function(){z.state=y.sE;return {pa:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,u.Ax)(B),z.Ag,{url:B.url});z.state=y.oR;B.reason="parseerror";B.track=z;throw B;});};c.prototype.M6=function(x,z,A){x=Object.assign({},x,{epc:z,status:A});this.j.fireEvent(q.ha.JP,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,D;A=this;this.log.trace("Downloading",x);D=this.j7(this.Qt);x={url:x.url,offset:x.offset,length:x.size,Js:this.Js,responseType:g.iW,headers:{},Ec:D?{id:D.Eg}:void 0,SB:"tt-" + this.Ae,Ds:null !== (B=null === D || void 0 === D?void 0:D.type) && void 0 !== B?B:v.KR};this.j.n8.download(x,function(C){A.log.trace("imgsub: request status " + C.pa);C.pa?z(null,new Uint8Array(C.content)):z({wa:C.wa,Le:C.Le});});};c.prototype.$t=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Wb,subtitletype:A,bcp47:this.Ae,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.nk};};c.prototype.j7=function(x){return (this.urls || []).find(function(z){return z.Eg === x;});};c.prototype.U_a=function(){var B,D;function x(C){return m.__awaiter(B,void 0,void 0,function G(){var F,I,P;I=this;return La(G,function(M){F=A();P=I.$t(C.Ec.Eg,C.url,"text");P.errorstring=C.reason;return F && I.bca(P)?M.return(I.kla(D[F.Eg]).then(z)):M.return(Promise.reject({pa:!1,aborted:!0}));});});}function z(){return m.__awaiter(B,void 0,void 0,function E(){var G,F,I;I=this;return La(E,function(P){G=A();F=null === G || void 0 === G?void 0:G.url;return G && F?(D[G.Eg]=(D[G.Eg] || 0) + 1,P.return(I.YHb(F,G).catch(x))):P.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(C){return !!((D[C.Eg] || 0) < k.config.Qhb);});}B=this;this.state=y.LOADING;D={};return z();};c.prototype.kla=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.YHb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({Ec:z.Eg}),this.$t(z.Eg,x,"text"));return new Promise(function(B,D){var C,E;E={responseType:g.Ura,url:x,track:A,Ec:{id:z.Eg},SB:"tt-" + A.Ae,Ds:null !== (C=z.type) && void 0 !== C?C:v.KR};A.j.n8.download(E,function(G){G.pa?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:E.url,track:A,Ec:z}),D(G));});});};Ya.Object.defineProperties(c.prototype,{hf:{configurable:!0,enumerable:!0,get:function(){return this.fib.hf;}},cD:{configurable:!0,enumerable:!0,get:function(){return this.fib.cD;}}});b.LE=c;c.PA=y;},58174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GZa=void 0;b.GZa=function(a,c,m,g){return {uPb:function(){var k;k=a.Pqa();g.eu && (k+=g.eu);return k;},la:c,request:m,bj:!1};};},73585:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t){var v;v=this;this.j=t;this.KAa=this.p$a=0;this.ug=this.pl=!1;this.sD=0;this.q8=new Set();this.qZ=!0;this.wl=function(){var w,y;v.oba();v.eG && (v.log.info("Deactivating",v.eG),v.bA.iGb(v.Xt()));v.j.gi.set(null);v.pJ.xfb(void 0);v.kYa();w=v.j.Nb.value;w && w.vo() && !w.rn() && (w=null);if(w && v.j.Ab.value !== q.kb.If){y=v.Xt();v.bA.qwb(y,w);}w?(v.log.info("Activating",w),v.j.rm.set(w.getState() === m.LE.PA.sE?q.uf.oe:q.uf.me),v.pl || v.j.ue("tt_start"),w.w8().then(v.eL).catch(v.eL)):v.j.rm.set(q.uf.oe);v.eG=w;v.kA();};this.sync=function(){v.pl && (v.pJ.start(),v.j.Ab.value !== q.kb.Ie && v.pJ.stop());};this.kA=function(){var w;v.qZ && v.j.state.value === q.Xb.oe && v.j.Ab.value !== q.kb.If && (v.eh?w=v.pJ.DMb():v.j.Nb.value && (w=c.m9b[v.j.Nb.value.getState()]));w && (0,p.$c)(w.startTime) && v.j.Ou.value !== w && (v.p$a++,v.KAa+=v.pJ.I3a() - w.startTime,v.DWa=Math.ceil(v.KAa / (v.p$a + 0)));v.j.Ou.set(w);};this.Xt=function(){var w;w=v.j.Pqa();v.eG && v.eG.eu && (w+=v.eG.eu);return w;};this.Tva=function(w){v.q8.add(w);v.qZ && (v.fireEvent(c.dgb,w),w && w.id && (v.bA.njb(w.id),!1));v.log.trace("showsubtitle",v.N7(w));};this.WX=function(w){v.q8.delete(w) && v.qZ && (v.fireEvent(c.Hdb,w),v.log.trace("removesubtitle",v.N7(w)));};this.vRb=function(){v.q8.forEach(function(w){v.fireEvent(c.Hdb,w);v.log.trace("hide subtitle",v.N7(w));});};this.z5b=function(){v.q8.forEach(function(w){v.fireEvent(c.dgb,w);v.log.trace("resume subtitle",v.N7(w));});};this.vh=function(){v.log.warn("imagesubs buffer underflow",v.j.Nb.value.Ag);v.j.rm.set(q.uf.me);};this.Eva=function(){v.log.info("imagesubs buffering complete",v.j.Nb.value.Ag);v.j.rm.set(q.uf.oe);};this.W$=function(){v.pl && v.eh && v.eh.lA(v.Xt());};this.tab=function(w){v.pl && v.eh && (v.eh.pause(),v.eh.yD(w.zr));};this.Iw=function(){v.pl && v.eh && v.eh.Ecb();};this.rab=function(w){v.eh && v.eh.Sj(w.ph,w.aO);};this.yab=function(w){v.eh && v.eh.Ji(w.H,w.Qbc);};this.n_b=function(){v.pl=!0;(0,l.Mf)(function(){var w,y;(null === (w=v.eG) || void 0 === w?0:w.nk)?null === (y=v.eh) || void 0 === y?void 0:y.lA(v.Xt()):v.sync();v.kA();});};this.k_b=function(){v.kYa();v.pJ.stop();v.kA();v.ug=!0;v.oba();};this.Xva=function(w){(w=w.newValue) && (0,p.isArray)(w.blocks) && (v.bA.njb.apply(v.bA,aa(w.blocks.map(function(y){return y.id;}))),!1);};this.r_b=function(w){v.Jbc(w.newValue,w.oldValue);v.sync();v.kA();};this.eL=function(w){var y;if(!v.ug){y=w.track;if(y === v.j.Nb.value)try{v.eh=y.ira();y.nk?v.owb(w):v.pwb(w);}catch(x){v.log.error("Error activating track:",x,y);return;}v.pl || v.j.ue(w.pa?"tt_comp":"tt_err");w.pa?(d.config.yeb?setTimeout(function(){v.j.rm.set(q.uf.oe);},d.config.yeb):v.j.rm.set(q.uf.oe),y.nk || v.kA()):w.aborted?v.log.warn("aborted timed text track loading"):d.config.FKb?v.j.vd(h.V.zob,{Yb:w.track?w.track.Ag:{}}):(v.log.error("ignore subtitle initialization error",w),v.j.rm.set(q.uf.oe));}};this.Kb=new k.Xj();this.bA=new n.SQa((0,f.Nh)(t,"SubtitleTracker"),d.config.oJb);this.log=(0,f.Nh)(t,"TimedTextManager");this.pJ=new g.mRa(this.Xt,this.kA);this.j.Nb.addListener(this.wl);d.config.G1b?(this.j.addEventListener(q.ha.pl,this.n_b),this.wl()):(this.j.rm.set(q.uf.oe),this.j.addEventListener(q.ha.pl,function(){v.pl=!0;v.wl();}));this.j.Ab.addListener(this.r_b);this.j.addEventListener(q.ha.WAa,this.sync);this.j.Ou.addListener(this.Xva);this.j.addEventListener(q.ha.ug,this.k_b);}Object.defineProperty(b,"__esModule",{value:!0});b.jRa=void 0;m=a(26159);g=a(7953);k=a(94886);d=a(29204);f=a(31276);n=a(69899);h=a(36129);l=a(32219);p=a(32687);q=a(85001);u=a(35781);c.prototype.t8b=function(){this.qZ=!0;this.z5b();this.kA();};c.prototype.wRb=function(){this.qZ=!1;this.vRb();this.kA();};c.prototype.addEventListener=function(t,v,w){this.Kb.addListener(t,v,w);};c.prototype.removeEventListener=function(t,v){this.Kb.removeListener(t,v);};c.prototype.fireEvent=function(t,v,w){this.Kb.Fc(t,v,w);};c.prototype.hka=function(t,v,w){var y,x;y=this;x=u.hRa.TEb(this.j,t,v,w);this.v6a(this.j.fh,x);this.j.ii.forEach(function(z){y.v6a(z.fh,x);});this.j.Nb.set(x);this.j.fireEvent(q.ha.Qu);};c.prototype.Zbb=function(t){return this.Fya(t)?t.w8().then(function(){}):Promise.resolve();};c.prototype.cQb=function(t){return this.bA.KPb(t);};c.prototype.jra=function(t){return this.bA.jra(t);};c.prototype.VV=function(){var t,v;t=this.j.XZ;v=d.config.cBa.characterSize;v={size:d.config.Lca.characterSize || v};t && (v.visibility=t.pra(),v.ZT=t.nra(),v.fs=t.ora());return v;};c.prototype.I7b=function(t){d.config.Lca.characterSize=t;t=this.j.Nb.value;this.Fya(t) && !t.nk && t.w8().then(this.eL).catch(this.eL);};c.prototype.Jbc=function(t,v){var w;t === q.kb.Ie || t == q.kb.Sg?v !== q.kb.Ie && v !== q.kb.Sg && ((v=this.j.Nb.value) && !this.Fya(v) || this.bA.x$a(this.Xt(),v || void 0,"presentingstate:" + t)):t !== q.kb.If && t !== q.kb.Nq || this.bA.xoa(null !== (w=this.Xt()) && void 0 !== w?w:void 0,"presentingstate:" + t);};c.prototype.oba=function(){this.sD=0;qb.clearTimeout(this.D5b);};c.prototype.kYa=function(){var t;this.eh && this.eh.stop();(null === (t=this.eG) || void 0 === t?0:t.nk) && this.M8a("removeListener");this.eh=void 0;};c.prototype.M8a=function(t){this.eh && (this.eh[t]("showsubtitle",this.Tva),this.eh[t]("removesubtitle",this.WX),this.eh[t]("underflow",this.vh),this.eh[t]("bufferingComplete",this.Eva),"addListener" === t?(this.j.addEventListener(q.ha.io,this.W$),this.j.addEventListener(q.ha.Kj,this.tab),this.j.addEventListener(q.ha.HI,this.Iw),this.j.addEventListener(q.ha.z$,this.rab),this.j.addEventListener(q.ha.KBa,this.yab)):(this.j.removeEventListener(q.ha.io,this.W$),this.j.removeEventListener(q.ha.Kj,this.tab),this.j.removeEventListener(q.ha.HI,this.Iw),this.j.removeEventListener(q.ha.z$,this.rab),this.j.removeEventListener(q.ha.KBa,this.yab)));};c.prototype.N7=function(t){return {currentPts:this.Xt(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.owb=function(t){var v,w;v=this;w=t.track;if(!w || !w.nk)throw Error("Not an image base subtitle");t.pa?(this.oba(),this.M8a("addListener"),this.log.info("Activated",w),this.j.gi.set(w),this.pl?(0,l.Mf)(function(){v.eh.lA(v.Xt());}):this.eh.pause()):this.oeb(w,t);};c.prototype.pwb=function(t){var v,w;v=t.track;w=t.pa;if(!v || v.nk)throw Error("Not a valid text track");w?(this.oba(),this.pJ.xfb(this.eh),this.log.info("Activated",v),this.j.gi.set(v)):this.oeb(v,(0,h.Ax)(t));this.kA();};c.prototype.oeb=function(t,v){var w,y;w=this;y=this.sD < d.config.dXb;y && (this.D5b=qb.setTimeout(function(){w.sD++;t.w8().then(w.eL).catch(w.eL);},d.config.V$b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.nk)?" img subtitle":""),{retry:y},v,t);};c.prototype.Fya=function(t){return !(!t || t.vo() && !t.rn());};c.prototype.v6a=function(t,v){var w;w=t.findIndex(function(y){return y.dc >= v.dc;});-1 === w && (w=0);t.splice(w,0,v);};b.jRa=c;r={};c.m9b=(r[m.LE.PA.LOADING]={$W:!0},r[m.LE.PA.oR]={Ir:!0},r);c.dgb="showsubtitle";c.Hdb="removesubtitle";},79014:function(r,b,a){var m,g,k,d,f,n;function c(h){var l,p,q,u;l=this;this.j=h;this.VZb=function(){var t;k.te.removeListener(k.Y7,l.vab);t=l.so.gn();t && t.parentNode && t.parentNode.removeChild(t);};this.Xva=function(t){l.so.e7b(t.newValue);};this.A_b=function(t){var v;l.so.m7b(t.newValue?t.newValue.S8:void 0);l.so.n7b(null === (v=t.newValue) || void 0 === v?void 0:v.Ae);l.so.rbc(l.g3a(t.newValue));};this.vab=function(){l.so.wI();};q=h.Nb.value?h.Nb.value.S8:void 0;u=null === (p=h.Nb.value) || void 0 === p?void 0:p.Ae;p=this.g3a(h.Nb.value);this.so=new f.iRa(p,q,u);q=h.VD.value;(0,g.oa)(.1 < q.width / q.height);this.so.T6b(q.width / q.height);h.wk.appendChild(this.so.gn());h.Ou.addListener(this.Xva);h.Nb.addListener(this.A_b);h.addEventListener(n.ha.ug,this.VZb,m.nK);k.te.addListener(k.Y7,this.vab);}Object.defineProperty(b,"__esModule",{value:!0});b.kRa=void 0;m=a(33096);g=a(45146);k=a(37509);d=a(29204);f=a(97154);n=a(85001);c.prototype.Tza=function(h){this.so.Tza(h);};c.prototype.pra=function(){return this.so.pra();};c.prototype.Rza=function(h){this.so.Rza(h);};c.prototype.nra=function(){return this.so.nra();};c.prototype.Sza=function(h){this.so.Sza(h);};c.prototype.ora=function(){return this.so.ora();};c.prototype.g3a=function(h){var l;if(h && d.config.v9 && 0 <= d.config.v9.indexOf(h.Ae)){l=Object.assign({},d.config.Kca);Object.entries(l).forEach(function(p){var q;q=ja(p);p=q.next().value;q=q.next().value;l[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return l;}return d.config.Kca;};b.kRa=c;},79342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tua=void 0;b.tua=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var m=a[0],g=c(m),k=1;k < a.length;k++){d=a[k];f=c(d);f > g && (m=d,g=f);}return m;}};},28838:function(r,b,a){var c,m,g,k,d,f,n,h,l,p;Object.defineProperty(b,"__esModule",{value:!0});b.ke=void 0;r=a(22674);c=a(58421);m=a(6856);g=a(48864);k=a(37187);d=a(17842);f=a(96723);n=a(67371);h=a(47511);l=a(45613);p=a(51361);b.ke=new r.md(function(q){q(k.E2).to(c.OQa).ia();q(d.jha).to(g.iPa).ia();q(f.MRa).to(m.LRa).ia();q(n.Spb).to(h.sMa).ia();q(l.jSa).to(p.iSa).ia();});},97368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ycb=void 0;b.ycb=function(a){var c,m;c=!1;m=!1;return function(){if(c)m=!0;else for(m=!0;m;)(m=!1,c=!0,a(),c=!1);};};},99037:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xH=void 0;b.xH=function(a,c,m){var g;if(m.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");g=m.get;m.get=function(){var k,d;k=g.apply(this,arguments);d={enumerable:m.enumerable,value:k};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return k;};};},67371:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Spb="ObjectComparerSymbol";},88195:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.gO=b.fg=void 0;c=a(45266);b.fg=function(m,g){return [].concat.apply([],aa(m)).map(function(k){return Object.assign({name:k},null !== g && void 0 !== g?g:{});});};b.gO=function(m,g){for(var k=[],d=1;d < arguments.length;++d)k[d - 1]=arguments[d];return (0,c.G_a)(function(f,n){return f.name === n;},m,k);};},17842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jha="QueryStringDataProviderSymbol";},37187:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.E2=b.fp=void 0;b.fp=function(){};b.E2="StringObjectReaderSymbol";},79542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rM=b.Xsa=void 0;b.Xsa=function(a){return void 0 !== a && null !== a;};b.rM=function(){return null;};},96723:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MRa="UuidProviderSymbol";},45613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jSa="WindowUtilsSymbol";},47511:function(r,b,a){var m,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;r=a(5163);m=a(22674);g=a(76564);c.prototype.compare=function(k,d){var f;f=[];this.Ema(k,d,"",f);return f;};c.prototype.Ema=function(k,d,f,n){var h;h=this;if(g.qE.wB(k))g.qE.wB(d) && k.length === d.length?k.forEach(function(q,u){h.Ema(k[u],d[u],f + "[" + u + "]",n);}):n.push({a:k,b:d,path:f});else if(g.qE.HT(k) && null != k){if(g.qE.HT(d) && null != d){for(var l in k)this.Ema(k[l],d[l],f + "." + l,n);for(var p in d)(p in k) || void 0 === d[p] || n.push({a:void 0,b:d[p],path:f + "." + p});}else n.push({a:k,b:d,path:f});}else k !== d && n.push({a:k,b:d,path:f});};a=c;a=r.__decorate([(0,m.U)()],a);b.sMa=a;},48864:function(r,b,a){var m,g,k,d;function c(f){this.location=f;(0,g.Co)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.iPa=void 0;r=a(5163);g=a(66523);k=a(63368);a=a(22674);c.jY=function(f){var n,l,p;n={};if(0 < f.length){f=f.split("&");for(var h=0;h < f.length;h++){l=f[h].trim();p=l.indexOf("=");0 <= p?n[decodeURIComponent(l.substr(0,p).replace(m.KMa,"%20"))]=decodeURIComponent(l.substr(p + 1).replace(m.KMa,"%20")):n[l.toLowerCase()]="";}}return n;};Ya.Object.defineProperties(c.prototype,{g3b:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=m.jY(this.Gcb);}},Gcb:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.BY)return this.BY;this.BY=this.location.search.substr(1);f=this.BY.indexOf("#");0 <= f && (this.BY=this.Gcb.substr(0,f));return this.BY;}}});d=m=c;d.KMa=/[+]/g;d=m=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(k.lKa))],d);b.iPa=d;},58421:function(r,b,a){var m,g,k,d,f,n;function c(h,l){this.is=h;this.json=l;(0,g.Co)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.OQa=void 0;r=a(5163);g=a(66523);k=a(63368);d=a(22674);f=a(42207);n=a(37187);c.prototype.Vcb=function(h){var l;l=this;return m.read(h,function(p){return parseInt(p);},function(p){return l.is.Fka(p);});};c.prototype.Txa=function(h){var l;l=this;return m.read(h,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return l.is.M3(p);});};c.prototype.xq=function(h){var l;l=this;return m.read(h,function(p){return parseInt(p);},function(p){return l.is.IT(p);});};c.prototype.p3b=function(h){var l;l=this;return m.read(h,function(p){return parseFloat(p);},function(p){return l.is.ck(p);});};c.prototype.Ucb=function(h,l){return m.read(h,function(p){return m.bLb(p,l);},function(p){return void 0 !== p;});};c.prototype.Wxa=function(h,l){return m.read(h,function(p){return p;},function(p){return l?l.test(p):!0;});};c.prototype.Wcb=function(h){var l,p;l=this;p=void 0 === p?function(){return !0;}:p;try{return m.read(h,function(q){return l.json.parse(decodeURIComponent(q));},function(q){return l.is.HT(q) && p(q);});}catch(q){return new n.fp();}};c.prototype.Jj=function(h,l,p){var q,u;q=this;p=void 0 === p?1:p;h=h.trim();u=l instanceof Function?l:this.wFb(l,p);l=h.indexOf("[");p=h.lastIndexOf("]");if(0 != l || p != h.length - 1)return new n.fp();h=h.substring(l + 1,p);try{return m.q0b(h).map(function(t){t=u(q,m.scc(t));if(t instanceof n.fp)throw t;return t;});}catch(t){return t instanceof n.fp?t:new n.fp();}};c.prototype.wFb=function(h,l){var p;p=this;l=void 0 === l?1:l;return function(q,u){q=m.cPb(h);return 1 < l?p.Jj(u,h,l - 1):q(p,u);};};c.bLb=function(h,l){var q;for(var p in l){q=parseInt(p);if(l[q] == h)return q;}};c.read=function(h,l,p){h=l(h);return void 0 !== h && p(h)?h:new n.fp();};c.cPb=function(h){switch(h){case "int":return function(l,p){return l.Vcb(p);};case "bool":return function(l,p){return l.Txa(p);};case "uint":return function(l,p){return l.xq(p);};case "float":return function(l,p){return l.p3b(p);};case "string":return function(l,p){return l.Wxa(p);};case "object":return function(l,p){return l.Wcb(p);};}};c.q0b=function(h){var y;for(var l=[["[","]"]],p=[],q=0,u=0,t=0,v=[],w={};u < h.length;(w={pQ:w.pQ},++u)){w.pQ=h.charAt(u);y=void 0;"," == w.pQ && 0 == t?(p.push(h.substr(q,u - q)),q=u + 1):(y=l.find((function(x){return function(z){return z[0] == x.pQ;};})(w)))?(++t,v.push(y)):0 < v.length && v[v.length - 1][1] == w.pQ && (--t,v.pop());}if(q != u)p.push(h.substr(q,u - q));else if(q == u && 0 < q)throw new n.fp();return p;};c.scc=function(h){var l;l=h.charAt(0);if('"' == l || "'" == l){if(h.charAt(h.length - 1) != l)throw new n.fp();return h.substring(1,h.length - 1);}return h;};a=m=c;a=m=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.$f)),r.__param(1,(0,d.l)(k.rE))],a);b.OQa=a;},6856:function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LRa=void 0;r=a(5163);a=a(22674);c.prototype.l2a=function(g){var k;k=this;return g?(g ^ 16 * Math.random() >> g / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return k.l2a(d);});};m=c;m=r.__decorate([(0,a.U)()],m);b.LRa=m;},51361:function(r,b,a){var m,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iSa=void 0;r=a(5163);m=a(22674);g=a(22365);c.prototype.BPb=function(){var k;k=qb.devicePixelRatio || 1;return {width:g.pv.width * k,height:g.pv.height * k};};a=c;a=r.__decorate([(0,m.U)()],a);b.iSa=a;},67590:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xda="AsePrefetcherAdapterSymbol";b.FDa="AsePrefetcherProviderSymbol";},18148:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lea="CacheManagerFactorySymbol";},99584:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y;Object.defineProperty(b,"__esModule",{value:!0});b.kd=void 0;r=a(22674);c=a(68976);m=a(37780);g=a(66476);k=a(87657);d=a(12849);f=a(85671);n=a(27162);h=a(19484);l=a(71576);p=a(32737);q=a(59315);u=a(20318);t=a(67590);v=a(61170);w=a(18148);y=a(94028);b.kd=new r.md(function(x){x(c.TNa).to(m.SNa).ia();x(k.fha).to(d.$Oa).ia();x(g.NE).to(f.VRa).ia();x(p.ZOa).to(l.YKa).ia();x(p.YOa).to(h.UJa).ia();x(p.XOa).to(n.OJa).ia();x(t.FDa).eac(function(){var z;return null === (z=u.Fp.Yh) || void 0 === z?void 0:z.Pw;});x(t.Xda).to(v.EDa).ia();x(q.dha).to(q.LOa);x(w.lea).to(y.YEa).ia();});},68976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TNa="PlayPredictionDeserializerSymbol";},32737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZOa="PreparerManifestFetcherSymbol";b.YOa="PreparerLicenseFetcherSymbol";b.XOa="PreparerLegacyLicenseFetcherSymbol";},32573:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oj=void 0;r=b.oj || (b.oj={});r.Vl="created";r.dx="started";r.KP="succeeded";r.Ir="failed";r.Qd="cancelled";r.zXa="cancelled_on_start";r.Vla="cancelled_not_encrypted";},87657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fha=b.uK=void 0;r=b.uK || (b.uK={});r.y$b="taskstart";r.w$b="taskabort";r.x$b="taskfail";r.z$b="tasksuccess";b.fha="PreparerTaskSchedulerSymbol";},66476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NE="VideoPreparerSymbol";},61170:function(r,b,a){var g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A;function c(){var B;B=this;this.promise=new Promise(function(D,C){B.resolve=D;B.reject=C;});}function m(B,D,C,E,G){var F;F=this;this.cxa=C;this.S1b=E;this.Vh=G;this.E_=[];this.fD=new Map();this.Yra=new Map();this.q_b=function(I){var P,M;I=I.wishListItem.key.J;if(F.fD.has(I)){M=F.fD.get(I);I=M.GO;M=M.Ima;null === (P=M.resolve) || void 0 === P?void 0:P.call(M,I);}};this.$$=function(I){var P,M;P=I.J;M=I.W;I.target.jCa(I.J) || (F.Vd.has({J:P}) && (F.Vd.en(P).Hr=!0),null === M || void 0 === M?void 0:M.then(function(L){var Q;Q=L.Ca;Q && Q.bc && Q.Ip && Q.Ip.forEach(function(J){var H;H={Jf:{bc:Q.bc,Gd:P}};F.Vd.has({J:J.O,Gd:Q.O,bc:Q.bc}) && (F.Vd.en(J.O,H).Hr=!0);});}).catch(function(){}),F.wdb(P),F.Rfb(F.E_));};this.Z0a=function(I,P){var M,L;M=I.J;L=I.W;I.target.jCa(M) || (null === L || void 0 === L?void 0:L.then(function(Q){(Q=Q.Ca) && Q.bc && Q.bc === P.bc && M === P.Gd && (Q={Jf:{bc:Q.bc,Gd:M}},F.Vd.has(P) && (F.Vd.en(P.J,Q).Hr=!0),F.Yra.delete(F.Vd.generateKey(P)));}).catch(function(){}));};this.la=B.Za("VideoPreparer");this.config=D();}Object.defineProperty(b,"__esModule",{value:!0});b.EDa=void 0;r=a(5163);g=a(87386);a(50323);k=a(20318);d=a(45247);f=a(4203);n=a(29204);h=a(72639);l=a(67590);p=a(22674);q=a(59315);u=a(90745);t=a(49745);v=a(24735);w=a(64213);y=a(25505);x=a(32573);z=a(45146);A=a(37991);m.prototype.Eb=function(B){var D;D=this;this.Vd=new w.Uha(function(C,E){return D.Xv(C,B,k.Fp.zj,E);},function(C,E){return D.Yw(C,B,E);});};m.prototype.fetch=function(B,D){var C;C=this;if(-1 === D.events.listeners("manifestRemovedFromCache").indexOf(this.$$))D.events.on("manifestRemovedFromCache",this.$$);if(-1 === D.events.listeners("playbackClosing").indexOf(this.$$))D.events.on("playbackClosing",this.$$);!1;return this.qo(B.O,D,B.sb).then(function(E){if("LIVE" === E.Ca.Vf)throw {status:x.oj.zXa};C.Rfb(C.rCb(C.UFb(B,D)));return C.fD.get(B.O).Ima.promise;});};m.prototype.getStats=function(){return this.Pw.getStats();};m.prototype.t9b=function(B,D,C){D={oh:D,W:C};this.Yra.set(this.Vd.generateKey(B),D);};m.prototype.oPb=function(B){return this.Yra.get(this.Vd.generateKey(B));};m.prototype.rCb=function(B){return [B].concat(aa(this.E_.filter(function(D){return D.key.J !== B.key.J;}))).slice(0,this.config.Q1b).map(this.config.R1b?function(D,C){return Object.assign({},D,{priority:C});}:function(D){return D;});};m.prototype.C3a=function(B,D,C){var E;E=this;C=void 0 === C?{}:C;return this.qo(B,D,C).then(function(G){E.eZa(G,D);return G.Ca;});};m.prototype.qo=function(B,D,C){var E;C=void 0 === C?{}:C;return this.Vh.qo({na:null !== (E=D.au(B)) && void 0 !== E?E:D.J5(B),J:B,Lr:h.Bl.oK,Ef:v.Eh.Ln,bb:C});};m.prototype.Yw=function(B,D,C){var E,G,F,I,P,M;E=this;(0,z.oa)(C.Jf,"auxiliaryOptions must exist if an adBreak hydration was requested");F=C.Jf;I=F.bc;P=F.Gd;(0,z.oa)(!!I,"auxiliaryManifestToken must exist if an adBreak hydration was requested");M=this.Vd.en(null === (G=null === C || void 0 === C?void 0:C.Jf) || void 0 === G?void 0:G.Gd);return M.Hq.then(function(L){var Q,J,H;L=L.W.Ad;Q=M.na;(0,z.oa)(void 0 !== Q,"parent xid must exist if an adBreak hydration was requested");J=h.Bl.On;H={rN:!0,yg:!1,ND:Date.now()};return E.Vh.qo({na:Number(Q),bb:H,J:P,Lr:J,Ef:void 0,WP:void 0,Kf:{oh:B,bc:I,Gd:P,cY:L}},!1).then(function(K){var O,R;E.eZa(K,D);K.Ip.forEach(function(ca){var Fa;function oa(ua){E.Z0a(ua,Fa);D.events.ks("playbackClosing",oa);}function ta(ua){E.Z0a(ua,Fa);D.events.ks("manifestRemovedFromCache",ta);}Fa={J:ca.Ca.O,Gd:P,bc:I};E.t9b(Fa,B,ca);D.events.on("manifestRemovedFromCache",ta);D.events.on("playbackClosing",oa);});if(null === (O=K.Ca.Pm) || void 0 === O || !O.pe.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (P + ", adBreakToken: " + B));return null === (R=K.Ca.Pm) || void 0 === R?void 0:R.pe[0];});});};m.prototype.eZa=function(B,D){var C,E,G;C=this;E=B.Ca;null === (G=E.Ip) || void 0 === G?void 0:G.forEach(function(F){C.Xv(F.O,D,k.Fp.zj,{Jf:{bc:F.bc,Gd:E.O}},F);});};m.prototype.UFb=function(B,D){var C,E,G,F,I,P;G=new c();if(this.fD.has(B.O)){F=this.fD.get(B.O);I=F.GO;if(I.O === B.O && I.Md === B.Md)P=F.ldc.key;this.Pw.getStats().contents.some(function(M){return M.id === B.O;}) && (G=F.Ima);}F=k.Fp.zj.ho((0,n.r5)(B.Md));P || (P={J:B.O,config:F});I={J:B.O};this.Vd.has(I) || this.Vd.store(I,this.SFb(B,D,F));D={key:P,Mlc:!1,priority:B.priority,K4:d.K.Na(null !== (E=null === (C=B.sb) || void 0 === C?void 0:C.jb) && void 0 !== E?E:0),Vd:this.Vd};this.fD.set(B.O,{ldc:D,GO:B,Ima:G});return D;};m.prototype.SFb=function(B,D,C){var E,G,F;E=this;G=B.O;return {get na() {return D.au(G);},Hr:!1,events:new u.EventEmitter(),yXa:function(){},get Hq() {F || (F=E.C3a(B.O,D,B.sb).then(function(I){return {W:I,Vv:I.b8 && !I.qC,config:C,cAa:{}};}));return F;},J:G,MAa:!1,equals:function(I){var P;P=D.au(G);return I && I.J === G && (!I.na || !P || P === I.na);}};};m.prototype.Xv=function(B,D,C,E,G){var F,I,P,M,L,Q,J,H;F=this;L=D.au(B);if(L || E){Q={J:B,Gd:null === (I=null === E || void 0 === E?void 0:E.Jf) || void 0 === I?void 0:I.Gd,bc:null === (P=null === E || void 0 === E?void 0:E.Jf) || void 0 === P?void 0:P.bc};if(!this.Vd.has(Q)){J=null !== L && void 0 !== L?L:this.Vd.en(null === (M=null === E || void 0 === E?void 0:E.Jf) || void 0 === M?void 0:M.Gd).na;this.Vd.store(Q,{yXa:function(){},equals:function(K){return K && K.J === Q.J && (J === K.na || !K.na || !J);},get Hq() {H || (H=(G?Promise.resolve(G):F.C3a(B,D)).then(function(K){return {W:K,Vv:K.b8 && !K.qC,config:C,cAa:{}};}));return H;},set Hq(K) {H=K;},events:new u.EventEmitter(),na:J,J:Q.J,Hr:!1,MAa:!1});}}};m.prototype.wfb=function(B){this.E_=B;};m.prototype.Rfb=function(B){this.wfb(B);this.Pw.Qfb(this.E_);};m.prototype.wdb=function(B){this.fD.has(B) && (this.wfb(this.E_.filter(function(D){return D.key.J !== B;})),this.fD.delete(B));};Ya.Object.defineProperties(m.prototype,{Pw:{configurable:!0,enumerable:!0,get:function(){this.by || (this.by=this.S1b(),this.by.uka(new A.HPa()).Jza(this.cxa).Ffb(new y.uJa()).jfb({$y:this.config.P1b}),this.by.events.on("prefetchComplete",this.q_b));return this.by;}}});a=m;a=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(g.$a)),r.__param(1,(0,p.l)(f.Zb)),r.__param(2,(0,p.l)(q.dha)),r.__param(3,(0,p.l)(l.FDa)),r.__param(4,(0,p.l)(t.yE))],a);b.EDa=a;},94028:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p){var q;q=this;this.ag=l;l=p();this.sg=new n({log:h.Za("CacheManager"),va:{getTime:function(){return q.ag.Lb().ea(d.ma);}},Promise:Promise,bj:!1,lAb:l.Y1b,kAb:l.W1b,mKb:l.bcb,lKb:l.X1b});}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(87386);d=a(5021);f=a(4203);n=a(41385);c=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(g.Kc)),r.__param(2,(0,m.l)(f.Zb))],c);b.YEa=c;},25505:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.uJa=void 0;a.prototype.C1a=function(c,m){var g;return null !== (g=this.cLb(c,m)) && void 0 !== g?g:this.gLb(c,m);};a.prototype.cLb=function(c,m){var g,k;g=this;k=m.$;return c.find(function(d){var f;return g.R5(k,null === (f=d.$) || void 0 === f?void 0:f.$);});};a.prototype.gLb=function(c,m){var g,k;g=m.$.Oe;k=m.$.aa[g];return c.find(function(d){var f;d=null === (f=d.$) || void 0 === f?void 0:f.$;d=(f=null === d || void 0 === d?void 0:d.Oe) && (null === d || void 0 === d?void 0:d.aa[f]) || void 0;return g === f && k.J === (null === d || void 0 === d?void 0:d.J) && k.hb === (null === d || void 0 === d?void 0:d.hb);});};a.prototype.R5=function(c,m){var g;g=this;return c === m?!0:"object" !== typeof c || "object" !== typeof m?c === m:Object.keys(c).length === Object.keys(m).length && Object.keys(c).every(function(k){return g.R5(c[k],m[k]);});};b.uJa=a;},27162:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z;function c(A,B,D,C,E,G,F,I,P,M,L){this.qs=D;this.vZ=C;this.oc=E;this.va=G;this.Ea=F;this.DN=I;this.V0b=P;this.Vh=M;this.li=L;this.log=A.Za("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(4203);d=a(32573);f=a(63156);n=a(24735);h=a(91581);l=a(95162);p=a(98166);q=a(2248);u=a(5021);t=a(30869);v=a(81918);w=a(50323);y=a(21892);x=a(49745);a=a(23563);c.prototype.fetch=function(A,B){var D;D=this;this.log.trace("Fetching LDL",(0,w.XJ)(A));this.O=A.O;this.kd=B;return B.GM(A.O,"ldl").catch(function(){D.log.trace("Requesting a new license",(0,w.XJ)(A));return D.Vh.i7(A.O).then(function(C){var E,G;D.W=C;D.Ca=C.Ca;if(C=D.kd.Zfb(A.O,D.Ca))throw {status:C};C=D.Ca.Vu[0].vY;E=D.Ca.Vu[0].coa;G=(C?C:[E]).map(function(F){return D.oc.decode(F.bytes);});D.re=D.KB({i0a:D.log,Doa:function(F){return D.handleError(F);},ue:void 0,sva:function(){},va:{getTime:function(){return D.Ea.Lb().ea(u.ma);},blc:function(){return D.va.se.ea(u.Qn);}}});B.kfb(A.O,D.re);return D.re.create(D.config.sn).then(function(){return D.re.cj(n.Eh.Ln,G,!0);}).then(function(){return D.re;}).catch(function(F){D.handleError(F);throw F;});}).catch(function(C){D.log.warn("Manifest not available for ldl request",C);if(void 0 !== C.status)throw C;throw {status:d.oj.Qd};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.re.close();this.kd.gYa(this.O);this.kd.wma(this.O);};c.prototype.KB=function(A){var B,D;B=this;if(!this.qs.WJ || !this.qs.UJ){D=this.V0b();this.qs.WJ=D.xD;this.qs.UJ=D.request;}D=new this.qs.UJ(A.i0a,function(C){var E;E=[];C.ek.forEach(function(G){E.push({sessionId:G.sessionId,dataBase64:B.oc.encode(G.data)});});C={ek:E,k6:[B.Ca.Wk],Ef:f.Lk.$Ya(C.Ef),Ad:B.Ca.Ad,na:B.kd.J5(B.O),wi:B.W.wi,Vf:B.W.Ca.Vf};B.log.trace("xid created ",{MovieId:B.O,xid:C.na});return B.DN.Cp(C);},void 0,{bj:!1,hz:!1});return this.qs.WJ(A.i0a,A.ue,{bj:!1,hz:!1,he:D,Cxa:this.config.vcb,fa:void 0,SD:this.config.q0a,onerror:A.Doa,sva:A.sva,va:A.va,xaa:!1,Kyb:this.vZ.B5([]),Dcc:this.vZ.I5([]),UUb:this.li.k4.ea(u.ma)});};z=c;z=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(k.Zb)),r.__param(2,(0,m.l)(h.e2)),r.__param(3,(0,m.l)(l.XR)),r.__param(4,(0,m.l)(q.ih)),r.__param(5,(0,m.l)(t.hg)),r.__param(6,(0,m.l)(v.Kc)),r.__param(7,(0,m.l)(p.qR)),r.__param(8,(0,m.l)(y.Lga)),r.__param(9,(0,m.l)(x.yE)),r.__param(10,(0,m.l)(a.Oq))],z);b.OJa=z;},19484:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t;function c(v,w,y,x,z,A){this.oc=y;this.hIb=x;this.QN=z;this.Vh=A;this.log=v.Za("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(4203);d=a(24735);f=a(2248);n=a(47737);h=a(92395);l=a(32573);p=a(50323);q=a(49745);u=a(82100);t=a(56039);c.prototype.fetch=function(v,w){var y;y=this;this.log.trace("Fetching LDL",(0,p.XJ)(v));this.O=v.O;this.kd=w;return w.GM(v.O,"ldl").then(function(x){return x.Sba;}).catch(function(){y.log.trace("Requesting a new license",(0,p.XJ)(v));return y.Vh.i7(v.O).then(function(x){var z,A,B,D,C,E;y.Ca=x.Ca;if(w.Z4a(v.O))return w.GM(v.O,"ldl").then(function(G){return G.Sba;});z=y.kd.Zfb(v.O,y.Ca);if(z)throw {status:z};A=y.Ca.Vu[0];z=A.vY;B=A.coa;A=A.streams[0].JB;D=(0,u.Fsa)(A);C=(z?z:[B]).map(function(G){return y.oc.decode(G.bytes);});E=y.hIb().then(function(G){var F;F={type:d.Eh.Ln,initData:C,K8:D,context:{h9:(0,t.wqa)(x.Ca.Vu[0].streams)},Ci:{O:v.O,na:w.J5(v.O),Ad:y.Ca.Ad,Wk:y.Ca.Wk,wi:x.wi,Vf:x.Ca.Vf}};return G.cj(F,y.QN());}).catch(function(G){y.handleError("Unable to prepare an EME session.",G);throw G;});y.kd.kfb(v.O,{Sba:E,source:"videopreparer"},function(){if(!y.kd.jCa(v.O))try{E.then(function(G){return G.close();}).catch(function(G){y.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){y.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return E;}).catch(function(x){y.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:l.oj.Qd};});});};c.prototype.handleError=function(v,w){this.log.warn(v + " LDL is now invalid.",w);this.kd.gYa(this.O);this.kd.wma(this.O);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(k.Zb)),r.__param(2,(0,m.l)(f.ih)),r.__param(3,(0,m.l)(n.B0)),r.__param(4,(0,m.l)(h.AR)),r.__param(5,(0,m.l)(q.yE))],a);b.UJa=a;},71576:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u,t,v,w,y){this.kX=v;this.ag=w;this.Vh=y;this.log=u.Za("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;r=a(5163);m=a(4203);g=a(22674);k=a(87386);d=a(81918);f=a(5021);n=a(17398);h=a(72639);l=a(50323);p=a(49745);q=a(24735);c.prototype.fetch=function(u,t){var v,w;this.log.trace("Fetching manifest",(0,l.XJ)(u));w=u.sb;this.config.kwb && w && w.W && !this.Vh.a8(u.O) && (!(("clientGenesis" in w.W) && w.W.clientGenesis) || "number" === typeof w.W.clientGenesis && Date.now() - w.W.clientGenesis < this.config.bcb) && (w=this.kX.create(w.W)) && (w.zI=this.ag.Lb().ea(f.ma),w.ZO=this.ag.Lb().ea(f.ma),this.Vh.DZ(u.O,w));return this.Vh.qo({na:t.J5(u.O),J:u.O,bb:null !== (v=u.sb) && void 0 !== v?v:{},Lr:h.Bl.oK,Ef:q.Eh.Ln},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.O,W:y});});};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.$a)),r.__param(1,(0,g.l)(m.Zb)),r.__param(2,(0,g.l)(n.hK)),r.__param(3,(0,g.l)(d.Kc)),r.__param(4,(0,g.l)(p.yE))],a);b.YKa=a;},37780:function(r,b,a){var m,g,k;function c(d,f){this.Cb=f;this.la=d.Za("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.SNa=void 0;r=a(5163);m=a(22674);g=a(87386);a=a(42207);c.prototype.uHb=function(d){var f;f=this;try{return {direction:d.direction,Ylc:d.layoutHasChanged,Gnc:d.rowInteractionIndex,Mb:d.lolomos.map(function(n){return f.pHb(n);})};}catch(n){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.pHb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(n){return f.oHb(n);}),requestId:d.requestId,rowIndex:d.rowIndex,Hnc:d.rowSegment};};c.prototype.oHb=function(d){var f,n;f={Fe:d.pts,property:d.property,J:d.viewableId,index:d.index};n=d.preplay;this.Cb.wg(n) && (f.Maa=this.tHb(n));d=d.params;this.Cb.wg(d) && (f.sb=this.w_a(d));return f;};c.prototype.tHb=function(d){var f;f={Fe:d.pts,J:d.viewableId,xO:d.pipelineNum,index:d.index};d=d.params;this.Cb.wg(d) && (f.sb=this.w_a(d));return f;};c.prototype.w_a=function(d){return {Md:d.uiLabel,Vj:d.trackingId,mm:d.sessionParams};};c.prototype.sHb=function(d){var f;f=this;try{return d.map(function(n){return f.qHb(n);});}catch(n){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.qHb=function(d){var f,n;n=d.params;this.Cb.wg(n) && (f=this.rHb(n));return {O:d.movieId,priority:d.priority,force:d.force,sb:f,Md:d.uiLabel,Moc:d.uiExpectedStartTime,Loc:d.uiExpectedEndTime,Zk:d.firstTimeAdded};};c.prototype.rHb=function(d){var f,n;f=void 0;n=d.sessionParams;this.Cb.wg(n) && (f=n);return {F4:this.nHb(d.authParams),mm:f,Vj:d.trackingId,jb:d.startPts,W:d.manifest,yg:d.isBranching};};c.prototype.nHb=function(d){return {O0b:null === d || void 0 === d?void 0:d.pinCapableClient};};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(a.$f))],k);b.SNa=k;},59315:function(r,b,a){var m,g,k,d;function c(f,n){this.jm=f;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.dha=b.LOa=void 0;r=a(5163);m=a(22674);g=a(75864);k=a(79048);a=a(4203);c.prototype.U8a=function(f){var n,h;n=this;if(f.cd.key.$)return Promise.resolve(f.cd.key.$);h=f.cd.key.J;return f.cd.Vd.en(h).Hq.then(function(l){l=l.W;return l.Op?(0,k.e5)(l.Op,{config:n.config()}):(0,k.hca)(h,n.jm.Mr(h));});};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.tK)),r.__param(1,(0,m.l)(a.Zb))],d);b.LOa=d;b.dha="PlaygraphResolverSymbol";},50323:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XJ=void 0;b.XJ=function(){return "";};},79538:function(r,b,a){var m,g;function c(k,d,f,n,h,l,p,q){this.type=k;this.Vl=d;this.J0b=void 0 === f?!1:f;this.notify=h;this.MKb=l;this.GO=p;this.kd=q;this.id=++g;this.status=m.oj.Vl;}Object.defineProperty(b,"__esModule",{value:!0});b.RR=void 0;m=a(32573);g=0;c.prototype.$t=function(){var k;k={id:this.id,type:this.type,created:this.Vl,status:this.status,movieId:this.O};this.startTime && (k.startTime=this.startTime);this.endTime && this.startTime && (k.duration=this.endTime - this.startTime,k.endTime=this.endTime);return k;};c.prototype.eO=function(k){this.notify && this.notify(k);};c.prototype.N5b=function(){return this.MKb.fetch(this.GO,this.kd);};Ya.Object.defineProperties(c.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.GO.O;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.GO.priority;}}});b.RR=c;},12849:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u,t,v,w){this.is=v;this.ag=w;this.log=u.Za("TaskScheduler");this.Kb=new p.Xj();this.config=t();this.currentIteration=this.wU=0;this.jJ=[];this.paused=!1;this.qca=[];this.JYa=[];this.JSb=this.config.V1b || q.append;this.addEventListener=this.Kb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.$Oa=void 0;r=a(5163);m=a(22674);g=a(87657);k=a(87386);d=a(4203);f=a(32573);n=a(42207);h=a(81918);l=a(5021);p=a(94886);(function(u){u.prepend="prepend";u.append="append";u.TRb="ignore";})(q || (q={}));c.prototype.fxb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.jJ=this.KSb(u);this.wU=0;this.currentIteration+=1;this.Mf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Mf=function(){var u,t,v,w;u=this;if(this.wU === this.jJ.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.wU,numberOfTasks:this.jJ.length});else {t=this.WOb();v=this.currentIteration;t.startTime=this.ag.Lb().ea(l.ma);t.status=f.oj.dx;this.Kb.Fc(g.uK.y$b,{O:t.O,type:t.type});this.qca.push(t);w=function(y){t.endTime=u.ag.Lb().ea(l.ma);y();u.JYa.push(t);u.qca.splice(u.qca.indexOf(t),1);u.currentIteration === v && (u.wU++,u.Mf());};t.N5b().then(function(){w(function(){t.status=f.oj.KP;u.zxa(t,g.uK.z$b,"task succeeded");});}).catch(function(y){w(function(){0 <= [f.oj.Qd,f.oj.zXa,f.oj.Vla].indexOf(y.status)?(t.status=y.status,u.zxa(t,g.uK.w$b,"cancelled task")):(t.status=f.oj.Ir,u.zxa(t,g.uK.x$b,"task failed",y));});});}};c.prototype.WOb=function(){return this.jJ[this.wU];};c.prototype.getStats=function(u,t,v){var w,y,x,z;w=this.JYa.map(function(A){return A.$t();});y=this.qca.map(function(A){return A.$t();});x=this.is.wg(u) && this.is.wg(t);z={};if(this.is.wg(v))return (z.zCb=w.filter(function(A){return A.movieId === v;}),z);w.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == f.oj.dx?A.startTime:A.endTime;x && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.zxa=function(u,t,v,w){var y;y=u.$t();w?this.log.warn(v,y,w):this.log.trace(v,y);this.Kb.Fc(t,{O:u.O,type:u.type,reason:u.status});u.eO(y);};c.prototype.KSb=function(u){var t,v;t=this.jJ.filter(function(w){return w.J0b && w.status === f.oj.Vl;});v=this.JSb;return v === q.TRb?[].concat(u):v === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(d.Zb)),r.__param(2,(0,m.l)(n.$f)),r.__param(3,(0,m.l)(h.Kc))],a);b.$Oa=a;},37991:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.HPa=void 0;a.prototype.Qla=function(c,m){var g;c=m(c);null === (g=c.sl) || void 0 === g?void 0:g.forEach(function(k){k.Sgb.video.push({c5:!1,Ig:function(d){return d.filter(function(f){return !f.si || 1080 >= f.VY;});}});});return c;};b.HPa=a;},85671:function(r,b,a){var g,k,d,f,n,h,l,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,E,G,F,I,P){this.vdc=A;this.Cb=B;this.ag=D;this.vc=C;this.p1a=E;this.JKb=G;this.KKb=F;this.J6=I;this.events=new y.EventEmitter();this.log=x.Za("VideoPreparer");this.config=z();this.uCa={};this.q$={};this.Uf={num_of_calls:0,num_of_movies:0};this.J6.Eb(this);this.sg=P.sg;}function m(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.VRa=void 0;r=a(5163);g=a(79538);k=a(4203);d=a(22674);f=a(87386);n=a(62665);h=a(42207);l=a(87657);p=a(81918);q=a(5021);u=a(32573);t=a(18148);v=a(32737);w=a(67590);y=a(90745);c.prototype.kfb=function(x,z,A){this.sg.setData(x,"ldl",z,A);};c.prototype.Z4a=function(x){return this.sg.cW(x,"ldl");};c.prototype.gYa=function(x){this.sg.clearData(x,"ldl",void 0,!0);};c.prototype.GM=function(x,z){return this.sg.getData(x,z);};c.prototype.E2a=function(x){var z;z=this.sg.getData(x,"ldl");this.sg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.jCa=function(x){return this.Fgb === x || this.KZa === x;};c.prototype.jI=function(x,z){var A,B,D;A=this;x=x.map(function(C){C.sb=C.sb || ({F4:{O0b:!1},Vj:0});A.Cb.hG(C.sb.Vj) || (C.sb.Vj=0);A.Cb.hG(C.Fe) && (C.sb.jb=C.Fe);return C;});B=x.map(function(C){return A.KFb(C,z);}).reduce(function(C,E){return C.concat(E);},[]);D=B.map(function(C){return C.O + "-" + C.type;});this.log.trace("prepare tasks",D);this.vc.fxb(B);this.Uf.num_of_calls++;this.Uf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.q$[A] || ({})),{jJ:this.vc.getStats(x,z,A),cache:this.sg.getStats(x,z),sMb:Object.assign(Object.assign({},this.Uf),this.J6.getStats())});};c.prototype.VQb=function(x){this.Fgb=x;};c.prototype.TQb=function(x){this.log.trace("task scheduler paused on playback created");this.vc.pause();this.config.iHb && this.sg.rma(x,["manifest"]);this.config.hHb && this.sg.rma(x,["ldl"]);this.config.fHb && this.sg.clearData(x,"manifest");this.J6.wdb(x);this.KZa=x;};c.prototype.U4a=function(){this.log.info("ad played, clearing all manifests from cache");this.R1a();};c.prototype.V4a=function(){this.log.info("track changed, clearing all manifests from cache");this.R1a();};c.prototype.SQb=function(x){var z;z=this;this.config.gHb?this.sg.clearData(x,"manifest"):this.sg.cW(x,"manifest") && this.sg.getData(x,"manifest").then(function(A){A.Ca.isSupplemental || z.sg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.wma(x);this.Fgb=this.KZa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.R1a=function(){this.sg.rma("none",["manifest","ldl"]);};c.prototype.wma=function(x){delete this.uCa[x];};c.prototype.au=function(x){return this.uCa[x];};c.prototype.J5=function(x){return this.uCa[x]=this.vdc.LB();};c.prototype.Zfb=function(x,z){if(this.Z4a(x))return u.oj.Qd;if(!z.qC)return u.oj.Vla;};c.prototype.KFb=function(x,z){var A,B;x.Md && x.sb && (x.sb.Md=x.Md);this.Hbc(x.O,x.Zk);A=this.rFb(x,z);B=this.mFb(x,null === A || void 0 === A?void 0:A.id,z);x=this.uFb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(m);};c.prototype.rFb=function(x,z){if(this.sg.cW(x.O,"manifest"))this.log.trace("manifest exists in cache for " + x.O);else return new g.RR("manifest",this.ag.Lb().ea(q.ma),!!x.sb.Yya,void 0,z,this.p1a,x,this);};c.prototype.mFb=function(x,z,A){if(this.config.SU)if(this.sg.cW(x.O,"ldl"))!1;else return this.config.Ks?new g.RR("ldl",this.ag.Lb().ea(q.ma),!!x.sb.Yya,z,A,this.JKb,x,this):new g.RR("ldl",this.ag.Lb().ea(q.ma),!!x.sb.Yya,z,A,this.KKb,x,this);};c.prototype.uFb=function(x,z,A){if(this.config.y0a)return new g.RR("getMedia",this.ag.Lb().ea(q.ma),!!x.sb.Yya,z,A,this.J6,x,this);};c.prototype.Hbc=function(x,z){this.q$[x] || (this.q$[x]={Jaa:0,Zk:0});x=this.q$[x];x.Jaa=(void 0 !== x?void 0 !== x.Jaa?x.Jaa:0:0) + 1;x.Zk=z;};a=c;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.$a)),r.__param(1,(0,d.l)(k.Zb)),r.__param(2,(0,d.l)(n.Cx)),r.__param(3,(0,d.l)(h.$f)),r.__param(4,(0,d.l)(p.Kc)),r.__param(5,(0,d.l)(l.fha)),r.__param(6,(0,d.l)(v.ZOa)),r.__param(7,(0,d.l)(v.YOa)),r.__param(8,(0,d.l)(v.XOa)),r.__param(9,(0,d.l)(w.Xda)),r.__param(10,(0,d.l)(t.lea))],a);b.VRa=a;},36149:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.Sjb=void 0;r=a(22674);c=a(58872);m=a(52357);b.Sjb=new r.md(function(g){g(c.TRa).to(m.SRa).ia();});},58872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TRa="VideoPlayerFactorySymbol";},85001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.kb=b.uf=b.Xb=b.R_=b.ha=b.vfa=b.FE=b.Ka=void 0;(function(c){c.r8a="loadedtracks";c.q8a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.io="currenttimechanged";c.Pib="unthrottledcurrenttimechanged";c.P4="bufferedtimechanged";c.goa="durationchanged";c.iCa="videosizechanged";c.hbb="pausedchanged";c.dxa="playingchanged";c.H0a="endedchanged";c.vL="busychanged";c.D4="audiotracklistchanged";c.Ol="audiotrackchanged";c.Qu="timedtexttracklistchanged";c.wl="timedtexttrackchanged";c.f_="trickplayframeschanged";c.o$a="mutedchanged";c.$jb="volumechanged";c.bAa="showsubtitle";c.kya="removesubtitle";c.edc="watermark";c.$sa="isReadyToTransition";c.gN="inactivated";c.x6a="internalPlaybackError";c.v6b="segmentmaploaded";c.w6b="segmentpresenting";c.zWa="autoplaywasallowed";c.G4="autoplaywasblocked";c.xxb="adsstatechanged";c.IC="livestatechanged";})(b.Ka || (b.Ka={}));(b.FE || (b.FE={})).hZ="playgraphsegmenttransition";b.vfa=a;a.efb="serverTimeChanged";(function(c){c.KF="aseReport";c.B9="liveReport";c.A9="livePipelineFailover";c.hla="autoplayWasAllowed";c.Kh="autoplayWasBlocked";c.oy="bufferUnderrun";c.closed="closed";c.ug="closing";c.io="currentTimeChanged";c.mG="downloadComplete";c.gN="inactivated";c.Z7a="licenseAdded";c.WW="licensed";c.aX="locationSelected";c.kua="manifestClosing";c.EH="manifestPresenting";c.vX="mediaBufferChanged";c.z$="nextBranchingSegmentChosen";c.wu="playbackStart";c.pl="playbackReady";c.Kj="repositioned";c.qD="repositioning";c.zeb="safePlayRequested";c.HI="segmentPresenting";c.lZ="serverSwitch";c.bgb="shouldUpdateVideoDiagInfo";c.JP="subtitleError";c.WAa="throttledMediaTimeChanged";c.Qib="unthrottledMediaTimeChanged";c.PP="timedTextRebuffer";c.Qu="timedTextTrackListChanged";c.f_="trickPlayFramesChanged";c.KBa="updateNextBranchingSegmentWeights";c.Gjb="userInitiatedPause";c.Hjb="userInitiatedResume";c.kib="tracksHydrated";c.IC="livestatechanged";})(b.ha || (b.ha={}));(b.R_ || (b.R_={})).rB="adBreakComplete";(function(c){c[c.lK=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.oe=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Xb || (b.Xb={}));(function(c){c[c.oe=1]="NORMAL";c[c.me=2]="BUFFERING";c[c.NPa=3]="STALLED";})(b.uf || (b.uf={}));(function(c){c[c.If=1]="WAITING";c[c.Ie=2]="PLAYING";c[c.Sg=3]="PAUSED";c[c.Nq=4]="ENDED";})(b.kb || (b.kb={}));(function(c){c[c.Ts=0]="INITIAL";c[c.Nx=1]="SEEK";c[c.cK=2]="LIVE_EDGE";c[c.$R=3]="TRACK_CHANGED";c[c.HE=4]="SEGMENT_CHANGED";c[c.J0=5]="FORCE_REBUFFER";c[c.YQ=6]="FRAGMENTS_MISSING";c[c.Sfa=7]="MEDIA_DISCONTINUITY";})(b.pc || (b.pc={}));},91122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hFa="CdnPartitionerSymbol";},75950:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.B5a=void 0;r=a(22674);c=a(70673);m=a(78033);g=a(23002);k=a(487);d=a(77764);f=a(23179);n=a(52794);h=a(52961);l=a(44376);p=a(15850);q=a(47500);u=a(68272);t=a(10242);v=a(78029);w=a(62553);y=a(91122);x=a(12394);z=a(20034);A=a(91825);B=a(27134);b.B5a=new r.md(function(D){D(c.uIa).to(m.tIa).ia();D(g.yIa).to(k.xIa).ia();D(d.gIa).to(f.fIa).ia();D(n.iIa).to(h.hIa).ia();D(y.hFa).to(x.gFa).ia();D(l.vOa).to(p.uOa).ia();D(q.Fha).to(u.IQa);D(t.sR).to(z.rR);D(A.vR).to(B.uR);D(v.hfa).to(w.BIa);});},78029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hfa="HLSConfigSymbol";},77764:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gIa="HLSPlaylistBuilderSymbol";},52794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iIa="HLSPlaylistTransformerSymbol";},70673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uIa="HeaderFetcherSymbol";},23002:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yIa="HLSHeaderParserFactorySymbol";},10242:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.igc="LogblobBuilderSymbol";b.sR="HLSLogblobBuilderFactorySymbol";},91825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vR="HLSLogblobMonitorFactorySymbol";},44376:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vOa="PlayerPlaydataMonitorSymbol";},47500:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fha="StreamChangeDetectorSymbol";},12394:function(r,b,a){var m,g;function c(k){this.la=k.Za("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(5163);m=a(22674);a=a(87386);c.prototype.fNb=function(k){var f,n,h,l,p,q,u;function d(t,v,w){var y,x,z;y=t.map(function(A){return A.Eg;});y.sort(function(A,B){return v[A] - v[B];});if(1 === y.length)(!1,h.set(w,{JO:t[0],Hba:t[0]}));else {x=y.find(function(A){return f.has(A);});x || ((x=y.find(function(A){return !n.has(A);}))?f.add(x):(x=y[0],!1));z=y.find(function(A){return n.has(A) && A !== x;});z || ((z=y.find(function(A){return !f.has(A) && A !== x;}))?n.add(z):(z=y.find(function(A){return A !== x;}),!1));h.set(w,{JO:t.find(function(A){return A.Eg === x;}),Hba:t.find(function(A){return A.Eg === z;})});}}f=new Set();n=new Set();h=new Map();l=k.video;p=k.audio;q=k.text;u=k.zk.reduce(function(t,v){t[v.id]=v.dc;return t;},{});l.forEach(function(t){t=t.stream;d(t.urls,u,t.$m);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.$m);});q.forEach(function(t){var v,w;if(!t.track.ju || t.track.O8){v=t.stream;t=t.id;w=v.urls.reduce(function(y,x,z){y[x.Eg]=z + 1;return y;},{});d(v.urls,w,t);}});return h;};g=c;g=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.$a))],g);b.gFa=g;},62553:function(r,b,a){var m,g,k,d;function c(f){return g.Ve.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BIa=void 0;r=a(5163);m=a(22674);g=a(64174);k=a(83767);a=a(12501);ea(c,g.Ve);Ya.Object.defineProperties(c.prototype,{Qbb:{configurable:!0,enumerable:!0,get:function(){return !0;}},Aw:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},Bz:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},C5a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},ru:{configurable:!0,enumerable:!0,get:function(){return 80;}}});d=c;r.__decorate([a.config(a.od,"playsInline")],d.prototype,"Qbb",null);r.__decorate([a.config(a.wC,"minAudioMediaRequestDuration")],d.prototype,"Aw",null);r.__decorate([a.config(a.wC,"minVideoMediaRequestDuration")],d.prototype,"Bz",null);r.__decorate([a.config(a.wC,"hlsVideoMediaRequestTargetDuration")],d.prototype,"C5a",null);r.__decorate([a.config(a.wC,"minStartingVideoVMAF")],d.prototype,"ru",null);d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.Hl))],d);b.BIa=d;},23179:function(r,b,a){var d,f,n,h,l,p,q,u,t,v,w,y;function c(x,z){this.DU=z;this.ce=x.filter(function(A){return A.zBa[p.Em.P2];}).map(function(A){return {track:A,stream:A.zBa[p.Em.P2],id:A.V_a[p.Em.P2]};});}function m(x,z,A){var B;this.hJ=z;this.ru=A;B=x[0];this.d_=B.streams.map(function(D){return {track:B,eW:D.wgb,stream:D};});}function g(x,z,A,B){function D(C,E){return C.bitrate > E.bitrate?C:E;}this.log=x;this.hJ=A;this.DU=B;this.d_=z.map(function(C){var E;E=C.streams.reduce(D);return {track:C,eW:E.Ak?E.Ak.offset + E.Ak.size:void 0,stream:E};});}function k(x,z,A,B,D,C){this.tRb=x;this.uRb=z;this.v1b=A;this.dBb=B;this.gW=D;this.Ff=C;this.la=C.Za("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.csb=b.jsb=b.klb=b.fIa=void 0;r=a(5163);d=a(22674);f=a(70673);n=a(23002);h=a(36129);l=a(31149);p=a(75568);q=a(52794);u=a(91122);t=a(78029);v=a(87386);w=a(79542);y=a(26388);k.prototype.Wg=function(x,z){var A,B,D,C,E,G;A=this;C=x.Ca;x=this.OMb(C,z);E=this.yQb(C,z);G=null !== (D=null === (B=C.EY) || void 0 === B?void 0:B.RP) && void 0 !== D?D:C.qJ.find(function(F){var I;return F.id === (null === (I=C.T5) || void 0 === I?void 0:I[0].dhb);}).eg;B=new c(C.qJ,G);return Promise.all([x,E,B]).then(function(F){var I,P;I=ja(F);F=I.next().value;P=I.next().value;I=I.next().value;F={audio:F.getMetadata(),video:P.getMetadata(),text:I.getMetadata(),i_a:F.eqa(),NGb:I.eqa(),duration:C.duration,zk:C.zk};P=A.dBb.fNb(F);z("h_s");return {yWb:A.v1b.transform(F,P),gBb:P,w9b:F};});};k.prototype.yQb=function(x,z){var A;A=new m(x.Vu,this.gW.C5a,this.gW.ru);return this.P_a(A.d_,y.u.X,z).then(function(B){A.Fza(B);return A;});};k.prototype.OMb=function(x,z){var A,B,D,C;D=null !== (B=null === (A=x.EY) || void 0 === A?void 0:A.Hp) && void 0 !== B?B:x.It.find(function(E){var G;return E.id === (null === (G=x.T5) || void 0 === G?void 0:G[0].Hp);}).eg;C=new g(this.la,x.It,this.gW.Aw,D);return this.P_a(C.d_,y.u.Y,z).then(function(E){C.Fza(E);return C;});};k.prototype.wwa=function(x,z,A,B){if(x=this.uRb.parse(z,x,A))return x;this.la.error("Failed to parse headers",{type:z === y.u.Y?"audio":"video",downloadableId:B.stream.$m});};k.prototype.P_a=function(x,z,A){var B;B=this;return Promise.all(x.map(function(D,C){if(D.eW)return B.tRb.download({urls:D.stream.urls,offset:0,length:D.eW}).then(function(E){A("h_" + (0 === z?"A":"V") + "_" + C + "_s");return B.wwa(E,z,z == y.u.Y?B.gW.Aw:B.gW.Bz,D);}).catch(function(){A("h_" + D.track.Bh[0] + "_" + C + "_f");B.la.warn("Failed to download and parse headers for " + D.stream.$m);});B.la.warn("Stream data offset is missing",{downloadableId:D.stream.$m});}));};a=k;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.uIa)),r.__param(1,(0,d.l)(n.yIa)),r.__param(2,(0,d.l)(q.iIa)),r.__param(3,(0,d.l)(u.hFa)),r.__param(4,(0,d.l)(t.hfa)),r.__param(5,(0,d.l)(v.$a))],a);b.fIa=a;g.prototype.Fza=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw l.Qc.mkb(h.V.dJa,h.R.Vfa);this.ce=this.d_.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,Ga:B,hJ:z.hJ};}).filter(w.Xsa);};g.prototype.getMetadata=function(){return this.ce;};g.prototype.eqa=function(){var x,z;x=this;if(!this.ce.find(function(A){return A.track.eg === x.DU;}) && 0 < this.ce.length){z=this.ce[0].track.eg;this.log.warn("Did not find metadata for audio track " + this.DU + ", falling back to " + z);return z;}return this.DU;};b.klb=g;m.prototype.Fza=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw l.Qc.mkb(h.V.dJa,h.R.Wfa);A=this.d_.map(function(B,D){if(D=x[D])return {track:B.track,stream:B.stream,Ga:D,hJ:z.hJ};}).filter(w.Xsa);this.ce=this.ePb(A);};m.prototype.getMetadata=function(){return this.ce;};m.prototype.ePb=function(x){var z,A,B;z=this;x.sort(function(D){return D.stream.bitrate;});A=x.findIndex(function(D){var C;return (null !== (C=D.stream.ub) && void 0 !== C?C:0) >= z.ru;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.jsb=m;c.prototype.eqa=function(){return this.DU;};c.prototype.getMetadata=function(){return this.ce;};b.csb=c;},52961:function(r,b,a){var m,g,k,d,f,n;function c(h){this.la=h.Za("HLSPlaylistTransformerImpl");this.Kcc=d.y0.Br();this.Tyb=f.Gea.Br();}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(35128);d=a(48617);f=a(12187);n=[0,1];c.prototype.transform=function(h,l){var p,q,u,t,v,w,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=h.text;t=h.audio;v=h.video;w=h.duration;y=h.i_a;x=h.NGb;u.forEach(function(A){n.forEach(function(B){var D,C,E,G;D=0 === B;C=A.stream;E=A.track;G=l.get(A.id);D=D?G.JO:G.Hba;C=p.hQb({url:D.url,duration:w / 1E3,size:C.size,Tl:"Manifest for subtitles " + E.language + ' stream "' + E.EC + '", ' + E.eg + ", cdn " + D.Eg});p.la.trace("Text variant manifest",C.join("\n"));B=p.iQb({groupId:B,name:E.EC,Gsa:E.eg === x,rn:E.O8,aTb:E.Bh === k.hp.Dda,language:E.language,uri:p.K9(C)});q.push(B);});});t.forEach(function(A){n.forEach(function(B){var D,C,E,G,F,I;D=0 === B;C=A.stream;E=A.track;G=A.Ga;F=A.hJ;I=l.get(C.$m);D=D?I.JO:I.Hba;C=p.J3a({url:D.url,eW:C.Ak.offset + C.Ak.size,Ga:G,vhb:Math.floor(F / 1E3),Tl:"Manifest for audio " + E.language + ' stream "' + E.EC + '", ' + E.eg + ", cdn " + D.Eg});p.la.trace("Audio variant manifest",C.join("\n"));B=p.PMb({groupId:B,language:E.language,name:E.EC,Gsa:E.eg === y,uri:p.K9(C)});q.push(B);});});z=this.Tyb[t[0].track.profile];v.forEach(function(A){n.forEach(function(B){var D,C,E,G,F,I;D=0 === B;C=A.stream;E=A.track;G=A.Ga;F=A.hJ;I=l.get(C.$m);I=D?I.JO:I.Hba;D=0 < u.length;E=p.J3a({url:I.url,eW:C.Ak?C.Ak.offset + C.Ak.size:C.wgb,Ga:G,vhb:Math.floor(F / 1E3),Tl:"Manifest for video bitrate " + C.bitrate + ", stream " + E.eg + ", cdn " + I.Eg});p.la.trace("Video variant manifest",E.join("\n"));B=p.zQb({groupId:B,WT:1E3 * C.bitrate,gzb:1E3 * C.bitrate,JTb:0 <= C.JB.indexOf("-hdr-") || 0 <= C.JB.indexOf("-dv5-"),framerate:(C.c2a / C.b2a).toFixed(3),vk:C.Gya + "x" + C.Zdb,Ccc:p.Kcc[C.JB],Jyb:z,E$b:D});q.push(B);B=p.K9(E);q.push("" + B);});});this.la.trace("Primary manifest",q.join("\n"));return this.K9(q);};c.prototype.PMb=function(h){var l;l=h.Gsa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + h.groupId + '"','CHANNELS="2"','LANGUAGE="' + h.language + '"','NAME="' + h.name + '"',"DEFAULT=" + (l?"YES":"NO"),"AUTOSELECT=" + (l?"YES":"NO"),'URI="' + h.uri + '"'].join(", ");};c.prototype.J3a=function(h){var l,p;l=h.Ga;p=["#EXTM3U","# " + h.Tl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + h.vhb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + l[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];l.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.jb.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.eAb + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.zQb=function(h){var l,p;l=h.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + h.WT,"AVERAGE-BANDWIDTH=" + h.gzb,"VIDEO-RANGE=" + (h.JTb?"PQ":"SDR"),"FRAME-RATE=" + h.framerate,'AUDIO="group_' + l + '"',"RESOLUTION=" + h.vk,'CODECS="' + h.Ccc + "," + h.Jyb + '"'];h.E$b && p.push('SUBTITLES="subs_' + l + '"');return p.join(", ");};c.prototype.hQb=function(h){var l;l=h.duration;return ["#EXTM3U","# " + h.Tl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(l),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + l.toFixed(3),"#EXT-X-BYTERANGE:" + h.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.iQb=function(h){var l,p,q;l=h.Gsa;p=h.language;q=h.uri;l=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + h.groupId + '"','NAME="' + h.name + '"',"DEFAULT=" + (l?"YES":"NO"),"AUTOSELECT=" + (l?"YES":"NO"),"FORCED=" + (h.rn?"YES":"NO")];h.aTb && l.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');l.push('LANGUAGE="' + p + '"');l.push('URI="' + q + '"');return l.join(", ");};c.prototype.K9=function(h){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(h.join("\n"));};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a))],a);b.hIa=a;},78033:function(r,b,a){var m,g,k,d;function c(f,n){this.HRb=f;this.log=n.Za("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tIa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(2571);d=a(32934);c.prototype.download=function(f){var h,l,p,q,u;function n(t){if(u < l.length - 1)return (!1,u++,h.R_a(l[u].url,p,q).catch(n));throw t;}h=this;l=f.urls;p=f.offset;q=f.length;u=0;return this.R_a(l[u].url,p,q).catch(n);};c.prototype.R_a=function(f,n,h){return this.HRb.download({url:f,withCredentials:!1,responseType:d.ResponseType.Dlb,SB:"hls_headers",Js:!0,offset:n,length:h,Ds:d.KR},{u9a:1});};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.EIa)),r.__param(1,(0,m.l)(g.$a))],a);b.tIa=a;},487:function(r,b,a){var m,g,k;function c(d){this.la=d.Za("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;r=a(5163);m=a(22674);g=a(91562);a=a(87386);c.prototype.parse=function(d,f,n){d=new g.Rq(this.la,{mediaType:d},f,["sidx"]).parse();if(d.Jw && d.Ga)return this.zka(d.Ga,n);};c.prototype.zka=function(d,f){var n,h,l,p,q;n=0;h=0;l=0;p=d.offset;q=[];d.jf.forEach(function(u,t){h+=u;l+=d.sizes[t];if(1E3 * h / d.N >= f || t === d.jf.length - 1)(q.push({duration:h / d.N,jb:n / d.N,byteOffset:p,eAb:l}),n+=h,h=0,p+=l,l=0);});return q;};k=c;k=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.$a))],k);b.xIa=k;},20034:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u,t){this.Ff=l;this.oz=p;this.Of=q;this.cc=u;this.Ea=t;}Object.defineProperty(b,"__esModule",{value:!0});b.rR=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(87386);d=a(45118);f=a(98326);n=a(31850);h=a(97444);c.prototype.create=function(l){return new h.tR(this.Ff,this.oz,this.Of,this.Ea,this.cc,l);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.$a)),r.__param(1,(0,m.l)(n.Dx)),r.__param(2,(0,m.l)(d.Al)),r.__param(3,(0,m.l)(f.Kfa)),r.__param(4,(0,m.l)(g.Kc))],a);b.rR=a;},97444:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u,t,v){var w;w=this;this.oz=p;this.Of=q;this.Ea=u;this.cc=t;this.Nua=this.xC=this.NY=0;this.vH=!1;this.xz=function(){var y;y=w.nY();y.prstate=w.Ty();y.paustate=w.j.lu();y.midplayseq=w.Nua++;w.cc.jN(y);w.yc(m.Ic.xz,void 0,h.Wd | h.Ys,y);};this.Kh=function(){w.yc(m.Ic.RWa,void 0,h.Wd | h.$o,{});};this.wl=function(y){w.wta=w.getTime();w.xta=y.oldValue;};this.QT=function(y){w.ota=y.oldValue;};this.raa=function(y){y != w.vH && (w.uAa(w.vH,y),w.vH=y);};this.uAa=function(y,x){var z;z=w.j.ya;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};w.cc.fq(y,z.fe.value && z.fe.value.stream,z.pf.value && z.pf.value.stream);w.yc(m.Ic.AZ,void 0,h.Wd,y);};this.wZ=function(y){w.yc(m.Ic.ugb,void 0,h.Wd,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.eA=function(y){var x,z,A;x=w.j.ya;z=x.Nb.value;if(y.newValue || z && z.vo() && !z.rn()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.Ae,downloadableId:y.Wb,rank:y.dc,isImageBased:y.nk}:{};y=(y=w.xta)?{trackId:y.trackId,bcp47:y.Ae,downloadableId:y.Wb,rank:y.dc,isImageBased:y.nk}:{};A={switchdelay:(0,g.cg)(w.getTime() - w.wta),track:A,oldtrack:y};w.cc.fq(A,x.fe.value && x.fe.value.stream,x.pf.value && x.pf.value.stream);w.yc(m.Ic.Rhb,void 0,h.Wd,A);}};this.Owa=function(y,x){var z;z=w.j.ya;y={waittime:(0,g.cg)(y),abortedevent:"resumeplay",resumeplayreason:x};w.cc.fq(y,z.Ue.value,z.Vg.value);w.yc(m.Ic.zO,void 0,h.Wd | h.$o,y);};this.Fu=function(y,x,z){var A;A=z.Lya;z=z.Odb;y={playdelay:(0,g.cg)(y),reason:A,intrplayseq:w.xC - 1,skipped:x};"repos" === A && (y.prstate=!0 === w.j.Ei.value?"playing":"paused",z === f.pc.YQ && (y.repos_reason="missing_segments"));w.yc(m.Ic.Fu,void 0,h.Wd | h.Uq,y);};this.fla=function(){var y,x,z,A;x=w.j.ya.ac.value;z=w.j.ya.Vg.value.Wb;x=x?{trackId:x.trackId,bcp47:x.Ae,downloadableId:z,rank:x.dc,chan:x.channels}:{};z=w.lz;A=null === (y=w.ota) || void 0 === y?void 0:y.Wb;y=z?{trackId:z.trackId,bcp47:z.Ae,downloadableId:A,rank:z.dc,chan:z.channels}:{};w.yc(m.Ic.uWa,void 0,h.Wd,{switchdelay:(0,g.cg)(w.getTime() - w.pta),track:x,oldtrack:y});};this.Ol=function(y){w.pta=w.getTime();w.lz=y.oldValue;};this.Pwa=function(){var y,x,z;y=w.j.ya;x={abortedevent:"startplay",trackid:y.Vj,prstate:w.Ty(),paustate:w.j.lu()};try{z=(0,k.TG)();z && (x.pdltime=z);(0,g.de)(x,y.yd,{prefix:"sm_"});}catch(A){}w.cc.s8(x,y);w.cc.iN(x,!1,y.ac.value,y);w.cc.kN(x,!1,y.Og.value,y);w.cc.fq(x,y.Ue.value,y.Vg.value);w.eH(x);w.yc(m.Ic.zO,void 0,h.Wd | h.Ys | h.$o,x);};this.ty=function(y,x,z,A){y={moff:(0,g.Xl)(z),moffms:(0,g.cg)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Wb,vdlidold:y.Wb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};w.yc(m.Ic.ty,void 0,0,y);};this.pD=function(y,x,z){y={moffold:(0,g.Xl)(y),reposseq:w.NY++,prstate:w.Ty(),paustate:w.j.lu()};w.cc.fq(y,z && z.stream,x && x.stream);w.yc(m.Ic.pD,void 0,h.Wd,y);};this.Gs=function(y){var x,z,A,B,D;B=y.ya;D={playdelaysdk:(0,g.cg)(w.j.dU()),applicationPlaydelay:(0,g.cg)(w.j.Ola()),playdelay:(0,g.cg)(w.j.Pla()),trackid:B.Vj,bookmark:(0,g.cg)(B.Pl || 0),pbnum:B.index};w.j.Kh && (D.blocked=w.j.Kh);D.initvbitrate=w.j.qW;w.cc.isa(D);w.cc.S5a(D);D.esnSource=null === (x=qb._cad_global.device) || void 0 === x?void 0:x.y6;w.Z5a(D,B);D.pdltime=(0,k.TG)();(0,g.de)(D,B.yd,{prefix:"sm_"});D.ttTrackFields=null === (z=B.Nb.value) || void 0 === z?void 0:z.Ag;D.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');w.cc.iN(D,!0,B.ac.value,B);w.cc.kN(D,!0,B.Og.value,B);D.packageId=null === (A=B.W) || void 0 === A?void 0:A.Ca.yn;w.cc.jN(D);w.cc.s8(D,B);w.eH(D);w.yc(m.Ic.Gs,y.rh,h.Wd | h.Uq | h.Ys | h.jE | h.$o,D);};this.Ky=function(){var y,x,z;y=w.j;x=y.ya;y=y.rh;z=w.nY();z.paustate=!w.j.AC();z.muted=w.j.Psa();z.endreason=y?"error":w.j.Jsa()?"ended":"stopped";w.cc.iN(z,!1,x.ac.value,x);w.cc.kN(z,!1,x.Og.value,x);w.cc.jN(z);w.eH(z);w.yc(m.Ic.Ky,y,h.Wd | h.Uq | h.Ys | h.jE | h.$o,z);};this.nya=function(y,x,z){var A;A=w.j.ya.pf;y={moff:(0,g.Xl)(z),moffms:(0,g.cg)(z),vdlidold:y.Wb,vbitrateold:y.bitrate};w.cc.fq(y,x,A.value && A.value.stream);w.yc(m.Ic.KY,void 0,0,y);};this.Ty=function(){var y;y=w.j.Ab.value;return y === f.kb.Ie?"playing":y === f.kb.Sg?"paused":y === f.kb.Nq?"ended":"waiting";};this.la=l.Za("LogblobBuilderImpl");this.j=v;}Object.defineProperty(b,"__esModule",{value:!0});b.tR=void 0;m=a(18169);g=a(3887);k=a(52569);d=a(36129);f=a(85001);n=a(5021);c.prototype.getTime=function(){return this.Ea.Lb().ea(n.ma);};c.prototype.ara=function(){return this.getTime() - this.j.ya.Wh.ea(n.ma);};c.prototype.Z5a=function(l,p){var q;if(p=null === (q=p.Og.value) || void 0 === q?void 0:q.streams)(l.maxbitrate=(0,k.xQ)(p.map(function(u){return u.bitrate;})),l.maxresheight=(0,k.xQ)(p.map(function(u){return u.height;})));};c.prototype.eH=function(l){l.cachedManifest="notcached";l.cachedLicense="notcached";l.usedldl="false";};c.prototype.nY=function(){var l,p,q,u;l=this.j.ya;p=l.ol;q={totaltime:(0,g.Xl)(p.Zp()),totalcontenttime:(0,g.Xl)(p.WV()),reposcount:this.NY,intrplaycount:this.xC};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=l.Ue.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.Tpa()) && (q.abrdel=u);(u=p.k8() && p.x2a()) && (q.tw_vmaf=u);(p=p.v2a()) && (0,g.de)(q,p);q.rbfrs=this.xC;this.Z5a(q,l);return q;};c.prototype.yc=function(l,p,q,u){var t,v,w;t=this;p && (0,d.G0)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.wa,this.ara(),void 0) && (v="info");w=this.j.ya;this.gka(u,p,q);p=v || (p?"error":"info");u=this.oz.Ot(l,p,u,w);this.Of.yc(u);"error" !== p && l !== m.Ic.Ky || this.Of.flush(!1).catch(function(){t.la.debug("Failed to flush the logblobs");});};c.prototype.gka=function(l,p,q){var u;u=this.j.ya;this.cc.R5a(l,u);q & h.Wd && this.cc.V5a(l,u,!1);q & h.Uq && this.cc.X5a(l,u);q & h.Ys && this.cc.Y5a(l,this.j.gn());p && q & h.jE && this.cc.T5a(l,u,p);q & h.$o && this.cc.isa(l);};b.tR=c;(function(l){l[l.Wd=1]="MOFF";l[l.Uq=2]="PRESENTEDSTREAMS";l[l.Ys=4]="SCREEN";l[l.jE=8]="FATALERROR";l[l.$o=16]="BROWSERINFO";})(h || (h={}));},27134:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p,q,u,t){this.Of=l;this.config=p;this.va=q;this.Ea=u;this.Tta=t;}Object.defineProperty(b,"__esModule",{value:!0});b.uR=void 0;r=a(5163);m=a(22674);g=a(81918);k=a(30869);d=a(4203);f=a(45118);n=a(10242);h=a(5522);c.prototype.create=function(l){return new h.wR(l,this.Of,this.config,this.Ea,this.Tta.create(l));};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(f.Al)),r.__param(1,(0,m.l)(d.Zb)),r.__param(2,(0,m.l)(k.hg)),r.__param(3,(0,m.l)(g.Kc)),r.__param(4,(0,m.l)(n.sR))],a);b.uR=a;},5522:function(r,b,a){var m,g,k;function c(d,f,n,h,l){var p;p=this;this.j=d;this.Of=f;this.config=n;this.Ea=h;this.gb=l;this.iU=function(){p.ug();p.j.ya.gi.removeListener(p.eA);p.j.ya.Nb.removeListener(p.gb.wl);p.j.ya.ac.removeListener(p.Ol);p.j.ya.Vg.removeListener(p.gb.QT);p.j.Ei.removeListener(p.Pbb);p.j.YO.removeListener(p.Kj);p.j.ya.fe.removeListener(p.uY);p.j.Ab.removeListener(p.Uv);p.j.Ab.removeListener(p.DL);p.j.ya.Ue.removeListener(p.x_);p.j.ya.playbackRate.removeListener(p.gb.wZ);p.j.removeEventListener(k.Ka.closed,p.iU);p.j.removeEventListener(k.Ka.G4,p.gb.Kh);};this.DL=function(){p.j.Ab.value === k.kb.Ie && (p.j.Ab.removeListener(p.DL),p.wu());};this.eA=function(q){p.rq && p.gb.eA(q);};this.Kj=function(q){p.rq && void 0 !== q.newValue && (p.dP && p.Yo && p.gb.Owa(p.getTime() - p.Yo,p.dP.Lya),p.dP={Lya:"repos",Odb:q.newValue},p.gb.pD(q.newValue,p.j.ya.pf.value,p.j.ya.fe.value),p.Yo=p.getTime(),(0,g.Mf)(p.Uv));};this.Pbb=function(q){p.rq && p.gb.raa(!q.newValue);};this.Ol=function(q){q.oldValue && (p.lz=q.oldValue,p.gb.Ol(q),p.dP={Lya:"repos",Odb:k.pc.$R},p.Yo=p.getTime(),(0,g.Mf)(p.Uv));};this.Uv=function(){var q;if(p.Yo && p.dP && p.j.Ab.value !== k.kb.If){q=p.getTime() - p.Yo;p.gb.Fu(q,!1,p.dP);p.lz && p.lz != p.j.ya.ac.value && p.gb.fla();p.Yo=void 0;p.dP=void 0;}};this.wu=function(){p.rq || (p.rq=!0,p.gb.Gs(p.j),p.rsa(),p.config().z8 && (p.cz=qb.setTimeout(function(){p.Of.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.cz=void 0;},p.config().z8)));};this.ug=function(){p.cz && (qb.clearTimeout(p.cz),p.cz=void 0);p.k_ && p.k_();p.rq?p.gb.Ky():p.j.rh?p.gb.Gs(p.j):p.gb.Pwa();};this.x_=function(q){q.oldValue && q.Lh && q.Lh.WF && p.gb.ty(q.oldValue,q.newValue,q.Lh.WF,q.Lh.WT);};this.uY=function(q){var u;if(q.newValue){u=q.newValue.stream;p.wH != u && (p.wH && u && p.gb.nya(p.wH,u,q.newValue.EL.startTime),p.wH=u);}};this.mca();}Object.defineProperty(b,"__esModule",{value:!0});b.wR=void 0;m=a(5021);g=a(32219);k=a(85001);c.prototype.mca=function(){this.j.addEventListener(k.Ka.closed,this.iU);this.j.addEventListener(k.Ka.G4,this.gb.Kh);this.j.ya.gi.addListener(this.eA);this.j.ya.Nb.addListener(this.gb.wl);this.j.ya.ac.addListener(this.Ol);this.j.ya.Vg.addListener(this.gb.QT);this.j.Ei.addListener(this.Pbb);this.j.YO.addListener(this.Kj);this.j.ya.fe.addListener(this.uY);this.j.Ab.addListener(this.Uv);this.j.Ab.addListener(this.DL);this.j.ya.Ue.addListener(this.x_);this.j.ya.playbackRate.addListener(this.gb.wZ);};c.prototype.getTime=function(){return this.Ea.Lb().ea(m.ma);};c.prototype.rsa=function(){var d,f,n;d=this;n=[];this.config().M9a && (this.config().N9a.forEach(function(h){n.push(qb.setTimeout(d.gb.xz,h));}),this.config().g$ && (f=qb.setInterval(this.gb.xz,this.config().g$)),this.k_=function(){n.forEach(function(h){qb.clearTimeout(h);});f && qb.clearInterval(f);});};b.wR=c;},15850:function(r,b,a){var m,g,k,d,f;function c(n,h){var p;function l(){p.Ewa.then(function(q){p.la.trace("Unloading PBO Playdata Services");q.close();});d.te.removeListener(d.cl,l);}p=this;this.jbb=h;this.Ewa=h();this.la=n.Za("PlayerPlaydataMonitorImpl");d.te.addListener(d.cl,l);}Object.defineProperty(b,"__esModule",{value:!0});b.uOa=void 0;r=a(5163);m=a(22674);g=a(87386);k=a(96687);d=a(37509);f=a(85001);c.prototype.kj=function(n,h){this.Ewa.then(function(l){l.kj(h,!0,function(p){return n.close(p);});l.sAa(h);n.addEventListener(f.Ka.dxa,function(){n.AC() && l.Yeb(h).catch(function(p){(p=p.AO) && n.close(p);});});n.addEventListener(f.Ka.wl,function(){l.Qba(h).catch(function(p){(p=p.AO) && n.close(p);});});n.addEventListener(f.Ka.Ol,function(){l.Qba(h).catch(function(p){(p=p.AO) && n.close(p);});});});};c.prototype.CZ=function(n){return this.Ewa.then(function(h){h.Jgb();return h.CZ(n).catch();});};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.$a)),r.__param(1,(0,m.l)(k.OR))],a);b.uOa=a;},68272:function(r,b,a){var m,g,k,d;function c(f){this.Lua={};this.v8={};this.m9=-1;this.EAa=new k.Jb(null);this.mxa=new k.Jb(null);this.la=f.Za("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.IQa=void 0;r=a(5163);m=a(22674);g=a(45247);k=a(81734);a=a(87386);c.prototype.Eb=function(f,n,h){var l;l=this;f.forEach(function(p){p.stream.urls.forEach(function(q){l.Lua[q.url]=[p,q.Eg];});});this.Kna=n;this.KGb=h;new PerformanceObserver(function(p){l.tbc(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.mfb=function(f){var n,h,l;if(this.Kna){h=this.w7(f);if(h !== this.m9){for(this.m9=h;0 <= h && !this.v8[h];)h--;l=ja(null !== (n=this.v8[h]) && void 0 !== n?n:[this.Kna,this.KGb]);n=l.next().value;l=l.next().value;this.la.debug("Setting time to " + f + ", using metadata from fragment " + h + " for " + ((0,g.KH)(n.track.type) + " track with bitrate ") + (n.stream.bitrate + " from cdn " + l));f=n.Ga[this.m9];h=f.jb;this.mxa.set({stream:n,EL:{startTime:Math.floor(1E3 * h),endTime:Math.floor(1E3 * (h + f.duration))},Tm:l});}}};c.prototype.w7=function(f){var n,h,l,p,q;n=this.Kna.Ga;f/=1E3;h=0;l=n.length - 1;if(f >= n[l].jb)return l;for(;l >= h;){p=h + Math.floor((l - h) / 2);q=n[p];if(f < q.jb)l=p - 1;else if(f >= q.jb + q.duration)h=p + 1;else return p;}return n.length - 1;};c.prototype.tbc=function(f){var n;n=this;f.filter(function(h){return "video" === h.initiatorType;}).forEach(function(h){var l,p,q;l=h.name.indexOf("&fi=");if(0 < l){p=h.name.substring(0,l);l=Number(h.name.substring(l + 4));if(n.Lua[p]){q=ja(n.Lua[p]);h=q.next().value;q=q.next().value;p && !Number.isNaN(l) && h && (n.v8[l] && (n.m9=-1),n.v8[l]=[h,q],p=h.Ga[l].jb,!1,n.EAa.set(h,{WF:Math.floor(1E3 * p),Tm:q}));}}});};d=c;d=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.$a))],d);b.IQa=d;},25050:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v;function c(w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J){var H,K,O;H=this;this.pY=y;this.Yy=x;this.Ea=z;this.Vh=A;this.Kb=B;this.mX=D;this.u1b=C;this.Dbb=E;this.nda=G;this.C4=F;this.va=I;this.JN=P;this.config=M;this.xB=L;this.I=Q;this.wh=J;this.$W=new l.Jb(!0);this.Ei=new l.Jb(!1);this.En=new l.Jb(!1);this.ended=new l.Jb(!1);this.S4=new l.Jb(0);this.Ab=new l.Jb(m.kb.If);this.YO=new l.Jb(void 0);this.loaded=this.yZ=this.closed=!1;this.ecb=function(R,ca){return function(oa){var ta,Fa,ua,ya,Ca;ta=oa.newValue;Fa=ta.Tm;oa=ta.EL;ua=ta.stream;ta=R.value;ya=ta.streams.find(function(Va){return Va.bitrate === ua.stream.bitrate;});Ca=H.ya.tg.find(function(Va){return Va.id === Fa;});H.log.info("Presenting " + ya.type + " request with bitrate " + ya.bitrate + ", track " + (ta.trackId + " [" + oa.startTime + "..." + oa.endTime + "]"));ca.set({stream:ya,EL:oa,Ec:Ca});};};this.Xgb=function(R,ca,oa){return function(ta){var Fa,ua;Fa=R.value;ua=Fa.streams.find(function(ya){return ya.bitrate === ta.newValue.stream.bitrate;});H.log.info("Streaming " + ua.type + " stream with bitrate " + ua.bitrate + ", track " + Fa.trackId);ca.set(ua,{WF:ta.Lh.WF,WT:void 0});Fa=H.ya.tg.filter(function(ya){return ya.id === ta.Lh.Tm;})[0];oa.set(Fa);};};this.J1a=new Set();this.log=w.Za("HLSVideoPlayer");this.fa=(0,g.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.fa.playsInline=this.config.Qbb;this.ya=this.pY(k.MA.index++,Q.O,Q.id,null !== (K=Q.sb) && void 0 !== K?K:{},this.Yy.LB(),this.Ea.Lb(),!1,void 0,function(){return H.Or();});this.ya.mediaTime.set(null !== (O=this.ya.Pl) && void 0 !== O?O:0);this.KJ();this.cub=this.JN.create(this);this.cub;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.URa=void 0;m=a(85001);g=a(52569);k=a(13044);d=a(72639);f=a(24735);n=a(36129);h=a(63156);l=a(81734);p=a(5021);q=a(32687);u=a(45266);t=a(3887);v=a(26388);c.prototype.i$b=function(){return !!this.fa.canPlayType && ("" !== this.fa.canPlayType("application/vnd.apple.mpegURL") || "" !== this.fa.canPlayType("audio/mpegurl"));};c.prototype.KJ=function(){var w;w=this;this.fa.addEventListener("loadedmetadata",function(){w.qb(m.Ka.r8a);w.qb(m.Ka.q8a);w.qb(m.Ka.Ol);w.qb(m.Ka.D4);w.qb(m.Ka.wl);w.qb(m.Ka.Qu);});this.fa.addEventListener("error",function(y){y=w.wh(n.V.HMa,y);w.close(y);});this.fa.addEventListener("timeupdate",function(){w.ended.set(!1);w.ya.mediaTime.set(w.Or());w.Rna();w.qb(m.Ka.io);w.qb(m.Ka.Pib);});this.fa.addEventListener("durationchange",function(){w.qb(m.Ka.goa);});this.fa.addEventListener("resize",function(){w.qb(m.Ka.iCa);});this.fa.addEventListener("playing",function(){w.Rna();w.En.set(!1);w.Ei.set(!0);w.ended.set(!1);w.Ab.set(m.kb.Ie);});this.fa.addEventListener("pause",function(){w.Ei.set(!1);w.En.set(!1);w.Ab.set(m.kb.Sg);});this.fa.addEventListener("waiting",function(){w.Ab.set(m.kb.If);});this.fa.addEventListener("stalled",function(){w.En.set(!0);});this.fa.addEventListener("seeking",function(){w.En.set(!1);w.YO.set(w.ya.mediaTime.value);w.Ab.set(m.kb.If);});this.fa.addEventListener("seeked",function(){void 0 !== w.YO.value && (w.ya.ol.vva(w.YO.value,w.Or()),w.YO.set(void 0));w.Ab.set(w.AC()?m.kb.Ie:m.kb.Sg);});this.fa.addEventListener("progress",function(){w.qb(m.Ka.P4);w.jbc();});this.fa.addEventListener("ended",function(){w.Ab.set(m.kb.Nq);w.En.set(!1);w.Ei.set(!1);w.ended.set(!0);});this.fa.addEventListener("volumechange",function(){w.qb(m.Ka.$jb);w.qb(m.Ka.o$a);});this.Ei.addListener(function(){w.qb(m.Ka.dxa);w.qb(m.Ka.hbb);w.DL();});this.S4.addListener(function(){w.qb(m.Ka.vL);});this.En.addListener(function(){w.qb(m.Ka.vL);});this.$W.addListener(function(){w.DL();});this.ended.addListener(function(){w.qb(m.Ka.H0a);});this.ya.playbackRate.addListener(function(y){w.fa.playbackRate=y.newValue;});};c.prototype.DL=function(){!this.AC() || this.$W.value || this.yZ || this.yWa || (this.yZ=!0,this.ya.dz=this.va.MI,this.Dbb.kj(this,this.ya));};c.prototype.dU=function(){return this.oY - (this.ya.Wh.ea(p.ma) + this.Ea.nz.ea(p.ma));};c.prototype.IG=function(){var w;w=this.ya.bb.ND;return (0,q.Tb)(w)?w:this.ya.Wh.ea(p.ma) + this.Ea.nz.ea(p.ma);};c.prototype.Ola=function(){return this.va.se.ea(p.ma) - this.IG();};c.prototype.Pla=function(){return this.oY - this.IG();};c.prototype.jbc=function(){var w;w=this.fa.readyState <= h.Lk.CA.HAVE_METADATA?0:this.fa.readyState <= h.Lk.CA.HAVE_CURRENT_DATA?.5:1;1 === w && (this.oY=this.va.se.ea(p.ma),this.$W.set(!1),this.opa(m.Ka.loaded));this.S4.set(w);};c.prototype.Rna=function(){var w;w=this.Or();this.nda.mfb(w);this.C4.mfb(w);};c.prototype.kZ=function(){var w;w=this;this.ya.ue("ats");return this.Vh.qo({na:this.ya.na,bb:this.ya.bb,J:this.ya.O,Lr:d.Bl.v2,Ef:f.Eh.On}).then(function(y){var z;function x(A){var B;B=A;A && A.vo() && !A.rn() && (B=null);w.ya.gi.set(B);}w.ya.ue("at");z=w.mX.create({}).bbb(y);w.ya.W=y;w.ya.Dc=z;w.fa.audioTracks.addEventListener("addtrack",function(){w.kjb(w.ya.ac.value);});w.fa.audioTracks.addEventListener("change",function(){for(var A,B,D={},C=ja(w.fa.audioTracks),E=C.next();!E.done;(D={qQ:D.qQ},E=C.next()))(D.qQ=E.value,D.qQ.enabled && D.qQ.label !== (null === (A=w.ya.ac.value) || void 0 === A?void 0:A.displayName) && (!1,E=null !== (B=w.ya.ii.find((function(G){return function(F){return F.displayName === G.qQ.label;};})(D))) && void 0 !== B?B:null,w.ya.ac.set(E)));});w.ya.ac.addListener(function(A){w.kjb(A.newValue);w.qb(m.Ka.Ol);w.qb(m.Ka.Qu);});w.fa.textTracks.addEventListener("addtrack",function(){w.ljb(w.ya.Nb.value);});w.fa.textTracks.addEventListener("change",function(){var G;for(var A,B,D=w.fa.textTracks,C={},E=0;E < D.length;(C={rQ:C.rQ},E++))if((C.rQ=D[E],"showing" === C.rQ.mode && C.rQ.label !== (null === (A=w.ya.Nb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=w.ya.fh.find((function(F){return function(I){return I.displayName === F.rQ.label;};})(C))) && void 0 !== B?B:null;w.ya.Nb.set(G);x(G);}});w.ya.Nb.set(z.CU);x(z.CU);w.ya.Nb.addListener(function(A){w.ljb(A.newValue);w.qb(m.Ka.wl);});return w.u1b.Wg(y,function(A){return w.ya.ue(A);});}).then(function(y){var x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H;x=y.yWb;z=y.gBb;y=y.w9b;A=y.audio;B=y.i_a;D=y.video;C=w.ya;E=C.Vg;G=C.ac;F=C.ii;I=C.Ue;P=C.Og;y=C.Pl;M=C.fe;L=C.pf;Q=C.ol;C=C.Dc;C.ii=F.filter(function(K){return A.find(function(O){return O.track.eg === K.trackId;});});P.set(C.U5);G.set(F.find(function(K){return K.trackId === B;}));C=D[0];J=C.stream;F=A.find(function(K){return K.track.eg === B;});H=F.stream;w.qW=J.bitrate;w.nda.mxa.addListener(w.ecb(P,M));w.nda.EAa.addListener(w.Xgb(P,I,w.ya.Ec[v.u.X]));I=z.get(J.$m).JO.Eg;w.nda.Eb(D,C,I);w.C4.mxa.addListener(w.ecb(G,L));w.C4.EAa.addListener(w.Xgb(G,E,w.ya.Ec[v.u.Y]));z=z.get(H.$m).JO.Eg;w.C4.Eb(A,F,z);w.fa.src=x;w.fa.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;w.fa.load();Q.vva(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.Nf)(y);w.log.error("uncaught exception",y,z);}w.close(w.wh(null !== (x=y.code) && void 0 !== x?x:n.V.DRa,y));});};c.prototype.ljb=function(w){var z;for(var y=this.fa.textTracks,x=0;x < y.length;x++){z=y[x];z.label === w.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== w.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.kjb=function(w){for(var y=ja(this.fa.audioTracks),x=y.next();!x.done;x=y.next())(x=x.value,x.label !== w.displayName || x.enabled || (!1,x.enabled=!0),x.label !== w.displayName && x.enabled && (!1,x.enabled=!1));};c.prototype.no=function(){};c.prototype.$k=function(){};c.prototype.Or=function(){return Math.floor(1E3 * this.fa.currentTime);};c.prototype.m7=function(){return this.Or();};c.prototype.LM=function(){return this.Or();};c.prototype.KM=function(){return Math.floor(1E3 * this.fa.duration);};c.prototype.M3a=function(){return this.I.O;};c.prototype.au=function(){return this.ya.na;};c.prototype.Z3a=function(){var w;return null === (w=this.ya.W) || void 0 === w?void 0:w.Ca.Ad;};c.prototype.gn=function(){return this.fa;};c.prototype.pw=function(){return null === this.sh();};c.prototype.AC=function(){return this.Ei.value;};c.prototype.lu=function(){return !this.Ei.value;};c.prototype.Jsa=function(){return this.fa.ended;};c.prototype.sh=function(){return 1 !== this.S4.value?{stalled:this.En.value,progress:this.S4.value,progressRollback:!1}:null;};c.prototype.getError=function(){var w,y;return null !== (y=null === (w=this.rh) || void 0 === w?void 0:w.b_()) && void 0 !== y?y:null;};c.prototype.C2a=function(){return 1 === this.fa.buffered.length?1E3 * this.fa.buffered.end(0):null;};c.prototype.O4a=function(){return {width:this.fa.videoWidth,height:this.fa.videoHeight};};c.prototype.Psa=function(){return this.fa.muted;};c.prototype.P4a=function(){return this.fa.volume;};c.prototype.yfb=function(w){this.fa.muted=w;};c.prototype.Pfb=function(w){this.fa.volume=w;};c.prototype.addEventListener=function(w,y,x){this.Kb.addListener(w,y,x);};c.prototype.removeEventListener=function(w,y){this.Kb.removeListener(w,y);};c.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.xB.ZW(function(y){w.i$b()?y.pa?w.kZ():w.close(w.wh(y.errorCode || n.V.ofa,y)):w.close(w.wh(n.V.Vnb));}));};c.prototype.close=function(w){if(this.closed)return Promise.resolve();this.ya.mediaTime.set(this.Or());this.Rna();this.ya.rU=this.m7();this.closed=!0;this.fa.removeAttribute("src");this.fa.load();null === w || void 0 === w?void 0:w.Afb(!this.$W.value);(this.rh=w) && this.qb(m.Ka.error,w.b_());this.qb(m.Ka.closed);return this.Dbb.CZ(this.ya);};c.prototype.play=function(){var w,y;w=this;y=this.fa.play();this.yWa=!1;y && y.then(function(){w.opa(m.Ka.zWa);}).catch(function(x){w.qb(m.Ka.vL);"NotAllowedError" === x.name && (w.log.warn("Playback is blocked by the browser settings",x),w.yWa=!0,w.Kh=!0,w.opa(m.Ka.G4,{player:{play:function(){return w.play();}}}));});};c.prototype.qb=function(w,y,x){y=y || ({});y.target=this;this.Kb.Fc(w,y,!x);};c.prototype.opa=function(w,y){this.J1a.has(w) || (this.J1a.add(w),this.qb(w,y,void 0));};c.prototype.pause=function(){this.fa.pause();};c.prototype.gbb=function(){this.pause();};c.prototype.seek=function(w){this.fa.currentTime=w / 1E3;};c.prototype.a6a=function(w){this.close(this.wh(n.V.SGa,n.R.jp,w));};c.prototype.WM=function(){return this.ya.playbackRate.value;};c.prototype.Wba=function(w){this.ya.playbackRate.set(w);};c.prototype.u2a=function(){var w;w=this;return this.ya.ii.map(function(y){return w.$p(y);});};c.prototype.mra=function(w){var y;y=this;return this.PV(w).map(function(x){return y.$p(x);});};c.prototype.t2a=function(){var w;w=this.ya.ac.value;return w && this.$p(w);};c.prototype.lra=function(){var w;w=this.ya.Nb.value;return w && this.$p(w);};c.prototype.ifb=function(w){if((w=this.fV(w)) && w.dg)return (this.ya.ac.set(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Qza=function(w){var y,x;y=this;x=this.ya.fh.find(function(z){return y.$p(z) === w;});if(x && x.dg)return (this.ya.Nb.set(x),this.ya.gi.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.H3a=function(){var w;return this.IV(this.ya.ii,null === (w=this.ya.W) || void 0 === w?void 0:w.Ca.r9a);};c.prototype.Bqa=function(w){var y;return this.IV(this.PV(w),null === (y=this.ya.W) || void 0 === y?void 0:y.Ca.s9a);};c.prototype.$p=function(w){var y;y=w.Kxa=w.Kxa || ({trackId:w.trackId,bcp47:w.Ae,displayName:w.displayName,trackType:w.Bh,rawTrackType:w.oD,channels:w.channels});this.Usa(w) && (y.isNative=w.isNative,y.surroundFormatLabel=w.LZ);this.Vsa(w) && (y.isNoneTrack=w.vo(),y.isForcedNarrative=w.rn(),y.isImageBased=w.nk);y.subType=w.dJ;y.variant=w.variant;return y;};c.prototype.Usa=function(w){return "undefined" !== typeof w.isNative;};c.prototype.Vsa=function(w){return "undefined" !== typeof w.vo && "undefined" !== typeof w.rn;};c.prototype.fV=function(w){var y;y=this;return w && this.ya.ii.find(function(x){return y.$p(x) === w;});};c.prototype.PV=function(w){var y;w=this.fV(w) || this.ya.ac.value;return null !== (y=null === w || void 0 === w?void 0:w.fh) && void 0 !== y?y:[];};c.prototype.IV=function(w,y){var x;x=w.length - 1;if("number" !== typeof y)return x;w=w.findIndex(function(z){return z.dc > y;});return -1 === w?x:w - 1;};c.prototype.Yca=function(w){this.ya.bb=(0,u.e$)(this.ya.bb,w);};c.prototype.$i=function(w){if(w !== this.ya.H)throw (!1,Error("Unknown segmentId " + w));return this.ya;};c.prototype.$3a=function(){return this.ya.bb;};c.prototype.ska=function(){!1;};c.prototype.Gw=function(){!1;};c.prototype.UH=function(){!1;};c.prototype.aW=function(){!1;return Promise.reject();};c.prototype.bra=function(){return {};};c.prototype.n7=function(){};c.prototype.q2a=function(){return {};};c.prototype.Eza=function(){};c.prototype.zP=function(){};c.prototype.G6a=function(){return !1;};c.prototype.T2a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.mM=function(){!1;return Promise.resolve({success:!0});};c.prototype.K4a=function(){!1;};c.prototype.VV=function(){!1;};c.prototype.rP=function(){!1;};c.prototype.Vza=function(){!1;};c.prototype.n8a=function(){!1;};c.prototype.j2a=function(){!1;return Promise.reject();};c.prototype.zbb=function(){!1;return Promise.reject();};c.prototype.Jcb=function(){!1;return Promise.reject();};c.prototype.Ji=function(){!1;return Promise.reject();};c.prototype.jI=function(){!1;};b.URa=c;},41893:function(r,b,a){var m,g,k,d,f,n;function c(h,l,p,q,u,t,v,w,y,x,z,A,B,D,C){var E;E=this;this.ke=h;this.Cb=l;this.Kb=q;this.yu=t;this.mU=v;this.k2a=w;this.config=x;this.wh=A;this.I=B;this.j=z.create(B.O,B.Wh,y,D,C,B.sb,B.id,B.W);this.j.background.set(!0);this.log=p.Za("VideoPlayer",this.j);this.kbb=[];this.ended=!1;this.KJ();this.j.state.addListener(function(G){G.newValue === g.Xb.oe && E.qb(g.Ka.$sa,{movieId:B.O});});this.j.bb.yg && (this.tL=u.JEb(this,this.j),this.j.addEventListener(g.ha.HI,function(G){G=G.position.segmentId;E.MUb !== G && (E.MUb=G,E.qb(g.Ka.w6b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.xJa=void 0;m=a(36129);g=a(85001);k=a(5021);d=a(22365);f=a(87607);n=a(3887);c.prototype.pw=function(){return this.j.state.value === g.Xb.oe;};c.prototype.M3a=function(){return this.j.O;};c.prototype.au=function(){return this.j.na;};c.prototype.Z3a=function(){var h;return null === (h=this.j.W) || void 0 === h?void 0:h.Ca.Ad;};c.prototype.gn=function(){return this.j.wk;};c.prototype.AC=function(){return this.j.Ei.value;};c.prototype.lu=function(){return this.j.paused.value;};c.prototype.Jsa=function(){return this.ended;};c.prototype.sh=function(){var h;h=this.j.Gla.value;return h?{networkStalled:!!h.En,stalled:!!h.En,progress:h.progress,progressRollback:!!h.S2b}:null;};c.prototype.getError=function(){var h;h=this.j.rh;return h?h.b_():null;};c.prototype.no=function(){var h;return null === (h=this.j.no()) || void 0 === h?void 0:h.zJb;};c.prototype.$k=function(){return this.j.xd;};c.prototype.LM=function(){return this.$k().Z?this.$k().T7():this.Or();};c.prototype.Or=function(){return this.j.mediaTime.value;};c.prototype.C2a=function(){var h;h=(this.m7() || 0) + this.j.B2a();return Math.min(h,this.KM());};c.prototype.m7=function(){return this.$k().Z?this.$k().T7():this.j.jC();};c.prototype.KM=function(){return this.$k().Z?this.$k().L4a():this.j.yy.ea(k.ma);};c.prototype.O4a=function(){var h;h=this.j.VD.value;return h?{width:h.width,height:h.height}:null;};c.prototype.n7=function(){return this.j.n7();};c.prototype.j2a=function(h){var l,p;return (null === (l=this.j.W) || void 0 === l?0:l.wi.QM("generateScreenshots"))?this.k2a.lo(this.log,this.j.W.wi,h):(l=null === (p=this.j.bb) || void 0 === p?void 0:p.yn)?this.k2a.Cf(this.log,Object.assign({packageId:l},h)):Promise.reject("Unknown packageId");};c.prototype.T2a=function(){return this.zNb(this.j.E_a);};c.prototype.u2a=function(){var h;h=this;return this.j.ii.map(function(l){return h.$p(l);});};c.prototype.H3a=function(){var h;return this.IV(this.j.ii,null === (h=this.j.W) || void 0 === h?void 0:h.Ca.r9a);};c.prototype.mra=function(h){var l;l=this;return this.PV(h).map(function(p){return l.$p(p);});};c.prototype.Bqa=function(h){var l;return this.IV(this.PV(h),null === (l=this.j.W) || void 0 === l?void 0:l.Ca.s9a);};c.prototype.Psa=function(){return this.j.muted.value;};c.prototype.P4a=function(){return this.j.volume.value;};c.prototype.t2a=function(){var h,l;l=(null === (h=this.Kw) || void 0 === h?void 0:h.ac) || this.j.ac.value;return l && this.$p(l);};c.prototype.lra=function(){var h,l;l=(null === (h=this.Kw) || void 0 === h?void 0:h.SZ) || this.j.Nb.value;return l && this.$p(l);};c.prototype.G6a=function(){return this.j.background.value;};c.prototype.yfb=function(h){this.j.muted.set(!!h);};c.prototype.Pfb=function(h){this.j.volume.set(this.sZb(h));};c.prototype.Wba=function(h){this.j.playbackRate.set(h);};c.prototype.WM=function(){return this.j.playbackRate.value;};c.prototype.ifb=function(h){var l,p,q,u,t;l=this;q=this.fV(h);if(q){if(q.dg)return (this.j.ac.set(q),Promise.resolve());u=(h=(null === (p=this.Kw) || void 0 === p?void 0:p.SZ) || this.j.Nb.value) && this.e7a(q,h)?h:q.fh[0];p=q.trackId;t=u.trackId;this.Kw={ac:q,SZ:u};this.qb(g.Ka.Ol);this.qb(g.Ka.Qu);u !== h && this.qb(g.Ka.wl);return this.j.F5a(p,t).then(function(v){v=v.ac;l.Kw=void 0;l.j.ac.set(v);}).catch(function(v){l.Kw=void 0;v=l.ke.Nf(v);l.log.error(v);l.close(l.wh(m.V.wE,{wa:m.R.Qfa,Yb:v,cH:{QRb:q.trackId,I5a:q.Ae,RRb:u.trackId,J5a:u.Ae}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Qza=function(h){var l,p,q,u;l=this;q=(null === (p=this.Kw) || void 0 === p?void 0:p.ac) || this.j.ac.value;if(null !== q){u=q.fh;p={};for(var t=0;t < u.length;(p={Ms:p.Ms},t++)){p.Ms=u[t];if(!h && null === p.Ms)return (this.j.Nb.set(null),Promise.resolve());if(this.$p(p.Ms) === h){if(p.Ms.dg)return (this.log.info("Setting Timed Text, profile: " + p.Ms.profile),this.j.Nb.set(p.Ms),Promise.resolve());h=q.trackId;u=p.Ms.trackId;this.Kw={ac:q,SZ:p.Ms};this.qb(g.Ka.wl);return this.j.F5a(h,u).then(function(v){v=v.SZ;l.Kw=void 0;l.j.Nb.set(v);}).catch((function(v){return function(w){l.Kw=void 0;w=l.ke.Nf(w);l.log.error(w);l.close(l.wh(m.V.wE,{wa:m.R.Qfa,Yb:w,cH:{QRb:q.trackId,I5a:q.Ae,RRb:v.Ms.trackId,J5a:v.Ms.Ae}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Eza=function(h){this.j.background.set(h);};c.prototype.zP=function(){this.j.zP();};c.prototype.Yca=function(h){this.j.Yca(h);};c.prototype.$i=function(h){return this.j.$i(h);};c.prototype.$3a=function(){return this.j.bb;};c.prototype.Gw=function(){this.j.Gw();};c.prototype.UH=function(h){this.j.UH(h);};c.prototype.aW=function(h,l,p){return this.j.aW(h,l,p);};c.prototype.ska=function(h,l){this.j.addEventListener(h,l,void 0);};c.prototype.addEventListener=function(h,l,p){this.Kb.addListener(h,l,p);};c.prototype.removeEventListener=function(h,l){this.Kb.removeListener(h,l);};c.prototype.jI=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(l,p){try{h.qb(g.Ka.r8a,void 0,!0);l.W && (l.W.Ca.jkb && h.qb(g.Ka.edc,l.W.Ca.jkb,!0),l.W.Ca.Op && h.qb(g.Ka.v6b,{segmentMap:l.W.Ca.Op},!0));p({pa:!0});}catch(q){p({wa:m.R.Bm,Yb:h.ke.Nf(q)});}}));};c.prototype.close=function(h){var l;l=this;this.rYa || (this.rYa=new Promise(function(p){h?l.j.YF(h,p):l.j.close(p);}));return this.rYa;};c.prototype.play=function(){this.j.Kh?this.j.fireEvent(g.ha.zeb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(g.ha.Hjb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(g.ha.Gjb));};c.prototype.gbb=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{dO:!0});};c.prototype.seek=function(h,l,p,q){l=void 0 === l?g.pc.Nx:l;this.j.XAb() && (this.$k().Z && this.$k().j7a(this.$k().peb(h)) && !this.$k().FW(!0)?this.$k().Jba():this.j.ae?(this.$k().Z && (h=this.$k().peb(h)),this.j.ae.seek(h,l,p,q)):(this.$k().Z && (h=this.$k().yqa(h).Pl),this.j.Pl=h));};c.prototype.zbb=function(h){return this.tL?(this.log.trace("Playing a segment",h),this.tL.play(h)):Promise.resolve();};c.prototype.Jcb=function(h){return this.tL?(this.log.trace("Queueing a segment",h),this.tL.Lo(h)):Promise.resolve();};c.prototype.Ji=function(h,l){return this.tL?(this.log.trace("Updating next segment weights",h,l),this.tL.Ji(h,l)):Promise.resolve();};c.prototype.VV=function(){var h;h=this.j.Hn.VV();return {bounds:h.ZT,margins:h.fs,size:h.size,visibility:h.visibility};};c.prototype.rP=function(h){var l,p,q;l=h.bounds;p=h.margins;q=h.size;h=h.visibility;this.j.XZ && (l && this.j.XZ.Rza(l),p && this.j.XZ.Sza(p),"boolean" === typeof h && this.j.XZ.Tza(h));this.j.Hn && q && this.j.Hn.I7b(q);};c.prototype.Vza=function(h){this.j.vm=h;};c.prototype.K4a=function(h){return this.j.fA && this.j.fA.WNb(h) || null;};c.prototype.q2a=function(){return this.ke.OH({playerver:this.config.version,jssid:this.config.uUb,groupName:this.config.ZNb(),xid:this.j.na,pbi:this.j.index},this.config.X0b,{prefix:"pi_"});};c.prototype.a6a=function(h){this.j.vd(m.V.SGa,m.R.jp,h);};c.prototype.n8a=function(h,l,p,q){if(!this.Cb.OVa(h))throw Error("invalid url");this.kbb.push({url:h,name:l,dzb:p,options:q});this.scb();};c.prototype.bra=function(){var h,l,p,q,u,t,v,w;h={};l=this.j.yZ;try{if((this.j.rh && (h.errorCode=this.j.rh.g6,h.errorType=l?"endplay":"startplay"),h.playdelay=(0,n.cg)(this.j.dU()),h.xid=this.j.na,this.j.W && this.Cb.Bp(this.j.W.Ca.yn) && (h.packageId=Number(this.j.W.Ca.yn)),h.auth=this.j.RMb(),l)){h.totaltime=this.j.ol?this.Xl(this.j.ol.Zp("content")):0;h.abrdel=this.j.ol?this.j.ol.Tpa():0;p=this.j.ae;q=p?p.NG():null;this.Cb.ck(q) && (h.totdfr=q);q=p?p.zV():null;this.Cb.ck(q) && (h.totcfr=q);u=p?p.jOb():null;u && (h.rbfrs_decoder=u.O5,h.rbfrs_network=u.w$);h.rbfrs_delay=this.j.ol?this.j.ol.Csa:0;h.init_vbr=this.j.B8;t=this.TG();this.Cb.hG(t) && (h.pdltime=t);v=this.j.fe.value;w=v && v.stream;w && (h.vbr=w.bitrate,h.vdlid=w.Wb);h.bufferedTime=this.j.B2a();}}catch(y){this.log.error("error capturing session summary",y);}return h;};c.prototype.mM=function(h){this.j.bb.mm && (this.j.bb.mm.userEngageAction=1);return this.Cb.ck(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.yu.create(this.j)),{action:h}),this.mU(f.ap.mM).lo(this.log,this.j.W.wi,h).then(function(){return {success:!0};}).catch(function(l){return {success:!1,errorCode:l.code,errorSubCode:l.Pc,errorExternalCode:l.De,errorData:l.data,errorDetails:l.details};})):Promise.resolve({success:!1});};c.prototype.zNb=function(h){return {register:h.register.bind(h),notifyUpdated:h.V$a.bind(h),getModel:h.NOb.bind(h),getGroups:h.DV.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.$p=function(h){var l;l=h.Kxa=h.Kxa || ({trackId:h.trackId,bcp47:h.Ae,displayName:h.displayName,trackType:h.Bh,rawTrackType:h.oD,channels:h.channels});this.Usa(h) && (l.isNative=h.isNative,l.surroundFormatLabel=h.LZ);this.Vsa(h) && (l.isNoneTrack=h.vo(),l.isForcedNarrative=h.rn(),l.isImageBased=h.nk);l.subType=h.dJ;l.variant=h.variant;return l;};c.prototype.Usa=function(h){return "undefined" !== typeof h.isNative;};c.prototype.Vsa=function(h){return "undefined" !== typeof h.vo && "undefined" !== typeof h.rn;};c.prototype.fV=function(h){var l;l=this;return h && this.j.ii.find(function(p){return l.$p(p) === h;});};c.prototype.PV=function(h){var l,p;h=this.fV(h) || (null === (l=this.Kw) || void 0 === l?void 0:l.ac) || this.j.ac.value;return null !== (p=null === h || void 0 === h?void 0:h.fh) && void 0 !== p?p:[];};c.prototype.IV=function(h,l){var p;p=h.length - 1;if("number" !== typeof l)return p;h=h.findIndex(function(q){return q.dc > l;});return -1 === h?p:h - 1;};c.prototype.e7a=function(h,l){return 0 <= h.fh.indexOf(l);};c.prototype.sZb=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.Xl=function(h){return this.Cb.ck(h)?(h / 1E3).toFixed(0):"";};c.prototype.qb=function(h,l,p){l=l || ({});l.target=this;this.Kb.Fc(h,l,!p);};c.prototype.KJ=function(){var h;h=this;this.j.addEventListener(g.ha.WAa,function(){h.qb(g.Ka.io);});this.j.VD.addListener(function(){h.qb(g.Ka.iCa);});this.j.addEventListener(g.ha.Qib,function(){h.qb(g.Ka.Pib);});this.j.addEventListener(g.ha.vX,function(){h.qb(g.Ka.P4);});this.j.addEventListener(g.ha.Kj,function(){h.qb(g.Ka.P4);});this.j.addEventListener(g.ha.gN,function(l){h.qb(g.Ka.gN,{errorCode:l});});this.j.addEventListener(g.ha.hla,function(){h.qb(g.Ka.zWa);});this.j.addEventListener(g.ha.Kh,function(l){h.qb(g.Ka.G4,l);});this.j.addEventListener(g.ha.kib,function(){h.qb(g.Ka.D4);h.qb(g.Ka.Qu);});this.j.Ei.addListener(function(){h.qb(g.Ka.dxa);});this.j.paused.addListener(function(){h.qb(g.Ka.hbb);});this.j.muted.addListener(function(){h.qb(g.Ka.o$a);});this.j.volume.addListener(function(){h.qb(g.Ka.$jb);});this.j.Ab.addListener(function(){h.Wib();});this.j.state.addListener(function(){h.Wib();});this.j.Gla.addListener(function(l){h.PVb || h.j.state.value != g.Xb.oe || l.newValue || (h.PVb=!0,h.qb(g.Ka.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.bra());}));h.qb(g.Ka.vL);});this.j.ac.addListener(function(){h.qb(g.Ka.Ol);h.qb(g.Ka.Qu);setTimeout(function(){var l,p;l=h.j.ac.value;p=h.j.Nb.value;null === l || null === p || h.e7a(l,p) || (h.log.info("Changing timed text track to match audio track"),h.j.Nb.set(l.fh[0]));},0);});this.j.Nb.addListener(function(l){l.oldValue && l.newValue && l.oldValue.trackId == l.newValue.trackId || h.qb(g.Ka.wl);});this.j.addEventListener(g.ha.Qu,function(){h.qb(g.Ka.Qu);});this.j.addEventListener(g.ha.f_,function(){h.qb(g.Ka.f_);});this.j.state.addListener(function(l){switch(l.newValue){case g.Xb.oe:h.qb(g.Ka.goa);h.qb(g.Ka.iCa);h.qb(g.Ka.D4);h.qb(g.Ka.Qu);h.qb(g.Ka.q8a);h.scb();h.hdc();break;case g.Xb.CLOSING:h.j.rh && h.qb(g.Ka.x6a,h.j.rh);break;case g.Xb.CLOSED:(h.qb(g.Ka.closed),h.Kb.Gg());}});this.j.addEventListener(g.ha.IC,function(){h.qb(g.Ka.IC);h.qb(g.Ka.io);h.qb(g.Ka.P4);h.qb(g.Ka.goa);});};c.prototype.hdc=function(){var h;h=this;this.j.Hn.addEventListener("showsubtitle",function(l){h.qb(g.Ka.bAa,l,!0);});this.j.Hn.addEventListener("removesubtitle",function(l){h.qb(g.Ka.kya,l,!0);});this.j.no().Ml.addListener(function(){h.qb(g.Ka.xxb);});};c.prototype.scb=function(){if(this.j.state.value == g.Xb.oe){for(var h,l,p;l=this.kbb.shift();)(h=this.j.Hn.hka(l.url,l.name,l.options),l.dzb && (p=h));p && this.j.Nb.set(p);}};c.prototype.Wib=function(){var h;h=this.j.state.value == g.Xb.oe && this.j.Ab.value == g.kb.Nq;this.ended !== h && (this.ended=h,this.j.FF("Ended changed: " + h),(h || this.j.state.value === g.Xb.CLOSING) && this.qb(g.Ka.H0a));};c.prototype.TG=function(){var h,l;try{h=/playercore.*js/;l=d.ov.getEntriesByType("resource").filter(function(p){return null !== h.exec(p.name);});if(l && 0 < l.length)return JSON.stringify(Math.round(l[0].duration));}catch(p){}};b.xJa=c;},52357:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P;function c(M){this.Cc=M;}Object.defineProperty(b,"__esModule",{value:!0});b.SRa=void 0;r=a(5163);m=a(22674);g=a(71501);k=a(74870);d=a(42207);f=a(87386);n=a(15160);h=a(2911);l=a(41106);p=a(41893);q=a(32979);u=a(87607);t=a(95738);v=a(25050);w=a(61861);y=a(62665);x=a(81918);z=a(49745);A=a(37104);B=a(77764);D=a(4203);C=a(44376);E=a(47500);G=a(30869);F=a(78029);I=a(91825);P=a(11479);c.prototype.NL=function(M,L,Q,J,H,K){return this.Cc.get(D.Zb)().ada?new v.URa(this.Cc.get(f.$a),this.Cc.get(w.Xga),this.Cc.get(y.Cx),this.Cc.get(x.Kc),this.Cc.get(z.yE),this.Cc.get(n.Uea),this.Cc.get(A.Yfa),this.Cc.get(B.gIa),this.Cc.get(C.vOa),this.Cc.get(E.Fha),this.Cc.get(E.Fha),this.Cc.get(G.hg),this.Cc.get(I.vR),this.Cc.get(F.hfa),this.Cc.get(P.Zh),J,Q):new p.xJa(this.Cc.get(k.Fh),this.Cc.get(d.$f),this.Cc.get(f.$a),this.Cc.get(n.Uea),this.Cc.get(h.yha),this.Cc.get(q.Gga),this.Cc.get(u.Tea),this.Cc.get(t.gNa),this.Cc.get(l.jGa),M,L,Q,J,H,K);};a=c;a=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.vJa))],a);b.SRa=a;},35558:function(r,b,a){r.exports={lrb:a(81198),yec:a(52915)};},52915:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;}function m(g){this.Ze=null;this.mt=g;this.size=0;}b=a(61161);c.prototype.Yg=function(g){return g?this.right:this.left;};c.prototype.Eq=function(g,k){g?this.right=k:this.left=k;};m.prototype=new b();m.prototype.uo=function(g){if(null === this.Ze)(this.Ze=new c(g),this.size++);else for(var k=0,d=null,f=this.Ze;;){if(null === f){f=new c(g);d.Eq(k,f);ret=!0;this.size++;break;}if(0 === this.mt(f.data,g))break;k=0 > this.mt(f.data,g);d=f;f=f.Yg(k);}};m.prototype.remove=function(g){var k,d,l;if(null === this.Ze)return !1;k=new c(void 0);d=k;d.right=this.Ze;for(var f=null,n=null,h=1;null !== d.Yg(h);){f=d;d=d.Yg(h);l=this.mt(g,d.data);h=0 < l;0 === l && (n=d);}return null !== n?(n.data=d.data,f.Eq(f.right === d,d.Yg(null === d.left)),this.Ze=k.right,this.size--,!0):!1;};r.exports=m;},81198:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function m(f){this.Ze=null;this.mt=f;this.size=0;}function g(f){return null !== f && f.red;}function k(f,n){var h;h=f.Yg(!n);f.Eq(!n,h.Yg(n));h.Eq(n,f);f.red=!0;h.red=!1;return h;}function d(f,n){f.Eq(!n,k(f.Yg(!n),!n));return k(f,n);}b=a(61161);c.prototype.Yg=function(f){return f?this.right:this.left;};c.prototype.Eq=function(f,n){f?this.right=n:this.left=n;};m.prototype=new b();m.prototype.uo=function(f){var n,h,l,p,q,u,t,v;if(null === this.Ze)(this.Ze=new c(f),this.size++);else {n=new c(void 0);h=0;l=0;p=null;q=n;u=null;t=this.Ze;for(q.right=this.Ze;;){null === t?(t=new c(f),u.Eq(h,t),this.size++):g(t.left) && g(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(g(t) && g(u)){v=q.right === p;t === u.Yg(l)?q.Eq(v,k(p,!l)):q.Eq(v,d(p,!l));}v=this.mt(t.data,f);if(0 === v)break;l=h;h=0 > v;null !== p && (q=p);p=u;u=t;t=t.Yg(h);}this.Ze=n.right;}this.Ze.red=!1;};m.prototype.remove=function(f){var n,h,t,v,w;if(null === this.Ze)return !1;n=new c(void 0);h=n;h.right=this.Ze;for(var l=null,p,q=null,u=1;null !== h.Yg(u);){t=u;p=l;l=h;h=h.Yg(u);v=this.mt(f,h.data);u=0 < v;0 === v && (q=h);if(!g(h) && !g(h.Yg(u)))if(g(h.Yg(!u)))(p=k(h,u),l.Eq(t,p),l=p);else if(!g(h.Yg(!u)) && (v=l.Yg(!t),null !== v))if(g(v.Yg(!t)) || g(v.Yg(t))){w=p.right === l;g(v.Yg(t))?p.Eq(w,d(l,t)):g(v.Yg(!t)) && p.Eq(w,k(l,t));t=p.Yg(w);t.red=!0;h.red=!0;t.left.red=!1;t.right.red=!1;}else (l.red=!1,v.red=!0,h.red=!0);}null !== q && (q.data=h.data,l.Eq(l.right === h,h.Yg(null === h.left)),this.size--);this.Ze=n.right;null !== this.Ze && (this.Ze.red=!1);return null !== q;};r.exports=m;},61161:function(r){function b(){}function a(c){this.HUa=c;this.lp=[];this.ng=null;}b.prototype.clear=function(){this.Ze=null;this.size=0;};b.prototype.find=function(c){var g;for(var m=this.Ze;null !== m;){g=this.mt(c,m.data);if(0 === g)return m.data;m=m.Yg(0 < g);}return null;};b.prototype.lowerBound=function(c){var d;for(var m=this.Ze,g=this.iterator(),k=this.mt;null !== m;){d=k(c,m.data);if(0 === d)return (g.ng=m,g);g.lp.push(m);m=m.Yg(0 < d);}for(d=g.lp.length - 1;0 <= d;--d)if((m=g.lp[d],0 > k(c,m.data)))return (g.ng=m,g.lp.length=d,g);g.lp.length=0;return g;};b.prototype.upperBound=function(c){for(var m=this.lowerBound(c),g=this.mt;null !== m.data() && 0 === g(m.data(),c);)m.next();return m;};b.prototype.min=function(){var c;c=this.Ze;if(null === c)return null;for(;null !== c.left;)c=c.left;return c.data;};b.prototype.max=function(){var c;c=this.Ze;if(null === c)return null;for(;null !== c.right;)c=c.right;return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Tp=function(c){for(var m=this.iterator(),g;null !== (g=m.next());)c(g);};a.prototype.data=function(){return null !== this.ng?this.ng.data:null;};a.prototype.next=function(){var c;if(null === this.ng){c=this.HUa.Ze;null !== c && this.HTa(c);}else if(null === this.ng.right){do if((c=this.ng,this.lp.length))this.ng=this.lp.pop();else {this.ng=null;break;}while(this.ng.right === c);}else (this.lp.push(this.ng),this.HTa(this.ng.right));return null !== this.ng?this.ng.data:null;};a.prototype.oI=function(){var c;if(null === this.ng){c=this.HUa.Ze;null !== c && this.CTa(c);}else if(null === this.ng.left){do if((c=this.ng,this.lp.length))this.ng=this.lp.pop();else {this.ng=null;break;}while(this.ng.left === c);}else (this.lp.push(this.ng),this.CTa(this.ng.left));return null !== this.ng?this.ng.data:null;};a.prototype.HTa=function(c){for(;null !== c.left;)(this.lp.push(c),c=c.left);this.ng=c;};a.prototype.CTa=function(c){for(;null !== c.right;)(this.lp.push(c),c=c.right);this.ng=c;};r.exports=b;},62680:function(r,b,a){var c,m,g;c=a(67286);m=a(89429);g=m(c("String.prototype.indexOf"));r.exports=function(k,d){d=c(k,!!d);return "function" === typeof d && -1 < g(k,".prototype.")?m(d):d;};},89429:function(r,b,a){var m,g,k,d,f,n,h;function c(){return d(m,g,arguments);}m=a(4090);b=a(67286);g=b("%Function.prototype.apply%");k=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || m.call(k,g);f=b("%Object.getOwnPropertyDescriptor%",!0);n=b("%Object.defineProperty%",!0);h=b("%Math.max%");if(n)try{n({},"a",{value:1});}catch(l){n=null;}r.exports=function(l){var p;p=d(m,k,arguments);f && n && f(p,"length").configurable && n(p,"length",{value:1 + h(0,l.length - (arguments.length - 1))});return p;};n?n(r.exports,"apply",{value:c}):r.exports.apply=c;},75195:function(r,b,a){var c,m,g,k,d;b=a(81181)();c=a(67286);m=b && c("%Object.defineProperty%",!0);g=c("%SyntaxError%");k=c("%TypeError%");d=a(50326);r.exports=function(f,n,h){var l,p,q,u,t;if(!f || "object" !== typeof f && "function" !== typeof f)throw new k("`obj` must be an object or a function`");if("string" !== typeof n && "symbol" !== typeof n)throw new k("`property` must be a string or a symbol`");if(3 < arguments.length && "boolean" !== typeof arguments[3] && null !== arguments[3])throw new k("`nonEnumerable`, if provided, must be a boolean or null");if(4 < arguments.length && "boolean" !== typeof arguments[4] && null !== arguments[4])throw new k("`nonWritable`, if provided, must be a boolean or null");if(5 < arguments.length && "boolean" !== typeof arguments[5] && null !== arguments[5])throw new k("`nonConfigurable`, if provided, must be a boolean or null");if(6 < arguments.length && "boolean" !== typeof arguments[6])throw new k("`loose`, if provided, must be a boolean");l=3 < arguments.length?arguments[3]:null;p=4 < arguments.length?arguments[4]:null;q=5 < arguments.length?arguments[5]:null;u=6 < arguments.length?arguments[6]:!1;t=!!d && d(f,n);if(m)m(f,n,{configurable:null === q && t?t.configurable:!q,enumerable:null === l && t?t.enumerable:!l,value:h,writable:null === p && t?t.writable:!p});else if(u || !l && !p && !q)f[n]=h;else throw new g("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");};},14926:function(r,b,a){var c,m,g,k,d,f;c=a(33464);m="function" === typeof Symbol && "symbol" === typeof Symbol("foo");g=Object.prototype.toString;k=Array.prototype.concat;d=a(75195);f=a(81181)();r.exports=function(n,h){var l,p,u,t,v,w;l=2 < arguments.length?arguments[2]:{};p=c(h);m && (p=k.call(p,Object.getOwnPropertySymbols(h)));for(var q=0;q < p.length;q+=1)a:{u=n;t=p[q];v=h[p[q]];w=l[p[q]];if((t in u))if(!0 === w){if(u[t] === v)break a;}else if("function" !== typeof w || "[object Function]" !== g.call(w) || !w())break a;f?d(u,t,v,!0):d(u,t,v);}};},5885:function(r,b,a){var c,m,g,k,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;m=a(53919);g=a(9680);k=a(54277);d=a(88705);r.exports=function(f){var n,h,l;if(m(f))return f;n="default";1 < arguments.length && (arguments[1] === String?n="string":arguments[1] === Number && (n="number"));if(c)if(Symbol.toPrimitive){h=Symbol.toPrimitive;l=f[h];if(null !== l && "undefined" !== typeof l){if(!g(l))throw new TypeError(l + " returned for property " + h + " of object " + f + " is not a function");h=l;}else h=void 0;}else d(f) && (h=Symbol.prototype.valueOf);if("undefined" !== typeof h){n=h.call(f,n);if(m(n))return n;throw new TypeError("unable to convert exotic object to primitive");}"default" === n && (k(f) || d(f)) && (n="string");a:{n="default" === n?"number":n;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof n || "number" !== n && "string" !== n)throw new TypeError('hint must be "string" or "number"');n="string" === n?["toString","valueOf"]:["valueOf","toString"];for(h=0;h < n.length;++h)if((l=f[n[h]],g(l) && (l=l.call(f),m(l))))break a;throw new TypeError("No default value");}return l;};},53919:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(r){var n,h,l,p;function b(){b.Eb.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,v){var w,y;a(t);w=q.lb;if(void 0 === w)(w=q.lb=Object.create(null),q.YE=0);else {void 0 !== w.JYb && (q.emit("newListener",u,t.listener?t.listener:t),w=q.lb);y=w[u];}void 0 === y?(w[u]=t,++q.YE):("function" === typeof y?y=w[u]=v?[t,y]:[y,t]:v?y.unshift(t):y.push(t),t=void 0 === q.vt?b.Jna:q.vt,0 < t && y.length > t && !y.nCa && (y.nCa=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.$v=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function m(){if(!this.I1a)return (this.target.removeListener(this.type,this.okb),this.I1a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function g(q,u,t){q={I1a:!1,okb:void 0,target:q,type:u,listener:t};u=m.bind(q);u.listener=t;return q.okb=u;}function k(q){var u;u=this.lb;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && f(q,"error",u,t);}function f(q,u,t,v){if("function" === typeof q.on){if(v.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){v.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}n="object" === typeof Reflect?Reflect:null;h=n && "function" === typeof n.apply?n.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};l=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,v){function w(x){q.removeListener(u,y);v(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",w);t([].slice.call(arguments));}f(q,u,y,{once:!0});"error" !== u && d(q,w,{once:!0});});};b.EventEmitter=b;b.prototype.lb=void 0;b.prototype.YE=0;b.prototype.vt=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || l(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.Eb=function(){if(void 0 === this.lb || this.lb === Object.getPrototypeOf(this).lb)(this.lb=Object.create(null),this.YE=0);this.vt=this.vt || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || l(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.vt=q;return this;};b.prototype.emit=function(q){var v,w;for(var u=[],t=1;t < arguments.length;t++)u.push(arguments[t]);v="error" === q;t=this.lb;if(void 0 !== t)v=v && void 0 === t.error;else if(!v)return !1;if(v){0 < u.length && (w=u[0]);if(w instanceof Error)throw w;u=Error("Unhandled error." + (w?" (" + w.message + ")":""));u.context=w;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)h(t,this,u);else {w=t.length;v=Array(w);for(var y=0;y < w;++y)v[y]=t[y];for(t=0;t < w;++t)h(v[t],this,u);}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.Laa=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,g(this,q,u));return this;};b.prototype.dcb=function(q,u){a(u);this.Laa(q,g(this,q,u));};b.prototype.removeListener=function(q,u){var t,v,w,y,x;a(u);v=this.lb;if(void 0 === v)return this;w=v[q];if(void 0 === w)return this;if(w === u || w.listener === u)0 === --this.YE?this.lb=Object.create(null):(delete v[q],v.removeListener && this.emit("removeListener",q,w.listener || u));else if("function" !== typeof w){y=-1;for(t=w.length - 1;0 <= t;t--)if(w[t] === u || w[t].listener === u){x=w[t].listener;y=t;break;}if(0 > y)return this;if(0 === y)w.shift();else {for(;y + 1 < w.length;y++)w[y]=w[y + 1];w.pop();}1 === w.length && (v[q]=w[0]);void 0 !== v.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.ks=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,v;u=this.lb;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.lb=Object.create(null),this.YE=0):void 0 !== u[q] && (0 === --this.YE?this.lb=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){v=t[u];"removeListener" !== v && this.removeAllListeners(v);}this.removeAllListeners("removeListener");this.lb=Object.create(null);this.YE=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--)this.removeListener(q,t[u]);return this;};b.prototype.listeners=function(q){var u;u=this.lb;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t)u[t]=q[t].listener || q[t];q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):k.call(q,u);};b.prototype.listenerCount=k;},37795:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var m;m=this;if("function" !== typeof m || "[object Function]" !== a.call(m))throw new TypeError("Function.prototype.bind called on incompatible " + m);for(var g=b.call(arguments,1),k,d=Math.max(0,m.length - g.length),f=[],n=0;n < d;n++)f.push("$" + n);k=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var h;if(this instanceof k){h=m.apply(this,g.concat(b.call(arguments)));return Object(h) === h?h:this;}return m.apply(c,g.concat(b.call(arguments)));});m.prototype && (d=function(){},d.prototype=m.prototype,k.prototype=new d(),d.prototype=null);return k;};},4090:function(r,b,a){b=a(37795);r.exports=Function.prototype.bind || b;},67286:function(r,b,a){var k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C;function c(E){var G,F,I;G=A(E,0,1);F=A(E,-1);if("%" === G && "%" !== F)throw new k("invalid intrinsic syntax, expected closing `%`");if("%" === F && "%" !== G)throw new k("invalid intrinsic syntax, expected opening `%`");I=[];z(E,D,function(P,M,L,Q){I[I.length]=L?z(Q,C,"$1"):M || P;});return I;}function m(){throw new f();}function g(E){try{return d('"use strict"; return (' + E + ").constructor;")();}catch(G){}}k=SyntaxError;d=Function;f=TypeError;n=Object.getOwnPropertyDescriptor;if(n)try{n({},"");}catch(E){n=null;}b=n?(function(){try{return (arguments.callee,m);}catch(E){try{return n(arguments,"callee").get;}catch(G){return m;}}})():m;h=a(32636)();l=a(18486)();p=Object.getPrototypeOf || (l?function(E){return E.__proto__;}:null);q={};l="undefined" !== typeof Uint8Array && p?p(Uint8Array):void 0;u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h && p?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":q,"%AsyncGenerator%":q,"%AsyncGeneratorFunction%":q,"%AsyncIteratorPrototype%":q,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":q,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h && p?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && h && p?p(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && h && p?p(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h && p?p(("")[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":k,"%ThrowTypeError%":b,"%TypedArray%":l,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};if(p)try{(null).error;}catch(E){b=p(p(E));u["%Error.prototype%"]=b;}t=function F(G){var I,P;if("%AsyncFunction%" === G)I=g("async function () {}");else if("%GeneratorFunction%" === G)I=g("function* () {}");else if("%AsyncGeneratorFunction%" === G)I=g("async function* () {}");else if("%AsyncGenerator%" === G){P=F("%AsyncGeneratorFunction%");P && (I=P.prototype);}else "%AsyncIteratorPrototype%" === G && (P=F("%AsyncGenerator%")) && p && (I=p(P.prototype));return u[G]=I;};v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(4090);w=a(23198);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;C=/\\(\\)?/g;r.exports=function(G,F){var I,P,M,L,Q,J,H,K,O;if("string" !== typeof G || 0 === G.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof F)throw new f('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");I=c(G);P=0 < I.length?I[0]:"";M="%" + P + "%";L=M;if(w(v,L)){Q=v[L];L="%" + Q[0] + "%";}if(w(u,L)){J=u[L];J === q && (J=t(L));if("undefined" === typeof J && !F)throw new f("intrinsic " + M + " exists, but is not available. Please file an issue!");}else throw new k("intrinsic " + M + " does not exist!");M=J;L=!1;Q && (P=Q[0],x(I,y([0,1],Q)));Q=1;for(J=!0;Q < I.length;Q+=1){H=I[Q];K=A(H,0,1);O=A(H,-1);if(('"' === K || "'" === K || "`" === K || '"' === O || "'" === O || "`" === O) && K !== O)throw new k("property names with quotes must have matching quotes");"constructor" !== H && J || (L=!0);P+="." + H;K="%" + P + "%";if(w(u,K))M=u[K];else if(null != M){if(!((H in M))){if(!F)throw new f("base intrinsic for " + G + " exists, but the property is not available.");return;}n && Q + 1 >= I.length?(O=n(M,H),M=(J=!!O) && ("get" in O) && !(("originalValue" in O.get))?O.get:M[H]):(J=w(M,H),M=M[H]);J && !L && (u[K]=M);}}return M;};},50326:function(r,b,a){if(b=a(67286)("%Object.getOwnPropertyDescriptor%",!0))try{b([],"length");}catch(c){b=null;}r.exports=b;},81181:function(r,b,a){var m;function c(){if(m)try{return (m({},"a",{value:1}),!0);}catch(g){}return !1;}m=a(67286)("%Object.defineProperty%",!0);c.bRb=function(){if(!c())return null;try{return 1 !== m([],"length",{value:1}).length;}catch(g){return !0;}};r.exports=c;},18486:function(r){var b,a;b={T1a:{}};a=Object;r.exports=function(){return ({__proto__:b}).T1a === b.T1a && !(({__proto__:null}) instanceof a);};},32636:function(r,b,a){var c,m;c="undefined" !== typeof Symbol && Symbol;m=a(66679);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:m();};},66679:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b)return !1;if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(r,b,a){var c;c=a(66679);r.exports=function(){return c() && !!Symbol.toStringTag;};},23198:function(r,b,a){b=a(4090);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},28041:function(r,b,a){var g,k;function c(d,f,n,h,l){var p,q,t;p={};q="number" === typeof l;l=void 0 !== l && q?l.toString():n;if(q && void 0 !== n)throw Error(g.Bob);Reflect.Hra(d,f) && (p=Reflect.getMetadata(d,f));n=p[l];if(Array.isArray(n)){q=0;for(var u=n;q < u.length;q++){t=u[q];if(t.key === h.key)throw Error(g.enb + " " + t.key.toString());}}else n=[];n.push(h);p[l]=n;Reflect.V5(d,p,f);}function m(d,f){return function(n,h){f(n,h,d);};}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);k=a(37425);b.gJ=function(d,f,n,h){c(k.UQa,d,f,h,n);};b.PZ=function(d,f,n){c(k.VQa,d.constructor,f,n);};b.PB=function(d,f,n){"number" === typeof n?(d=[m(n,d)],Reflect.PB(d,f)):"string" === typeof n?Reflect.PB([d],f,n):Reflect.PB([d],f);};},29385:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);m=a(37425);g=a(67258);k=a(28041);r=(function(){function d(f){this.Fsb=f;}d.prototype.bbc=function(){return this.Fsb();};return d;})();b.Efa=r;b.l=function(d){return function(f,n,h){var l;if(void 0 === d)throw Error(c.esb(f.name));l=new g.Metadata(m.iR,d);"number" === typeof h?k.gJ(f,n,h,l):k.PZ(f,n,l);};};},16504:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);m=a(37425);b.U=function(){return function(g){var k;if(Reflect.Hra(m.pga,g))throw Error(c.dnb);k=Reflect.getMetadata(m.Bmb,g) || [];Reflect.V5(m.pga,k,g);return g;};};},3342:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);m=a(67258);g=a(28041);b.QH=function(k){return function(d,f,n){var h;h=new m.Metadata(c.xE,k);"number" === typeof n?g.gJ(d,f,n,h):g.PZ(d,f,h);};};},44466:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);m=a(67258);g=a(28041);b.q$a=function(k){return function(d,f,n){var h;h=new m.Metadata(c.GA,k);"number" === typeof n?g.gJ(d,f,n,h):g.PZ(d,f,h);};};},5923:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);m=a(67258);g=a(28041);b.optional=function(){return function(k,d,f){var n;n=new m.Metadata(c.pMa,!0);"number" === typeof f?g.gJ(k,d,f,n):g.PZ(k,d,n);};};},76311:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);m=a(37425);g=a(67258);b.Tbb=function(){return function(k,d){d=new g.Metadata(m.NR,d);if(Reflect.Hra(m.NR,k.constructor))throw Error(c.spb);Reflect.V5(m.NR,d,k.constructor);};};},91823:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(67258);m=a(28041);b.thb=function(g,k){return function(d,f,n){var h;h=new c.Metadata(g,k);"number" === typeof n?m.gJ(d,f,n,h):m.PZ(d,f,h);};};},67509:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);m=a(67258);g=a(28041);b.QZ=function(k){return function(d,f,n){var h;h=new m.Metadata(c.P1,k);g.gJ(d,f,n,h);};};},53022:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);m=a(67258);g=a(28041);b.Xo=function(){return function(k,d,f){var n;n=new m.Metadata(c.dS,!0);g.gJ(k,d,f,n);};};},70078:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);m=a(72632);r=(function(){function g(k,d){this.id=m.id();this.bka=!1;this.gg=k;this.scope=d;this.type=c.mj.Pob;this.cG=function(){return !0;};this.aM=this.Fw=this.Mz=this.tM=this.cache=this.bm=null;}g.prototype.clone=function(){var k;k=new g(this.gg,this.scope);k.bka=!1;k.bm=this.bm;k.aM=this.aM;k.scope=this.scope;k.type=this.type;k.tM=this.tM;k.Mz=this.Mz;k.cG=this.cG;k.Fw=this.Fw;k.cache=this.cache;return k;};return g;})();b.Elb=r;},57197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gea={wgc:2,eMa:0,Tpb:1};},25640:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dnb="Cannot apply @injectable decorator multiple times.";b.enb="Metadata key was used more than once in a parameter:";b.JR="NULL argument";b.DJa="Key Not Found";b.Hkb="Ambiguous match found for serviceIdentifier:";b.Wlb="Could not unbind serviceIdentifier:";b.Epb="No matching bindings found for serviceIdentifier:";b.fpb="Missing required @injectable annotation in:";b.gpb="Missing required @inject or @multiInject annotation in:";b.esb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Zlb="Circular dependency found:";b.Ogc="Sorry, this feature is not fully implemented yet.";b.Aob="Invalid binding type:";b.Gpb="No snapshot available to restore.";b.Eob="Invalid return type in middleware. Middleware must return!";b.Dob="Value provided to function binding must be a function!";b.Fob="The toSelf function can only be applied when a constructor is used as service identifier";b.Bob="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Jkb=function(){for(var a=[],c=0;c < arguments.length;c++)a[c]=arguments[c];return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.mmb="Invalid Container constructor argument. Container options must be an object.";b.kmb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.jmb="Invalid Container option. Auto bind injectable must be a boolean";b.lmb="Invalid Container option. Skip base check must be a boolean";b.spb="Cannot apply @postConstruct decorator multiple times in the same class";b.Rqb=function(){for(var a=[],c=0;c < arguments.length;c++)a[c]=arguments[c];return "@postConstruct error in class " + a[0] + ": " + a[1];};b.$lb=function(){for(var a=[],c=0;c < arguments.length;c++)a[c]=arguments[c];return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Frb="Maximum call stack size exceeded";},5493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Os={Request:"Request",Aha:"Singleton",I2:"Transient"};b.mj={vFa:"ConstantValue",wFa:"Constructor",DGa:"DynamicValue",Wea:"Factory",Function:"Function",Instance:"Instance",Pob:"Invalid",hPa:"Provider"};b.Qx={kFa:"ClassProperty",xFa:"ConstructorArgument",Sha:"Variable"};},37425:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GA="named";b.P1="name";b.dS="unmanaged";b.pMa="optional";b.iR="inject";b.xE="multi_inject";b.UQa="inversify:tagged";b.VQa="inversify:tagged_props";b.pga="inversify:paramtypes";b.Bmb="design:paramtypes";b.NR="post_construct";},99700:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u;c=this && this.__awaiter || (function(t,v,w,y){return new (w || (w=Promise))(function(x,z){function A(C){try{D(y.next(C));}catch(E){z(E);}}function B(C){try{D(y["throw"](C));}catch(E){z(E);}}function D(C){C.done?x(C.value):new w(function(E){E(C.value);}).then(A,B);}D((y=y.apply(t,v || [])).next());});});m=this && this.__generator || (function(t,v){var x,z,A,B,D;function w(C){return function(E){return y([C,E]);};}function y(C){if(z)throw new TypeError("Generator is already executing.");for(;x;)try{if((z=1,A && (B=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(B=B.call(A,C[1])).done))return B;if((A=0,B))C=[0,B.value];switch(C[0]){case 0:case 1:B=C;break;case 4:return (x.label++,{value:C[1],done:!1});case 5:x.label++;A=C[1];C=[0];continue;case 7:C=x.YH.pop();x.Gf.pop();continue;default:if(!(B=x.Gf,B=0 < B.length && B[B.length - 1]) && (6 === C[0] || 2 === C[0])){x=0;continue;}if(3 === C[0] && (!B || C[1] > B[0] && C[1] < B[3]))x.label=C[1];else if(6 === C[0] && x.label < B[1])(x.label=B[1],B=C);else if(B && x.label < B[2])(x.label=B[2],x.YH.push(C));else {B[2] && x.YH.pop();x.Gf.pop();continue;}}C=v.call(t,x);}catch(E){C=[6,E];A=0;}finally{z=B=0;}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}x={label:0,Ja:function(){if(B[0] & 1)throw B[1];return B[1];},Gf:[],YH:[]};return (D={next:w(0),"throw":w(1),"return":w(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});g=a(70078);k=a(25640);d=a(5493);a(37425);f=a(11499);n=a(75262);h=a(85933);l=a(49825);p=a(72632);q=a(48530);a(95817);u=a(62240);r=(function(){function t(v){v=v || ({});if("object" !== typeof v)throw Error("" + k.mmb);if(void 0 === v.gG)v.gG=d.Os.I2;else if(v.gG !== d.Os.Aha && v.gG !== d.Os.I2 && v.gG !== d.Os.Request)throw Error("" + k.kmb);if(void 0 === v.UT)v.UT=!1;else if("boolean" !== typeof v.UT)throw Error("" + k.jmb);if(void 0 === v.VI)v.VI=!1;else if("boolean" !== typeof v.VI)throw Error("" + k.lmb);this.options={UT:v.UT,gG:v.gG,VI:v.VI};this.id=p.id();this.SE=new u.Xob();this.Fvb=[];this.parent=this.kja=null;this.kub=new f.cga();}t.fm=function(v,w){var x,z;function y(A,B){A.vac(function(D,C){C.forEach(function(E){B.add(E.gg,E.clone());});});}x=new t();z=n.Vpa(x);v=n.Vpa(v);w=n.Vpa(w);y(v,z);y(w,z);return x;};t.prototype.load=function(){var x,z;for(var v=[],w=0;w < arguments.length;w++)v[w]=arguments[w];w=this.VSa();for(var y=0;y < v.length;y++){x=v[y];z=w(x.id);x.hya(z.NWa,z.Gib,z.l7a,z.cdb);}};t.prototype.ZW=function(){for(var v=[],w=0;w < arguments.length;w++)v[w]=arguments[w];c(this,void 0,void 0,function(){var y,x,z,A,B;return m(this,function(D){switch(D.label){case 0:(y=this.VSa(),x=0,z=v,D.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.hya(B.NWa,B.Gib,B.l7a,B.cdb)];case 2:(D.Ja(),D.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.Lib=function(){function v(z){return function(A){return A.d$a === z;};}for(var w=this,y=[],x=0;x < arguments.length;x++)y[x]=arguments[x];y.forEach(function(z){z=v(z.id);w.SE.w4b(z);});};t.prototype.bind=function(v){var w;w=new g.Elb(v,this.options.gG || d.Os.I2);this.SE.add(v,w);return new l.Glb(w);};t.prototype.y3b=function(v){this.Fib(v);return this.bind(v);};t.prototype.Fib=function(v){try{this.SE.remove(v);}catch(w){throw Error(k.Wlb + " " + q.YM(v));}};t.prototype.I6a=function(v){var w;w=this.SE.c5a(v);!w && this.parent && (w=this.parent.I6a(v));return w;};t.prototype.restore=function(){var v;v=this.Fvb.pop();if(void 0 === v)throw Error(k.Gpb);this.SE=v.YT;this.kja=v.PXb;};t.prototype.NEb=function(){var v;v=new t(this.options);v.parent=this;return v;};t.prototype.get=function(v){return this.USa(!1,!1,d.Qx.Sha,v);};t.prototype.getAll=function(v){return this.USa(!0,!0,d.Qx.Sha,v);};t.prototype.resolve=function(v){var w;w=this.NEb();w.bind(v).Xhb();return w.get(v);};t.prototype.VSa=function(){var z;function v(A){return function(B){B=z.y3b.bind(z)(B);B.Bc.d$a=A;return B;};}function w(){return function(A){return z.I6a.bind(z)(A);};}function y(){return function(A){z.Fib.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.Bc.d$a=A;return B;};}z=this;return function(A){return {NWa:x(A),l7a:w(A),cdb:v(A),Gib:y(A)};};};t.prototype.USa=function(v,w,y,x){var z;z=null;v={hzb:v,UCb:function(A){return A;},FTb:w,key:void 0,gg:x,v$b:y,value:void 0};if(this.kja){if((z=this.kja(v),void 0 === z || null === z))throw Error(k.Eob);}else z=this.Zub()(v);return z;};t.prototype.Zub=function(){var v;v=this;return function(w){var y;y=n.yO(v.kub,v,w.FTb,w.v$b,w.gg,w.key,w.value,w.hzb);y=w.UCb(y);return h.resolve(y);};};return t;})();b.g0=r;},51164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);b.md=(function(){return function(m){this.id=c.id();this.hya=m;};})();b.RDa=(function(){return function(m){this.id=c.id();this.hya=m;};})();},95817:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mec=(function(){function a(){}a.of=function(c,m){var g;g=new a();g.YT=c;g.PXb=m;return g;};return a;})();},62240:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);r=(function(){function m(){this.xf=new Map();}m.prototype.add=function(g,k){var d;if(null === g || void 0 === g)throw Error(c.JR);if(null === k || void 0 === k)throw Error(c.JR);d=this.xf.get(g);void 0 !== d?(d.push(k),this.xf.set(g,d)):this.xf.set(g,[k]);};m.prototype.get=function(g){if(null === g || void 0 === g)throw Error(c.JR);g=this.xf.get(g);if(void 0 !== g)return g;throw Error(c.DJa);};m.prototype.remove=function(g){if(null === g || void 0 === g)throw Error(c.JR);if(!this.xf.delete(g))throw Error(c.DJa);};m.prototype.w4b=function(g){var k;k=this;this.xf.forEach(function(d,f){d=d.filter(function(n){return !g(n);});0 < d.length?k.xf.set(f,d):k.xf.delete(f);});};m.prototype.c5a=function(g){if(null === g || void 0 === g)throw Error(c.JR);return this.xf.has(g);};m.prototype.clone=function(){var g;g=new m();this.xf.forEach(function(k,d){k.forEach(function(f){return g.add(d,f.clone());});});return g;};m.prototype.vac=function(g){this.xf.forEach(function(k,d){g(d,k);});};return m;})();b.Xob=r;},22674:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);b.lgc=r;r=a(99700);b.g0=r.g0;r=a(5493);b.Os=r.Os;b.mj=r.mj;b.Qx=r.Qx;r=a(51164);b.RDa=r.RDa;b.md=r.md;r=a(16504);b.U=r.U;r=a(91823);b.thb=r.thb;r=a(44466);b.q$a=r.q$a;r=a(29385);b.l=r.l;b.Efa=r.Efa;r=a(5923);b.optional=r.optional;r=a(53022);b.Xo=r.Xo;r=a(3342);b.QH=r.QH;r=a(67509);b.QZ=r.QZ;r=a(76311);b.Tbb=r.Tbb;r=a(11499);b.cga=r.cga;r=a(72632);b.id=r.id;r=a(28041);b.PB=r.PB;r=a(41146);b.tib=r.tib;b.uhb=r.uhb;b.r$a=r.r$a;b.Dib=r.Dib;r=a(48530);b.YM=r.YM;a=a(14577);b.n$a=a.n$a;},91734:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function m(g){this.id=c.id();this.nb=g;}m.prototype.Wwb=function(g){this.yO=g;};return m;})();b.AFa=r;},67258:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function m(g,k){this.key=g;this.value=k;}m.prototype.toString=function(){return this.key === c.GA?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return m;})();b.Metadata=r;},11499:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function m(){}m.prototype.M2a=function(g){var k;k=Reflect.getMetadata(c.pga,g);g=Reflect.getMetadata(c.UQa,g);return {FYa:k,hcc:g || ({})};};m.prototype.tPb=function(g){return Reflect.getMetadata(c.VQa,g) || [];};return m;})();b.cga=r;},4595:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zqb=(function(){return function(a,c){this.rO=a;this.Mya=c;};})();},75262:function(r,b,a){var d,f,n,h,l,p,q,u,t,v,w,y;function c(x,z,A,B,D){var C,E;C=k(A.nb,D.gg);E=[];C.length === d.gea.eMa && A.nb.options.UT && "function" === typeof D.gg && x.M2a(D.gg).FYa && (A.nb.bind(D.gg).Xhb(),C=k(A.nb,D.gg));E=z?C:C.filter(function(G){var F;F=new w.Request(G.gg,A,B,G,D);return G.cG(F);});m(D.gg,E,D,A.nb);return E;}function m(x,z,A,B){switch(z.length){case d.gea.eMa:if(A.U6a())return z;x=p.YM(x);z=f.Epb;z+=p.ZUb(x,A);z+=p.g8a(B,x,k);throw Error(z);case d.gea.Tpb:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.YM(x);z=f.Hkb + " " + x;z+=p.g8a(B,x,k);throw Error(z);}}function g(x,z,A,B,D,C){var E;if(null === D){z=c(x,z,B,null,C);E=new w.Request(A,B,null,z,C);A=new t.Zqb(B,E);B.Wwb(A);}else (z=c(x,z,B,D,C),E=D.eVa(C.gg,z,C));z.forEach(function(G){var F,I,P;F=null;if(C.isArray())F=E.eVa(G.gg,G,C);else {if(G.cache)return;F=E;}if(G.type === n.mj.Instance && null !== G.bm){I=v.wNb(x,G.bm);if(!B.nb.options.VI){P=v.UMb(x,G.bm);if(I.length < P)throw (G=f.Jkb(v.getFunctionName(G.bm)),Error(G));}I.forEach(function(M){g(x,!1,M.gg,B,F,M);});}});}function k(x,z){var A,B;A=[];B=x.SE;B.c5a(z)?A=B.get(z):null !== x.parent && (A=k(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(57197);f=a(25640);n=a(5493);h=a(37425);l=a(69523);p=a(48530);q=a(91734);u=a(67258);t=a(4595);v=a(34912);w=a(22929);y=a(23927);b.Vpa=function(x){return x.SE;};b.yO=function(x,z,A,B,D,C,E,G){void 0 === G && (G=!1);z=new q.AFa(z);A=new u.Metadata(A?h.xE:h.iR,D);B=new y.G2(B,"",D,A);void 0 !== C && (C=new u.Metadata(C,E),B.ce.push(C));try{return (g(x,G,D,z,null,B),z);}catch(F){throw (l.c7a(F) && z.yO && p.LBb(z.yO.Mya),F);}};b.Xjc=function(x,z,A,B){A=new y.G2(n.Qx.Sha,"",z,new u.Metadata(A,B));x=new q.AFa(x);return new w.Request(z,x,null,[],A);};},11625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.EP=c;}a.prototype.startsWith=function(c){return 0 === this.EP.indexOf(c);};a.prototype.endsWith=function(c){var m;m=c.split("").reverse().join("");c=this.EP.split("").reverse().join("");return this.startsWith.call({EP:c},m);};a.prototype.contains=function(c){return -1 !== this.EP.indexOf(c);};a.prototype.equals=function(c){return this.EP === c;};a.prototype.value=function(){return this.EP;};return a;})();b.jrb=r;},34912:function(r,b,a){var d,f,n,h,l,p;function c(q,u,t,v){var w,y,x,z,B,D,C,E,G,F,I,P;w=q.M2a(t);y=w.FYa;if(void 0 === y)throw Error(f.fpb + " " + u + ".");w=w.hcc;x=Object.keys(w);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;D=v;C=u;E=y;G=w[B.toString()] || [];F=k(G);I=!0 !== F.Xo;E=E[B];P=F.l || F.QH;E=P?P:E;E instanceof d.Efa && (E=E.bbc());if(I){I=E === Function;I=E === Object || I || void 0 === E;if(!D && I)throw Error(f.gpb + " argument " + B + " in class " + C + ".");B=new p.G2(n.Qx.xFa,F.QZ,E);B.ce=G;G=B;}else G=null;null !== G && x.push(G);}q=m(q,t);return x.concat(q);}function m(q,u){var x,z,A;for(var t=q.tPb(u),v=[],w=0,y=Object.keys(t);w < y.length;w++){x=y[w];z=t[x];A=k(t[x]);x=new p.G2(n.Qx.kFa,A.QZ || x,A.l || A.QH);x.ce=z;v.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=m(q,u),v=v.concat(q));return v;}function g(q,u){var t,v;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=l.getFunctionName(u);t=c(q,t,u,!0);v=t.map(function(w){return w.ce.filter(function(y){return y.key === h.dS;});});v=[].concat.apply([],v).length;t=t.length - v;return 0 < t?t:g(q,u);}return 0;}function k(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[h.iR],QH:u[h.xE],QZ:u[h.P1],Xo:u[h.dS]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(29385);f=a(25640);n=a(5493);h=a(37425);l=a(48530);b.getFunctionName=l.getFunctionName;p=a(23927);b.wNb=function(q,u){var t;t=l.getFunctionName(u);return c(q,t,u,!1);};b.UMb=g;},22929:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function m(g,k,d,f,n){this.id=c.id();this.gg=g;this.rO=k;this.Fz=d;this.target=n;this.lma=[];this.YT=Array.isArray(f)?f:[f];this.$4b=null === d?new Map():null;}m.prototype.eVa=function(g,k,d){g=new m(g,this.rO,this,k,d);this.lma.push(g);return g;};return m;})();b.Request=r;},23927:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);m=a(72632);g=a(67258);k=a(11625);r=(function(){function d(f,n,h,l){this.id=m.id();this.type=f;this.gg=h;this.name=new k.jrb(n || "");this.ce=[];f=null;"string" === typeof l?f=new g.Metadata(c.GA,l):l instanceof g.Metadata && (f=l);null !== f && this.ce.push(f);}d.prototype.k5a=function(f){for(var n=0,h=this.ce;n < h.length;n++)if(h[n].key === f)return !0;return !1;};d.prototype.isArray=function(){return this.k5a(c.xE);};d.prototype.NWb=function(f){return this.rua(c.xE)(f);};d.prototype.Qsa=function(){return this.k5a(c.GA);};d.prototype.bta=function(){return this.ce.some(function(f){return f.key !== c.iR && f.key !== c.xE && f.key !== c.P1 && f.key !== c.dS && f.key !== c.GA;});};d.prototype.U6a=function(){return this.rua(c.pMa)(!0);};d.prototype.POb=function(){return this.Qsa()?this.ce.filter(function(f){return f.key === c.GA;})[0]:null;};d.prototype.tNb=function(){return this.bta()?this.ce.filter(function(f){return f.key !== c.iR && f.key !== c.xE && f.key !== c.P1 && f.key !== c.dS && f.key !== c.GA;}):null;};d.prototype.rua=function(f){var n;n=this;return function(h){var q;for(var l=0,p=n.ce;l < p.length;l++){q=p[l];if(q.key === f && q.value === h)return !0;}return !1;};};return d;})();b.G2=r;},40198:function(r,b,a){var g,k,d;function c(f,n,h){var l;n=n.filter(function(p){return null !== p.target && p.target.type === k.Qx.kFa;});l=n.map(h);n.forEach(function(p,q){p=p.target.name.value();f[p]=l[q];});return f;}function m(f,n){var h;if(Reflect.hRb(d.NR,f)){h=Reflect.getMetadata(d.NR,f);try{n[h.value]();}catch(l){throw Error(g.Rqb(f.name,l.message));}}}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);k=a(5493);d=a(37425);b.n5b=function(f,n,h){var l;l=null;0 < n.length?(l=n.filter(function(p){return null !== p.target && p.target.type === k.Qx.xFa;}).map(h),l=new (f.bind.apply(f,[void 0].concat(l)))(),l=c(l,n,h)):l=new f();m(f,l);return l;};},85933:function(r,b,a){var g,k,d,f,n;function c(h){return function(l){var p,q,u,t,v;p=l.YT;q=l.lma;u=l.target && l.target.isArray();t=!l.Fz || !l.Fz.target || !l.target || !l.Fz.target.NWb(l.target.gg);if(u && t)return q.map(function(w){return c(h)(w);});u=null;if(!l.target.U6a() || 0 !== p.length){v=p[0];p=v.scope === k.Os.Aha;t=v.scope === k.Os.Request;if(p && v.bka)return v.cache;if(t && null !== h && h.has(v.id))return h.get(v.id);if(v.type === k.mj.vFa)u=v.cache;else if(v.type === k.mj.Function)u=v.cache;else if(v.type === k.mj.wFa)u=v.bm;else if(v.type === k.mj.DGa && null !== v.aM)u=m("toDynamicValue",v.gg,function(){return v.aM(l.rO);});else if(v.type === k.mj.Wea && null !== v.tM)u=m("toFactory",v.gg,function(){return v.tM(l.rO);});else if(v.type === k.mj.hPa && null !== v.Mz)u=m("toProvider",v.gg,function(){return v.Mz(l.rO);});else if(v.type === k.mj.Instance && null !== v.bm)u=n.n5b(v.bm,q,c(h));else throw (q=f.YM(l.gg),Error(g.Aob + " " + q));"function" === typeof v.Fw && (u=v.Fw(l.rO,u));p && (v.cache=u,v.bka=!0);t && null !== h && !h.has(v.id) && h.set(v.id,u);return u;}};}function m(h,l,p){try{return p();}catch(q){if(d.c7a(q))throw Error(g.$lb(h,l.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);k=a(5493);d=a(69523);f=a(48530);n=a(40198);b.resolve=function(h){return c(h.yO.Mya.$4b)(h.yO.Mya);};},51580:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);m=a(75714);r=(function(){function g(k){this.Bc=k;}g.prototype.ia=function(){this.Bc.scope=c.Os.Aha;return new m.aE(this.Bc);};g.prototype.dsa=function(){this.Bc.scope=c.Os.I2;return new m.aE(this.Bc);};return g;})();b.Flb=r;},61142:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(51580);m=a(1003);g=a(7190);r=(function(){function k(d){this.Bc=d;this.nS=new g.hea(this.Bc);this.eia=new m.X_(this.Bc);this.vSa=new c.Flb(d);}k.prototype.ia=function(){return this.vSa.ia();};k.prototype.dsa=function(){return this.vSa.dsa();};k.prototype.when=function(d){return this.nS.when(d);};k.prototype.D_=function(){return this.nS.D_();};k.prototype.Fw=function(d){return this.eia.Fw(d);};return k;})();b.hEa=r;},1003:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(7190);r=(function(){function m(g){this.Bc=g;}m.prototype.Fw=function(g){this.Bc.Fw=g;return new c.hea(this.Bc);};return m;})();b.X_=r;},49825:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);m=a(5493);g=a(61142);k=a(75714);r=(function(){function d(f){this.Bc=f;}d.prototype.to=function(f){this.Bc.type=m.mj.Instance;this.Bc.bm=f;return new g.hEa(this.Bc);};d.prototype.Xhb=function(){if("function" !== typeof this.Bc.gg)throw Error("" + c.Fob);this.to(this.Bc.gg);};d.prototype.xl=function(f){this.Bc.type=m.mj.vFa;this.Bc.cache=f;this.Bc.aM=null;this.Bc.bm=null;new k.aE(this.Bc);};d.prototype.JD=function(f){this.Bc.type=m.mj.DGa;this.Bc.cache=null;this.Bc.aM=f;this.Bc.bm=null;return new g.hEa(this.Bc);};d.prototype.dac=function(f){this.Bc.type=m.mj.wFa;this.Bc.bm=f;new k.aE(this.Bc);};d.prototype.je=function(f){this.Bc.type=m.mj.Wea;this.Bc.tM=f;new k.aE(this.Bc);};d.prototype.eac=function(f){if("function" !== typeof f)throw Error(c.Dob);this.xl(f);this.Bc.type=m.mj.Function;};d.prototype.Vhb=function(f){this.Bc.type=m.mj.Wea;this.Bc.tM=function(n){return function(){return n.nb.get(f);};};new k.aE(this.Bc);};d.prototype.a_=function(f){this.Bc.type=m.mj.hPa;this.Bc.Mz=f;new k.aE(this.Bc);};d.prototype.hac=function(f){this.JD(function(n){return n.nb.get(f);});};return d;})();b.Glb=r;},75714:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);m=a(7190);r=(function(){function g(k){this.Bc=k;this.nS=new m.hea(this.Bc);this.eia=new c.X_(this.Bc);}g.prototype.when=function(k){return this.nS.when(k);};g.prototype.D_=function(){return this.nS.D_();};g.prototype.Fw=function(k){return this.eia.Fw(k);};return g;})();b.aE=r;},7190:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);a(41146);r=(function(){function m(g){this.Bc=g;}m.prototype.when=function(g){this.Bc.cG=g;return new c.X_(this.Bc);};m.prototype.D_=function(){this.Bc.cG=function(g){return null !== g.target && !g.target.Qsa() && !g.target.bta();};return new c.X_(this.Bc);};return m;})();b.hea=r;},41146:function(r,b,a){var g;function c(k){return function(d){function f(n){return null !== n && null !== n.target && n.target.rua(k)(d);}f.I9a=new g.Metadata(k,d);return f;};}function m(k,d){k=k.Fz;return null !== k?d(k)?!0:m(k,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);g=a(67258);b.tib=m;b.uhb=c;a=c(r.GA);b.r$a=a;b.Dib=function(k){return function(d){var f;if(null !== d){f=d.YT[0];return "string" === typeof k?f.gg === k:k === d.YT[0].bm;}return !1;};};},14577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n$a=function(a){return function(c){return function(){for(var m=[],g=0;g < arguments.length;g++)m[g]=arguments[g];return m.forEach(function(k){return a.bind(k).hac(c);});};};};},69523:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);b.c7a=function(m){return m instanceof RangeError || m.message === c.Frb;};},72632:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(r,b,a){var f;function c(n){return "function" === typeof n?n.name:"symbol" === typeof n?n.toString():n;}function m(n,h){return null === n.Fz?!1:n.Fz.gg === h?!0:m(n.Fz,h);}function g(n){function h(l,p){var q;void 0 === p && (p=[]);q=c(l.gg);p.push(q);return null !== l.Fz?h(l.Fz,p):p;}return h(n).reverse().join(" --\x3e ");}function k(n){n.lma.forEach(function(h){if(m(h,h.gg))throw (h=g(h),Error(f.Zlb + " " + h));k(h);});}function d(n){var h;if(n.name)return n.name;n=n.toString();h=n.match(/^function\s*([^\s(]+)/);return h?h[1]:"Anonymous function: " + n;}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);b.YM=c;b.g8a=function(n,h,l){var p;p="";n=l(n,h);0 !== n.length && (p="\nRegistered bindings:",n.forEach(function(q){var u;u="Object";null !== q.bm && (u=d(q.bm));p=p + "\n " + u;q.cG.I9a && (p=p + " - " + q.cG.I9a);}));return p;};b.LBb=k;b.ZUb=function(n,h){var l,p;if(h.bta() || h.Qsa()){l="";p=h.POb();h=h.tNb();null !== p && (l+=p.toString() + "\n");null !== h && h.forEach(function(q){l+=q.toString() + "\n";});return " " + n + "\n " + n + " - " + l;}return " " + n;};b.getFunctionName=d;},9680:function(r){var m,g,k,d,f,n,h,l;function b(){return !1;}function a(p){try{if(c(p))return !1;m.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=m.call(p);return f.test(q);}catch(u){return !1;}}m=Function.prototype.toString;g="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof g && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw d;}});d={};g(function(){throw 42;},null,k);}catch(p){p !== d && (g=null);}else g=null;f=/^\s*class\b/;n=Object.prototype.toString;h="function" === typeof Symbol && !!Symbol.toStringTag;l=!((0 in [,]));"object" === typeof document && n.call(document.all) === n.call(document.all) && (b=function(p){var q;if(!(!l && p || "undefined" !== typeof p && "object" !== typeof p))try{q=n.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=g?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{g(p,null,k);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(h)return a(p);if(c(p))return !1;q=n.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},54277:function(r,b,a){var c,m,g;c=Date.prototype.getDay;m=Object.prototype.toString;g=a(67226)();r.exports=function(k){if("object" !== typeof k || null === k)k=!1;else if(g)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object Date]" === m.call(k);return k;};},58786:function(r,b,a){var c,m,g,k,d,f,n;b=a(62680);if(a=a(67226)()){c=b("Object.prototype.hasOwnProperty");m=b("RegExp.prototype.exec");g={};k=function(){throw g;};d={toString:k,valueOf:k};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=k);}f=b("Object.prototype.toString");n=Object.getOwnPropertyDescriptor;r.exports=a?function(h){var l;if(!h || "object" !== typeof h)return !1;l=n(h,"lastIndex");if(!l || !c(l,"value"))return !1;try{m(h,d);}catch(p){return p === g;}}:function(h){return !h || "object" !== typeof h && "function" !== typeof h?!1:"[object RegExp]" === f(h);};},26302:function(r,b,a){var c,m,g;c=String.prototype.valueOf;m=Object.prototype.toString;g=a(67226)();r.exports=function(k){if("string" === typeof k)k=!0;else if("object" !== typeof k)k=!1;else if(g)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object String]" === m.call(k);return k;};},88705:function(r,b,a){var c,m,g;c=Object.prototype.toString;if(a(32636)()){m=Symbol.prototype.toString;g=/^Symbol\(.*\)$/;r.exports=function(k){if("symbol" === typeof k)return !0;if("[object Symbol]" !== c.call(k))return !1;try{return "symbol" !== typeof k.valueOf()?!1:g.test(m.call(k));}catch(d){return !1;}};}else r.exports=function(){return !1;};},41385:function(r,b,a){var d;function c(){return Object.create(null);}function m(f){this.log=f.log;this.va=f.va;this.TC=c();this.Promise=f.Promise;this.yr=f.yr;this.CBa=f.CBa;this.bj=f.bj || !1;this.cw=c();this.EB=c();this.RF=c();this.Dvb(f);f.ko && (this.ko=f.ko);}function g(f){return "undefined" !== typeof f;}function k(f){var l;for(var n=0,h=arguments.length;n < h;){l=arguments[n++];if(g(l))return l;}}a(66242);d=a(64765);m.prototype.Dvb=function(f){this.cw.manifest=k(f.mKb,d.cw.W);this.cw.ldl=k(f.lKb,d.cw.SW);this.cw.metadata=k(f.Kkc,d.cw.ce);this.EB.manifest=k(f.lAb,d.EB.W);this.EB.ldl=k(f.kAb,d.EB.SW);this.EB.metadata=k(f.Gjc,d.EB.ce);this.RF.manifest=k(f.Ejc,d.RF.W);this.RF.ldl=k(f.Djc,d.RF.SW);this.RF.metadata=k(f.Fjc,d.RF.ce);};m.prototype.cW=function(f,n){this.Rt("undefined" !== typeof f);this.Rt("undefined" !== typeof n);return !!this.PSa(f,n,void 0).value;};m.prototype.PSa=function(f,n,h){var l,p;l={value:null,reason:"",log:""};p=this.TC[n];h=h?h:"DEFAULTCAPS";if("undefined" === typeof p)return (l.log="cache miss: no data exists for field:" + n,l.reason="unavailable",l);"undefined" === typeof p[f]?(l.log="cache miss: no data exists for movieId:" + f,l.reason="unavailable"):(p=p[f][h]) && p.value?this.L8(n,p.creationTime)?(l.log="cache miss: " + n + " data expired for movieId:" + f,l.reason="expired",this.clearData(f,n,h,!1,"expired")):(l.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + n + " request in flight for movieId:" + f:"cache hit: " + n + " available for movieId:" + f,l.value=p.value):(l.log="cache miss: " + n + " data not available for movieId:" + f,l.reason="unavailable");return l;};m.prototype.getData=function(f,n,h){this.Rt("undefined" !== typeof f);this.Rt("undefined" !== typeof n);f=this.PSa(f,n,h);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.CBa?JSON.parse(this.CBa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};m.prototype.setData=function(f,n,h,l,p){var q,u,t;this.Rt("undefined" !== typeof f);this.Rt("undefined" !== typeof n);q=this.TC;u=p?p:"DEFAULTCAPS";q[n] || (q[n]=c(),Object.defineProperty(q[n],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[n],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.yr?this.yr(JSON.stringify(h),"gzip",!0):h;q=q[n];this.dub(f,n,u,q);t=this;l={creationTime:this.va.getTime(),value:h,size:0,type:n,Ona:l,jKb:setTimeout(function(){t.clearData(f,n,u,!1,"expired");},this.cw[n] + 1)};q[f]=q[f] || c();q[f][u]=q[f][u] || c();q[f][u]=l;q.size+=0;q.numEntries++;this.ko && this.ko.emit("addedCacheItem",l);return l;};m.prototype.dub=function(f,n,h,l){var p,q,u,t,v,w,y,x,z;p=this;q=l.numEntries;u=this.EB[n];t=l[f] && l[f][h];if(t && t.value)(v=f,w="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(l).every(function(A){var B;B=l[A] && l[A][h];B && B.value && p.L8(n,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});v=z || y;w="cache_full";}this.bj && this.log.debug("makespace ",{maxCount:u,currentCount:l.numEntries,field:n,movieId:f,movieToBeRemoved:v});v && (p.clearData(v,n,h,void 0,w),this.log.debug("removed from cache: ",v,n));};m.prototype.rma=function(f,n){var h,l;h=this;h.Rt("undefined" !== typeof f);l=f + "";n.forEach(function(p){var q;q=h.TC[p];q && Object.keys(q).forEach(function(u){u != l && h.clearData(u,p,void 0,void 0,"clear_all");});});};m.prototype.clearData=function(f,n,h,l,p){var q;this.Rt("undefined" !== typeof f);this.Rt("undefined" !== typeof n);q=this.TC[n];n=q?q[f]:void 0;h=h?h:"DEFAULTCAPS";if(n && n[h]){q.size-=n[h].size;q.numEntries--;if(q=n && n[h])(clearTimeout(q.jKb),n[h]=void 0,!l && q.Ona && q.Ona());this.ko && (f={creationTime:q.creationTime,destroyFn:q.Ona,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.ko.emit("deletedCacheItem",f));}};m.prototype.flush=function(f){var n;this.Rt("undefined" !== typeof f);n=this.TC;n[f]=c();n[f].numEntries=0;n[f].size=0;};m.prototype.fYa=function(){var f,n;this.Rt(!1);f=this;n=this.TC;n[void 0] instanceof Object && Object.keys(n[void 0]).forEach(function(h){var l;l=n[void 0][h].DEFAULTCAPS;f.va.getTime() - l.creationTime > f.cw[void 0] && f.clearData(h,void 0,"DEFAULTCAPS",void 0,"clean_up");});};m.prototype.L8=function(f,n){return this.va.getTime() - n > this.cw[f];};m.prototype.getStats=function(f,n,h){var l,p,q,u,t;l={};p=this;q=p.TC;u=g(f) && g(n);t=h || "DEFAULTCAPS";Object.keys(q).forEach(function(v){var w,y;w=Object.keys(q[v]);y=q[v];w.forEach(function(x){!(x=y && y[x] && y[x][t]) || !g(x.value) || x.value instanceof p.Promise || (l[v]=(l[v] | 0) + 1,p.L8(x.type,x.creationTime) && (l[v + "_expired"]=(l[v + "_expired"] | 0) + 1),u && x.creationTime >= f && x.creationTime < n && (l[v + "_delta"]=(l[v + "_delta"] | 0) + 1));});});return l;};m.prototype.getState=function(f){var n,h,l,p;n=[];h=this;l=h.TC;p=f || "DEFAULTCAPS";Object.keys(l).forEach(function(q){var u,t;u=Object.keys(l[q]);t=l[q];u.forEach(function(v){var w,y;w=t && t[v] && t[v][p];if(w && g(w.value)){y=h.L8(w.type,w.creationTime)?"expired":w.value instanceof h.Promise?"loading":"cached";n.push({movieId:v,state:y,type:q,size:w.size});}});});return n;};m.prototype.Rt=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.bj))throw Error("Debug Assert Failed ");};r.exports=m;},64765:function(r){r.exports={cw:{W:12E5,SW:9E5,ce:12E5},EB:{W:10,SW:10,ce:10},RF:{W:10240,SW:10240,ce:10240}};},66242:function(r){function b(a){var c;c=[];return (function k(g){if(g && "object" === typeof g){if(-1 !== c.indexOf(g))return !0;c.push(g);for(var d in g)if(g.hasOwnProperty(d) && k(g[d]))return !0;}return !1;})(a);}r.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var m=0;a.length;){g=a.pop();if("boolean" === typeof g)m+=4;else if("string" === typeof g)m+=2 * g.length;else if("number" === typeof g)m+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var k in g)a.push(g[k]);}}return m;};},62082:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Wqa:function(){return this.buffer.length - this.position;},Oz:function(){return this.buffer[this.position++];},Jj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},wq:function(a){for(var c=0;a--;)c=256 * c + this.buffer[this.position++];return c;},Uxa:function(a){for(var c="";a--;)c+=String.fromCharCode(this.buffer[this.position++]);return c;},dh:function(){return this.wq(2);},xq:function(){return this.wq(4);},QO:function(){return this.wq(8);},Uw:function(a){for(var c,m="";a--;)(c=this.Oz(),m+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15]);return m;},Vxa:function(a){for(var c=0,m=0;m < a;m++)c+=this.Oz() << (m << 3);return c;},PO:function(){return this.Vxa(4);},G_:function(a){this.nQ(a,2);},pA:function(a){this.nQ(a,4);},xda:function(a){this.buffer[this.position++]=a;},nQ:function(a,c){this.position+=c;for(var m=1;m <= c;m++)(this.buffer[this.position - m]=a & 255,a=Math.floor(a / 256));},oA:function(a){for(var c=0;c < a.length;c++)this.buffer[this.position++]=a.charCodeAt(c);},F_:function(a){for(var c=a.length,m=0;m < c;m++)this.buffer[this.position++]=a[m];},mQ:function(a,c){this.F_(a.Jj(c));}};r.exports=b;},31503:function(r){r.exports=function(b,a){for(var c in b)b.hasOwnProperty(c) && (a[c]=b[c]);return a;};},27E3:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(13752);m=a(29636);g=a(67566);b["default"]=function(k){var d;k=new c.Oda(k);d=new g.Jpb(k);return new m.Ipb(k,d);};},13752:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.RVb=c;}a.prototype.l3a=function(){var c;try{c=this.RVb.getItem("gtp");if(c)return JSON.parse(c);}catch(m){}};a.prototype.jn=function(){var c;c=this.l3a();if(c && c.tp)return c.tp.a;};a.prototype.kOb=function(){var c;c=this.vqa();if(c)return c.p25;};a.prototype.lOb=function(){var c;c=this.vqa();if(c)return c.p50;};a.prototype.mOb=function(){var c;c=this.vqa();if(c)return c.p75;};a.prototype.vqa=function(){var c;c=this.l3a();if(c && (c=c.iqr))return c;};return a;})();b.Oda=r;},29636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,m){this.iy=c;this.kva=m;}a.prototype.jn=function(){return this.iy.jn();};return a;})();b.Ipb=r;},67566:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.iy=c;}a.prototype.kva=function(){var c,m,g;c=this.iy.kOb();m=this.iy.lOb();g=this.iy.mOb();if("number" === typeof c && "number" === typeof m && "number" === typeof g)return (g - c) / m;};return a;})();b.Jpb=r;},79809:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.sa:Date.now;},94030:function(r,b,a){var k;function c(d,f,n,h,l,p,q){this.r_=h;this.Dkb=d;this.E$a=f;this.Cz=n;this.hUb=p;this.uD=q;this.split=l;}function m(){this.P={};this.P["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.P["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.P["3"]=new c("7","8","7","10","1.5",0,0);this.P["7"]=new c("15","16","15","9","4.5",0,0);this.P["15"]=new c("31","32","31","2","5.5",0,0);this.P["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.P["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.P["123"]=new c("123","124","123","0","0",1,.207298);this.P["124"]=new c("123","124","123","0","0",1,.49076);this.P["64"]=new c("125","126","125","4","40.5",0,0);this.P["125"]=new c("125","126","125","0","0",1,-.00157835);this.P["126"]=new c("125","126","125","0","0",1,.934205);this.P["32"]=new c("65","66","65","135","5.5",0,0);this.P["65"]=new c("127","128","128","4","1272.5",0,0);this.P["127"]=new c("127","128","128","0","0",1,-.510333);this.P["128"]=new c("127","128","128","0","0",1,.18363);this.P["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.P["129"]=new c("129","130","129","0","0",1,-.0464542);this.P["130"]=new c("129","130","129","0","0",1,.458833);this.P["16"]=new c("33","34","34","10","2.00001",0,0);this.P["33"]=new c("67","68","67","0","29.5",0,0);this.P["67"]=new c("131","132","131","2","39.5",0,0);this.P["131"]=new c("131","132","131","0","0",1,-.37577);this.P["132"]=new c("131","132","131","0","0",1,.512087);this.P["68"]=new c("133","134","134","140","1.5",0,0);this.P["133"]=new c("133","134","134","0","0",1,.321272);this.P["134"]=new c("133","134","134","0","0",1,-.675396);this.P["34"]=new c("69","70","70","2","24.5",0,0);this.P["69"]=new c("135","136","136","9","28.5",0,0);this.P["135"]=new c("135","136","136","0","0",1,-.0573845);this.P["136"]=new c("135","136","136","0","0",1,-.507455);this.P["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.P["137"]=new c("137","138","137","0","0",1,-.503909);this.P["138"]=new c("137","138","137","0","0",1,.450886);this.P["8"]=new c("17","18","17","4","44189.5",0,0);this.P["17"]=new c("35","36","35","2","21.5",0,0);this.P["35"]=new c("71","72","72","0","19.5",0,0);this.P["71"]=new c("139","140","140","9","2.5",0,0);this.P["139"]=new c("139","140","140","0","0",1,.00403497);this.P["140"]=new c("139","140","140","0","0",1,-.312656);this.P["72"]=new c("141","142","141","135","96",0,0);this.P["141"]=new c("141","142","141","0","0",1,-.465786);this.P["142"]=new c("141","142","141","0","0",1,.159633);this.P["36"]=new c("73","74","73","130","89.5",0,0);this.P["73"]=new c("143","144","144","10","4.5",0,0);this.P["143"]=new c("143","144","144","0","0",1,-.76265);this.P["144"]=new c("143","144","144","0","0",1,-.580804);this.P["74"]=new c("145","146","146","10","16.5",0,0);this.P["145"]=new c("145","146","146","0","0",1,.296357);this.P["146"]=new c("145","146","146","0","0",1,-.691659);this.P["18"]=new c("37","38","38","9","1.5",0,0);this.P["37"]=new c("37","38","38","0","0",1,.993951);this.P["38"]=new c("75","76","75","0","19",0,0);this.P["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.P["147"]=new c("147","148","147","0","0",1,-.346535);this.P["148"]=new c("147","148","147","0","0",1,-.995745);this.P["76"]=new c("147","148","147","0","0",1,-.99978);this.P["4"]=new c("9","10","9","5","4.5",0,0);this.P["9"]=new c("19","20","19","2","4.5",0,0);this.P["19"]=new c("39","40","39","140","7.5",0,0);this.P["39"]=new c("77","78","78","134","6.5",0,0);this.P["77"]=new c("149","150","150","7","11.5",0,0);this.P["149"]=new c("149","150","150","0","0",1,.729843);this.P["150"]=new c("149","150","150","0","0",1,.383857);this.P["78"]=new c("151","152","151","133","4.5",0,0);this.P["151"]=new c("151","152","151","0","0",1,.39017);this.P["152"]=new c("151","152","151","0","0",1,.0434342);this.P["40"]=new c("79","80","79","133","3.5",0,0);this.P["79"]=new c("153","154","154","8","4.5",0,0);this.P["153"]=new c("153","154","154","0","0",1,-.99536);this.P["154"]=new c("153","154","154","0","0",1,-.00943396);this.P["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.P["155"]=new c("155","156","155","0","0",1,.266272);this.P["156"]=new c("155","156","155","0","0",1,.959904);this.P["20"]=new c("41","42","42","10","65.5",0,0);this.P["41"]=new c("81","82","82","7","10.5",0,0);this.P["81"]=new c("157","158","158","2","37.5",0,0);this.P["157"]=new c("157","158","158","0","0",1,-.701873);this.P["158"]=new c("157","158","158","0","0",1,.224649);this.P["82"]=new c("159","160","159","133","9.5",0,0);this.P["159"]=new c("159","160","159","0","0",1,.0955181);this.P["160"]=new c("159","160","159","0","0",1,-.58962);this.P["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.P["83"]=new c("161","162","161","135","31",0,0);this.P["161"]=new c("161","162","161","0","0",1,-.229692);this.P["162"]=new c("161","162","161","0","0",1,.88595);this.P["84"]=new c("163","164","164","1","13.5",0,0);this.P["163"]=new c("163","164","164","0","0",1,-.992157);this.P["164"]=new c("163","164","164","0","0",1,.922159);this.P["10"]=new c("21","22","22","4","486",0,0);this.P["21"]=new c("43","44","44","133","4.5",0,0);this.P["43"]=new c("85","86","86","10","4.5",0,0);this.P["85"]=new c("165","166","166","4","158.5",0,0);this.P["165"]=new c("165","166","166","0","0",1,-.127778);this.P["166"]=new c("165","166","166","0","0",1,.955189);this.P["86"]=new c("165","166","166","0","0",1,-.994012);this.P["44"]=new c("87","88","88","1","3.5",0,0);this.P["87"]=new c("167","168","168","135","7",0,0);this.P["167"]=new c("167","168","168","0","0",1,-.997015);this.P["168"]=new c("167","168","168","0","0",1,.400821);this.P["88"]=new c("169","170","169","130","36",0,0);this.P["169"]=new c("169","170","169","0","0",1,-.898638);this.P["170"]=new c("169","170","169","0","0",1,.56129);this.P["22"]=new c("45","46","45","9","2.5",0,0);this.P["45"]=new c("89","90","90","9","1.5",0,0);this.P["89"]=new c("171","172","171","10","10.5",0,0);this.P["171"]=new c("171","172","171","0","0",1,.573986);this.P["172"]=new c("171","172","171","0","0",1,-.627266);this.P["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.P["173"]=new c("173","174","173","0","0",1,.925273);this.P["174"]=new c("173","174","173","0","0",1,-.994805);this.P["46"]=new c("91","92","91","136","5.5",0,0);this.P["91"]=new c("175","176","175","10","10.5",0,0);this.P["175"]=new c("175","176","175","0","0",1,.548352);this.P["176"]=new c("175","176","175","0","0",1,-.879195);this.P["92"]=new c("177","178","178","8","14.5",0,0);this.P["177"]=new c("177","178","178","0","0",1,.457305);this.P["178"]=new c("177","178","178","0","0",1,-.998992);this.P["2"]=new c("5","6","5","10","2.5",0,0);this.P["5"]=new c("11","12","11","9","4.5",0,0);this.P["11"]=new c("23","24","24","10","4.00001",0,0);this.P["23"]=new c("47","48","48","133","5.5",0,0);this.P["47"]=new c("93","94","93","3","13.5",0,0);this.P["93"]=new c("179","180","179","138","15.5",0,0);this.P["179"]=new c("179","180","179","0","0",1,.658398);this.P["180"]=new c("179","180","179","0","0",1,-.927007);this.P["94"]=new c("181","182","182","3","15.5",0,0);this.P["181"]=new c("181","182","182","0","0",1,-.111351);this.P["182"]=new c("181","182","182","0","0",1,-.99827);this.P["48"]=new c("95","96","95","7","167",0,0);this.P["95"]=new c("183","184","183","132","36.5",0,0);this.P["183"]=new c("183","184","183","0","0",1,.895161);this.P["184"]=new c("183","184","183","0","0",1,-.765217);this.P["96"]=new c("185","186","186","137","6.00001",0,0);this.P["185"]=new c("185","186","186","0","0",1,-.851095);this.P["186"]=new c("185","186","186","0","0",1,.674286);this.P["24"]=new c("49","50","49","137","5.5",0,0);this.P["49"]=new c("97","98","97","5","23.5",0,0);this.P["97"]=new c("187","188","187","3","28.5",0,0);this.P["187"]=new c("187","188","187","0","0",1,.951654);this.P["188"]=new c("187","188","187","0","0",1,-.993808);this.P["98"]=new c("187","188","187","0","0",1,-.99705);this.P["50"]=new c("187","188","187","0","0",1,-.997525);this.P["12"]=new c("25","26","25","8","8.5",0,0);this.P["25"]=new c("51","52","52","10","4.00001",0,0);this.P["51"]=new c("99","100","100","133","5.5",0,0);this.P["99"]=new c("189","190","190","7","40.5",0,0);this.P["189"]=new c("189","190","190","0","0",1,.151839);this.P["190"]=new c("189","190","190","0","0",1,-.855517);this.P["100"]=new c("191","192","192","133","14.5",0,0);this.P["191"]=new c("191","192","192","0","0",1,.86223);this.P["192"]=new c("191","192","192","0","0",1,.544394);this.P["52"]=new c("101","102","101","135","47.5",0,0);this.P["101"]=new c("193","194","194","4","24.5",0,0);this.P["193"]=new c("193","194","194","0","0",1,.946185);this.P["194"]=new c("193","194","194","0","0",1,.811859);this.P["102"]=new c("193","194","194","0","0",1,-.991561);this.P["26"]=new c("53","54","54","132","6.5",0,0);this.P["53"]=new c("103","104","103","131","85",0,0);this.P["103"]=new c("195","196","196","134","16.5",0,0);this.P["195"]=new c("195","196","196","0","0",1,.0473538);this.P["196"]=new c("195","196","196","0","0",1,-.999401);this.P["104"]=new c("197","198","198","8","15.5",0,0);this.P["197"]=new c("197","198","198","0","0",1,.816129);this.P["198"]=new c("197","198","198","0","0",1,-.99322);this.P["54"]=new c("105","106","105","133","3.5",0,0);this.P["105"]=new c("105","106","105","0","0",1,-.998783);this.P["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.P["199"]=new c("199","200","199","0","0",1,.528588);this.P["200"]=new c("199","200","199","0","0",1,-.998599);this.P["6"]=new c("13","14","14","10","7.5",0,0);this.P["13"]=new c("27","28","28","133","7.5",0,0);this.P["27"]=new c("55","56","56","10","4.5",0,0);this.P["55"]=new c("107","108","107","3","3.5",0,0);this.P["107"]=new c("201","202","201","4","17.5",0,0);this.P["201"]=new c("201","202","201","0","0",1,-.379512);this.P["202"]=new c("201","202","201","0","0",1,.15165);this.P["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.P["203"]=new c("203","204","203","0","0",1,-.884606);this.P["204"]=new c("203","204","203","0","0",1,.265406);this.P["56"]=new c("109","110","109","136","6.5",0,0);this.P["109"]=new c("205","206","205","4","157.5",0,0);this.P["205"]=new c("205","206","205","0","0",1,-.0142737);this.P["206"]=new c("205","206","205","0","0",1,.691279);this.P["110"]=new c("205","206","205","0","0",1,-.998086);this.P["28"]=new c("57","58","58","138","11.5",0,0);this.P["57"]=new c("111","112","112","2","6.5",0,0);this.P["111"]=new c("207","208","208","7","67.5",0,0);this.P["207"]=new c("207","208","208","0","0",1,.763925);this.P["208"]=new c("207","208","208","0","0",1,-.309645);this.P["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.P["209"]=new c("209","210","209","0","0",1,-.306635);this.P["210"]=new c("209","210","209","0","0",1,.556696);this.P["58"]=new c("113","114","113","138","50.5",0,0);this.P["113"]=new c("211","212","212","8","25.5",0,0);this.P["211"]=new c("211","212","212","0","0",1,.508234);this.P["212"]=new c("211","212","212","0","0",1,.793551);this.P["114"]=new c("211","212","212","0","0",1,-.998438);this.P["14"]=new c("29","30","29","134","27.5",0,0);this.P["29"]=new c("59","60","60","7","17.5",0,0);this.P["59"]=new c("115","116","115","135","5.5",0,0);this.P["115"]=new c("213","214","214","137","5.5",0,0);this.P["213"]=new c("213","214","214","0","0",1,.401747);this.P["214"]=new c("213","214","214","0","0",1,.0367503);this.P["116"]=new c("215","216","216","8","5.5",0,0);this.P["215"]=new c("215","216","216","0","0",1,-.0241984);this.P["216"]=new c("215","216","216","0","0",1,-.999046);this.P["60"]=new c("117","118","117","0","12.5",0,0);this.P["117"]=new c("217","218","218","132","5.5",0,0);this.P["217"]=new c("217","218","218","0","0",1,-.997294);this.P["218"]=new c("217","218","218","0","0",1,.210398);this.P["118"]=new c("219","220","219","137","1.5",0,0);this.P["219"]=new c("219","220","219","0","0",1,-.55763);this.P["220"]=new c("219","220","219","0","0",1,.074493);this.P["30"]=new c("61","62","62","133","42.5",0,0);this.P["61"]=new c("119","120","119","135","5.5",0,0);this.P["119"]=new c("221","222","222","4","473.5",0,0);this.P["221"]=new c("221","222","222","0","0",1,-.920213);this.P["222"]=new c("221","222","222","0","0",1,-.17615);this.P["120"]=new c("223","224","224","5","144",0,0);this.P["223"]=new c("223","224","224","0","0",1,-.954295);this.P["224"]=new c("223","224","224","0","0",1,-.382538);this.P["62"]=new c("121","122","121","133","50",0,0);this.P["121"]=new c("225","226","226","10","18.5",0,0);this.P["225"]=new c("225","226","226","0","0",1,-.0731343);this.P["226"]=new c("225","226","226","0","0",1,.755454);this.P["122"]=new c("227","228","228","0","30",0,0);this.P["227"]=new c("227","228","228","0","0",1,.25);this.P["228"]=new c("227","228","228","0","0",1,-.997101);}function g(d,f,n,h,l,p){this.uba=l;this.m5=p;}b=a(21457);k=a(79809);a={};a.Gyb=new (function(){this.ttb=k();this.Qa=0;this.update=function(){this.Qa=k() - this.ttb;};this.type="num";})();a.$Ub=new (function(){this.type="cat";})();a.aVb=new (function(){this.type="cat";})();a.cVb=new (function(){this.type="cat";})();a.dVb=new (function(){this.type="cat";})();a.bVb=new (function(){this.type="cat";})();a.eVb=new (function(){this.type="cat";})();a.fVb=new (function(){this.type="cat";})();a.gVb=new (function(){this.type="cat";})();a.hVb=new (function(){this.type="cat";})();a.iVb=new (function(){this.type="cat";})();a.jVb=new (function(){this.type="cat";})();a.kVb=new (function(){this.type="cat";})();a.mVb=new (function(){this.type="cat";})();a.nVb=new (function(){this.type="cat";})();a.oVb=new (function(){this.type="cat";})();a.lVb=new (function(){this.type="cat";})();a.tzb=new (function(){this.update=function(d){for(var f in d.Mb)if("becauseYouAdded" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.uzb=new (function(){this.update=function(d){for(var f in d.Mb)if("becauseYouLiked" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.wzb=new (function(){this.update=function(d){for(var f in d.Mb)if("billboard" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.VCb=new (function(){this.update=function(d){for(var f in d.Mb)if("continueWatching" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.vzb=new (function(){this.update=function(d){for(var f in d.Mb)if("bigRow" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.AMb=new (function(){this.update=function(d){for(var f in d.Mb)if("genre" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.FYb=new (function(){this.update=function(d){for(var f in d.Mb)if("netflixOriginals" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.KYb=new (function(){this.update=function(d){for(var f in d.Mb)if("newRelease" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.z1b=new (function(){this.update=function(d){for(var f in d.Mb)if("popularTitles" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.Lo=new (function(){this.update=function(d){for(var f in d.Mb)if("queue" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.E3b=new (function(){this.update=function(d){for(var f in d.Mb)if("recentlyAdded" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.x8b=new (function(){this.update=function(d){for(var f in d.Mb)if("similars" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.wac=new (function(){this.update=function(d){for(var f in d.Mb)if("trendingNow" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.Sac=new (function(){this.update=function(d){for(var f in d.Mb)if("ultraHD" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.bdc=new (function(){this.update=function(d){for(var f in d.Mb)if("watchAgain" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.jac=new (function(){this.update=function(d){for(var f in d.Mb)if("topTen" === d.Mb[f].context){this.Qa=Math.max(d.Mb[f].list.length,this.Qa);break;}};this.type="num";this.Qa=0;})();a.fDb=new (function(){this.type="cat";})();a.gDb=new (function(){this.type="cat";})();a.hDb=new (function(){this.type="cat";})();a.iDb=new (function(){this.type="cat";})();a.jDb=new (function(){this.type="cat";})();a.kDb=new (function(){this.type="cat";})();a.lDb=new (function(){this.type="cat";})();a.mDb=new (function(){this.type="cat";})();a.nDb=new (function(){this.type="cat";})();a.oDb=new (function(){this.type="cat";})();a.pDb=new (function(){this.type="cat";})();a.qDb=new (function(){this.type="cat";})();a.rDb=new (function(){this.type="cat";})();a.sDb=new (function(){this.type="cat";})();a.tDb=new (function(){this.type="cat";})();a.uDb=new (function(){this.type="cat";})();a.vDb=new (function(){this.type="cat";})();a.wDb=new (function(){this.type="cat";})();a.xDb=new (function(){this.type="cat";})();a.yDb=new (function(){this.type="cat";})();a.zDb=new (function(){this.type="cat";})();a.ADb=new (function(){this.type="cat";})();a.BDb=new (function(){this.type="cat";})();a.CDb=new (function(){this.type="cat";})();a.DDb=new (function(){this.type="cat";})();a.EDb=new (function(){this.type="cat";})();a.FDb=new (function(){this.type="cat";})();a.GDb=new (function(){this.type="cat";})();a.HDb=new (function(){this.type="cat";})();a.IDb=new (function(){this.type="cat";})();a.JDb=new (function(){this.type="cat";})();a.KDb=new (function(){this.type="cat";})();a.LDb=new (function(){this.type="cat";})();a.MDb=new (function(){this.type="cat";})();a.NDb=new (function(){this.type="cat";})();a.ODb=new (function(){this.type="cat";})();a.PDb=new (function(){this.type="cat";})();a.QDb=new (function(){this.type="cat";})();a.RDb=new (function(){this.type="cat";})();a.SDb=new (function(){this.type="cat";})();a.TDb=new (function(){this.type="cat";})();a.UDb=new (function(){this.type="cat";})();a.VDb=new (function(){this.type="cat";})();a.WDb=new (function(){this.type="cat";})();a.XDb=new (function(){this.type="cat";})();a.YDb=new (function(){this.type="cat";})();a.ZDb=new (function(){this.type="cat";})();a.$Db=new (function(){this.type="cat";})();a.aEb=new (function(){this.type="cat";})();a.bEb=new (function(){this.type="cat";})();a.cEb=new (function(){this.type="cat";})();a.dEb=new (function(){this.type="cat";})();a.eEb=new (function(){this.type="cat";})();a.fEb=new (function(){this.type="cat";})();a.gEb=new (function(){this.type="cat";})();a.hEb=new (function(){this.type="cat";})();a.iEb=new (function(){this.type="cat";})();a.jEb=new (function(){this.type="cat";})();a.kEb=new (function(){this.type="cat";})();a.lEb=new (function(){this.type="cat";})();a.mEb=new (function(){this.type="cat";})();a.nEb=new (function(){this.type="cat";})();a.oEb=new (function(){this.type="cat";})();a.pEb=new (function(){this.type="cat";})();a.qEb=new (function(){this.type="cat";})();a.rEb=new (function(){this.type="cat";})();a.sEb=new (function(){this.type="cat";})();a.tEb=new (function(){this.type="cat";})();a.uEb=new (function(){this.type="cat";})();a.vEb=new (function(){this.type="cat";})();a.wEb=new (function(){this.type="cat";})();a.xEb=new (function(){this.type="cat";})();a.yEb=new (function(){this.type="cat";})();a.zEb=new (function(){this.type="cat";})();a.AEb=new (function(){this.type="cat";})();a.BEb=new (function(){this.type="cat";})();a.CEb=new (function(){this.type="cat";})();a.DEb=new (function(){this.type="cat";})();a.EEb=new (function(){this.type="cat";})();a.H3b=new (function(){this.type="cat";})();a.I3b=new (function(){this.type="cat";})();a.J3b=new (function(){this.type="cat";})();a.K3b=new (function(){this.type="cat";})();a.L3b=new (function(){this.type="cat";})();a.M3b=new (function(){this.type="cat";})();a.N3b=new (function(){this.type="cat";})();a.O3b=new (function(){this.type="cat";})();a.P3b=new (function(){this.type="cat";})();a.Q3b=new (function(){this.type="cat";})();a.R3b=new (function(){this.type="cat";})();a.S3b=new (function(){this.type="cat";})();a.T3b=new (function(){this.type="cat";})();a.U3b=new (function(){this.type="cat";})();a.V3b=new (function(){this.type="cat";})();a.W3b=new (function(){this.type="cat";})();a.X3b=new (function(){this.type="cat";})();a.Y3b=new (function(){this.type="cat";})();a.Z3b=new (function(){this.type="cat";})();a.$3b=new (function(){this.type="cat";})();a.a4b=new (function(){this.type="cat";})();a.b4b=new (function(){this.type="cat";})();a.c4b=new (function(){this.type="cat";})();a.Z9b=new (function(){this.update=function(d){"down" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.a$b=new (function(){this.update=function(d){"right" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.$9b=new (function(){this.update=function(d){"left" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.b$b=new (function(){this.update=function(d){"up" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.nXb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.rowIndex);};this.type="num";})();a.oXb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.vYa);};this.type="num";})();a.tXb=new (function(){this.UE=this.Qa=0;this.update=function(d){this.UE++;this.Qa=1 * (this.Qa + d.rowIndex) / this.UE;};this.type="num";})();a.uXb=new (function(){this.UE=this.Qa=0;this.update=function(d){this.UE++;return this.Qa=1 * (this.Qa + d.vYa) / this.UE;};this.type="num";})();a.f2b=new (function(){this.type="num";})();a.g2b=new (function(){this.type="num";})();m.prototype.uD=function(d){return this.rUa(this.P["0"].Geb(d),d);};m.prototype.rUa=function(d,f){return "string" == typeof d?this.rUa(this.P[d].Geb(f),f):d;};c.prototype.Geb=function(d){switch(this.hUb){case 0:switch(d.features[this.r_].type){case "cat":return null === d.features[this.r_].value?this.E$a:"missing" == d.features[this.r_].value?this.Cz:this.Dkb;case "num":return null === d.features[this.r_].value?this.Cz:d.features[this.r_].value < this.split?this.Dkb:this.E$a;default:return this.Cz;}case 1:return this.uD;default:return this.uD;}};b.declare({GX:["modelSelector","modelone"],mCb:["colEpisodeList",5],ARb:["holdDuration",15E3],seb:["rowFirst",2],uYa:["colFirst",5],teb:["rowScroll",2],wYa:["colScroll",6],L5b:["rowScrollHorizontal",6],j6b:["searchTop",3],XZa:["cwFirst",2],hW:["horizontalItemsFocusedMode",3],jUb:["itemsPerRank",1],ZWb:["maxNumberPayloadsStored",10],o9a:["maxNumberTitlesScheduled",5],Ckc:["enableDetailedLogging",!0],Inc:["rowStep",20],Rjc:["colStep",15],hnc:["pageRows",100],gnc:["pageColumns",75],qua:["maskParamsList",new (function(){var d,f;this.qua=[];this.rl={};this.uba=20;this.m5=15;for(d=0;100 > d;d++)for(f=0;75 > f;f++)(Math.floor(d / this.uba) + "_" + Math.floor(f / this.m5) in this.rl) || (this.rl[Math.floor(d / this.uba) + "_" + Math.floor(f / this.m5)]=1,this.qua.push(new g("grid",10,5,5,Math.floor(d / this.uba),Math.floor(f / this.m5))));})().qua],P:["nodes",new m().P],mapping:["mapping",{oXb:"0",uXb:"1",nXb:"2",tXb:"3",Gyb:"4",b$b:"5",$9b:"6",a$b:"7",Z9b:"8",g2b:"9",f2b:"10",$Ub:"11",aVb:"12",cVb:"13",dVb:"14",bVb:"15",eVb:"16",fVb:"17",gVb:"18",hVb:"19",iVb:"20",jVb:"21",kVb:"22",lVb:"23",mVb:"24",nVb:"25",oVb:"26",H3b:"27",I3b:"28",J3b:"29",K3b:"30",L3b:"31",M3b:"32",N3b:"33",O3b:"34",P3b:"35",Q3b:"36",R3b:"37",S3b:"38",T3b:"39",U3b:"40",V3b:"41",W3b:"42",X3b:"43",Y3b:"44",Z3b:"45",$3b:"46",a4b:"47",b4b:"48",c4b:"49",fDb:"50",gDb:"51",hDb:"52",iDb:"53",jDb:"54",kDb:"55",lDb:"56",mDb:"57",nDb:"58",oDb:"59",pDb:"60",qDb:"61",rDb:"62",sDb:"63",tDb:"64",uDb:"65",vDb:"66",wDb:"67",xDb:"68",yDb:"69",zDb:"70",ADb:"71",BDb:"72",CDb:"73",DDb:"74",EDb:"75",FDb:"76",GDb:"77",HDb:"78",IDb:"79",JDb:"80",KDb:"81",LDb:"82",MDb:"83",NDb:"84",ODb:"85",PDb:"86",QDb:"87",RDb:"88",SDb:"89",TDb:"90",UDb:"91",VDb:"92",WDb:"93",XDb:"94",YDb:"95",ZDb:"96",$Db:"97",aEb:"98",bEb:"99",cEb:"100",dEb:"101",eEb:"102",fEb:"103",gEb:"104",hEb:"105",iEb:"106",jEb:"107",kEb:"108",lEb:"109",mEb:"110",nEb:"111",oEb:"112",pEb:"113",qEb:"114",rEb:"115",sEb:"116",tEb:"117",uEb:"118",vEb:"119",wEb:"120",xEb:"121",yEb:"122",zEb:"123",AEb:"124",BEb:"125",CEb:"126",DEb:"127",EEb:"128",bdc:"129",E3b:"130",x8b:"131",Lo:"132",VCb:"133",AMb:"134",wac:"135",jac:"136",wzb:"137",KYb:"138",Sac:"139",z1b:"140",tzb:"141",vzb:"142",uzb:"143",FYb:"144"}],features:["features",a],Sic:["_modelName","tree"],Nic:["_format","xgboost"],Ric:["_itemsToKeep",5],Qic:["_itemsThreshold",null],Bjc:["cacheLimit",20]});r.exports={config:b,kmc:g,akc:c};},45578:function(r){r.exports={tx:{Iha:0,KPa:1,ai:2,name:["transient","semiTransient","permanent"]},qx:{pHa:0,JPa:1,s2:2,MR:3,Lx:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},xic:{lic:0,mgc:1,Fec:2,Lx:100,name:["trailer","montage","content"]},hv:{KJa:0,oPa:1,fsb:2,bnb:3,Lx:100,name:["left","right","up","down"]},nR:{nmb:0,s2:1,Xfc:2,sfc:3,eec:4,Wfc:5,mlb:6,Lx:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},bK:{MR:0,JFa:1,Lx:100,name:["playFocused","detailsOpened"]}};},90638:function(r,b,a){var g,k,d,f,n,h,l,p,q,u;function c(t,v){this.Nj=t;this.Sl=v;}function m(t){this.S=t;this.reset();}g=a(79809);k=a(45578);b=a(76122);d=a(94030).config;f=b.pNb;n=b.YMb;h=b.xHb;l=b.AZb;p=b.zZb;q=b.yZb;u=b.B1a;m.prototype.constructor=m;m.prototype.reset=function(){this.VTa=void 0;this.bk=[];this.NTa=this.OTa=!1;};m.prototype.update=function(t,v){var w;this.bk && (this.bk=this.bk.filter(this.i8b,this));if(!1 === this.OTa){w=f(t.Mb).slice(0,d.XZa);0 < w.length && (this.PH(w,k.tx.ai),this.OTa=!0,this.bk=this.AJ(w.concat(this.bk)));}!1 === this.NTa && (w=n(t.Mb).slice(0,d.XZa),0 < w.length && (this.PH(w,k.tx.ai),this.NTa=!0,this.bk=this.AJ(w.concat(this.bk))));switch(v){case k.qx.pHa:v=this.MQb(t);break;case k.qx.JPa:v=this.WQb(t);break;case k.qx.s2:v=this.XQb(t);break;case k.qx.MR:v=this.RQb(t);break;default:v=this.JQb(t);}this.VTa=t;return v;};m.prototype.MQb=function(t){t=l(t.Mb,d.seb,d.uYa);this.PH(t,k.tx.ai);return this.bk=this.AJ(this.bk.concat(t));};m.prototype.WQb=function(t){var v,w;this.S.log("handleScrollHorizontal");v=t.Mb;t=l(v,d.teb,d.wYa);w=h(v,this.VTa.Mb);v=v[w].list.slice(0,d.L5b);v.concat(t);this.PH(v,k.tx.Iha);return this.AJ(v.concat(this.bk));};m.prototype.PH=function(t,v){t.forEach(function(w){if(void 0 === w.FB || w.FB < v)w.FB=v;void 0 === w.HD && (w.HD=g());void 0 === w.Zk && (w.Zk=g());});};m.prototype.XQb=function(t){this.S.log("handleSearch");t=p(t.Mb,d.j6b);this.PH(t,k.tx.KPa);this.bk=t.concat(this.bk);return this.bk=this.AJ(this.bk);};m.prototype.RQb=function(t){var v,w,y,x,z;this.S.log("handlePlayFocus: ",d.hW);v=t.direction;w=t.Mb;t=[];y=u(w);if(void 0 !== y.Nj)switch((t.push(y),v)){case k.hv.oPa:for(v=1;v < d.hW;v++)t.push(new c(y.Nj,y.Sl + v));t.push(new c(y.Nj - 1,y.Sl));t.push(new c(y.Nj + 1,y.Sl));break;case k.hv.KJa:for(v=1;v < d.hW;v++)t.push(new c(y.Nj,y.Sl - v));t.push(new c(y.Nj - 1,y.Sl));t.push(new c(y.Nj + 1,y.Sl));break;case k.hv.fsb:t.push(new c(y.Nj - 1,y.Sl));for(v=1;v <= d.hW / 2;v++)(t.push(new c(y.Nj,y.Sl + v)),t.push(new c(y.Nj,y.Sl - v)));break;case k.hv.bnb:for((t.push(new c(y.Nj + 1,y.Sl)),v=1);v <= d.hW / 2;v++)(t.push(new c(y.Nj,y.Sl + v)),t.push(new c(y.Nj,y.Sl - v)));}x=[];t.forEach(function(A){z=q(w,A.Nj,A.Sl);void 0 !== z && x.push(z);});this.PH(x,k.tx.Iha);return this.AJ(x.concat(this.bk));};m.prototype.JQb=function(t){this.S.log("ModelOne: handleDefaultCase");t=l(t.Mb,d.teb,d.wYa);this.PH(t,k.tx.Iha);return this.AJ(t.concat(this.bk));};m.prototype.i8b=function(t){return t.FB == k.tx.ai | t.FB == k.tx.KPa & g() - t.HD < d.ARb;};m.prototype.AJ=function(t){var v,w,y,x,z,A,B;v=[];w={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].J;B=t[y];!1 === (A in w)?(v.push(B),w[A]=x,x++):(A=v[w[A]],B.Zk < A.Zk && (A.Zk=B.Zk),B.FB > A.FB && (A.FB=B.FB),B.HD > A.HD && (A.HD=B.HD));}return v;};r.exports=m;},7795:function(r){function b(c,m){var g;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.pg)return (this.pg={},this.pg[c]=[m],!0);g=this.pg[c];return void 0 === g?(this.pg[c]=[m],!0):0 > g.indexOf(m)?(g.push(m),!0):!1;}function a(c,m){c=this.pg?this.pg[c]:void 0;if(!c)return !1;c.forEach(function(g){g(m);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,m){var g;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.pg)return !1;g=this.pg[c];if(void 0 === g)return !1;m=g.indexOf(m);if(0 > m)return !1;if(1 === g.length)return (delete this.pg[c],!0);g.splice(m,1);return !0;},vr:a,emit:a,removeAllListeners:function(c){this.pg && (void 0 === c?delete this.pg:delete this.pg[c]);return this;}};},65267:function(r){function b(c,m,g,k){c.trace(":",g,":",k);m(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,m,g,k){g=k?g.bind(k):g;k=!1;if(c){this.console && (g=b.bind(null,this.console,g,m));if("function" === typeof c.addEventListener)k=c.addEventListener(m,g);else if("function" === typeof c.addListener)k=c.addListener(m,g);else throw Error("Emitter does not have a function to add listeners for '" + m + "'");this.listeners.push([c,m,g]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(m){var g,k;g=m[0];k=m[1];m=m[2];"function" === typeof g.removeEventListener?g.removeEventListener(k,m):"function" === typeof g.removeListener && g.removeListener(k,m);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},41628:function(r,b,a){r.exports={EventEmitter:a(7795),Ge:a(65267)};},99886:function(r,b,a){var k,d,f,n,h,l,p;function c(q,u,t,v,w,y){this.O=this.J=q;this.priority=u;this.Fe=t;y && y.Md && (this.Md=y.Md);void 0 !== v && (this.xO=v);this.Zk=w;this.sb=y;}function m(q,u,t,v,w){f(void 0 !== v,"video preparer is null");f(void 0 !== w,"ui preparer is null");this.S=u || console;this.S=u;this.ka=t;this.Xvb=v;this.Ovb=w;this.UTa=l.hxa;this.aL=[];this.Sja=!1;this.wS=0;new p().on(l,"changed",g,this);this.reset();}function g(){this.S.log("config changed");l.hxa && (this.UTa=l.hxa);l.GX !== this.VK && (this.reset(),this.qya());}k=a(79809);d=a(45578);b=a(76122);f=b.assert;n=b.B1a;h=a(90638);l=a(94030).config;p=a(41628).Ge;l.declare({hxa:["ppmConfig",{zec:{aab:0,$$a:2,X$a:0,Y$a:5,Sfb:0},cic:{aab:0,$$a:1,X$a:0,Y$a:3,Sfb:1E3},Hec:{aab:0,$$a:1,X$a:0,Y$a:3,Sfb:1E3}}]});m.prototype.constructor=m;m.prototype.reset=function(){this.Iia=!0;this.VK=l.GX;this.S.log("create model: " + l.GX,l.seb,l.uYa);switch(l.GX){case "modelone":this.VK=new h(this.S);break;default:this.VK=new h(this.S);}};m.prototype.qya=function(){var u,t;if(!1 === this.Sja){this.Sja=!0;for(var q=0;q < this.aL.length;q++){this.S.log("PlayPredictionModel replay: ",JSON.stringify(this.aL[q]));u=this.aZa(this.aL[q]);t=this.n2a(u);this.VK.update(u,t);this.Iia=!1;}this.aL=[];}};m.prototype.update=function(q){var u,t,v;this.S.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Mb && q.Mb[0]){!1 === this.Sja && this.aL.length < l.ZWb && this.aL.push(q);u=this.aZa(q);t=this.n2a(u);this.S.log("actionType",t);u="mlmodel" == l.GX?this.VK.update(q,t):this.VK.update(u,t);u=this.zMb(u,l.jUb || 1);this.S.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.wS && (this.wS=k(),this.ka && this.ka.MY && this.ka.MY({vHb:this.wS}));if(this.ka && this.ka.K4b){this.yNb();v=[];u.forEach(function(w){v.push({Foc:w.J});});JSON.stringify(q);JSON.stringify(u);}this.Xvb.jI(u);this.Ovb.jI(u);this.Iia=!1;}};m.prototype.yNb=function(){k();};m.prototype.MY=function(){this.wS=k();this.ka && this.ka.MY && this.ka.MY({vHb:this.wS});};m.prototype.aZa=function(q){var u,t,v,w,y;u={};v=q.Mb || [];w=(function(x){var z,A;z={};y=d.nR.name.indexOf(x.context);z.context=0 <= y?y:d.nR.Lx;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={J:B.J,Fe:B.Fe,index:B.index,xO:B.xO,Maa:B.Maa,list:B.list,sb:B.sb};void 0 !== B.property && (y=d.bK.name.indexOf(B.property),A.property=0 <= y?y:d.bK.Lx);z.list.push(A);}).bind(this));u.Mb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.hv.name.indexOf(q.direction);u.direction=0 <= y?y:d.hv.Lx;}void 0 !== q.jV && (u.Skc=q.jV.rowIndex,u.Rkc=q.jV.qCb);u.jV=q.jV;u.Mb=[];v.forEach(w);return u;};m.prototype.n2a=function(q){var u,t,v;u=q.direction || d.hv.Lx;t=q.jV;v=q.Mb || [];!0 === this.Iia?q=d.qx.pHa:!0 === v.some(this.mRb)?(q=d.qx.MR,this.kba(v,u,t)):q=v[0].context === d.nR.s2?d.qx.s2:u === d.hv.oPa || u === d.hv.KJa?d.qx.JPa:d.qx.Lx;return q;};m.prototype.mRb=function(q){return (q.list || []).some(function(u){return u.property === d.bK.MR || u.property === d.bK.JFa;});};m.prototype.kba=function(q,u,t){var v,w;this.S.log("reportPlayFocusEvent: ",u,t);v={};w=n(q);this.ka && this.ka.kba && (v.Ikc=k(),v.direction=d.hv.name[u],t && (v.rowIndex=t.rowIndex,v.vYa=t.qCb),void 0 !== w.Nj && (v.requestId=q[w.Nj].requestId),this.ka.kba && this.ka.kba(v));};m.prototype.zMb=function(q,u){for(var t=q.length,v=[],w,y,x,z,A=0;A < t;A++){y=q[A];w=Math.floor(A / u) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(l.mCb,z) && !(x[B].Zk=y.Zk,this.qVa(x[B],w,v),v.length >= l.o9a);B++);}else this.qVa(y,w,v);if(v.length >= l.o9a)break;}return v;};m.prototype.qVa=function(q,u,t){var w,y;function v(x){x.Md && (x.sb || (x.sb={}),x.sb.Md=x.Md);return x.sb;}w=q.Maa;if(void 0 !== w && w instanceof Array)w.forEach(function(x){void 0 !== x.J && (y=v(x),t.push(new c(x.J,u,x.Fe,x.xO,q.Zk,y)));});else if(void 0 !== w && void 0 !== w.J){w=q.Maa;y=v(w);t.push(new c(w.J,u,w.Fe,w.xO,q.Zk,y));}void 0 !== q.J && (y=v(q),t.push(new c(q.J,u,q.Fe,q.xO,q.Zk,y)));};m.prototype.LG=function(q){var u;u=this.UTa;return q?u[q]:u;};r.exports=m;},76122:function(r,b,a){var m;function c(g){for(var k="",d=0;d < g.length;d++)k+=g[d].J + "|";return k;}m=a(45578);r.exports={assert:function(g,k){if(!g)throw Error("PlayPredictionModel assertion failed" + (k?" : " + k:""));},Hlc:function(g,k,d){Array.prototype.splice.apply(g,[k,0].concat(d));},pNb:function(g){for(var k=[],d=0;d < g.length;d++)if(g[d].context === m.nR.nmb){k=g[d].list;break;}return k;},YMb:function(g){for(var k=[],d=0;d < g.length;d++)if(g[d].context === m.nR.mlb){k=g[d].list;break;}return k;},xHb:function(g,k){for(var d=0,f,n,h,l=0,p=g.length - 1;l < p;l++){f=c(g[l].list || []);h=!1;for(var q=0,u=k.length;q < u;q++)if((n=c(k[q].list || []),n == f)){h=!0;break;}if(!1 === h){d=l;break;}}return d;},AZb:function(g,k,d){for(var f=[],n,h=0;h < Math.min(k,g.length);h++)(n=g[h].list || [],f=f.concat(n.slice(0,d)));return f;},zZb:function(g,k){for(var d=[],f,n=0;n < g.length && (f=g[n].list || [],f=f.slice(0,Math.min(f.length,k)),k-=f.length,d=d.concat(f),0 !== k);n++);return d;},yZb:function(g,k,d){var f;k < g.length && 0 <= k && (g=g[k].list || [],d < g.length && (f=g[d]));return f;},B1a:function(g){for(var k={},d=g.length,f,n=0;n < d;n++){f=g[n].list || [];for(var h=0;h < f.length;h++)if(f[h].property === m.bK.MR || f[h].property === m.bK.JFa){k.Nj=n;k.Sl=h;break;}}void 0 === k.Nj && void 0 === k.Sl && (k.Nj=0,k.Sl=0);return k;}};},21457:function(r,b,a){var n,h,l,p,q,u,t,v;function c(w){return w.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function m(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function g(w,y,x){var z;if("string" === typeof w)return g.call(this,c(w),y,x);z=0;Object.keys(w).forEach(function(A){var B,D,C;B=q[A];D=w[A];if(B){if(C=u[A] || v[typeof n[B]])try{D=C(D);}catch(E){x && x.error("Failed to convert value '" + D + "' for config '" + A + "' : " + E.toString());return;}C=p[B];this[B]=D;p[B] !== C && (x && x.debug("Config changed for '" + A + "' from " + m(C) + " (" + typeof C + ") to " + m(D) + " (" + typeof D + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(E){return E[0] !== this;},this):[],B.push([this,D]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function k(){return Object.keys(q).reduce(function(w,y){var x,z;x=q[y];z=w[x];z?(z.push(y),w[x]=z.sort(function(A,B){return B.length - A.length;})):w[x]=[y];return w;},{});}function d(w,y){return w.hasOwnProperty(y)?m(w[y]):void 0;}function f(w,y){return "undefined" === typeof w?y:w;}b=a(31503);a=a(37911).EventEmitter;n={};h=Object.create(n);l=Object.create(h);p=Object.create(l);q={};u={};t={};p.declare=function(w){Object.keys(w).forEach(function(y){var x,z,A,B;x=w[y];z=x[0];A=x[1];B=x[2];if(n.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var C;if(q.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");n.hasOwnProperty(y) || ("function" === typeof A && (A=A()),n[y]=A);q[D]=y;"function" === typeof B && (u[D]=B);if(C=t[D])(C.forEach(function(E){var G,F;G=E[0];F={};F[D]=E[1];g.call(G,F,!1);}),delete t[D]);});});return p;};v={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};p.set=g.bind(h);p.lwa=g.bind(l);p.dump=function(w,y){var z,A,B,D;function x(){D && w && w.log("===========================================");}z=Object.keys(t).sort();A={};B=k();y=f(y,!0);Object.keys(q).sort().forEach(function(C){var E,G,F;C=q[C];if(!A[C]){A[C]=!0;E=d(h,C);G=d(l,C);if(y || "undefined" !== typeof E || "undefined" !== typeof G){F=B[C].join(",");F+=" = " + m(p[C]) + " (" + typeof p[C] + ") [";F+=f(G,"<unset>") + ",";F+=f(E,"<unset>") + ",";F+=d(n,C) + "]";D || (D=!0,w && w.log("Current config values"),x());w && w.log(F);}}});(y || z.length) && w && w.log("<undeclared> :",z);x();};p.ho=function(w){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});w && g.call(y,w);return y;};p.M0b=function(){var w;w=k();return Object.getOwnPropertyNames(h).reduce(function(y,x){y[w[x][0]]=h[x];return y;},{});};p.reset=function(){Object.keys(h).forEach(function(w){delete h[w];});};p.pg={};b(a,p);r.exports=Object.freeze(p);},76295:function(r){function b(c,m){var g;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.pg)return (this.pg={},this.pg[c]=[m],!0);g=this.pg[c];return void 0 === g?(this.pg[c]=[m],!0):0 > g.indexOf(m)?(g.push(m),!0):!1;}function a(c,m){c=this.pg?this.pg[c]:void 0;if(!c)return !1;c.forEach(function(g){g(m);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,m){var g;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.pg)return !1;g=this.pg[c];if(void 0 === g)return !1;m=g.indexOf(m);if(0 > m)return !1;if(1 === g.length)return (delete this.pg[c],!0);g.splice(m,1);return !0;},vr:a,emit:a,removeAllListeners:function(c){this.pg && (void 0 === c?delete this.pg:delete this.pg[c]);return this;}};},92653:function(r){function b(c,m,g,k){c.trace(":",g,":",k);m(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,m,g,k){g=k?g.bind(k):g;k=!1;if(c){this.console && (g=b.bind(null,this.console,g,m));if("function" === typeof c.addEventListener)k=c.addEventListener(m,g);else if("function" === typeof c.addListener)k=c.addListener(m,g);else throw Error("Emitter does not have a function to add listeners for '" + m + "'");this.listeners.push([c,m,g]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(m){var g,k;g=m[0];k=m[1];m=m[2];"function" === typeof g.removeEventListener?g.removeEventListener(k,m):"function" === typeof g.removeListener && g.removeListener(k,m);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},37911:function(r,b,a){r.exports={EventEmitter:a(76295),Ge:a(92653)};},82630:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var k,d,f;function c(n,h,l){throw new TypeError(("undefined" !== typeof l.key?"Types: expected " + l.key:"Types: expected argument " + l.index) + (" to be '" + n + "' but found '" + h + "'"));}function m(n,h,l){var p;p=d[n];"undefined" !== typeof p?p(h) || c(n,h,l):n !== typeof h && c(n,h,l);}function g(n,h){var l;l=n.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});l=l.concat(n.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === f.indexOf(u);}));},[]));if(0 < l.length)throw Error(l.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== n.length)throw new TypeError("Types: unexpected number of arguments");n.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)m(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(v){m(q[v],t[v],{key:v});});else throw Error("Types: unexpected type in type array");});return h.apply(this,p);};}k=("number boolean string object function symbol").split(" ");d={array:function(n){return Array.isArray(n);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(n){if("undefined" !== typeof d[n] || -1 < k.indexOf(n))throw new TypeError("Types: attempting to override a built in type with " + n);d[n]=a[n];});}f=Object.keys(d).concat(k);return g(["array","function"],g);};},17267:function(r){var b;b={Tb:function(a){return "number" === typeof a;},ku:function(a){return "object" === typeof a;},zg:function(a){return "string" === typeof a;},wo:function(a){return "undefined" === typeof a;},Klc:function(a){return "boolean" === typeof a;},hq:function(a){return "function" === typeof a;},xc:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},e0b:function(a){var c,m;m=[];if(!b.ku(a))throw new TypeError("Object.pairs called on non-object");for(c in a)a.hasOwnProperty(c) && m.push([c,a[c]]);return m;}};b.Tp=b.forEach=function(a,c,m){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var g=0,k=a.length;g < k;g++)c.call(m,a[g],g,a);else for(g in a)b.has(a,g) && c.call(m,a[g],g,a);return a;};r.exports=b;},75691:function(r,b,a){var c,m,g,k,d,f,n,h,l,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;m=Object.prototype.toString;g=a(30801);b=Object.prototype.propertyIsEnumerable;k=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");n=function(q){var u;u=q.constructor;return u && u.prototype === q;};h={ydc:!0,zdc:!0,Adc:!0,Bdc:!0,Cdc:!0,Ddc:!0,Edc:!0,Fdc:!0,Gdc:!0,Hdc:!0,Idc:!0,Jdc:!0,Kdc:!0,Ldc:!0,Mdc:!0,Ndc:!0,Odc:!0,Pdc:!0,Qdc:!0,Rdc:!0,Sdc:!0,Tdc:!0,Udc:!0};l=(function(){if("undefined" === typeof qb)return !1;for(var q in qb)try{if(!h["$" + q] && c.call(qb,q) && null !== qb[q] && "object" === typeof qb[q])try{n(qb[q]);}catch(u){return !0;}}catch(u){return !0;}return !1;})();p=function(q){var u,t,v,w,y,z;u=null !== q && "object" === typeof q;t="[object Function]" === m.call(q);v=g(q);w=u && "[object String]" === m.call(q);y=[];if(!u && !t && !v)throw new TypeError("Object.keys called on a non-object");u=d && t;if(w && 0 < q.length && !c.call(q,0))for(w=0;w < q.length;++w)y.push(String(w));if(v && 0 < q.length)for(v=0;v < q.length;++v)y.push(String(v));else for(var x in q)u && "prototype" === x || !c.call(q,x) || y.push(String(x));if(k){if("undefined" !== typeof qb && l)try{z=n(q);}catch(A){z=!1;}else z=n(q);for(v=0;v < f.length;++v)z && "constructor" === f[v] || !c.call(q,f[v]) || y.push(f[v]);}return y;};}r.exports=p;},33464:function(r,b,a){var c,m,g,k,d;c=Array.prototype.slice;m=a(30801);g=Object.keys;k=g?function(f){return g(f);}:a(75691);d=Object.keys;k.Y7b=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return m(f)?d(c.call(f)):d(f);}):Object.keys=k;return Object.keys || k;};r.exports=k;},30801:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,m;c=b.call(a);m="[object Arguments]" === c;m || (m="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return m;};},61386:function(r,b,a){var d,f,n,h;function c(l){var p,q,u;if("Object" !== n(this))throw new TypeError("receiver is not an Object");p=f(this,h);q=l;u=l;d(l) && (q=g(p,l),u=m(p,l));return this.then(q,u);}function m(l,p){return function(q){var u;u=p();return k(l,u).then(function(){throw q;});};}function g(l,p){return function(q){var u;u=p();return k(l,u).then(function(){return q;});};}function k(l,p){return new l(function(q){q(p);});}a(57897)();d=a(83317);f=a(88251);n=a(18132);h=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},32887:function(r,b,a){var c,m;c=a(57897);m=a(61386);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:m;};},57897:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(r,b,a){var c,m,g;c=a(57897);m=a(32887);g=a(14926);r.exports=function(){var k;c();k=m();g(Promise.prototype,{"finally":k},{"finally":function(){return Promise.prototype["finally"] !== k;}});return k;};},23614:function(r,b,a){var c;c=a(35375);b=a(31187)(function(m,g){return c(m.length,function(){return m.apply(g,arguments);});});r.exports=b;},57301:function(r,b,a){var c,m,g,k,d;b=a(31187);c=a(55446);m=a(89028);g=a(77894);k=a(67758);d=a(75850);a=b(function(f,n){return m(d(g,0,k("length",n)),function(){var h,l;h=arguments;l=this;return f.apply(l,c(function(p){return p.apply(l,h);},n));});});r.exports=a;},89028:function(r,b,a){var c,m,g;c=a(35375);m=a(16805);b=a(31187);g=a(16500);a=b(function(k,d){return 1 === k?m(d):c(k,g(k,[],d));});r.exports=a;},5154:function(r,b,a){var c;c=a(25701);b=a(20239)(function(m,g,k){for(var d=[],f=0,n=g.length;f < n;)(c(m,g[f],k) || c(m,g[f],d) || d.push(g[f]),f+=1);return d;});r.exports=b;},42514:function(r,b,a){var c,m,g,k,d,f;b=a(31187);c=a(8414);m=a(46458);g=a(78678);k=a(18468);d=a(14128);f=a(93358);a=b(c(["filter"],d,function(n,h){return g(h)?k(function(l,p){n(h[p]) && (l[p]=h[p]);return l;},{},f(h)):m(n,h);}));r.exports=a;},56663:function(r,b,a){b=a(31187)(function(c,m){for(var g=[],k=0,d=m.length;k < d;){for(var f=k + 1;f < d && c(m[f - 1],m[f]);)f+=1;g.push(m.slice(k,f));k=f;}return g;});r.exports=b;},35375:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,m){return a.apply(this,arguments);};case 3:return function(c,m,g){return a.apply(this,arguments);};case 4:return function(c,m,g,k){return a.apply(this,arguments);};case 5:return function(c,m,g,k,d){return a.apply(this,arguments);};case 6:return function(c,m,g,k,d,f){return a.apply(this,arguments);};case 7:return function(c,m,g,k,d,f,n){return a.apply(this,arguments);};case 8:return function(c,m,g,k,d,f,n,h){return a.apply(this,arguments);};case 9:return function(c,m,g,k,d,f,n,h,l){return a.apply(this,arguments);};case 10:return function(c,m,g,k,d,f,n,h,l,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(r){r.exports=function(b,a){var c,m,g,k;b=b || [];a=a || [];m=b.length;g=a.length;k=[];for(c=0;c < m;)(k[k.length]=b[c],c+=1);for(c=0;c < g;)(k[k.length]=a[c],c+=1);return k;};},25701:function(r){r.exports=function(b,a,c){for(var m=0,g=c.length;m < g;){if(b(a,c[m]))return !0;m+=1;}return !1;};},16805:function(r,b,a){var c;c=a(28198);r.exports=function(m){return function d(k){return 0 === arguments.length || c(k)?d:m.apply(this,arguments);};};},31187:function(r,b,a){var c,m;c=a(16805);m=a(28198);r.exports=function(g){return function n(d,f){switch(arguments.length){case 0:return n;case 1:return m(d)?n:c(function(h){return g(d,h);});default:return m(d) && m(f)?n:m(d)?c(function(h){return g(h,f);}):m(f)?c(function(h){return g(d,h);}):g(d,f);}};};},20239:function(r,b,a){var c,m,g;c=a(16805);m=a(31187);g=a(28198);r.exports=function(k){return function l(f,n,h){switch(arguments.length){case 0:return l;case 1:return g(f)?l:m(function(p,q){return k(f,p,q);});case 2:return g(f) && g(n)?l:g(f)?m(function(p,q){return k(p,n,q);}):g(n)?m(function(p,q){return k(f,p,q);}):c(function(p){return k(f,n,p);});default:return g(f) && g(n) && g(h)?l:g(f) && g(n)?m(function(p,q){return k(p,q,h);}):g(f) && g(h)?m(function(p,q){return k(p,n,q);}):g(n) && g(h)?m(function(p,q){return k(f,p,q);}):g(f)?c(function(p){return k(p,n,h);}):g(n)?c(function(p){return k(f,p,h);}):g(h)?c(function(p){return k(f,n,p);}):k(f,n,h);}};};},16500:function(r,b,a){var m,g;function c(k,d,f){return function(){var q;for(var n=[],h=0,l=k,p=0;p < d.length || h < arguments.length;){if(p < d.length && (!g(d[p]) || h >= arguments.length))q=d[p];else (q=arguments[h],h+=1);n[p]=q;g(q) || --l;p+=1;}return 0 >= l?f.apply(this,n):m(l,c(k,n,f));};}m=a(35375);g=a(28198);r.exports=c;},8414:function(r,b,a){var c,m;c=a(84357);m=a(11972);r.exports=function(g,k,d){return function(){var f,n;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);n=f.pop();if(!c(n)){for(var h=0;h < g.length;){if("function" === typeof n[g[h]])return n[g[h]].apply(n,f);h+=1;}if(m(n))return k.apply(null,f)(n);}return d.apply(this,arguments);};};},46458:function(r){r.exports=function(b,a){for(var c=0,m=a.length,g=[];c < m;)(b(a[c]) && (g[g.length]=a[c]),c+=1);return g;};},58380:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(r,b,a){var c,m;c=a(58380);m=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === m.call(arguments)?function(g){return "[object Arguments]" === m.call(g);}:function(g){return c("callee",g);};};},84357:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(r,b,a){var c,m;b=a(16805);c=a(84357);m=a(86807);a=b(function(g){return c(g)?!0:!g || "object" !== typeof g || m(g)?!1:1 === g.nodeType?!!g.length:0 === g.length?!0:0 < g.length?g.hasOwnProperty(0) && g.hasOwnProperty(g.length - 1):!1;});r.exports=a;},78678:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(r){r.exports=function(b,a){for(var c=0,m=a.length,g=Array(m);c < m;)(g[c]=b(a[c]),c+=1);return g;};},18468:function(r,b,a){var g,k,d,f;function c(n,h,l){for(var p=l.next();!p.done;){if((h=n["@@transducer/step"](h,p.value)) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p=l.next();}return n["@@transducer/result"](h);}function m(n,h,l,p){return n["@@transducer/result"](l[p](d(n["@@transducer/step"],n),h));}g=a(33905);k=a(71402);d=a(23614);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(n,h,l){"function" === typeof n && (n=k(n));if(g(l)){for(var p=0,q=l.length;p < q;){if((h=n["@@transducer/step"](h,l[p])) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p+=1;}return n["@@transducer/result"](h);}if("function" === typeof l["fantasy-land/reduce"])return m(n,h,l,"fantasy-land/reduce");if(null != l[f])return c(n,h,l[f]());if("function" === typeof l.next)return c(n,h,l);if("function" === typeof l.reduce)return m(n,h,l,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(r){r.exports={Eb:function(){return this.H_["@@transducer/init"]();},result:function(b){return this.H_["@@transducer/result"](b);}};},14128:function(r,b,a){var c,m;b=a(31187);c=a(18610);m=(function(){function g(k,d){this.H_=d;this.f=k;}g.prototype["@@transducer/init"]=c.Eb;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(k,d){return this.f(d)?this.H_["@@transducer/step"](k,d):k;};return g;})();a=b(function(g,k){return new m(g,k);});r.exports=a;},94406:function(r,b,a){var c,m;b=a(31187);c=a(18610);m=(function(){function g(k,d){this.H_=d;this.f=k;}g.prototype["@@transducer/init"]=c.Eb;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(k,d){return this.H_["@@transducer/step"](k,this.f(d));};return g;})();a=b(function(g,k){return new m(g,k);});r.exports=a;},71402:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,m){return this.f(c,m);};return a;})();r.exports=function(a){return new b(a);};},72849:function(r,b,a){var c;b=a(16805);c=a(57301);a=b(function(m){return c(function(){return Array.prototype.slice.call(arguments,0);},m);});r.exports=a;},93358:function(r,b,a){var c,m,g,k,d;b=a(16805);c=a(58380);m=a(46546);g=!({toString:null}).propertyIsEnumerable("toString");k=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var n,h,l,p;if(Object(f) !== f)return [];n=[];h=d && m(f);for(l in f)!c(l,f) || h && "length" === l || (n[n.length]=l);if(g)for(h=k.length - 1;0 <= h;){l=k[h];if(p=c(l,f)){a:{for(p=0;p < n.length;){if(n[p] === l){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (n[n.length]=l);--h;}return n;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},81057:function(r,b,a){var c,m,g,k,d,f;b=a(31187);c=a(8414);m=a(55446);g=a(18468);k=a(94406);d=a(89028);f=a(93358);a=b(c(["fantasy-land/map","map"],k,function(n,h){switch(Object.prototype.toString.call(h)){case "[object Function]":return d(h.length,function(){return n.call(this,h.apply(this,arguments));});case "[object Object]":return g(function(l,p){l[p]=n(h[p]);return l;},{},f(h));default:return m(n,h);}}));r.exports=a;},77894:function(r,b,a){b=a(31187)(function(c,m){return m > c?m:c;});r.exports=b;},29664:function(r,b,a){var c;b=a(20239);c=a(29924);a=b(function(m,g,k){return c(function(d,f,n){return m(f,n);},g,k);});r.exports=a;},29924:function(r,b,a){var c,m;b=a(20239);c=a(78678);m=a(48796);a=b(function n(k,d,f){return m(function(h,l,p){return c(l) && c(p)?n(k,l,p):k(h,l,p);},d,f);});r.exports=a;},48796:function(r,b,a){var c;b=a(20239);c=a(58380);a=b(function(m,g,k){var d,f;d={};for(f in g)c(f,g) && (d[f]=c(f,k)?m(f,g[f],k[f]):g[f]);for(f in k)c(f,k) && !c(f,d) && (d[f]=k[f]);return d;});r.exports=a;},31435:function(r,b,a){var c;b=a(42514);c=a(72849);a=a(64580);a=c([b,a]);r.exports=a;},23335:function(r,b,a){b=a(31187)(function(c,m){for(var g=0;g < c.length;){if(null == m)return;m=m[c[g]];g+=1;}return m;});r.exports=b;},67758:function(r,b,a){var c,m;b=a(31187);c=a(81057);m=a(38695);a=b(function(g,k){return c(m(g),k);});r.exports=a;},38695:function(r,b,a){var c;b=a(31187);c=a(23335);a=b(function(m,g){return c([m],g);});r.exports=a;},75850:function(r,b,a){b=a(20239);a=a(18468);a=b(a);r.exports=a;},64580:function(r,b,a){var c,m;c=a(48925);b=a(31187);m=a(42514);a=b(function(g,k){return m(c(g),k);});r.exports=a;},60024:function(r,b,a){var c,m;c=a(86614);b=a(20239);m=a(25228);a=b(function(g,k,d){return m(g,c(k,d));});r.exports=a;},25228:function(r,b,a){var c;c=a(25701);b=a(31187)(function(m,g){for(var k=0,d=g.length,f=[],n;k < d;)(n=g[k],c(m,n,f) || (f[f.length]=n),k+=1);return f;});r.exports=b;},1738:function(r,b,a){var c;(function(m){(function(g){var d,f;function k(n,h){return function(l,p){"function" !== typeof n[l] && Object.defineProperty(n,l,{configurable:!0,writable:!0,value:p});h && h(l,p);};}d="object" === typeof a.b7?a.b7:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();f=k(m);"undefined" === typeof d.Reflect?d.Reflect=m:f=k(d.Reflect,f);g(f);})(function(g){var G,F,I,P,M,L,Q,J,H,K,O;function k(R,ca,oa){var ta;ta=O.get(R);if(u(ta)){if(!oa)return;ta=new H();O.set(R,ta);}R=ta.get(ca);if(u(R)){if(!oa)return;R=new H();ta.set(ca,R);}return R;}function d(R,ca,oa){if(f(R,ca,oa))return !0;ca=A(ca);return null === ca?!1:d(R,ca,oa);}function f(R,ca,oa){ca=k(ca,oa,!1);return u(ca)?!1:!!ca.has(R);}function n(R,ca,oa){if(f(R,ca,oa))return h(R,ca,oa);ca=A(ca);if(null !== ca)return n(R,ca,oa);}function h(R,ca,oa){ca=k(ca,oa,!1);if(!u(ca))return ca.get(R);}function l(R,ca){var oa,ua,ya;oa=p(R,ca);R=A(R);if(null === R)return oa;ca=l(R,ca);if(0 >= ca.length)return oa;if(0 >= oa.length)return ca;R=new K();for(var ta=[],Fa=0;Fa < oa.length;Fa++){ua=oa[Fa];ya=R.has(ua);ya || (R.add(ua),ta.push(ua));}for(oa=0;oa < ca.length;oa++)(ua=ca[oa],(ya=R.has(ua)) || (R.add(ua),ta.push(ua)));return ta;}function p(R,ca){var oa,ta;oa=[];R=k(R,ca,!1);if(u(R))return oa;R=R.keys();ca=z(R,P);if(!x(ca))throw new TypeError();R=ca.call(R);if(!t(R))throw new TypeError();for(ca=0;;){ta=R.next();ta=ta.done?!1:ta;if(!ta)return (oa.length=ca,oa);ta=ta.value;try{oa[ca]=ta;}catch(ua){var Fa;try{Fa=R["return"];Fa && Fa.call(R);}finally{throw ua;}}ca++;}}function q(R){if(null === R)return 1;switch(typeof R){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === R?1:6;default:return 6;}}function u(R){return void 0 === R;}function t(R){return "object" === typeof R?null !== R:"function" === typeof R;}function v(R,ca){var oa;switch(q(R)){case 0:return R;case 1:return R;case 2:return R;case 3:return R;case 4:return R;case 5:return R;}ca=3 === ca?"string":5 === ca?"number":"default";oa=z(R,I);if(void 0 !== oa){R=oa.call(R,ca);if(t(R))throw new TypeError();return R;}a:{if("string" === ("default" === ca?"number":ca)){ca=R.toString;if(x(ca) && (ca=ca.call(R),!t(ca)))break a;ca=R.valueOf;}else {ca=R.valueOf;if(x(ca) && (ca=ca.call(R),!t(ca)))break a;ca=R.toString;}if(!x(ca) || (ca=ca.call(R),t(ca)))throw new TypeError();}return ca;}function w(R){R=v(R,3);return "symbol" === typeof R?R:"" + R;}function y(R){return Array.isArray?Array.isArray(R):R instanceof Object?R instanceof Array:"[object Array]" === Object.prototype.toString.call(R);}function x(R){return "function" === typeof R;}function z(R,ca){R=R[ca];if(void 0 !== R && null !== R){if(!x(R))throw new TypeError();return R;}}function A(R){var ca,oa;ca=Object.getPrototypeOf(R);if("function" !== typeof R || R === J || ca !== J)return ca;oa=R.prototype;oa=oa && Object.getPrototypeOf(oa);if(null == oa || oa === Object.prototype)return ca;oa=oa.constructor;return "function" !== typeof oa || oa === R?ca:oa;}function B(){var ta,Fa,ua;function R(ya){return ya;}function ca(ya,Ca){return Ca;}function oa(ya,Ca){return [ya,Ca];}ta={};Fa=[];ua=(function(){function ya(Ca,Va,S){this.og=0;this.Xe=Ca;this.zf=Va;this.Bvb=S;}ya.prototype["@@iterator"]=function(){return this;};ya.prototype[P]=function(){return this;};ya.prototype.next=function(){var Ca,Va;Ca=this.og;if(0 <= Ca && Ca < this.Xe.length){Va=this.Bvb(this.Xe[Ca],this.zf[Ca]);Ca + 1 >= this.Xe.length?(this.og=-1,this.zf=this.Xe=Fa):this.og++;return {value:Va,done:!1};}return {value:void 0,done:!0};};ya.prototype.throw=function(Ca){0 <= this.og && (this.og=-1,this.zf=this.Xe=Fa);throw Ca;};ya.prototype.return=function(Ca){0 <= this.og && (this.og=-1,this.zf=this.Xe=Fa);return {value:Ca,done:!0};};return ya;})();return (function(){function ya(){this.Xe=[];this.zf=[];this.wv=ta;this.jt=-2;}Object.defineProperty(ya.prototype,"size",{get:function(){return this.Xe.length;},enumerable:!0,configurable:!0});ya.prototype.has=function(Ca){return 0 <= this.Wx(Ca,!1);};ya.prototype.get=function(Ca){Ca=this.Wx(Ca,!1);return 0 <= Ca?this.zf[Ca]:void 0;};ya.prototype.set=function(Ca,Va){Ca=this.Wx(Ca,!0);this.zf[Ca]=Va;return this;};ya.prototype.delete=function(Ca){var Va,S;Va=this.Wx(Ca,!1);if(0 <= Va){S=this.Xe.length;for(Va+=1;Va < S;Va++)(this.Xe[Va - 1]=this.Xe[Va],this.zf[Va - 1]=this.zf[Va]);this.Xe.length--;this.zf.length--;Ca === this.wv && (this.wv=ta,this.jt=-2);return !0;}return !1;};ya.prototype.clear=function(){this.Xe.length=0;this.zf.length=0;this.wv=ta;this.jt=-2;};ya.prototype.keys=function(){return new ua(this.Xe,this.zf,R);};ya.prototype.values=function(){return new ua(this.Xe,this.zf,ca);};ya.prototype.entries=function(){return new ua(this.Xe,this.zf,oa);};ya.prototype["@@iterator"]=function(){return this.entries();};ya.prototype[P]=function(){return this.entries();};ya.prototype.Wx=function(Ca,Va){this.wv !== Ca && (this.jt=this.Xe.indexOf(this.wv=Ca));0 > this.jt && Va && (this.jt=this.Xe.length,this.Xe.push(Ca),this.zf.push(void 0));return this.jt;};return ya;})();}function D(){return (function(){function R(){this.xf=new H();}Object.defineProperty(R.prototype,"size",{get:function(){return this.xf.size;},enumerable:!0,configurable:!0});R.prototype.has=function(ca){return this.xf.has(ca);};R.prototype.add=function(ca){return (this.xf.set(ca,ca),this);};R.prototype.delete=function(ca){return this.xf.delete(ca);};R.prototype.clear=function(){this.xf.clear();};R.prototype.keys=function(){return this.xf.keys();};R.prototype.values=function(){return this.xf.values();};R.prototype.entries=function(){return this.xf.entries();};R.prototype["@@iterator"]=function(){return this.keys();};R.prototype[P]=function(){return this.keys();};return R;})();}function C(){var ta,Fa;function R(){var ua,Va;do {ua="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):oa(new Uint8Array(16),16):oa(Array(16),16);ua[6]=ua[6] & 79 | 64;ua[8]=ua[8] & 191 | 128;for(var ya="",Ca=0;16 > Ca;++Ca){Va=ua[Ca];if(4 === Ca || 6 === Ca || 8 === Ca)ya+="-";16 > Va && (ya+="0");ya+=Va.toString(16).toLowerCase();}ua="@@WeakMap@@" + ya;}while(Q.has(ta,ua));ta[ua]=!0;return ua;}function ca(ua,ya){if(!G.call(ua,Fa)){if(!ya)return;Object.defineProperty(ua,Fa,{value:Q.create()});}return ua[Fa];}function oa(ua,ya){for(var Ca=0;Ca < ya;++Ca)ua[Ca]=255 * Math.random() | 0;return ua;}ta=Q.create();Fa=R();return (function(){function ua(){this.tt=R();}ua.prototype.has=function(ya){ya=ca(ya,!1);return void 0 !== ya?Q.has(ya,this.tt):!1;};ua.prototype.get=function(ya){ya=ca(ya,!1);return void 0 !== ya?Q.get(ya,this.tt):void 0;};ua.prototype.set=function(ya,Ca){ca(ya,!0)[this.tt]=Ca;return this;};ua.prototype.delete=function(ya){ya=ca(ya,!1);return void 0 !== ya?delete ya[this.tt]:!1;};ua.prototype.clear=function(){this.tt=R();};return ua;})();}function E(R){R.qsb=void 0;delete R.qsb;return R;}G=Object.prototype.hasOwnProperty;F="function" === typeof Symbol;I=F && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";P=F && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";F="function" === typeof Object.create;M=({__proto__:[]}) instanceof Array;L=!F && !M;Q={create:F?function(){return E(Object.create(null));}:M?function(){return E({__proto__:null});}:function(){return E({});},has:L?function(R,ca){return G.call(R,ca);}:function(R,ca){return (ca in R);},get:L?function(R,ca){return G.call(R,ca)?R[ca]:void 0;}:function(R,ca){return R[ca];}};J=Object.getPrototypeOf(Function);H=(F="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;K=F || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?D():Set;O=new (F || "function" !== typeof WeakMap?C():WeakMap)();g("decorate",function(R,ca,oa,ta){var ua;if(u(oa)){if(!y(R))throw new TypeError();if("function" !== typeof ca)throw new TypeError();for(oa=R.length - 1;0 <= oa;--oa)if((ta=(0,R[oa])(ca),!u(ta) && null !== ta)){if("function" !== typeof ta)throw new TypeError();ca=ta;}return ca;}if(!y(R))throw new TypeError();if(!t(ca))throw new TypeError();if(!t(ta) && !u(ta) && null !== ta)throw new TypeError();null === ta && (ta=void 0);oa=w(oa);for(var Fa=R.length - 1;0 <= Fa;--Fa){ua=(0,R[Fa])(ca,oa,ta);if(!u(ua) && null !== ua){if(!t(ua))throw new TypeError();ta=ua;}}return ta;});g("metadata",function(R,ca){return function(oa,ta){var Fa;if(!t(oa))throw new TypeError();if(Fa=!u(ta)){a:switch(q(ta)){case 3:Fa=!0;break a;case 4:Fa=!0;break a;default:Fa=!1;}Fa=!Fa;}if(Fa)throw new TypeError();k(oa,ta,!0).set(R,ca);};});g("defineMetadata",function(R,ca,oa,ta){if(!t(oa))throw new TypeError();u(ta) || (ta=w(ta));k(oa,ta,!0).set(R,ca);});g("hasMetadata",function(R,ca,oa){if(!t(ca))throw new TypeError();u(oa) || (oa=w(oa));return d(R,ca,oa);});g("hasOwnMetadata",function(R,ca,oa){if(!t(ca))throw new TypeError();u(oa) || (oa=w(oa));return f(R,ca,oa);});g("getMetadata",function(R,ca,oa){if(!t(ca))throw new TypeError();u(oa) || (oa=w(oa));return n(R,ca,oa);});g("getOwnMetadata",function(R,ca,oa){if(!t(ca))throw new TypeError();u(oa) || (oa=w(oa));return h(R,ca,oa);});g("getMetadataKeys",function(R,ca){if(!t(R))throw new TypeError();u(ca) || (ca=w(ca));return l(R,ca);});g("getOwnMetadataKeys",function(R,ca){if(!t(R))throw new TypeError();u(ca) || (ca=w(ca));return p(R,ca);});g("deleteMetadata",function(R,ca,oa){var ta;if(!t(ca))throw new TypeError();u(oa) || (oa=w(oa));ta=k(ca,oa,!1);if(u(ta) || !ta.delete(R))return !1;if(0 < ta.size)return !0;R=O.get(ca);R.delete(oa);if(0 < R.size)return !0;O.delete(ca);return !0;});});})(c || (c={}));},63671:function(r,b,a){var c,m,g,k;b=a(62680);c=a(67286);m=a(58786);g=b("RegExp.prototype.exec");k=c("%TypeError%");r.exports=function(d){if(!m(d))throw new k("`regex` must be a RegExp");return function(f){return null !== g(d,f);};};},24454:function(r,b,a){var c,m,g,k,d;c=a(80633);m=a(24158);g=a(62680)("String.prototype.replace");k=(b=(/^\s$/).test("\u180e"))?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;d=b?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;r.exports=function(){var f;f=m(c(this));return g(g(f,k,""),d,"");};},11341:function(r,b,a){var m,g,k,d,f;function c(n){g(n);return f(n);}b=a(89429);m=a(14926);g=a(80633);k=a(24454);d=a(33871);a=a(93607);f=b(d());m(c,{ilc:d,implementation:k,Y7b:a});r.exports=c;},33871:function(r,b,a){var c;c=a(24454);r.exports=function(){return String.prototype.trim?String.prototype.trim:c;};},93607:function(r,b,a){var c,m;c=a(14926);m=a(33871);r.exports=function(){var g;g=m();c(String.prototype,{trim:g},{trim:function(){return String.prototype.trim !== g;}});return g;};},15913:function(r,b,a){var d;function c(f,n,h){this.WL=!1 === f;this.Cr=f || .01;this.zfa=void 0 === n?25:n;this.WEa=void 0 === h?1.1:h;this.Aj=new d(m);this.reset();}function m(f,n){return f.Qf > n.Qf?1:f.Qf < n.Qf?-1:0;}function g(f,n){return f.zw - n.zw;}function k(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.Cr:!1);this.CHb=this.config.ratio || .9;this.DHb=this.config.zoc || 1E3;this.t$=0;}d=a(35558).lrb;c.prototype.reset=function(){this.Aj.clear();this.yta=this.n=0;};c.prototype.size=function(){return this.Aj.size;};c.prototype.Ek=function(f){var n;n=[];f?(this.Z2(!0),this.Aj.Tp(function(h){n.push(h);})):this.Aj.Tp(function(h){n.push({Qf:h.Qf,n:h.n});});return n;};c.prototype.summary=function(){return [(this.WL?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Bi(0),"Q1  = " + this.Bi(.25),"Q2  = " + this.Bi(.5),"Q3  = " + this.Bi(.75),"max = " + this.Bi(1)].join("\n");};c.prototype.push=function(f,n){n=n || 1;f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++)this.JSa(f[h],n);};c.prototype.Pxa=function(f){f=Array.isArray(f)?f:[f];for(var n=0;n < f.length;n++)this.JSa(f[n].Qf,f[n].n);};c.prototype.Z2=function(f){var n;if(!(this.n === this.yta || !f && this.WEa && this.WEa > this.n / this.yta)){n=0;this.Aj.Tp(function(h){h.zw=n + h.n / 2;n=h.OL=n + h.n;});this.n=this.yta=n;}};c.prototype.sLb=function(f){var n,h;if(0 === this.size())return null;n=this.Aj.lowerBound({Qf:f});h=null === n.data()?n.oI():n.data();return h.Qf === f || this.WL?h:(n=n.oI()) && Math.abs(n.Qf - f) < Math.abs(h.Qf - f)?n:h;};c.prototype.WK=function(f,n,h){this.Aj.uo({Qf:f,n:n,OL:h});this.n+=n;};c.prototype.Q2=function(f,n,h){n !== f.Qf && (f.Qf+=h * (n - f.Qf) / (f.n + h));f.OL+=h;f.zw+=h / 2;f.n+=h;this.n+=h;};c.prototype.JSa=function(f,n){var h,l,p;h=this.Aj.min();l=this.Aj.max();p=this.sLb(f);p && p.Qf === f?this.Q2(p,f,n):p === h?this.WK(f,n,0):p === l?this.WK(f,n,this.n):this.WL?this.WK(f,n,p.OL):(h=p.zw / this.n,Math.floor(4 * this.n * this.Cr * h * (1 - h)) - p.n >= n?this.Q2(p,f,n):this.WK(f,n,p.OL));this.Z2(!1);!this.WL && this.zfa && this.size() > this.zfa / this.Cr && this.yr();};c.prototype.Fzb=function(f){var n,h;this.Aj.mt=g;n=this.Aj.upperBound({zw:f});this.Aj.mt=m;h=n.oI();f=h && h.zw === f?h:n.next();return [h,f];};c.prototype.Bi=function(f){var n;n=(Array.isArray(f)?f:[f]).map(this.Yub,this);return Array.isArray(f)?n:n[0];};c.prototype.Yub=function(f){var n,h;if(0 !== this.size()){this.Z2(!0);this.Aj.min();this.Aj.max();f*=this.n;n=this.Fzb(f);h=n[0];n=n[1];return n === h || null === h || null === n?(h || n).Qf:this.WL?f <= h.OL?h.Qf:n.Qf:h.Qf + (f - h.zw) * (n.Qf - h.Qf) / (n.zw - h.zw);}};c.prototype.yr=function(){var f;if(!this.LYa){f=this.Ek();this.reset();for(this.LYa=!0;0 < f.length;)this.Pxa(f.splice(Math.floor(Math.random() * f.length),1)[0]);this.Z2(!0);this.LYa=!1;}};k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.push=function(f){c.prototype.push.call(this,f);this.HBb();};k.prototype.WK=function(f,n,h){this.t$+=1;c.prototype.WK.call(this,f,n,h);};k.prototype.Q2=function(f,n,h){1 === f.n && --this.t$;c.prototype.Q2.call(this,f,n,h);};k.prototype.HBb=function(){!("auto" !== this.mode || this.size() < this.DHb) && this.t$ / this.size() > this.CHb && (this.mode="cont",this.WL=!1,this.Cr=this.config.Cr || .01,this.yr());};r.exports={TDigest:c,Digest:k};},5163:function(r,b,a){var Q,J,H;function c(){c=Object.assign || (function(K){for(var O,R=1,ca=arguments.length;R < ca;R++){O=arguments[R];for(var oa in O)Object.prototype.hasOwnProperty.call(O,oa) && (K[oa]=O[oa]);}return K;});return c.apply(this,arguments);}function m(K,O){m=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(R,ca){R.__proto__=ca;}) || (function(R,ca){for(var oa in ca)Object.prototype.hasOwnProperty.call(ca,oa) && (R[oa]=ca[oa]);});return m(K,O);}function g(K,O){function R(){this.constructor=K;}if("function" !== typeof O && null !== O)throw new TypeError("Class extends value " + String(O) + " is not a constructor or null");m(K,O);K.prototype=null === O?Object.create(O):(R.prototype=O.prototype,new R());}function k(K,O){var R,ca,oa;R={};for(ca in K)Object.prototype.hasOwnProperty.call(K,ca) && 0 > O.indexOf(ca) && (R[ca]=K[ca]);if(null != K && "function" === typeof Object.getOwnPropertySymbols){oa=0;for(ca=Object.getOwnPropertySymbols(K);oa < ca.length;oa++)0 > O.indexOf(ca[oa]) && Object.prototype.propertyIsEnumerable.call(K,ca[oa]) && (R[ca[oa]]=K[ca[oa]]);}return R;}function d(K,O,R,ca){var oa,ta,Fa;oa=arguments.length;ta=3 > oa?O:null === ca?ca=Object.getOwnPropertyDescriptor(O,R):ca;if("object" === typeof Reflect && "function" === typeof Reflect.PB)ta=Reflect.PB(K,O,R,ca);else for(var ua=K.length - 1;0 <= ua;ua--)if(Fa=K[ua])ta=(3 > oa?Fa(ta):3 < oa?Fa(O,R,ta):Fa(O,R)) || ta;return (3 < oa && ta && Object.defineProperty(O,R,ta),ta);}function f(K,O){return function(R,ca){O(R,ca,K);};}function n(K,O,R,ca,oa,ta){var ua,ya,Ja;function Fa(Na){if(void 0 !== Na && "function" !== typeof Na)throw new TypeError("Function expected");return Na;}ua=ca.kind;ya="getter" === ua?"get":"setter" === ua?"set":"value";K=!O && K?ca["static"]?K:K.prototype:null;O=O || (K?Object.getOwnPropertyDescriptor(K,ca.name):{});for(var Ca,Va=!1,S=R.length - 1;0 <= S;S--){Ca={};for(var ma in ca)Ca[ma]="access" === ma?{}:ca[ma];for(ma in ca.SUa)Ca.SUa[ma]=ca.SUa[ma];Ca.bjc=function(Na){if(Va)throw new TypeError("Cannot add initializers after decoration has completed");ta.push(Fa(Na || null));};Ja=(0,R[S])("accessor" === ua?{get:O.get,set:O.set}:O[ya],Ca);if("accessor" === ua){if(void 0 !== Ja){if(null === Ja || "object" !== typeof Ja)throw new TypeError("Object expected");if(Ca=Fa(Ja.get))O.get=Ca;if(Ca=Fa(Ja.set))O.set=Ca;(Ca=Fa(Ja.Eb)) && oa.unshift(Ca);}}else if(Ca=Fa(Ja))"field" === ua?oa.unshift(Ca):O[ya]=Ca;}K && Object.defineProperty(K,ca.name,O);Va=!0;}function h(K,O,R){for(var ca=2 < arguments.length,oa=0;oa < O.length;oa++)R=ca?O[oa].call(K,R):O[oa].call(K);return ca?R:void 0;}function l(K){return "symbol" === typeof K?K:("").concat(K);}function p(K,O,R){"symbol" === typeof O && (O=O.description?("[").concat(O.description,"]"):"");return Object.defineProperty(K,"name",{configurable:!0,value:R?("").concat(R," ",O):O});}function q(K,O){if("object" === typeof Reflect && "function" === typeof Reflect.ce)return Reflect.ce(K,O);}function u(K,O,R,ca){function oa(ta){return ta instanceof R?ta:new R(function(Fa){Fa(ta);});}return new (R || (R=Promise))(function(ta,Fa){function ua(Va){try{Ca(ca.next(Va));}catch(S){Fa(S);}}function ya(Va){try{Ca(ca["throw"](Va));}catch(S){Fa(S);}}function Ca(Va){Va.done?ta(Va.value):oa(Va.value).then(ua,ya);}Ca((ca=ca.apply(K,O || [])).next());});}function t(K,O){var oa,ta,Fa,ua,ya;function R(Ca){return function(Va){return ca([Ca,Va]);};}function ca(Ca){if(ta)throw new TypeError("Generator is already executing.");for(;(ya && (ya=0,Ca[0] && (oa=0)),oa);)try{if((ta=1,Fa && (ua=Ca[0] & 2?Fa["return"]:Ca[0]?Fa["throw"] || ((ua=Fa["return"]) && ua.call(Fa),0):Fa.next) && !(ua=ua.call(Fa,Ca[1])).done))return ua;if((Fa=0,ua))Ca=[Ca[0] & 2,ua.value];switch(Ca[0]){case 0:case 1:ua=Ca;break;case 4:return (oa.label++,{value:Ca[1],done:!1});case 5:oa.label++;Fa=Ca[1];Ca=[0];continue;case 7:Ca=oa.YH.pop();oa.Gf.pop();continue;default:if(!(ua=oa.Gf,ua=0 < ua.length && ua[ua.length - 1]) && (6 === Ca[0] || 2 === Ca[0])){oa=0;continue;}if(3 === Ca[0] && (!ua || Ca[1] > ua[0] && Ca[1] < ua[3]))oa.label=Ca[1];else if(6 === Ca[0] && oa.label < ua[1])(oa.label=ua[1],ua=Ca);else if(ua && oa.label < ua[2])(oa.label=ua[2],oa.YH.push(Ca));else {ua[2] && oa.YH.pop();oa.Gf.pop();continue;}}Ca=O.call(K,oa);}catch(Va){Ca=[6,Va];Fa=0;}finally{ta=ua=0;}if(Ca[0] & 5)throw Ca[1];return {value:Ca[0]?Ca[1]:void 0,done:!0};}oa={label:0,Ja:function(){if(ua[0] & 1)throw ua[1];return ua[1];},Gf:[],YH:[]};return (ya={next:R(0),"throw":R(1),"return":R(2)},"function" === typeof Symbol && (ya[Symbol.iterator]=function(){return this;}),ya);}function v(K,O){for(var R in K)"default" === R || Object.prototype.hasOwnProperty.call(O,R) || Q(O,K,R);}function w(K){var O,R,ca;O="function" === typeof Symbol && Symbol.iterator;R=O && K[O];ca=0;if(R)return R.call(K);if(K && "number" === typeof K.length)return {next:function(){K && ca >= K.length && (K=void 0);return {value:K && K[ca++],done:!K};}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.");}function y(K,O){var R,ca,oa;R="function" === typeof Symbol && K[Symbol.iterator];if(!R)return K;K=R.call(K);oa=[];try{for(;(void 0 === O || 0 < O--) && !(ca=K.next()).done;)oa.push(ca.value);}catch(Fa){var ta;ta={error:Fa};}finally{try{ca && !ca.done && (R=K["return"]) && R.call(K);}finally{if(ta)throw ta.error;}}return oa;}function x(){for(var K=[],O=0;O < arguments.length;O++)K=K.concat(y(arguments[O]));return K;}function z(){var ca;for(var K=0,O=0,R=arguments.length;O < R;O++)K+=arguments[O].length;K=Array(K);ca=0;for(O=0;O < R;O++)for(var oa=arguments[O],ta=0,Fa=oa.length;ta < Fa;(ta++,ca++))K[ca]=oa[ta];return K;}function A(K,O,R){if(R || 2 === arguments.length)for(var ca=0,oa=O.length,ta;ca < oa;ca++)!ta && (ca in O) || (ta || (ta=Array.prototype.slice.call(O,0,ca)),ta[ca]=O[ca]);return K.concat(ta || Array.prototype.slice.call(O));}function B(K){return this instanceof B?(this.eda=K,this):new B(K);}function D(K,O,R){var ya,Ca,Va;function ca(S){ya[S] && (Ca[S]=function(ma){return new Promise(function(Ja,Na){1 < Va.push([S,ma,Ja,Na]) || oa(S,ma);});});}function oa(S,ma){var Ja;try{Ja=ya[S](ma);Ja.value instanceof B?Promise.resolve(Ja.value.eda).then(ta,Fa):ua(Va[0][2],Ja);}catch(Na){ua(Va[0][3],Na);}}function ta(S){oa("next",S);}function Fa(S){oa("throw",S);}function ua(S,ma){(S(ma),Va.shift(),Va.length) && oa(Va[0][0],Va[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");ya=R.apply(K,O || []);Va=[];return (Ca={},ca("next"),ca("throw"),ca("return"),Ca[Symbol.asyncIterator]=function(){return this;},Ca);}function C(K){var R,ca;function O(oa,ta){R[oa]=K[oa]?function(Fa){return (ca=!ca)?{value:B(K[oa](Fa)),done:!1}:ta?ta(Fa):Fa;}:ta;}return (R={},O("next"),O("throw",function(oa){throw oa;}),O("return"),R[Symbol.iterator]=function(){return this;},R);}function E(K){var ca,oa;function O(ta){oa[ta]=K[ta] && (function(Fa){return new Promise(function(ua,ya){Fa=K[ta](Fa);R(ua,ya,Fa.done,Fa.value);});});}function R(ta,Fa,ua,ya){Promise.resolve(ya).then(function(Ca){ta({value:Ca,done:ua});},Fa);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");ca=K[Symbol.asyncIterator];return ca?ca.call(K):(K="function" === typeof w?w(K):K[Symbol.iterator](),oa={},O("next"),O("throw"),O("return"),oa[Symbol.asyncIterator]=function(){return this;},oa);}function G(K,O){Object.defineProperty?Object.defineProperty(K,"raw",{value:O}):K.raw=O;return K;}function F(K){var O;if(K && K.__esModule)return K;O={};if(null != K)for(var R in K)"default" !== R && Object.prototype.hasOwnProperty.call(K,R) && Q(O,K,R);J(O,K);return O;}function I(K){return K && K.__esModule?K:{default:K};}function P(K,O,R,ca){if("a" === R && !ca)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof O?K !== O || !ca:!O.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === R?ca:"a" === R?ca.call(K):ca?ca.value:O.get(K);}function M(K,O,R,ca,oa){if("m" === ca)throw new TypeError("Private method is not writable");if("a" === ca && !oa)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof O?K !== O || !oa:!O.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === ca?oa.call(K,R):oa?oa.value=R:O.set(K,R),R);}function L(K,O){if(null === O || "object" !== typeof O && "function" !== typeof O)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof K?O === K:K.has(O);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return C;},__asyncGenerator:function(){return D;},__asyncValues:function(){return E;},__await:function(){return B;},__awaiter:function(){return u;},__classPrivateFieldGet:function(){return P;},__classPrivateFieldIn:function(){return L;},__classPrivateFieldSet:function(){return M;},__createBinding:function(){return Q;},__decorate:function(){return d;},Iic:function(){return n;},__exportStar:function(){return v;},__extends:function(){return g;},__generator:function(){return t;},__importDefault:function(){return I;},__importStar:function(){return F;},__makeTemplateObject:function(){return G;},__metadata:function(){return q;},__param:function(){return f;},Jic:function(){return l;},__read:function(){return y;},__rest:function(){return k;},Kic:function(){return h;},Lic:function(){return p;},__spread:function(){return x;},__spreadArray:function(){return A;},__spreadArrays:function(){return z;},__values:function(){return w;},"default":function(){return H;}});Q=Object.create?function(K,O,R,ca){var oa;void 0 === ca && (ca=R);oa=Object.getOwnPropertyDescriptor(O,R);if(!oa || (("get" in oa)?!O.__esModule:oa.writable || oa.configurable))oa={enumerable:!0,get:function(){return O[R];}};Object.defineProperty(K,ca,oa);}:function(K,O,R,ca){void 0 === ca && (ca=R);K[ca]=O[R];};J=Object.create?function(K,O){Object.defineProperty(K,"default",{enumerable:!0,value:O});}:function(K,O){K["default"]=O;};H={__extends:g,__assign:c,__rest:k,__decorate:d,__param:f,__metadata:q,__awaiter:u,__generator:t,__createBinding:Q,__exportStar:v,__values:w,__read:y,__spread:x,__spreadArrays:z,__spreadArray:A,__await:B,__asyncGenerator:D,__asyncDelegator:C,__asyncValues:E,__makeTemplateObject:G,__importStar:F,__importDefault:I,__classPrivateFieldGet:P,__classPrivateFieldSet:M,__classPrivateFieldIn:L};},69452:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q;c=a(76113);m=a(69808);g=a(48668);k=a(99939);d=a(97911);f=a(51832);b=a(67286);n=a(62680);h=a(26302);l=n("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,v,w;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && f(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);v=g(this);w=m(v.length);if(0 === w)return !1;for(t=0 <= t?t:q(0,w + t);t < w;){if(k(u,h(v)?l(v,t):v[t]))return !0;t+=1;}return !1;};},44878:function(r,b,a){var c;c=a(69452);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},26860:function(r,b,a){var c,m;c=a(14926);m=a(44878);r.exports=function(){var g;g=m();c(Array.prototype,{includes:g},{includes:function(){return Array.prototype.includes !== g;}});return g;};},17187:function(r){function b(){this.lb=this.lb || ({});this.vt=this.vt || void 0;}function a(m){return "function" === typeof m;}function c(m){return "object" === typeof m && null !== m;}r.exports=b;b.EventEmitter=b;b.prototype.lb=void 0;b.prototype.vt=void 0;b.Jna=10;b.prototype.setMaxListeners=function(m){if("number" !== typeof m || 0 > m || isNaN(m))throw TypeError("n must be a positive number");this.vt=m;return this;};b.prototype.emit=function(m){var g,k,d,f;this.lb || (this.lb={});if("error" === m && (!this.lb.error || c(this.lb.error) && !this.lb.error.length)){k=arguments[1];if(k instanceof Error)throw k;d=Error('Uncaught, unspecified "error" event. (' + k + ")");d.context=k;throw d;}d=this.lb[m];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(k=Array.prototype.slice.call(arguments,1),d.apply(this,k));}else if(c(d)){k=Array.prototype.slice.call(arguments,1);f=d.slice();d=f.length;for(g=0;g < d;g++)f[g].apply(this,k);}return !0;};b.prototype.addListener=function(m,g){if(!a(g))throw TypeError("listener must be a function");this.lb || (this.lb={});this.lb.JYb && this.emit("newListener",m,a(g.listener)?g.listener:g);this.lb[m]?c(this.lb[m])?this.lb[m].push(g):this.lb[m]=[this.lb[m],g]:this.lb[m]=g;c(this.lb[m]) && !this.lb[m].nCa && (g=void 0 === this.vt?b.Jna:this.vt) && 0 < g && this.lb[m].length > g && (this.lb[m].nCa=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.lb[m].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(m,g){var d;function k(){this.removeListener(m,k);d || (d=!0,g.apply(this,arguments));}if(!a(g))throw TypeError("listener must be a function");d=!1;k.listener=g;this.on(m,k);return this;};b.prototype.removeListener=function(m,g){var k,d,f;if(!a(g))throw TypeError("listener must be a function");if(!this.lb || !this.lb[m])return this;k=this.lb[m];d=k.length;f=-1;if(k === g || a(k.listener) && k.listener === g)(delete this.lb[m],this.lb.removeListener && this.emit("removeListener",m,g));else if(c(k)){for(;0 < d--;)if(k[d] === g || k[d].listener && k[d].listener === g){f=d;break;}if(0 > f)return this;1 === k.length?(k.length=0,delete this.lb[m]):k.splice(f,1);this.lb.removeListener && this.emit("removeListener",m,g);}return this;};b.prototype.removeAllListeners=function(m){var g;if(!this.lb)return this;if(!this.lb.removeListener)return (0 === arguments.length?this.lb={}:this.lb[m] && delete this.lb[m],this);if(0 === arguments.length){for(g in this.lb)"removeListener" !== g && this.removeAllListeners(g);this.removeAllListeners("removeListener");this.lb={};return this;}g=this.lb[m];if(a(g))this.removeListener(m,g);else if(g)for(;g.length;)this.removeListener(m,g[g.length - 1]);delete this.lb[m];return this;};b.prototype.listeners=function(m){return this.lb && this.lb[m]?a(this.lb[m])?[this.lb[m]]:this.lb[m].slice():[];};b.prototype.listenerCount=function(m){if(this.lb){m=this.lb[m];if(a(m))return 1;if(m)return m.length;}return 0;};b.listenerCount=function(m,g){return m.listenerCount(g);};},70834:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Wqa=function(){return this.buffer.length - this.position;};a.prototype.Oz=function(){return this.buffer[this.position++];};a.prototype.Jj=function(c){var m;m=this.position;this.position+=c;return this.bUb(this.buffer)?this.buffer.subarray(m,this.position):this.buffer.slice(m,this.position);};a.prototype.bUb=function(c){return void 0 !== c.subarray;};a.prototype.wq=function(c){for(var m=0;c--;)m=256 * m + this.buffer[this.position++];return m;};a.prototype.Uxa=function(c){for(var m="";c--;)m+=String.fromCharCode(this.buffer[this.position++]);return m;};a.prototype.dh=function(){return this.wq(2);};a.prototype.xq=function(){return this.wq(4);};a.prototype.QO=function(){return this.wq(8);};a.prototype.Uw=function(c){for(var m,g="";c--;)(m=this.Oz(),g+=("0123456789ABCDEF")[m >>> 4] + ("0123456789ABCDEF")[m & 15]);return g;};a.prototype.Vxa=function(c){for(var m=0,g=0;g < c;g++)m+=this.Oz() << (g << 3);return m;};a.prototype.PO=function(){return this.Vxa(4);};a.prototype.G_=function(c){this.nQ(c,2);};a.prototype.pA=function(c){this.nQ(c,4);};a.prototype.xda=function(c){this.buffer[this.position++]=c;};a.prototype.nQ=function(c,m){this.position+=m;for(var g=1;g <= m;g++)(this.buffer[this.position - g]=c & 255,c=Math.floor(c / 256));};a.prototype.oA=function(c){for(var m=0;m < c.length;m++)this.buffer[this.position++]=c.charCodeAt(m);};a.prototype.F_=function(c){for(var m=c.length,g=0;g < m;g++)this.buffer[this.position++]=c[g];};a.prototype.mQ=function(c,m){this.F_(c.Jj(m));};a.prototype.rkb=function(c){c=new a(c);for(var m,g;;)if((m=c.Wqa(),g=m >>> 14))(g=Math.min(4,g),this.xda(192 | g),this.mQ(c,16384 * g));else {128 > m?this.xda(m):this.nQ(m | 32768,2);this.mQ(c,m);break;}};a.prototype.Pcb=function(){var g;for(var c=[],m=new a(c);;){g=this.Oz();if(g & 128){if(128 == (g & 192))(g&=63,g=(g << 8) + this.Oz(),m.mQ(this,g));else if((g&=63,0 < g && 4 >= g)){m.mQ(this,16384 * g);continue;}else throw Error("bad asn1");}else m.mQ(this,g);break;}return new Uint8Array(c);};return a;})();b.TQ=r;},28660:function(r,b,a){var c;(function(m){var E,G,F,I,P,M,L,Q,J;function g(H,K,O){var R;R=J.get(H);if(!R){if(!O)return;R=new L();J.set(H,R);}H=R.get(K);if(!H){if(!O)return;H=new L();R.set(K,H);}return H;}function k(H,K,O){if(d(H,K,O))return !0;K=v(K);return null !== K?k(H,K,O):!1;}function d(H,K,O){K=g(K,O,!1);return void 0 !== K && !!K.has(H);}function f(H,K,O){if(d(H,K,O))return n(H,K,O);K=v(K);return null !== K?f(H,K,O):void 0;}function n(H,K,O){K=g(K,O,!1);return void 0 === K?void 0:K.get(H);}function h(H,K){var O,ca;O=l(H,K);H=v(H);if(null === H)return O;K=h(H,K);if(0 >= K.length)return O;if(0 >= O.length)return K;H=new Q();for(var R=0;R < O.length;R++){ca=O[R];H.add(ca);}for(O=0;O < K.length;O++)(ca=K[O],H.add(ca));return x(H);}function l(H,K){var O;H=g(H,K,!1);O=[];H && y(H,function(R,ca){return O.push(ca);});return O;}function p(H){return void 0 === H;}function q(H){return Array.isArray?Array.isArray(H):H instanceof Array || "[object Array]" === Object.prototype.toString.call(H);}function u(H){return "object" === typeof H?null !== H:"function" === typeof H;}function t(H){return "symbol" === typeof H?H:String(H);}function v(H){var K,O;K=Object.getPrototypeOf(H);if("function" !== typeof H || H === M || K !== M)return K;O=H.prototype;O=O && Object.getPrototypeOf(O);if(null == O || O === Object.prototype)return K;O=O.constructor;return "function" !== typeof O || O === H?K:O;}function w(H){H=H.next();return H.done?void 0:H;}function y(H,K,O){var R,ca,oa;R=H.entries;if("function" === typeof R){R=R.call(H);try{for(;ca=w(R);){oa=ca.value;K.call(O,oa[1],oa[0],H);}}finally{ca && (H=R["return"]) && H.call(R);}}else (R=H.forEach,"function" === typeof R && R.call(H,K,O));}function x(H){var K;K=[];y(H,function(O,R){K.push(R);});return K;}function z(H,K,O){var R;R=0;return {next:function(){var ca;if((H || K) && R < (H || K).length){ca=R++;switch(O){case "key":return {value:H[ca],done:!1};case "value":return {value:K[ca],done:!1};case "key+value":return {value:[H[ca],K[ca]],done:!1};}}K=H=void 0;return {value:void 0,done:!0};},"throw":function(ca){if(H || K)K=H=void 0;throw ca;},"return":function(ca){if(H || K)K=H=void 0;return {value:ca,done:!0};}};}function A(){var H;H={};return (function(){function K(){this.Xe=[];this.zf=[];this.wv=H;this.jt=-2;}Object.defineProperty(K.prototype,"size",{get:function(){return this.Xe.length;},enumerable:!0,configurable:!0});K.prototype.has=function(O){return 0 <= this.Wx(O,!1);};K.prototype.get=function(O){O=this.Wx(O,!1);return 0 <= O?this.zf[O]:void 0;};K.prototype.set=function(O,R){O=this.Wx(O,!0);this.zf[O]=R;return this;};K.prototype.delete=function(O){var R;R=this.Wx(O,!1);if(0 <= R){O=this.Xe.length;for(R+=1;R < O;R++)(this.Xe[R - 1]=this.Xe[R],this.zf[R - 1]=this.zf[R]);this.Xe.length--;this.zf.length--;this.wv=H;this.jt=-2;return !0;}return !1;};K.prototype.clear=function(){this.Xe.length=0;this.zf.length=0;this.wv=H;this.jt=-2;};K.prototype.keys=function(){return z(this.Xe,void 0,"key");};K.prototype.values=function(){return z(void 0,this.zf,"value");};K.prototype.entries=function(){return z(this.Xe,this.zf,"key+value");};K.prototype.Wx=function(O,R){var ca;if(this.wv === O)return this.jt;ca=this.Xe.indexOf(O);0 > ca && R && (ca=this.Xe.length,this.Xe.push(O),this.zf.push(void 0));return (this.wv=O,this.jt=ca);};return K;})();}function B(){return (function(){function H(){this.xf=new L();}Object.defineProperty(H.prototype,"size",{get:function(){return this.xf.size;},enumerable:!0,configurable:!0});H.prototype.has=function(K){return this.xf.has(K);};H.prototype.add=function(K){return (this.xf.set(K,K),this);};H.prototype.delete=function(K){return this.xf.delete(K);};H.prototype.clear=function(){this.xf.clear();};H.prototype.keys=function(){return this.xf.keys();};H.prototype.values=function(){return this.xf.values();};H.prototype.entries=function(){return this.xf.entries();};return H;})();}function D(){var R,ca;function H(oa,ta){for(var Fa=0;Fa < ta;++Fa)oa[Fa]=255 * Math.random() | 0;return oa;}function K(){var oa,ua;do {oa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):H(new Uint8Array(16),16):H(Array(16),16);oa[6]=oa[6] & 79 | 64;oa[8]=oa[8] & 191 | 128;for(var ta="",Fa=0;16 > Fa;++Fa){ua=oa[Fa];if(4 === Fa || 6 === Fa || 8 === Fa)ta+="-";16 > ua && (ta+="0");ta+=ua.toString(16).toLowerCase();}oa="@@WeakMap@@" + ta;}while(P.has(R,oa));R[oa]=!0;return oa;}function O(oa,ta){if(!E.call(oa,ca)){if(!ta)return;Object.defineProperty(oa,ca,{value:I()});}return oa[ca];}R=I();ca=K();return (function(){function oa(){this.tt=K();}oa.prototype.has=function(ta){ta=O(ta,!1);return void 0 !== ta?P.has(ta,this.tt):!1;};oa.prototype.get=function(ta){ta=O(ta,!1);return void 0 !== ta?P.get(ta,this.tt):void 0;};oa.prototype.set=function(ta,Fa){O(ta,!0)[this.tt]=Fa;return this;};oa.prototype.delete=function(ta){ta=O(ta,!1);return void 0 !== ta?delete ta[this.tt]:!1;};oa.prototype.clear=function(){this.tt=K();};return oa;})();}function C(H){H.Gic=1;delete H.Hic;return H;}E=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;F=(function(){var K;function H(){}K={};H.prototype=K;return new H().__proto__ === K;})();I=G?function(){return C(Object.create(null));}:F?function(){return C({__proto__:null});}:function(){return C({});};(function(H){var K;K=!G && !F;H.has=K?function(O,R){return E.call(O,R);}:function(O,R){return (R in O);};H.get=K?function(O,R){return E.call(O,R)?O[R]:void 0;}:function(O,R){return O[R];};})(P || (P={}));M=Object.getPrototypeOf(Function);L="function" === typeof Map?Map:A();Q="function" === typeof Set?Set:B();J=new ("function" === typeof WeakMap?WeakMap:D())();m.PB=function(H,K,O,R){var oa;if(p(R)){if(p(O)){if(!q(H))throw new TypeError();if("function" !== typeof K)throw new TypeError();for(O=H.length - 1;0 <= O;--O)if((R=(0,H[O])(K),!p(R))){if("function" !== typeof R)throw new TypeError();K=R;}return K;}if(!q(H))throw new TypeError();if(!u(K))throw new TypeError();O=t(O);for(R=H.length - 1;0 <= R;--R)(0,H[R])(K,O);}else {if(!q(H))throw new TypeError();if(!u(K))throw new TypeError();if(p(O))throw new TypeError();if(!u(R))throw new TypeError();O=t(O);for(var ca=H.length - 1;0 <= ca;--ca){oa=(0,H[ca])(K,O,R);if(!p(oa)){if(!u(oa))throw new TypeError();R=oa;}}return R;}};m.ce=function(H,K){return function(O,R){if(p(R)){if("function" !== typeof O)throw new TypeError();g(O,void 0,!0).set(H,K);}else {if(!u(O))throw new TypeError();R=t(R);g(O,R,!0).set(H,K);}};};m.V5=function(H,K,O,R){if(!u(O))throw new TypeError();p(R) || (R=t(R));g(O,R,!0).set(H,K);};m.hRb=function(H,K){var O;if(!u(K))throw new TypeError();p(O) || (O=t(O));return k(H,K,O);};m.Hra=function(H,K){var O;if(!u(K))throw new TypeError();p(O) || (O=t(O));return d(H,K,O);};m.getMetadata=function(H,K,O){if(!u(K))throw new TypeError();p(O) || (O=t(O));return f(H,K,O);};m.T3a=function(H,K,O){if(!u(K))throw new TypeError();p(O) || (O=t(O));return n(H,K,O);};m.glc=function(H,K){if(!u(H))throw new TypeError();p(K) || (K=t(K));return h(H,K);};m.hlc=function(H,K){if(!u(H))throw new TypeError();p(K) || (K=t(K));return l(H,K);};m.mkc=function(H,K,O){var R;if(!u(K))throw new TypeError();p(O) || (O=t(O));R=g(K,O,!1);if(p(R) || !R.delete(H))return !1;if(0 < R.size)return !0;H=J.get(K);H.delete(O);if(0 < H.size)return !0;J.delete(K);return !0;};(function(H){if("undefined" !== typeof H.Reflect){if(H.Reflect !== m)for(var K in m)E.call(m,K) && (H.Reflect[K]=m[K]);}else H.Reflect=m;})("undefined" !== typeof qb?qb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.b7?a.b7:Function("return this;")());})(c || (c={}));},26388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u=void 0;b.u={Y:0,X:1,Da:2};},84915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66164:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(84915),b);r.__exportStar(a(83403),b);r.__exportStar(a(93926),b);r.__exportStar(a(77985),b);r.__exportStar(a(67111),b);r.__exportStar(a(92884),b);r.__exportStar(a(13779),b);},83403:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},93926:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},77985:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},57421:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},3775:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67111:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(3775),b);r.__exportStar(a(49971),b);r.__exportStar(a(57421),b);r.__exportStar(a(62103),b);},62103:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49971:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52991:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fMa=void 0;r=(function(){function a(){}a.prototype.sa=function(){var c;c=process.Alc();return 1E3 * c[0] + c[1] / 1E6;};a.prototype.p$=function(c){return c - this.sa() + this.now();};a.prototype.O$=function(c){return c - this.now() + this.sa();};a.prototype.now=function(){return Date.now();};return a;})();b.fMa=r;},92884:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.platform=void 0;r=a(52991);b.platform={bsa:function(c){for(var m in c)c.hasOwnProperty(m) && (this[m]=c[m]);},reset:function(){},time:new r.fMa()};},13779:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89707:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);m=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.assert=function(g,k){if(!g)throw new m(k || "Assertion failed");};},85017:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.a7=b.UD=b.pV=void 0;b.pV={23976:{ja:24E3,N:1001},24:{ja:24E3,N:1E3},25:{ja:25E3,N:1E3},2997:{ja:3E4,N:1001},30:{ja:3E4,N:1E3},50:{ja:5E4,N:1E3},5994:{ja:6E4,N:1001},60:{ja:6E4,N:1E3}};b.UD={h264:["23976","24","25","2997","30"],h264hpl:["23976","24","25","2997","30"],"hevc-main10":("23976 24 25 2997 30 50 5994 60").split(" ")};b.a7=function(a,c){return a.ja / a.N === c.ja / c.N;};},80463:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",Sa:!0,Ta:[176,590],size:610},{data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",Sa:!0,Ta:[44],size:6252},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1-dash",192,"5.1"];},73502:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(80463);b.ga=[{data:"hMPLAIhMIMAEhMgBDogGYGhMJ3",Sa:!0,Ta:[176,590],size:610,Ya:r.ga[0]},{data:"sNY4AEsNYpAgsNYGD/htYKcD+B9lhtQChtIBhs4ChswFB9hpgJgAwThsIJgAwThuwJgAwTh3AJgAwTh5oKgQAVh2QCB3DNg0oAgCAAhEYCgAQIhEIBBAgDIdBfA+gDAMhlQEAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LhU4EgDIcgXIxgDIVB2gAYBAAAdDzhWIAgmgAgDgKgAQAiN4EgDIbgXIygDIVCyhPQCDvCagjQADzDmgNgMhpYBh3oBgDIbgXIxgDIWCQiBoCB8gNYAhUQAh6QCgAQIiUwEgDIcgXIxgDIVDsiV4CA7DmgjQAhWQAg2ILDbjNwEgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",Sa:!0,Ta:[44],size:8300,Ya:r.ga[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",256,"5.1"];},86252:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(80463).ga[0];a=a(73502);b.ga=[{data:"hMPLAMhMIMg8oBAFDcgGYCgEQChMJ3",Sa:!0,Ta:[176,590],size:610,Ya:r},{data:"wNY4gAYAwNYoAwwNYFACiNYLcEEB+6iNYxiHgviRwwicAwiWIwgYwSgnwCA2gGwCg14BdvHjx4DxDjDHCPgAwDgB4AgCYAhBoBhaABiM4EAABvgGYBg6oCgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBhy4CgIwIgAwAcbbbfPhUQBgEYEiFQCADBrgP4BhFICgEgbgSQBhagCDegSQJB2gB4AgCYAgEYGhs4CAADZgXwCgJ4SAegB4AgV4AA1gFQGhhgCAGgd4BDNhSwBC8gJ4IDGgJ4PgZwAhiADC3gcQIgAwAgB4AgCYAgJAHhZ4BglwTgEgPA3gsQBhgoCgSQJA3glwQiE4Cgv3/gvz8gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",Sa:!0,Ta:[44],size:12396,Ya:a.ga[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",384,"5.1"];},27443:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(80463).ga[0];a=a(86252);b.ga=[{data:"hMPLAOhMIMAHgEgBDWgGYChMJ7",Sa:!0,Ta:[176,590],size:610,Ya:r},{data:"4NY4AH4NYpA44NYFADB/jNYLAoAfDMjNQAjNIAjM4AjMwFiuICDfjAwvjNozjBozjOgzjbY0jPYIAbhcwChOYEZ3gAAAhiYRhKwEgFgIA7a7C7haADCNgCgAhboAhLYIgAgAhxgDgFQCh2ADgFgqAdbdDdhvQDhkYMhWwEhpQAgFQDhbYCgFgMh0AMgFgFDwgcgCgRZwgFgcCObuDuDvidgQiF4EiQAAgFQDiKgCgFgMC7gFgSB4gcgCgRZwgFgdhJ4HiUYQisoEABC+gtIEgxICgFgLDdgFgSC8itoDgRZvgFgdhJwGC7itIDgCgAh+YAgQYJC1Cgi6oCjDgCi/IEgFgLBugFgSDeijwDgRZvgFgdhJwGDdju4RjXQEBvju4Cjl4EgFgLjOoNgFgFi5ADgRZvgFgdhJwGDuj4IRkQYEA3j4ICjvIEgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",Sa:!0,Ta:[44],size:14444,Ya:a.ga[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",448,"5.1"];},75452:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(86252).ga[0];a=a(27443);b.ga=[{data:"hMPLAUhMIMAKgAQAAJgYQCAChMJ7",Sa:!0,Ta:[176,590],size:610,Ya:r},{data:"8NY4AK8NYpBQ8NYFAED/jtYCgAAChQYBcAjgYYBhCGjQwzjfY+juA+j8o9jwo+gfwLhdACABhWwGgrgEgAAQADhkwBhWQChkYFgIYMgEACA7jcoFC4hFQWiJgBj4oDj7wEBfgQ4LhWgCAHiO4GgIAWAOhewADthhICiuAFgZYLjt4DiyIChjgCDggIAVABgb4BgIAChxwFghAMgEACAdjYgFDcgQQWgcABhxYDj3oEhG4MgnICADjFoEiLgGhxYWAHgcgAkGoBiqoHgpYLD4glYDki4FBwgRAWgcoBiCYDh/4EhQAMglYDjVIGgIAWgcwBibQDj0QEDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/k/xsgABrAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",Sa:!0,Ta:[44],size:20588,Ya:a.ga[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",640,"5.1"];},46871:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(54468);b.ga=[{data:"hZniCAhZjm",Sa:!0,Ta:[176,599],size:717,Ya:r.ga[0]},{data:"gXy9",Sa:!0,Ta:[44],size:191,Ya:r.ga[1]},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2hq-dash",128,"2.0"];},54468:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A3AuAyA1AuAxEw",Sa:!0,Ta:[176,599],size:717},{data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A3AuAyA0AuAxAwAyAABCAgAIDBAYA4AhAQAEBgCMAcgAoc",Sa:!0,Ta:[44],size:191},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2-dash",64,"2.0"];},39532:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(54468);b.ga=[{data:"hZniBghZjm",Sa:!0,Ta:[176,599],size:717,Ya:r.ga[0]},{data:"gXy9",Sa:!0,Ta:[44],size:191,Ya:r.ga[1]},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2-dash",96,"2.0"];},43051:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Nib=b.Oib=b.sWa=b.Qjb=void 0;b.Qjb={padding:{"16:9":{h264:{23976:function(){return a(6350);},24:function(){return a(937);},25:function(){return a(6153);},2997:function(){return a(32477);},30:function(){return a(19034);}},h264hpl:{23976:function(){return a(98989);},24:function(){return a(5339);},25:function(){return a(95350);},2997:function(){return a(4029);},30:function(){return a(75034);}},"hevc-main10":{23976:function(){return a(9253);},24:function(){return a(48903);},25:function(){return a(82698);},2997:function(){return a(98194);},30:function(){return a(79489);},50:function(){return a(82421);},5994:function(){return a(16745);},60:function(){return a(92375);}}},"4:3":{h264:{23976:function(){return a(46977);},24:function(){return a(47976);},25:function(){return a(45185);},2997:function(){return a(5801);},30:function(){return a(26931);}},h264hpl:{23976:function(){return a(26776);},24:function(){return a(25378);},25:function(){return a(41470);},2997:function(){return a(6320);},30:function(){return a(59375);}},"hevc-main10":{23976:function(){return a(70493);},24:function(){return a(29036);},25:function(){return a(34600);},2997:function(){return a(38556);},30:function(){return a(67760);},50:function(){return a(81609);},5994:function(){return a(64255);},60:function(){return a(90059);}}}}};b.sWa={silence:{heaac:{64:function(){return a(54468);},96:function(){return a(39532);},128:function(){return a(46871);}},ddp:{192:function(){return a(80463);},256:function(){return a(73502);},384:function(){return a(86252);},448:function(){return a(27443);},640:function(){return a(75452);}}}};b.Oib=function(c){return {Eb:c[0],La:c[1],xa:c[2],duration:c[3],profile:c[4],bitrate:c[5],width:c[6],height:c[7],twa:c[8],uwa:c[9]};};b.Nib=function(c){return {Eb:c[0],La:c[1],xa:c[2],duration:c[3],profile:c[4],bitrate:c[5],channels:c[6]};};},46977:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(6350);b.ga=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Sa:!0,Ta:[176,729],size:749,Ya:r.ga[0]},{data:"h/v/h/v7",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},47976:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(937);b.ga=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Sa:!0,Ta:[176,731],size:751,Ya:r.ga[0]},{data:"h/v/h/v7",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},45185:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(6153);b.ga=[{data:"hdzvgAgChd1ACAhLABhdwdhNQFhdyM",Sa:!0,Ta:[176,731],size:751,Ya:r.ga[0]},{data:"h7X/h7XY",Sa:!0,Ta:[44],size:987,Ya:r.ga[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264mpl30-dash",64,320,240,1,1];},5801:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(32477);b.ga=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Sa:!0,Ta:[176,729],size:749,Ya:r.ga[0]},{data:"h/v/h/v7",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26931:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(19034);b.ga=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Sa:!0,Ta:[176,731],size:751,Ya:r.ga[0]},{data:"h/v/h/v7",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26776:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(98989);b.ga=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Sa:!0,Ta:[176,731],size:751,Ya:r.ga[0]},{data:"h/v/h/v7",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},25378:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(5339);b.ga=[{data:"heDvgAgCheFBABheAhhNgFheCM",Sa:!0,Ta:[176,733],size:753,Ya:r.ga[0]},{data:"h/v/h/v7",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},41470:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(95350);b.ga=[{data:"heDvgAgCheFBABheAhhNgFheCM",Sa:!0,Ta:[176,733],size:753,Ya:r.ga[0]},{data:"h7X/h7XY",Sa:!0,Ta:[44],size:987,Ya:r.ga[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264hpl30-dash",64,320,240,1,1];},6320:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(4029);b.ga=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Sa:!0,Ta:[176,731],size:751,Ya:r.ga[0]},{data:"h/v/h/v7",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},59375:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(75034);b.ga=[{data:"heDvgAgCheFBABheAhhNgFheCM",Sa:!0,Ta:[176,733],size:753,Ya:r.ga[0]},{data:"h/v/h/v7",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},70493:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(9253);b.ga=[{data:"hxbvgAgChxe6DABahxYvhegFhxYegFQBgAYChxZ4",Sa:!0,Ta:[176,888],size:908,Ya:r.ga[0]},{data:"g6Z1Ahg6Y/Acg6agANg6YEA2DwCagBoAACCCg6Jm",Sa:!0,Ta:[44],size:466,Ya:r.ga[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},29036:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(48903);b.ga=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Sa:!0,Ta:[176,890],size:910,Ya:r.ga[0]},{data:"g6PQ",Sa:!0,Ta:[44],size:466,Ya:r.ga[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},34600:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(82698);b.ga=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Sa:!0,Ta:[176,890],size:910,Ya:r.ga[0]},{data:"g0V4AuDwCcgBoAAGDUg0QZgEIF",Sa:!0,Ta:[44],size:419,Ya:r.ga[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},38556:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(98194);b.ga=[{data:"hxbvgAgChxe6DABahxYvhegFhxYeAQgAYEhxZ4",Sa:!0,Ta:[176,888],size:908,Ya:r.ga[0]},{data:"g6R1Aig6Q/Acg6SggtQCg6QBg1wRg6Ja",Sa:!0,Ta:[44],size:466,Ya:r.ga[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},67760:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(79489);b.ga=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Sa:!0,Ta:[176,890],size:910,Ya:r.ga[0]},{data:"g6XR",Sa:!0,Ta:[44],size:467,Ya:r.ga[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},81609:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(82421);b.ga=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Sa:!0,Ta:[176,890],size:910,Ya:r.ga[0]},{data:"hRv/hRqL",Sa:!0,Ta:[44],size:654,Ya:r.ga[1]},{ja:1E3,N:5E4},{ja:1E4,N:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},64255:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(16745);b.ga=[{data:"hxbvgAgChxe6DABahxYvhegFhxaf",Sa:!0,Ta:[176,888],size:908,Ya:r.ga[0]},{data:"hvX/hvV4",Sa:!0,Ta:[44],size:891,Ya:r.ga[1]},{ja:1001,N:6E4},{ja:15015,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},90059:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(92375);b.ga=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Sa:!0,Ta:[176,890],size:910,Ya:r.ga[0]},{data:"hvX/hvV4",Sa:!0,Ta:[44],size:891,Ya:r.ga[1]},{ja:1E3,N:6E4},{ja:15E3,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},6350:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",Sa:!0,Ta:[176,729],size:749},{data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDggcjI3MjcgN2QwMjZlOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTYgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rqAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOAAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gAAAABJBmmVJqEFomUwIV//+OEAADUg=",Sa:!1,Ta:[44],size:1022},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},937:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(6350);b.ga=[{data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",Sa:!0,Ta:[176,731],size:751,Ya:r.ga[0]},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",Sa:!0,Ta:[44],size:1022,Ya:r.ga[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},6153:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(937);b.ga=[{data:"hdw8BhCohdz4gfYEhd0ACQhdwoB+CQgAYEhdxWATCIhdwe",Sa:!0,Ta:[176,731],size:751,Ya:r.ga[0]},{data:"gCoBCph/oVCRh/otBQh/oJAFgAYBCxh/o9ARh+ILgCgBAyh+H/h+AuA1h+CKAzh+ABDsC+h+AAAUDIh+ABcsxdpKBwA+AqCkGAB3A0DAhg4AcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDohgACh+AEC/h2AHh+Al",Sa:!0,Ta:[44],size:987,Ya:r.ga[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264mpl30-dash",64,320,240,4,3];},32477:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(6350).ga[0];a=a(6153);b.ga=[{data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpCBDYgAYEhdh4",Sa:!0,Ta:[176,729],size:749,Ya:r},{data:"gBoBC2h7QVCeh7QZDph7QRBch7QJAGgAYBC+h7QJDSh7QJCNh7QJgC4Ch7QSgL4CAWgEYJASh8wLAWgEIBBIh8//h88KB/h7IIh84BgBoBDph84IgBoGASgHIAdlSahBBoCZBMAIBPD/D9DxgCAAAfDg",Sa:!0,Ta:[44],size:1022,Ya:a.ga[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},19034:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(937).ga[0];a=a(32477);b.ga=[{data:"hdw8B1Awhdz4gfYEhd0ADghdwoCCgBwBgAYChdx4",Sa:!0,Ta:[176,731],size:751,Ya:r},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/tU",Sa:!0,Ta:[44],size:1022,Ya:a.ga[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},98989:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(937).ga[0];a=a(6350);b.ga=[{data:"hd0VDShd0OgM4AhdwCAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAAGhdoCAigiQChdwZBnDggAYEhdxXhUwChdwSDpgBoG",Sa:!0,Ta:[176,731],size:751,Ya:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Sa:!0,Ta:[44],size:1022,Ya:a.ga[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},5339:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(98989).ga[0];a=a(937);b.ga=[{data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",Sa:!0,Ta:[176,733],size:753,Ya:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Sa:!0,Ta:[44],size:1022,Ya:a.ga[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},95350:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(5339).ga[0];a=a(6153);b.ga=[{data:"heA8BhCoheD4gfYEheEBAgheApB+CQgAYEheBWATCIheAe",Sa:!0,Ta:[176,733],size:753,Ya:r},{data:"h7VpAzh7QDgD4Ah7RZhRwBh7X/h7QH",Sa:!0,Ta:[44],size:987,Ya:a.ga[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264hpl30-dash",64,320,240,4,3];},4029:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(98989).ga[0];a=a(32477);b.ga=[{data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqCBDYgAYEhdx4",Sa:!0,Ta:[176,731],size:751,Ya:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Sa:!0,Ta:[44],size:1022,Ya:a.ga[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},75034:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(5339).ga[0];a=a(19034);b.ga=[{data:"heA8B1AwheD4gfYEheEBDAheApCCgBwBgAYCheB4",Sa:!0,Ta:[176,733],size:753,Ya:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Sa:!0,Ta:[44],size:1022,Ya:a.ga[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},9253:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(6350);b.ga=[{data:"hdggADhcgAhdhwDAhdiEACgqYAhdhRDjhdg9CjhdgEABBXhdgMABBHBohdhSC6gKoBhdgAACgPgCCQgfAEgI4AH9H6gBAAAPADCggIoBcYQAEMABgFIAgEAChboAgEIBhcQBgAQAddmLAkChgDgBBtBCEBgDINegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCg0QDcAu4H0BVDvB+AACXBAASDwABAuCAAlDhCigOIBcHRAHBByD2A8gVQChvAOAThlwAg0gABuBjBshhgAgEwAgAIChxYIhwgAgAQAAiCwgAYEhxZ4",Sa:!0,Ta:[176,888],size:908,Ya:r.ga[0]},{data:"h/pcAABnh/oJAkh/oJAjh7IJgBYAh/oIgBYFgL4DAih/oaABAeh/oEgNIAdOAYEBADgboCAWgBIAgSYACggHgBcAIPWAAKD8CAgAoDCQgDICANgDIAABgSIBgDAAgAQBAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgeQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFggABgMoDgEQCAWAogEQLgIwGgpoAgAYBgCACAOgZIAfgDjjCARC8CVgBoBBTgOYAgEQIgNQCga4DgEQCAeBIgEQKALgEQEAEgM4JcovGEfB4gM4F",Sa:!0,Ta:[44],size:468,Ya:r.ga[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},48903:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(9253);b.ga=[{data:"hxYhBuhxZxDChxZ9DQhxYFA6hxZSDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAAxhxpKCAgAYEhxpXgRQChxoSDogBoG",Sa:!0,Ta:[176,890],size:910,Ya:r.ga[0]},{data:"g6Y1Dog6YtDQg6YJCIgAgBAhg14FgC4Cg6YSgL4Cg6YGgEYCg6YQAcg6agANg6YEA2DwCagBoAACCCg6Jm",Sa:!0,Ta:[44],size:466,Ya:r.ga[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},82698:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(48903);b.ga=[{data:"hxo8BhCohxr4gfYEhxt+AzhxpJAlg+oAgAYDhxpWATCIhxoe",Sa:!0,Ta:[176,890],size:910,Ya:r.ga[0]},{data:"gCQBCpg6IVCRg6ItBQg6IJAFgAYBCxg6IZg3IAg1oIg3IAg6IIgBYFgL4DARg4oLgA4BD6g4iggEQCg4gBgEQKg4wPANg4wEg9AQg4oHgEICg4oBgEIF",Sa:!0,Ta:[44],size:419,Ya:r.ga[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},98194:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(9253);b.ga=[{data:"hxY8B1Awhxb4gfYEhxd7DqBhhxZJArA4gAYEhxZ4",Sa:!0,Ta:[176,888],size:908,Ya:r.ga[0]},{data:"g6aZAhg6YbAdg6cIAOg6YEAIDegEAE",Sa:!0,Ta:[44],size:467,Ya:r.ga[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},79489:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(48903).ga[0];a=a(98194);b.ga=[{data:"hxo8B1Awhxr4gfYEhxt+A9hxpJArgjQBgAYChxp4",Sa:!0,Ta:[176,890],size:910,Ya:r},{data:"g6Q1Dog6QtDQg6QJCIg6QJgC4Cg6QSgL4Cg6QGgEYCg6Uq",Sa:!0,Ta:[44],size:467,Ya:a.ga[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},82421:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(48903).ga[0];a=a(79489);b.ga=[{data:"hxo8DDBQhxr4gfYEhxt+BlhxpJBABggAYEhxpWAnAQhxoe",Sa:!0,Ta:[176,890],size:910,Ya:r},{data:"gCIBDqg6QVDSg6QtCMg6QJgFYCDyg6QNg4wFg6QnAigF4JgBYFgF4DgBYAgF4IgBYFhAQPAWhAQMhAwFCkhAx9gvYChAwBgzgJhAoVATC8CTgGgCAigTIBhApPhSAHdGGMIZC8CMgM4CACg1QCgEIFAFgRIJA2gRIMgVgFgRgDgMoGAugRALgEIFAHgQ4KA+gQ4SAIhRoJBIhRoI",Sa:!0,Ta:[44],size:654,Ya:a.ga[1]},{ja:1E3,N:5E4},{ja:1E4,N:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},16745:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(9253).ga[0];a=a(82421);b.ga=[{data:"hxY8DqBghxb4gfYEhxd6ABDUDBhxZJBIDogAYEhxZWA6CnhxYe",Sa:!0,Ta:[176,888],size:908,Ya:r},{data:"g0YBArhRoUABAThRoZDphRoRDIhRoJAPgEwBAzhRoJDShRoJCNhLoJgC4EhRoQgL4ChRoGgF4OhRoSgF4ygR4FALC7gO4NAbhZIQgAYCAagCAAACBQhZyfgEIChZwBhVQRhZrOgQ4HBmgQ4TAJgQ4JBWgQ4ThZ4BgQ4IBOgQ4SALgQ4KBegQ4SAMgeABgEACAQgMoBdw6rGEAnB4gMwPANgIgGhiYAgEYAdol8YQCNDggIoE",Sa:!0,Ta:[44],size:891,Ya:a.ga[1]},{ja:1001,N:6E4},{ja:15015,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},92375:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;r=a(48903).ga[0];a=a(16745);b.ga=[{data:"hxo8DqBghxr4gfYEhxt+B5hxpJBJgAwBgAYChxpWA6CYhxoe",Sa:!0,Ta:[176,890],size:910,Ya:r},{data:"hvQ1DohvQtDQhvQJCIhjQJgC4EhvQQgL4ChpQGgF4OhpQSgF4yhvQGC4gO4NhvX/hvRl",Sa:!0,Ta:[44],size:891,Ya:a.ga[1]},{ja:1E3,N:6E4},{ja:15E3,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},95316:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.z4=b.mA=void 0;r=a(5163);r.__exportStar(a(38454),b);r.__exportStar(a(85017),b);c=a(68954);Object.defineProperties(b,{mA:{enumerable:!0,get:function(){return c.mA;}}});Object.defineProperties(b,{z4:{enumerable:!0,get:function(){return c.z4;}}});},67769:function(r,b,a){var d;function c(f){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f & 63];}function m(f,n){(0,d.assert)(0 < n && 8 > n);return c((n - 1 << 8) + f);}function g(f){return c(1792 + f[0]) + c((f[1] << 4) + (f[2] >>> 4)) + c((f[2] << 8 & 3840) + f[3]);}function k(f){return 43 === f?62:47 === f?63:58 > f?f - 48 + 52:91 > f?f - 65:f - 71;}Object.defineProperties(b,{__esModule:{value:!0}});b.dua=b.iWb=void 0;d=a(89707);b.iWb=function(f,n){var p,q,u,t,v,w;function h(y,x){var z;z=p;y=q - x - y;(0,d.assert)(1 <= y);(0,d.assert)(16384 > y - 1);(0,d.assert)(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;u=q;t=0;}function l(y,x,z){return f.subarray(y,y + z).every(function(A,B){return A === f[x + B];});}p="";q=n || 0;u=q;t=0;for(n=0;q < f.byteLength;){v=u;w=t;if(0 !== t && 513 > t && f[q] === f[u + t])(++t,++q);else if(513 === t)(h(v,w),n=0);else {for(--u;0 <= u && u >= q - t - 16384 && (f[v] !== f[u] || 0 < t && !l(q - t,u,t + 1));)--u;if(0 <= u && u >= q - t - 16384)(++t,++q);else if(v === q || 1 === w){q-=w;for(v=1;7 > v && f[q + v] === f[q];)++v;p+=m(f[q],v);q+=v;n=1 < v?0:n + 1;4 === n && (p=p.slice(0,p.length - 8),p+=g(f.subarray(q - 4,q)));u=q;t=0;}else (h(v,w),n=0);}}1 === t?p+=m(f[u],1):1 < t && h(u,t);return p;};b.dua=function(f,n){var v,w;function h(x,z){p(z);if(x + z <= t)q.set(q.subarray(x,x + z),t);else for(var A=0;A < z;++A)q[t + A]=q[x + A];t+=z;}function l(){var x;x=f.slice(u,u+=2);return (k(x.charCodeAt(0)) << 6) + k(x.charCodeAt(1));}function p(x){t + x > q.byteLength && (x=new Uint8Array(2 * q.byteLength),x.set(q,0),q=x);}for(var q=n || new Uint8Array(4096),u=0,t=n?n.byteLength:0;u < f.length;){v=l();if(v & 2048){w=l();h(t - (((v & 2047) << 3) + (w >>> 9) + 1),(w & 511) + 2);}else if(1792 === (v & 3840))(p(4),q[t++]=v & 255,w=l(),v=l(),q[t++]=w >>> 4,q[t++]=(w << 4 & 240) + (v >>> 8),q[t++]=v & 255);else {w=v & 255;v=(v >>> 8) + 1;p(v);for(var y=0;y < v;++y)q[t++]=w;}}return q.subarray(n?n.byteLength:0,t);};},68954:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oyb=b.Nyb=b.Pyb=b.Myb=b.z4=b.Qyb=b.Fcc=b.zcc=b.mA=b.Hcc=b.UD=void 0;c=a(85017);Object.defineProperties(b,{UD:{enumerable:!0,get:function(){return c.UD;}}});b.Hcc=["padding"];b.mA=["h264","h264hpl","hevc-main10"];b.zcc=["16:9","4:3"];b.Fcc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do"};b.Qyb=["silence"];b.z4=["heaac","ddp"];b.Myb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.Pyb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.Nyb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.Oyb={heaac:{ja:1024,N:24E3},ddp:{ja:1536,N:48E3}};},38454:function(r,b,a){var m,g,k,d,f,n,h;function c(l){if(-1 !== d.mA.indexOf(l))return l;for(var p,q=0;q < d.mA.length;++q)if(-1 !== l.indexOf(d.mA[q])){p=d.mA[q];break;}(0,n.assert)(p);return p;}Object.defineProperties(b,{__esModule:{value:!0}});b.CQa=void 0;m=a(5163);g=a(91176);k=a(43051);d=a(68954);f=a(85017);n=a(89707);h=a(67769);r=(function(){function l(p,q){this.atob=p;this.console=q;this.yL=1;this.u_=[];this.OT=[];}l.prototype.WPb=function(p,q,u,t,v){var w,z;void 0 === t && (t={w:16,Rr:9});void 0 === v && (v=1);q=c(q);w=(0,g.mc)(f.UD[q],function(A){return (0,f.a7)(u,f.pV[A]);});(0,n.assert)(w);(0,n.assert)(16 === t.w && 9 === t.Rr || 4 === t.w && 3 === t.Rr);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.u_;y < x.length;y++){z=x[y];if(z.type === p && z.Mv === t && z.Ld === q && z.frameRate === w && z.trackId === v)return z;}p=this.DGb(p,t,q,w,v);this.u_.unshift(p);this.u_.length > this.yL && this.u_.splice(this.yL,this.u_.length - this.yL);return p;};l.prototype.UPb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,v=0,w=this.OT;v < w.length;v++){y=w[v];"silence" === y.type && y.Ld === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.tGb(p,q,u),this.OT.unshift(t),this.OT.length > this.yL && this.OT.splice(this.yL,this.OT.length - this.yL));return t;};l.prototype.VPb=function(){void 0 === l.l0a && (l.l0a=new Uint8Array(Array.from({length:40},function(p,q){return ('<tt xmlns="http://www.w3.org/ns/ttml" />').charCodeAt(q);})).buffer);return l.l0a;};l.prototype.DGb=function(p,q,u,t,v){var w;w=k.Qjb[p][q][u][t];(0,n.assert)(w);w=(0,k.Oib)(w().ga);return m.__assign(m.__assign({},this.decode(w,v)),{type:p,Mv:q,Ld:u,frameRate:t,width:w.width,height:w.height,twa:w.twa,uwa:w.uwa});};l.prototype.tGb=function(p,q,u){var t;t=k.sWa.silence[p][q];(0,n.assert)(t);t=(0,k.Nib)(t().ga);return m.__assign(m.__assign({},this.decode(t,u)),{type:"silence",Ld:p,bitrate:q,channels:t.channels});};l.prototype.decode=function(p,q){var u,t,v,w;u=p.Eb.Sa?this.AU(p.Eb):this.atob(p.Eb.data);t=p.La.Sa?this.AU(p.La):this.atob(p.La.data);if(1 !== q){v=new DataView(u);w=new DataView(t);p.Eb.Ta.forEach(function(y){return v.setUint32(y,q);});p.La.Ta.forEach(function(y){return w.setUint32(y,q);});}return m.__assign(m.__assign({},p),{Eb:u,La:t,trackId:q});};l.prototype.AU=function(p){var q;if(p.Sa){if(void 0 === p.Ya)p=(0,h.dua)(p.data);else {q=this.AU(p.Ya);p=(0,h.dua)(p.data,new Uint8Array(q));}}else p=new Uint8Array(this.atob(p.data));return p.buffer.slice(p.byteOffset,p.byteOffset + p.byteLength);};return l;})();b.CQa=r;},29088:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta;Object.defineProperties(b,{__esModule:{value:!0}});b.kDa=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(91176);d=a(66164);f=a(8743);n=a(58348);h=a(6200);l=a(79183);p=a(3033);q=a(65161);a(57141);u=a(19089);t=a(52571);v=a(7470);w=a(35438);y=a(37058);x=a(61996);z=a(54366);A=a(650);B=a(40666);D=a(17122);C=a(69575);E=a(8478);G=a(27255);F=a(93747);I=a(75402);P=a(91967);M=a(33143);L=a(29688);Q=a(51371);J=a(14609);H=a(23102);K=a(27459);O=a(61567);R=a(66607);ca=a(66701);oa=a(11177);ta=a(358);r=(function(){function Fa(ua){this.S=ua;this.Wa=f.av.CLOSED;this.Dt=[];this.sZ=[];this.TS=[];this.Wn=[];this.xSa={};this.D3={};this.DAa=f.zQ.default;this.Nsb={DD:!1};this.Nvb=new x.Xq({nl:this,source:"engine",uh:10,console:ua});}Object.defineProperties(Fa.prototype,{Pw:{get:function(){(0,t.assert)(this.by);return this.by;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{state:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{o1b:{get:function(){return this.TS;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{iI:{get:function(){return this.Wn.map(function(ua){return ua.$;});},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{q1b:{get:function(){return this.Wn;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{Hc:{get:function(){this.nJ();return this.wy.Hc;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{KX:{get:function(){this.nJ();return this.wy.KX;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{Gj:{get:function(){this.nJ();return this.wy.Gj;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{Mcc:{get:function(){return this.Dt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{uL:{get:function(){return this.xSa;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{ny:{get:function(){return this.vv;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{WI:{get:function(){return this.D3;},enumerable:!1,configurable:!0}});Object.defineProperties(Fa.prototype,{BXb:{get:function(){return this.FTa || (this.FTa=this.DAb());},enumerable:!1,configurable:!0}});Fa.prototype.open=function(ua,ya,Ca,Va){var S;S=this;if(this.Wa === f.av.OPEN)return !1;this.CSa=new ta.tFa(ua,this.S);this.T=this.CSa.XT;Q.pha.Y6b(this.T);this.Iq=new B.aS(new D.B2({ti:!0,currentTime:function(){return g.K.Na(d.platform.time.sa());},speed:1}),this.S,"Engine Scheduler");this.bTa=new l.KHa(this.S,ua);this.Fv=new u.DPa(this.Z8.bind(this),ua);if(ua.o_ || d.platform.ep.Af.Rlc)this.vv=new n.DEa(this.S,ua,function(){return S.uL;});this.wy=p.gE.G7(ua,this.S,ya);this.Wa=f.av.OPEN;this.by=(0,H.LV)(ua);Ca && this.by.Ffb(Ca);Va && this.by.Jza(Va);this.Mbb=new K.KOa({Vi:function(){S.Wa !== f.av.CLOSED && S.Fv.Vi("playgraphOpportunity");}});this.GTa=new F.BLa(function(){return S.E7();},function(){return S.F7().global;},this.S);this.FFb();return !0;};Fa.prototype.AT=function(ua,ya,Ca,Va,S){var Ja,Na,Za,V,la;function ma(ra){return Ja.Mo(Va,la,ra);}Ja=this;void 0 === S && (S=!0);this.nJ();Ca=Object.create(Ca,{tP:{value:this.WI},o_:{value:!!this.vv}});if(S){Za=this.Pw.OBb(ua,Ca);if(Za){Za.SBa(ya);V=this.Mo.bind(this,Va,Za);V.Vd=Va;V=Za.A7b(V).Vd;if((V=null === (Na=Va.Ilc) || void 0 === Na?void 0:Na.call(Va,V)) && !V.pa)(V={reason:V.reason},this.Ww(Za));else return Za;}}ma.Vd=Va;Na=new M.FPa(ma,function(ra){return Ja.Yw(Va,ra);});la=(0,R.G5)(this.T,[ua,ya,Ca,Fa.OYb++,this.Hc,Na,function(ra){return Ja.Fv.Vi(ra);},S?this.Pw.MBb.bind(this.Pw):function(){},this.E7.bind(this)],this.S);la.Jd(new w.BQa(la));la.Jd(new y.YQa(la.Hd));V && la.Jd(new J.TOa(V));la.G9.Jd(new I.HDa(la));la.G9.Jd(new L.bKa(la));this.dy.yI.forEach(function(ra){return la.Jd(ra);});this.Mbb.AT(la);ua=new m.Ge();ua.on(la.events,"requestsPruned",this.d5b.bind(this));ua.on(la.events,"weightUpdated",this.$va.bind(this));ua.on(la.events,"underflow",this.vh.bind(this,la));this.Wn.push({$:la,il:ua,FY:0});this.$va();return la;};Fa.prototype.vh=function(ua){ua=this.GTa.dMb(ua);(null === ua || void 0 === ua?0:ua.d6) || this.Pw.reset();};Fa.prototype.Ww=function(ua){this.Mbb.Ww(ua);ua.Ma();this.Wn=this.Wn.filter(function(ya){return ya.$ === ua?(ya.il.clear(),!1):!0;});this.$va();};Fa.prototype.$wb=function(ua,ya){var Ca;this.nJ();Ca=ya.Kg;Ca=void 0 === Ca?[q.u.Y,q.u.X]:Ca;ua=(0,ca.NL)(this.T,[ua,Ca,c.__assign({tP:ya.tP || this.D3 || ({})},ya)]);this.TS.push(ua);return ua;};Fa.prototype.Cdb=function(ua){this.nJ();this.TS=this.TS.filter(function(ya){return ya !== ua;});ua.Ma();};Fa.prototype.V6b=function(ua,ya){this.xSa=ua;this.D3=ya;this.FTa=void 0;};Fa.prototype.pP=function(ua,ya){var Ca,Va;Va=null === (Ca=(0,k.mc)(this.Dt,function(S){return S.bG.equals(ua);})) || void 0 === Ca?void 0:Ca.ca;Va?Va.pP(c.__assign(c.__assign({},ya),{QX:this.qva.bind(this)})):this.sZ.push({Vjb:ua,cAa:ya});};Fa.prototype.Edb=function(ua){this.sZ=this.sZ.filter(function(ya){return !ya.Vjb.equals(ua);});};Fa.prototype.close=function(){this.Wa !== f.av.CLOSED && (this.s4b(),(0,t.assert)(0 === this.Dt.length,"Unexpected viewable lease after Playgraph destruction."),this.r4b(),this.sZ=[],delete this.wy,this.Wa=f.av.CLOSED,this.Iq.Ma());};Fa.prototype.H7b=function(ua){this.DAa=ua;this.Fv.Vi("streamingModeChanged");};Fa.prototype.X6b=function(ua){var ya,Ca,Va;this.Nsb.DD=ua.DD;if(this.T.ooa){Va=!0 === ua.DD;this.T.set?this.T.set((ya={},ya.enableCprVideo=Va,ya)):this.T.enableCprVideo=!0 === ua.DD;try{for(var S=c.__values(this.Wn),ma=S.next();!ma.done;ma=S.next())ma.value.$.t7b(Va);}catch(Na){var Ja;Ja={error:Na};}finally{try{ma && !ma.done && (Ca=S.return) && Ca.call(S);}finally{if(Ja)throw Ja.error;}}}};Fa.prototype.FFb=function(){this.dy=new P.nha(this.T);this.dy.Jd(new E.bHa(this));this.dy.Jd(new A.GPa(this.Hc,this.Fv));this.dy.Jd(new v.ZGa(this.Hc));this.dy.Jd(new z.et(this.Nvb));this.dy.Jd(new z.et(this.Fv.iq));this.dy.Jd(new z.et(this.bTa.Se));this.dy.Jd(new z.et(this.GTa.Se));this.vv && this.dy.Jd(new z.et(this.vv.Se));};Fa.prototype.qva=function(){};Fa.prototype.aQ=function(ua){return c.__awaiter(this,void 0,void 0,function(){var ya,Ca,Va,S;return c.__generator(this,function(ma){switch(ma.label){case 0:return ((0,t.assert)(ua,"ase.updateViewable(): Viewable config not found."),ya=(0,k.mc)(this.Dt,function(Ja){return !0 !== Ja.bG.Hr && Ja.bG.equals(ua);}),(0,t.assert)(ya,"ase.updateViewable(): Viewable entry not found."),[4,ya.nA]);case 1:return (Ca=ma.Ja(),S=(Va=Ca).aQ,[4,ua.Hq]);case 2:return (S.apply(Va,[ma.Ja()]),[2]);}});});};Fa.prototype.Mo=function(ua,ya,Ca){var Va,S,ma,Ja;Va=this;S=Ca.J;ma=ua.en(S,Ca.OY);(0,t.assert)(ma,"ase.requestViewable(): Viewable config not found.");Ja=(0,k.mc)(this.Dt,function(Na){return !0 !== Na.bG.Hr && Na.bG.equals(ma);});Ja || (Ja={bG:ma,nA:(function(){return c.__awaiter(Va,void 0,void 0,function(){var Na,Za;return c.__generator(this,function(V){switch(V.label){case 0:return [4,ma.Hq];case 1:return (Na=V.Ja(),Za=this.Xv(S,ma,Na),Ja.ca=Za,[2,Za]);}});});})(),ca:void 0,uw:new g.dK({name:"viewableCollection",YC:function(Na){Na() && Va.mya(Ja);},console:(0,C.Pf)(d.platform,this.S,("").concat(S))})},this.Dt.push(Ja));ua=new oa.bSa(Ja,this.S,ya,Ca);ua.events.once("error",this.mya.bind(this,Ja,!1));return ua;};Fa.prototype.mya=function(ua,ya){var Ca,Va;void 0 === ya && (ya=!0);(0,t.assert)(ua,"expected viewableEntry to exist");Ca=ua.ca;Va=ua.nA;ya && (Ca?Ca.Ma():Va.then(function(S){S.Ma();}));this.Dt=this.Dt.filter(function(S){return S !== ua;});};Fa.prototype.Xv=function(ua,ya,Ca){var Va,S;Va=this;this.nJ();S=Ca.config;Ca={W:Ca.W,config:S,Vv:Ca.Vv,Xp:Ca.Xp,Hc:this.wy.Hc,Gj:this.wy.Gj,YJb:{pC:function(){return Va.Fv.Vi("networkFailureReset");},rf:this.rf.bind(this,ua),Vr:this.Vr.bind(this,ua)},QY:{Lv:this.Lv.bind(this),ys:this.ys.bind(this),$Ob:function(){return Va.Fv.Z$a;}},WI:this.D3,ny:this.vv,s5:this.CSa};ua=new h.ODa(ua,Ca);S.iM && (S=(0,k.mc)(this.sZ,function(ma){return ma.Vjb.equals(ya);})) && (S=S.cAa,this.Edb(ya),ua.pP(c.__assign(c.__assign({},S),{QX:this.qva.bind(this)})));return ua;};Fa.prototype.Yw=function(ua,ya){return c.__awaiter(this,void 0,void 0,function(){var Ca,Va,S,ma,Ja,Na,Za,V,la;return c.__generator(this,function(ra){switch(ra.label){case 0:(Ca=ya.oh,Va=ya.J,S=ua.en(Va),(0,t.assert)(S,"ase.requestAdBreakHydration(): Parent viewable config not found."),ma=(0,k.mc)(this.Dt,function(N){return !0 !== N.bG.Hr && N.bG.equals(S);}),(0,t.assert)(ma,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Va)),Ja=ma.ca,(0,t.assert)(Ja,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Va)),Na=Ja.W.bc,Za={Jf:{bc:Na,Gd:Va}},ra.label=1);case 1:return (ra.Gf.push([1,3,,4]),[4,ua.Yw(Ca,Za)]);case 2:return (V=ra.Ja(),[2,{V3:V,Wka:Ja}]);case 3:return (la=ra.Ja(),[2,Promise.reject(la)]);case 4:return [2];}});});};Fa.prototype.Z8=function(){var ua,ya;(0,t.assert)(this.state === f.av.OPEN);ua=this.F7();ya=this.$M();return this.bTa.uab(ua,ya);};Fa.prototype.$M=function(){var ua,ya,Ca;ua=this;Ca=null !== (ya=this.T.O1b) && void 0 !== ya?ya:this.Wn.every(function(Va){return !Va.$.cq;});ya=(0,k.flatten)(this.Wn.map(function(Va){return Va.$.$M().map(function(S){Va.$.cq || 1 === Va.FY || (S.bu=Va.FY);return S;});}));this.DAa === f.zQ.disabled?ya=[]:this.DAa === f.zQ.eWb && (ya=ya.filter(function(Va){return ua.T.d9a >= Va.Ck - Va.Uk;}));Ca || (Ca=ya.filter(function(Va){var S;return 1 === (null !== (S=Va.bu) && void 0 !== S?S:1);}),Ca.length && (ya=Ca));Ca=this.Dt.reduce(function(Va,S){return S.ca?c.__spreadArray(c.__spreadArray([],c.__read(Va),!1),c.__read(S.ca.$M()),!1):Va;},[]);return (0,k.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(ya),!1),c.__read(Ca),!1));};Fa.prototype.nJ=function(){if(this.Wa === f.av.CLOSED)throw Error("Engine CLOSED");};Fa.prototype.s4b=function(){var ua,Va;try{for(var ya=c.__values(this.Wn),Ca=ya.next();!Ca.done;Ca=ya.next()){Va=Ca.value;Va.il.clear();this.Ww(Va.$);}}catch(ma){var S;S={error:ma};}finally{try{Ca && !Ca.done && (ua=ya.return) && ua.call(ya);}finally{if(S)throw S.error;}}};Fa.prototype.r4b=function(){var ua;try{for(var ya=c.__values(this.TS),Ca=ya.next();!Ca.done;Ca=ya.next())this.Cdb(Ca.value);}catch(S){var Va;Va={error:S};}finally{try{Ca && !Ca.done && (ua=ya.return) && ua.call(ya);}finally{if(Va)throw Va.error;}}};Fa.prototype.rf=function(ua,ya,Ca,Va,S,ma,Ja){var Na;void 0 === Ja && (Ja=!1);Na=!1;this.b4a(ua).forEach(function(Za){if(!Ja || (0,q.pn)(Za.Xd.value))Na=Za.rf(ya,ua,Ca,Va,S,ma,Ja);});return Na;};Fa.prototype.Vr=function(ua){return this.b4a(ua).some(function(ya){return ya.Vr();});};Fa.prototype.b4a=function(ua){return this.Wn.filter(function(ya){var Ca;for(ya=ya.$;ya.Oa;)ya=ya.Oa;Ca=ya.$;return Object.keys(Ca.aa).some(function(Va){return Ca.aa[Va].J === ua;});}).map(function(ya){return ya.$;});};Fa.prototype.F7=function(){var ua;ua=new G.HHa();this.Wn.forEach(function(ya){var Ca,Va;Ca=ya.$;ya=ya.FY;Va=Ca.F7();Va.bu=ya;ua.add(Ca.id,Va);});return ua;};Fa.prototype.E7=function(){return this.BXb;};Fa.prototype.DAb=function(){var ua,ya;ya=(0,O.rXa)(this.T,this.uL);return {total:(ua={},ua[q.u.X]=this.uL.video || Infinity,ua[q.u.Y]=this.uL.audio || Infinity,ua[q.u.Da]=this.uL.text || Infinity,ua.total=this.uL.total || Infinity,ua),vAa:ya};};Fa.prototype.Lv=function(ua){var ya;this.Fv.Lv(ua);null === (ya=this.vv) || void 0 === ya?void 0:ya.Lv(ua);};Fa.prototype.ys=function(ua){this.Fv.ys(ua);};Fa.prototype.$va=function(){var ua;ua=this.iI.reduce(function(ya,Ca){return Math.max(Ca.weight,0) + ya;},0);this.Wn.forEach(function(ya){ya.FY=0 >= ya.$.weight?0:ya.$.weight / ua;});};Fa.prototype.d5b=function(ua){var ya;ya=this;this.vv && (ua.requests.forEach(function(Ca){return ya.vv.ys(Ca);}),this.Dt.forEach(function(Ca){var Va;return null === (Va=Ca.ca) || void 0 === Va?void 0:Va.A5b();}),this.Fv.Vi("prunedRequest"));};Fa.OYb=0;c.__decorate([(0,x.Ib)({methodName:"open"})],Fa.prototype,"open",null);c.__decorate([(0,x.Ib)({methodName:"addPlaygraph",context:function(ua){var ya,Ca;return {playgraphCount:null !== (Ca=null === (ya=ua.hab.Wn) || void 0 === ya?void 0:ya.length) && void 0 !== Ca?Ca:0};}})],Fa.prototype,"AT",null);c.__decorate([(0,x.Ib)({methodName:"removePlaygraph",context:function(ua){return {playgraphCount:ua.hab.Wn.length};}})],Fa.prototype,"Ww",null);c.__decorate([(0,x.Ib)({methodName:"close"})],Fa.prototype,"close",null);c.__decorate([(0,x.Ib)({methodName:"setStreamingMode",Ep:!0})],Fa.prototype,"H7b",null);c.__decorate([(0,x.Ib)({methodName:"setConcurrentStreamingDevice",Ep:!0})],Fa.prototype,"X6b",null);c.__decorate([(0,x.Ib)({methodName:"notifyAseException",Ep:!0})],Fa.prototype,"qva",null);c.__decorate([(0,x.Ib)({methodName:"updateViewable"})],Fa.prototype,"aQ",null);c.__decorate([(0,x.Ib)({methodName:"requestViewable"})],Fa.prototype,"Mo",null);c.__decorate([(0,x.Ib)({methodName:"removeViewable"})],Fa.prototype,"mya",null);c.__decorate([(0,x.Ib)({methodName:"createViewable"})],Fa.prototype,"Xv",null);c.__decorate([(0,x.Ib)({methodName:"requestAdBreakHydration"})],Fa.prototype,"Yw",null);c.__decorate([(0,x.Ib)({methodName:"issueRequestOpportunity",Cj:!0,return:!0})],Fa.prototype,"Z8",null);c.__decorate([(0,x.Ib)({methodName:"reportStreamingFailure",Ep:!0})],Fa.prototype,"rf",null);return Fa;})();b.kDa=r;},66701:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NL=void 0;c=a(5163);m=a(91176);g=a(34434);b.NL=function(k,d){var f,n,h;f=[function(l){return new (g.Vda.bind.apply(g.Vda,c.__spreadArray([void 0],c.__read(l.g1b),!1)))();}];if(k.QU){n=a(79).Uma;f.unshift(function(l,p){return n(l,p);});}if(k.fM){h=a(79).Uma;f.unshift(function(l,p){return h(l,p);});}return m.RQ.D8({g1b:d},f);};},66607:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.G5=void 0;c=a(5163);m=a(91176);g=a(48170);k=a(62819);d=a(28871);b.G5=function(f,n,h){var l,p,q,u;l=[function(t){return new (k.Wda.bind.apply(k.Wda,c.__spreadArray([void 0],c.__read(t.qY),!1)))();}];p=(0,d.al)({$:n[0]});g.L && h.trace("Creating playgraph",{tnc:p,Sjc:f.QU,Ke:f.fM});if(f.QU){q=a(25750);l.unshift(function(t,v){return q.pU({},t,v);});}if(f.fM){u=a(86681);l.unshift(function(t,v){return u.pU({},t,v);});}return m.RQ.D8({qY:n,Gka:[]},l);};},358:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tFa=void 0;r=(function(){function a(c,m){this.XT=c;this.console=m;this.pda=new WeakMap();this.console.trace("Created config manager with base config" + JSON.stringify(c));}a.prototype.lNb=function(){var c;c=this.XT.J9;if(void 0 === c || 0 === c.length)return (this.console.warn("ConfigManager: No manifestConfigAllowList found in base config, no manifest config will be applied."),[]);this.console.trace("ConfigManager allowed properties: " + JSON.stringify(c));return c;};a.prototype.AQb=function(c){if(this.pda.has(c))return this.pda.get(c);this.console.warn("ConfigManager: No viewable config found for " + c.O);return this.XT;};a.prototype.M7b=function(c,m){m=this.hbc(m);this.pda.has(c) && this.console.trace("Updating existing viewable config for " + c);this.pda.set(c,m);};a.prototype.hbc=function(c){var m,g,k,d,f,n;m=this;k=null === (g=c.steeringAdditionalInfo) || void 0 === g?void 0:g.B9b;d=this.lNb();if(!k || 0 === d.length)return this.XT;f=Object.create(this.XT);n={};Object.keys(k).filter(function(l){return -1 !== d.indexOf(l);}).forEach(function(l){var p,q;if(void 0 !== f[l]){p=k[l];q=void 0;"number" === typeof f[l]?q=Number(p):"boolean" === typeof f[l]?q="true" === p:"string" === typeof f[l]?q=p:m.console.trace("Unsupported type for" + l);n[l]=q;}else m.console.trace("Invalid key" + l);});if(0 < Object.keys(n).length)if("function" === typeof f.set)0 === f.set(n) && this.console.trace("Invalid keys" + JSON.stringify(Object.keys(n)));else for(var h in n)(c=h,f[c]=n[c]);return f;};return a;})();b.tFa=r;},60069:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.i5b=b.UM=void 0;c=a(66164);m=a(29088);b.UM=function(){var k;if(!g){k=new c.platform.Console("ASEJS","media|asejs");g=new m.kDa(k);}return g;};b.i5b=function(){g=void 0;};},27459:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KOa=void 0;r=(function(){function a(c){this.Vi=c.Vi;this.kw=this.sSb();}a.prototype.AT=function(c){c.events.on("requestsPruned",this.kw);};a.prototype.Ww=function(c){c.events.removeListener("requestsPruned",this.kw);};a.prototype.sSb=function(){var c;c=this;return function(){return c.Vi();};};return a;})();b.KOa=r;},23102:function(r,b,a){var m,g,k,d;function c(){return m.__awaiter(this,void 0,void 0,function(){var f;return m.__generator(this,function(n){switch(n.label){case 0:return [4,Promise.resolve().then(function(){return m.__importStar(a(60069));})];case 1:return (f=n.Ja().UM,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.LV=void 0;m=a(5163);g=a(66164);k=a(91961);b.LV=function(f){var n;n=new g.platform.Console("ASEJS","media|asejs");d || (d=new k.WOa(function(){return c();},f,n));return d;};},61567:function(r,b,a){var m;function c(g,k,d,f){return g && k?Math.min(g - k * d,g - f):(g || Infinity) - f;}Object.defineProperties(b,{__esModule:{value:!0}});b.rXa=void 0;m=a(65161);b.rXa=function(g,k){var d,f,n,h,l,p,q,u;u=c(k.audio,k.ljc,g.Xma,null !== (f=g.WYa) && void 0 !== f?f:0);f=c(k.video,k.Zoc,g.Xma,null !== (n=g.YYa) && void 0 !== n?n:0);n=c(k.text,k.xoc,g.Xma,null !== (h=g.XYa) && void 0 !== h?h:0);return (d={},d[m.u.Y]=u,d[m.u.X]=f,d[m.u.Da]=n,d.total=(k.total || Infinity) - (null !== (l=g.WYa) && void 0 !== l?l:0) - (null !== (p=g.YYa) && void 0 !== p?p:0) - (null !== (q=g.XYa) && void 0 !== q?q:0),d);};},11177:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bSa=void 0;c=a(5163);m=a(90745);g=a(48170);k=a(95407);r=(function(){function d(f,n,h,l){this.Yjb=f;this.console=n;this.nyb=h;this.OY=l;this.events=new m.EventEmitter();this.zo=f.uw.Cp();}Object.defineProperties(d.prototype,{ca:{get:function(){var f;return null === (f=this.Yjb) || void 0 === f?void 0:f.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nA:{get:function(){var f;f=this;return (function(){return c.__awaiter(f,void 0,void 0,function(){var n;return c.__generator(this,function(h){switch(h.label){case 0:return (h.Gf.push([0,2,,3]),[4,this.Yjb.nA]);case 1:return [2,h.Ja()];case 2:throw (n=h.Ja(),k.Tga.LTb(n) && this.nyb.rf(n),g.L && this.console.trace("Removing broken viewable entry due to error",this.OY),this.events.emit("error",{error:n}),n);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.bSa=r;},67164:function(r,b,a){var m;function c(g,k){var d;void 0 === k && (k=c);d="";g.qM && (d=null === g || void 0 === g?void 0:g.qM.map(k).reduce(function(f,n){return ("").concat(f,",").concat(n);}));return ("").concat(null === g || void 0 === g?void 0:g.name,"::").concat(null === g || void 0 === g?void 0:g.message,"::{").concat(null === g || void 0 === g?void 0:g.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.Nda=void 0;m=a(5163);r=(function(g){function k(d,f){d=g.call(this,k.vMb(d,f)) || this;d.ktb=f;d.name="AggregateError";return d;}m.__extends(k,g);k.vMb=function(d,f){return f.reduce(function(n,h){return ("").concat(n,"\n").concat(h);},d);};k.stringify=function(d){return c(d);};Object.defineProperties(k.prototype,{qM:{get:function(){return this.ktb;},enumerable:!1,configurable:!0}});return k;})(Error);b.Nda=r;},83906:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(32973),b);r.__exportStar(a(16816),b);},32973:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63251:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},43520:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},20271:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zm=void 0;r=b.zm || (b.zm={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.Gl=2]="STREAMING";},89577:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8743:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.av=b.zQ=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.eWb=2]="lowCpuPlaybackStarting";})(b.zQ || (b.zQ={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.av || (b.av={}));},51308:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jc=void 0;r=a(5163);r.__exportStar(a(8743),b);r.__exportStar(a(43520),b);r.__exportStar(a(20271),b);r.__exportStar(a(89577),b);r.__exportStar(a(41186),b);r.__exportStar(a(83906),b);r.__exportStar(a(16816),b);r.__exportStar(a(85178),b);r.__exportStar(a(63251),b);r.__exportStar(a(35963),b);c=a(91967);Object.defineProperties(b,{jc:{enumerable:!0,get:function(){return c.jc;}}});},41186:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85178:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16756:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OJ=void 0;r=b.OJ || (b.OJ={});r[r.start=0]="start";r[r.end=1]="end";},86003:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46062:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},97627:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9980:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(16756),b);r.__exportStar(a(97627),b);r.__exportStar(a(86003),b);r.__exportStar(a(46062),b);},35963:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(9980),b);},8171:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Jq=void 0;c=a(66164);m=a(65167);r=(function(){function g(k){k=("(").concat(k,")");this.S=new c.platform.Console("ASEJS","media|asejs",k);this.ija=[];}g.prototype.iw=function(k){var d;if(!this.ija[k]){d=("[").concat(k,"]");this.ija[k]=(0,m.Pf)(c.platform,this.S,d);}return this.ija[k];};return g;})();b.Jq=new r(0);},6200:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.ODa=b.xpb=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(66164);d=a(24473);r=a(81392);f=a(26279);n=a(83744);h=a(79857);l=a(18905);p=a(65161);q=a(52571);a(69575);u=a(24251);t=a(444);v=a(97757);w=a(31303);y=a(39795);x=a(66133);z=(function(){return function(A){this.mediaType=A;this.V7a=void 0;};})();b.xpb=z;a=(function(A){function B(D,C){var E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua;G=C.W;F=C.Vv;I=C.Xp;P=C.config;M=C.QY;L=C.Hc;Q=C.Gj;J=C.YJb;H=C.WI;K=C.ny;C=C.s5;O=A.call(this) || this;O.J=D;O.s5a=!1;O.JS={};O.vw=(E={},E[p.u.Y]={},E[p.u.X]={},E[p.u.Da]={},E);O.JK=[];O.E3=[];O.QB=[];O.m3=!1;O.R$a=!1;O.Ncc=[new z(p.u.Y),new z(p.u.X),new z(p.u.Da)];O.J9={YW:"liveEdgeCushion",HH:"maxMediaBufferAllowed",hM:"enableMissingSegmentsDetection",UU:"enableMissingSegmentsReplacement",x9:"liveAccurateFragmentTimestamps",M9:"maxAttemptsOnFailure",sP:"simulateLiveEdge",p6:"enableConditionalServerTimeUpdate",u$:"negligibleServerTimeDeltaDifference"};O.PYa=Object.keys(O.J9).reduce(function(ya,Ca){ya[O.J9[Ca]]=Ca;return ya;},{});O.zTa=G;O.console=new k.platform.Console("ASEJS","media|asejs","<" + String(O.J) + ">");O.s5=C;P.Wbc?(O.s5.M7b(O,G),O.config=O.s5.AQb(O)):O.config=O.Uvb(G,P);O.AH=new w.fKa(O,O.config);O.events=new m.EventEmitter();O.Xy=new y.vIa(O,O.console,O.config,function(ya){return O.events.emit("logdata",ya);});O.Hc=L;O.QY=M;O.WI=H;O.vv=K;O.Vv=F;O.Xp=!!I;R=[[],[],[]];ca=[{},{},{}];oa=[0,0];ta=!1;if(O.Z)ua=G.Sh.maxBitrate;["audio_tracks","video_tracks"].forEach(function(ya,Ca){O.W[ya].forEach(function(Va,S){if(Va.type !== p.u.Y || !Va.ju && !1 !== Va.dg)(S=new f.QJ({ca:O,Do:Va,mediaType:Ca,Xp:O.Xp,xJ:S,CF:S + (Ca === p.u.Y?O.W.video_tracks.length:0),EN:ua},O.config,O.console),Ca === p.u.X && P.sJb && new u.PDa(P).L2b(S.ie),Ca === p.u.X && (Fa=t.RA.from({tu:Va.Bua,Dr:Va.Aua})),R[Ca].push(S),ca[Ca]=c.__assign(c.__assign({},ca[Ca]),S.YG()),S.maxBitrate > oa[S.mediaType] && (oa[S.mediaType]=S.maxBitrate),ta=ta || S.am);});});O.Z && O.W.timedtexttracks.forEach(function(ya,Ca){var Va;if(!ya.ju && !1 !== ya.dg){Va=p.u.Da;ya=new f.QJ({ca:O,Do:ya,mediaType:Va,Xp:!1,xJ:Ca,CF:Ca},O.config,O.console);R[Va].push(ya);ca[Va]=c.__assign(c.__assign({},ca[Va]),ya.YG());}});O.W.Pm && ((0,q.assert)(Fa,"Should have video track if there are adverts"),O.Pm={pe:O.W.Pm.pe.map(function(ya){var Ca;Ca=Fa.normalize(ya.$r);Ca=c.__assign(c.__assign({},ya),{Su:ya.$r,$r:Ca.v,Ew:Ca});ya.Ke !== ya.ads && (Ca.unnormalizedLocationMs=Ca.Su,Ca.locationMs=Ca.$r,Ca.normalizedLocation=Ca.Ew);return Ca;})});O.jl=new l.kKa(O.W,ca,L,Q,O.config,function(ya){return O.events.emit("logdata",ya);});O.Z && (O.y9=new h.XJa(O.console,O.config,O,O.Xy,M.$Ob));D=J.pC;E=J.Vr;O.oF=J.rf;O.Vr=E;O.pC=D;O.e3=new n.eHa(O.jl,O.config,O.LQb.bind(O),O.KQb.bind(O));O.e3.events.addListener("requestError",function(ya){O.Z && O.config.CVb && 404 === ya.ln && O.AH.meb();});O.GK=R;O.vca=ca;O.MN=oa;O.am=ta;return O;}c.__extends(B,A);Object.defineProperties(B.prototype,{W:{get:function(){return this.zTa;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Z:{get:function(){var D,C;D=this.W;C=D.Sh;return "LIVE" === D.Vf && !!C;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{uX:{get:function(){var D;return !(null === (D=this.GK[p.u.X][0]) || void 0 === D || !D.uX);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{O:{get:function(){return this.W.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Op:{get:function(){return this.W.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{duration:{get:function(){return this.W.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{cm:{get:function(){return this.m3;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ny:{get:function(){return this.vv;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{aw:{get:function(){(0,q.assert)(this.e3,"ErrorDirector is not available on old architecture prefetch viewables.");return this.e3;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{pM:{get:function(){return this.aw.events;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Iu:{get:function(){return this.AH.Iu;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{FN:{get:function(){return this.JS;},enumerable:!1,configurable:!0}});B.prototype.Ma=function(){this.close();this.Ce();};B.prototype.close=function(){var D;this.QB=[];null === (D=this.e3) || void 0 === D?void 0:D.Ma();this.jl.Ma();this.m3=!0;};B.prototype.Ce=function(){var D;this.Xy.Ce();null === (D=this.y9) || void 0 === D?void 0:D.Ce();};B.prototype.aQ=function(D){var C,E,G;C=this;E=D.W;D=D.Vv;if(this.Z)G=E.Sh.maxBitrate;(0,q.assert)(D === this.Vv,"Updating Viewable clearplay not supported");(0,q.assert)(E.movieId === this.W.movieId,"Changing Viewable manifest movieId unsupported");["audio_tracks","video_tracks"].forEach(function(F,I){var P,M;P=E[F];M=C.GK[I];(0,q.assert)(M.every(function(L){var Q;Q=P[L.xJ];return Q && Q.YP === L.trackId && (Q.type === p.u.X || !1 !== Q.dg);}),"Existing tracks must still exist and be hydrated in updated manifest");P.forEach(function(L,Q){var J,H;if(L.type !== p.u.Y || !L.ju && !1 !== L.dg){J=C.getTrackById(L.YP);if(J){J.EN=G;L=L.streams;H=Object.keys(J.YG());(0,q.assert)(L.length === H.length,"Expected updated manifest track to have same number of streams");L.forEach(function(K){K=K.downloadable_id;(0,q.assert)(-1 !== H.indexOf(K),"Changing Viewable track streams unsupported");});}else (J=new f.QJ({ca:C,Do:L,mediaType:I,Xp:C.Xp,xJ:Q,CF:Q + (I === p.u.Y?C.W.video_tracks.length:0),EN:G},C.config,C.console),M.push(J),C.vca[I]=c.__assign(c.__assign({},C.vca[I]),J.YG()),J.maxBitrate > C.MN[J.mediaType] && (C.MN[J.mediaType]=J.maxBitrate),(0,q.assert)(C.am || !J.am,"Can not update clear viewable with drm track."));}});});this.zTa=E;this.jl.kL(this.W,this.vca);};B.prototype.NRb=function(D,C){var E,G;E=this;(0,q.assert)(this.W.Pm,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,q.assert)(this.Pm,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.W.Pm.pe.some(function(F,I){var P,M,L;if(F.oh === C){P=E.Pm.pe[I];M=P.$r;L=P.Su;P=P.Ew;G=c.__assign(c.__assign({},D),{Su:L,$r:M,Ew:P,oh:C});F.Ke !== F.ads && (G.unnormalizedLocationMs=G.Su,G.locationMs=G.$r,G.adBreakToken=G.oh,G.normalizedLocation=G.Ew);E.Pm.pe[I]=G;return !0;}});return G;};B.prototype.pP=function(D){var C,E,G;C=D.Lg;E=D.na;G=D.Xna;D=D.QX;C && E?(this.dca=new d.jQa(C,{na:String(E),Xna:!!G,pXb:this.config.V1.mx,Pzb:this.config.V1.lv},D),this.aw.pP(this.dca)):this.R$a || (D("SideChannel: pbcid/xid is missing."),this.R$a=!0);};B.prototype.Esa=function(){return void 0 !== this.Op;};B.prototype.getTracks=function(D){return void 0 === D?(0,g.flatten)(this.GK):this.GK[D];};B.prototype.getTrackById=function(D){var C;this.GK.some(function(E){return E.some(function(G){if(G.trackId === D)return (C=G,!0);});});C || this.console.warn("getTrackById not found:",D,"length:",this.GK.length);return C;};B.prototype.mk=function(D,C){return (D=this.YG(D)) && D[C];};B.prototype.YG=function(D){return this.vca[D];};B.prototype.cUb=function(D){var C,E;if(void 0 === D.Oaa || void 0 === D.txa){C=this.jl.WC.filter(function(G){return void 0 !== G.streams[D.Vb];})[0];E=C.children.filter(function(G){return G.urls.some(function(F){return F.stream.id === D.Vb;});})[0];D.Oaa=C.id;D.txa=E.id;}return {ita:D.location === D.Oaa,dUb:D.Ub === D.txa};};B.prototype.Lza=function(D,C,E){void 0 !== C && void 0 !== E && (this.Ndb(D.mediaType,C),D.Lza(C,E));};B.prototype.Ndb=function(D,C){var E;E=this.config.eva;("location" === E || "video_location" === E && D === p.u.X) && this.Hc.Vba(C);};B.prototype.rf=function(D,C,E,G,F,I){(0,q.assert)(this.oF,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.oF(D,C,E,G,F,I);};B.prototype.G$=function(D){var C,E,G;(0,q.assert)(!this.Z,"Unexpected normalizeTimestamp. Live segments not supported. Use AsePlaygraph.normalizeLiveSegment() instead.");C=this.getTracks(p.u.X)[0];C.fu || (C=this.getTracks(p.u.Y)[0]);if(C.fu){E=g.K.Na(D);G=C.Jr(this.config,D,void 0,!0).Ia;return E.Ao(G)?G:C.dC(this.config,D).Ua;}};B.prototype.Jn=function(){var D;D=this;if(this.cm)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);p.ER.forEach(function(C){D.Ibc(C) && D.xbc(C);});this.sbc();return !0;};B.prototype.Jr=function(D,C){var E;E=this.getTracks(p.u.X)[0];(0,q.assert)(E);if(E.fu)return E.Jr(D,C);};B.prototype.OBa=function(D,C){this.AH.OBa(D,C);};B.prototype.Ibc=function(D){var C;C=this;return this.cm?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.JK.reduce(function(E,G){return (0,g.nL)(E,G.Xc.filter(function(F){return F.mediaType === D;}));},[]).map(function(E){return C.jl.ijb(C.J,E.ie);}).every(function(E){return E;});};B.prototype.sbc=function(){(0,q.assert)(this.Xy,"Headers not available on old architecture prefetch viewables.");this.Xy.Jn();};B.prototype.xbc=function(D){var C,E,I;E=[];if(this.cm)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var G=c.__values(this.JK),F=G.next();!F.done;F=G.next()){I=F.value.Jn(D);I.length && E.push.apply(E,I);}}catch(M){var P;P={error:M};}finally{try{F && !F.done && (C=G.return) && C.call(G);}finally{if(P)throw P.error;}}};B.prototype.Uvb=function(D,C){var E,F,I;if((D=D.steeringAdditionalInfo) && D.streamingClientConfig && Object.keys(D.streamingClientConfig).length){D=D.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(D));for(var G in D)if(this.PYa.hasOwnProperty(G)){F=this.PYa[G];if(C.hasOwnProperty(F)){I=D[G];C.set?0 === C.set((E={},E[F]=I,E)) && this.console.trace("Invalid key" + G):C[F]=I;}}}return C;};B.prototype.vh=function(){var D;D=this;this.jl.vh();this.aw.vh();this.dca && p.ER.forEach(function(C){D.dca.rza("rebuffer",D.K3a(C).V7a);});};B.prototype.K3a=function(D){return this.Ncc[D];};B.prototype.A5b=function(){var D;if(0 !== this.E3.length){D=[];this.E3.forEach(function(C){C.resume() || D.push(C);});this.E3=D;}};B.prototype.PG=function(D,C){return this.Xy.PG(D,C);};B.prototype.nfb=function(D,C,E){this.QB.push({I:C,stream:D,aQb:E});};B.prototype.sdb=function(){this.QB=[];};B.prototype.y4b=function(D){this.QB=this.QB.filter(function(C){return C.stream !== D;});};B.prototype.x4b=function(D){this.QB=this.QB.filter(function(C){return C !== D;});};B.prototype.$M=function(){var D;D=this;return this.Vr()?[]:this.QB.map(function(C){return new x.cSa(D,C);});};B.prototype.zJ=function(D,C,E){(0,q.assert)(this.Xy,"Headers not available on old architecture prefetch viewables.");return this.Xy.zJ(D,C,E);};B.prototype.oT=function(D,C){(0,q.assert)(this.Xy,"Headers not available on old architecture prefetch viewables.");this.Xy.oT(D,C);};B.prototype.NQb=function(D){var C;C=D.mediaType;this.mk(C,D.Vb).lbc(k.platform.TM()[C],this.Esa()?this.config.UWb:0);this.events.emit("onHeaderFragments",D);};B.prototype.d4b=function(D){this.JK.push(D);};B.prototype.Xac=function(D){D=this.JK.indexOf(D);(0,q.assert)(-1 !== D,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.JK.splice(D,1);};B.prototype.cwa=function(D){var C;null === (C=this.QY) || void 0 === C?void 0:C.Lv(D);};B.prototype.oO=function(D){this.cm?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",D):void 0 !== D.location && this.Ndb(D.mediaType,D.location);};B.prototype.pO=function(D){this.cm?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",D):this.aw.Wca(D);};B.prototype.ns=function(D){var C;null === (C=this.QY) || void 0 === C?void 0:C.ys(D);this.cm?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",D):this.Vr() || this.aw.Wca(D);};B.prototype.aY=function(D,C,E){var G;E && (null === (G=this.QY) || void 0 === G?void 0:G.ys(D));};B.prototype.WH=function(D){this.cm?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",D):(this.aw.zs(D,void 0,D.status,D.xg,D.ej),this.Jn() || this.rf(D.cC || "unknown","NFErr_MC_StreamingFailure",D.xg,D.status,D.ej));};B.prototype.dwa=function(D){this.E3.push(D);};B.prototype.z2b=function(){var D,C;this.ajb(null === (D=this.W.Sh) || void 0 === D?void 0:D.Ooa,null === (C=this.W.Sh) || void 0 === C?void 0:C.C6,!0);};B.prototype.ajb=function(D,C,E){var G,F,I,P,M;(0,q.assert)(this.W.Sh,"Missing manifest liveMetadata.");I=this.W.Sh;P=I.Ooa;M=I.C6;I=this.FN;this.JS={startTime:null !== (G=null !== P && void 0 !== P?P:D) && void 0 !== G?G:I.startTime,endTime:null !== (F=null !== M && void 0 !== M?M:C) && void 0 !== F?F:I.endTime};D=this.JS.startTime !== I.startTime;C=this.JS.endTime !== I.endTime;(E || D || C) && this.events.emit("liveEventTimesUpdated",c.__assign({ca:this},this.JS));C && this.JK.forEach(function(L){L.WO();});};B.prototype.vbc=function(D,C){if(this.vw[D].YB !== C.YB || this.vw[D].ZB !== C.ZB)(this.vw[D]=C,this.events.emit("liveLoggingInfoUpdated",{ca:this,mediaType:D,info:C}));};B.prototype.GVb=function(){(0,q.assert)(this.Z,"liveVideoPresentationTimeOffset called on viewable that is not live");return this.getTracks(p.u.X)[0].xOb();};B.prototype.LQb=function(D){var C,E,G;if(!this.m3){C=D.KTb;E=D.J_b;G=D.L_b;D=D.M_b;this.console.warn("Streaming failure, is permanent: " + C + ", last error code: " + E + ", last http code: " + G + ", last native code: " + D);C?(this.console.warn(" > Permanent failure, done"),C=this.rf("Permanent failure","NFErr_MC_StreamingFailure",E,G,D)):(this.console.warn(" > We are buffering, calling it!"),C=this.rf("Temporary failure while buffering","NFErr_MC_StreamingFailure",D,G,D,!0));C || (this.console.warn(" > Resetting failures"),this.aw.nba());}};B.prototype.KQb=function(){(0,q.assert)(this.pC,"Error handling not available on old architecture prefetch viewables.");this.m3 || (this.Jn(),this.pC());};return B=c.__decorate([v.DM],B);})(r.YD);b.ODa=a;},26286:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tEa=void 0;c=a(5163);r=(function(){function m(g,k,d,f){this.J=g;this.Mo=k;this.ZX=d;this.Zva=f;}Object.defineProperties(m.prototype,{ca:{get:function(){var g;return null === (g=this.C_) || void 0 === g?void 0:g.ca;},enumerable:!1,configurable:!0}});m.prototype.Ma=function(){var g;this.ca && (this.ca.Xac(this.Ra),this.Zva(this.ca));null === (g=this.C_) || void 0 === g?void 0:g.zo.release();this.C_=void 0;};m.prototype.Eb=function(g){return c.__awaiter(this,void 0,void 0,function(){var k,d,f,n,h;return c.__generator(this,function(l){switch(l.label){case 0:return (this.Ra=g,k=this.Mo(this.J),d=k.nA,f=k.ca,n=k.zo,this.C_={zo:n,ca:f},f?(this.g6a(f,g,!1),[2,f]):[4,d]);case 1:return (h=l.Ja(),this.g6a(h,g,!0),[2,h]);}});});};m.prototype.g6a=function(g,k,d){this.C_ && (this.C_.ca=g,g.d4b(k),this.ZX(k,g,d));};return m;})();b.tEa=r;},39795:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vIa=void 0;c=a(5163);m=a(66164);g=a(8171);k=a(35018);r=a(81392);d=a(52571);f=a(42431);a=(function(n){function h(l,p,q,u){var t;t=n.call(this,l) || this;t.Lm=l;t.S=p;t.T=q;t.tva=u;t.TK=[Object.create(null),Object.create(null)];t.nTa=[void 0,void 0];t.xe=f.iE.instance.Cy("headers","" + t.Lm.J,!0,!1,{},t.T);t.xe.Eb();return t;}c.__extends(h,n);h.prototype.Ce=function(){var l;l=this;this.TK.forEach(function(p,q){for(var u in p)(p[u].Ce(),l.Nna(q,u));});this.xe && f.iE.instance.c6(this.xe);this.xe=void 0;};h.prototype.PG=function(l,p){return this.TK[l][p];};h.prototype.zJ=function(l,p,q){var u,t,v,w;u=this.T;if(this.PG(l.mediaType,l.Vb))return !1;t=this.Xtb;v=this.Ytb;if(void 0 !== u.Uua && void 0 !== t && void 0 !== v){w=m.platform.time.sa();if(w - t < u.Uua || w - v < u.Uua)return !1;}l=this.uib(l,p,q);this.Ytb=m.platform.time.sa();return l;};h.prototype.uib=function(l,p,q,u){var t,v,w;t=l.mediaType;g.Jq.iw(t);v=l.Vb;u || (w=this.PG(t,v));if(w)l=!1;else {p={I:p,offset:0,ta:this.ltb(l)};q || (q=this.xe);(0,d.assert)(q);l.Z && q.track.nhb && (p.offset=0,p.ta=0);l.url && (this.Lm.K3a(t).V7a=l.RV(!0));if(!this.Rsb(l,q,p).open())return (this.Lm.rf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);l=!0;}return l;};h.prototype.Jn=function(){var l,p,q;l=this;p=[];q=this.Lm.Z;this.TK.forEach(function(u,t){var w;g.Jq.iw(t);for(var v in u){t=u[v];w=t.QBa(q);1 === w?p.push(t):2 === w && l.Lm.rf("swapUrl failure");}});return p;};h.prototype.ns=function(l,p){var q,u;q=l.mediaType;u=g.Jq.iw(q);this.Lm.cm?u.warn("header onrequestcomplete ignored, session shutdown:",l.toString()):(this.tva({type:"logdata",target:"startplay",zc:{usedNativeDataView:l.gcc}}),l.naa > l.gwa && (this.nTa[q]=l.naa),this.Gtb(l),this.Xtb=m.platform.time.sa());this.DG(l,p);};h.prototype.oT=function(l,p){var q,u,t;q=this.TK[l];for(u in q){t=q[u];t && !t.stream.Ga && t.Lo === p && (this.Nna(l,u),t.Ce());}};h.prototype.Owb=function(l){this.TK[l.mediaType][l.Vb]=l;};h.prototype.Gtb=function(l){var p,q,u,v;p=this.T;q=g.Jq.iw(l.mediaType);u=l.stream.Ga;if(p.zna){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){v=u.get(t);q.trace("fragment: " + t + ", startPts: " + v.Ia.v + ", duration: " + v.Bb.v + ", offset: " + v.offset);}}this.usb(l);};h.prototype.usb=function(l){var p,q;p=l.mediaType;q=l.Vb;g.Jq.iw(p);l.Fab && (l.Fab.forEach(function(u){(u=u.mk(p,q)) && u !== l.stream && !u.Oh && u.ZCb(l.stream);}),l.Fab=void 0);this.Lm.NQb(l);};h.prototype.Rsb=function(l,p,q){var u,t;u=this;t=g.Jq.iw(l.mediaType);l=new k.zDa(l,this.T,p,q,this,q.I,!1,t);l.addListener("headerRequestCancelled",function(v){u.Ftb(v.request);});this.Owb(l);return l;};h.prototype.ltb=function(l){var p,q,u,t;p=l.Ak;q=l.ca;u=q.duration;t=this.T;return l.Z?512:q.Xp?t.m1a?t.m1a:t.l8:t.ecc && p?p.offset + p.size:(l=this.nTa[l.mediaType])?l + 128:t.Hoa?2292 + 12 * Math.ceil(u / 2E3):t.l8;};h.prototype.Ftb=function(l){this.Nna(l.mediaType,l.Vb);};h.prototype.Nna=function(l,p){delete this.TK[l][p];};return h;})(r.YD);b.vIa=a;},31303:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=b.Rrb=void 0;c=a(66164);m=a(91176);g=a(48170);k=(function(){function d(){this.iXb=20;this.max=Number.NEGATIVE_INFINITY;this.min=Number.POSITIVE_INFINITY;this.trace=[];this.zza=[];this.count=0;}d.prototype.b4=function(f,n){this.count++;this.max < f && (this.max=f);this.min > f && (this.min=f);this.trace.length >= this.iXb && (this.trace.shift(),this.zza.shift());this.trace.push(f);this.zza.push(n);};return d;})();b.Rrb=k;r=(function(){function d(f,n){this.ca=f;this.config=n;this.console=new c.platform.Console("ASEJS","asejs|serverclock");this.vUa=new k();}Object.defineProperties(d.prototype,{Iu:{get:function(){return void 0 === this.Bn?(g.L && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),c.platform.time.now()):c.platform.time.sa() + this.Bn;},set:function(f){var n;this.tw=c.platform.time.sa();this.Yr=f;n=this.Yr - this.tw;(void 0 === this.Bn || n > this.Bn) && this.gjb(n,f);},enumerable:!1,configurable:!0}});d.prototype.gjb=function(f,n){var h;h=this.Bn;this.Bn=f;void 0 !== h && (this.neb(h),this.vUa.b4(f - h,n));g.L && this.console.debug("Updating serverTimeDelta from ",h,"ms to ",f,"ms");};d.prototype.OBa=function(f,n){var h,l;g.L && this.console.log("updateServerTimeMs: ",f,n);if(!this.config.p6 || void 0 === this.Bn || 0 > n)this.Iu=f;else {this.tw=c.platform.time.sa();this.Yr=f;h=this.Yr - this.tw;l=this.tw + this.Bn;if(l < this.Yr || l > this.Yr + n + this.config.u$)(g.L && this.console.debug("updateServerTimeDelta: ",this.Bn,h,this.Yr,l,n),this.gjb(h,f));}};Object.defineProperties(d.prototype,{Aza:{get:function(){return this.vUa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lM:{get:function(){var f;f=c.platform.time.sa();return void 0 === this.Bn?{oYa:f}:{oYa:f,Iu:f + this.Bn,tw:this.tw,Yr:this.Yr};},enumerable:!1,configurable:!0}});d.prototype.meb=function(){var f;if(void 0 !== this.tw && void 0 !== this.Yr){f=this.Bn;this.Bn=this.Yr - this.tw;g.L && this.console.debug("resync: Updating serverTimeDelta from ",f,"ms to ",this.Bn,"ms");this.neb(f);}};d.prototype.neb=function(f){this.ca.UI && ((0,m.assert)(f && this.Bn,"Unexpected simulatedLiveEdge during initial clock sync. simulatedLiveEdge should be set during pipeline normalization AFTER the initial header request and intial clock sync occurs."),this.ca.UI={AB:this.ca.UI.AB + (this.Bn - f)});};return d;})();b.fKa=r;},10943:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QMa=void 0;c=a(66164);m=a(79048);g=a(91176);r=(function(){function k(d,f){this.J=d;this.Gcc=f;this.Vv=!0;this.s5a=this.am=this.Xp=!1;this.O=("").concat(m.Tq);this.Z=this.uX=!1;this.console=new c.platform.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(k.prototype,{Iu:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return c.platform.time.now();},enumerable:!1,configurable:!0}});k.prototype.getTrackById=function(){};k.prototype.vh=function(){};k.prototype.sdb=function(){};k.prototype.rf=function(){return !0;};k.prototype.G$=function(d){var f,n;(0,g.assert)(this.GG,"Padding viewable must have fragmentDuration set when timestamp normalization is requested");f=Math.floor(d / this.GG) * this.GG;n=Math.ceil(d / this.GG) * this.GG;return Math.abs(d - f) <= Math.abs(d - n)?g.K.Na(f):g.K.Na(n);};return k;})();b.QMa=r;},66133:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cSa=void 0;r=(function(){function a(c,m){var g;this.ca=c;this.y_a=m;g=m.stream;m=m.aQb;m=m();this.identifier=("").concat(g.J,"-").concat(g.mediaType,"-").concat(g.bitrate);this.mediaType=g.mediaType;this.qf=m.qf;this.Xd=m.Xd;this.Io=m.Io;this.Ck=m.Ck;this.Uk=m.Uk;this.nI=0;this.mI=Infinity;this.Dq=this.Kz=1;this.xM=0;this.groupId=("").concat(c.J);this.Ur=!0;this.vi=this.qn=!1;}a.prototype.X8=function(){return {result:!0};};a.prototype.pH=function(){var c,m;c=this.y_a;m=c.stream;if(m.zJ(c.I))return (this.ca.y4b(m),{Qh:!0,reason:"success"});this.ca.x4b(this.y_a);return {Qh:!1,reason:"viewableTryIssueHeaderRequest"};};a.prototype.toJSON=function(){return {mediaType:this.mediaType,bu:this.bu,qf:this.qf,Xd:this.Xd,Io:this.Io,Ck:this.Ck,Uk:this.Uk,xM:this.xM,nI:this.nI,Kz:this.Kz,mI:this.mI,Dq:this.Dq,St:this.St,GP:this.GP,groupId:this.groupId,Ur:this.Ur,qn:this.qn,vi:this.vi,identifier:this.identifier};};return a;})();b.cSa=r;},24473:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.jQa=void 0;r=a(66164);c=a(69575);m=r.platform.ep;new r.platform.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function g(k,d,f){this.QX=f;this.ewb=new c.Xha(k);this.na=d.na;this.Dsb=1E3 * d.pXb / d.Pzb;this.QHb=d.Xna;this.fWa=!1;}g.prototype.Ot=function(k){var d,f,n;d={s_xid:this.na,dl:this.QHb?1:0};k.CB && (d.bs=(0,c.FL)(Math.floor(k.CB / this.Dsb) + 1,1,5));k.C$ && (d.limit_rate=k.C$);k.QWa && (d.bb_reason=k.QWa);k.Thb && (d.tm=k.Thb);k.Abb && (d.play_ms=k.Abb);if(k.Tab){f=k.Tab;n=f.oq;"HYBRID" === n?(d.hybrid=f.eN.LRb,d.cspr=f.eN.xn,d.cu=f.eN.Xla,d.cldl=f.eN.xya,d.h_ms=f.eN.qXb):"CCSP" === n && ((n=f.T8()) || !n && this.fWa) && (d.cpr_ss=f.aA,d.cpr_ca=f.xy,d.cpr_rec=f.Pz,this.fWa=n);}k.tla && (d.br="" + k.tla.start + "+" + k.tla.size);return this.Gub(d);};g.prototype.rza=function(k,d){var f,n;try{f=new m(void 0,"notification");n=this.Ot({QWa:k});d && n && f.open(d,void 0,2,void 0,void 0,void 0,n);}catch(h){this.QX("SideChannel: Error when sending sendBlackBoxNotification. Error: " + h);}};g.prototype.Gub=function(k){var d;try{d=this.Cvb(k);return this.ewb.encrypt(d);}catch(f){this.QX("SideChannel: Error when obfuscating msg. Error: " + f);}};g.prototype.Cvb=function(k){return Object.keys(k).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(k[d]));}).join("&");};return g;})();b.jQa=a;},65532:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.MNa=void 0;r=a(5163);c=a(91176);m=a(66164);g=r.__importDefault(a(14282));k=g.default.Cm;d=g.default.Zs;f=a(65161);n=a(69575);h=r.__importDefault(a(40497));a=(function(){function l(p,q,u,t,v){this.vu=p;this.$v=q;this.T=u;this.S=t;this.we=v;}l.prototype.hZb=function(p){var q;q=p.I;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{H:q.id,offset:c.K.Na(this.vu.Hma).qa(q.uc)},completePlayerStreamingTimestamp:c.K.Na(this.vu.oU),trackIndex:p.stream.track.CF};(0,n.vr)(this.$v,p.type,p);};l.prototype.jZb=function(p,q,u){var t,v,w;v=this.we;w=this.vu.So.aj(v);w.QI(p);p.mediaType !== f.u.Y && p.mediaType !== f.u.X || !this.T.Dba || (void 0 === w.uta?w.Jfb(m.platform.time.sa()):m.platform.time.sa() - w.uta > this.T.Dba && (p.bitrate !== w.T7a && (p.mediaType === f.u.X?(m.platform.storage.set("vb",p.bitrate),w.Ifb(p.bitrate)):p.mediaType === f.u.Y && (m.platform.storage.set("ab",p.bitrate),w.Ifb(p.bitrate))),w.Jfb(m.platform.time.sa())));w.p9 && w.p9 === p || (this.vu.So.Tgb(q,w.p9,p),w.r7b(p),q=0,p.ib && p.ib.confidence && p.ib.cb && (q=p.ib.cb.Aa),u={H:this.vu.Ra.I.id,offset:c.K.Na(u).qa(this.vu.Ra.I.uc)},p={type:"streamSelected",nativetime:m.platform.time.sa(),mediaType:v,streamId:p.id,trackIndex:p.track.CF,streamIndex:p.ex,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.ca) || void 0 === t?void 0:t.W},(0,n.vr)(this.$v,p.type,p));};l.prototype.eZb=function(p,q,u){var t,v,w,y;t=q.ca;v=t.jl;w=this.vu.So.aj(q.mediaType);y=t.cUb(q);t=y.ita;y=y.dUb;u && q.Ub && !w.PW?(y=d.rv,q.Po=d.name[y],this.U$a(p,q.Ub,q.Po,q.location,q.bitrate),w.PW=q.Ub):!u && q.Ub && q.Ub !== w.PW && (y=y?void 0 === w.PW?d.rv:v.LI === d.zga?d.zrb:d.dea:d.yrb,q.Po=d.name[y],this.U$a(p,q.Ub,q.Po,q.location,q.bitrate),w.PW=q.Ub);!w.zN && q.location && (y={type:"logdata",target:"startplay",fields:{}},this.we === k.Y?y.fields.alocid=q.location:this.we === k.X && (y.fields.locid=q.location),(0,n.vr)(this.$v,y.type,y));u && q.location && !w.zN?(y=d.rv,q.Po=d.name[y],this.T$a(p,q.location,q.Lta,q.Ub,q.mZ,q.Po,q.Rw),w.zN=q.location):!u && q.location && q.location !== w.zN && (y=t?void 0 === w.zN?d.rv:v.LI === d.zga?d.Uob:d.dea:d.Tob,q.Po=d.name[y],this.T$a(p,q.location,q.Lta,q.Ub,q.mZ,q.Po,q.Rw),q.Rw=void 0,w.zN=q.location);this.T.pI || (q.M7a=q.location,q.S7a=q.Ub);};l.prototype.M$=function(p){p={type:"requestsPruned",requests:p};(0,n.vr)(this.$v,p.type,p);};l.prototype.U$a=function(p,q,u,t,v){var w,y;if(this.we === k.Da)this.S.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(w={},w[f.u.Y]="audio",w[f.u.X]="video",w[f.u.Da]="subtitle",w)[this.we];w=h.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:v,confidence:w.confidence};w.confidence && (p.throughput=w.cb.Aa);this.vu.So.aj(this.we).PW && (p.oldserver=q);(0,n.vr)(this.$v,p.type,p);}};l.prototype.T$a=function(p,q,u,t,v,w,y){var x,z;if(this.we === k.Da)this.S.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[f.u.Y]="audio",x[f.u.X]="video",x[f.u.Da]="subtitle",x)[this.we];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:u,serverid:t,servername:v,selreason:w,seldetail:y};(0,n.vr)(this.$v,"locationSelected",p);}};l.prototype.zub=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,n.vr)(this.$v,p.type,p);};l.prototype.XLb=function(p){(0,n.vr)(this.$v,"transportReport",p);};l.prototype.WLb=function(p){(0,n.vr)(this.$v,"mediaRequestComplete",p);};return l;})();b.MNa=a;},59478:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x;Object.defineProperties(b,{__esModule:{value:!0}});b.KNa=void 0;c=a(5163);m=a(66164);g=a(90745);k=a(91176);d=a(65532);f=a(81392);n=a(8934);h=a(65161);l=a(65161);p=a(72805);q=a(14242);u=a(69575);t=a(52571);r=a(71808);v=a(85254);w=a(78541);y=a(42431);x=a(97757);a=(function(z){function A(B,D,C,E,G,F,I,P,M,L){var Q;Q=z.call(this,B) || this;Q.T=D;Q.ft=G;Q.jr=F;Q.Qtb=I;Q.xt=M;Q.events=new g.EventEmitter();Q.connected=!1;Q.Era=!1;Q.kt=!1;Q.rja=!1;Q.FG=new n.hMa(Q.mediaType,D,C,Q);B="[" + Q.mediaType + "]";Q.S=(0,u.Pf)(m.platform,C,B);Q.XA=Q.S.error.bind(Q.S);Q.Mm=Q.S.warn.bind(Q.S);Q.gy=Q.S.trace.bind(Q.S);Q.J3=I.v;Q.Yua=new Set();Q.ona=0;Q.Vn=new d.MNa(Q,E,Q.T,Q.S,Q.mediaType);Q.hr=new p.CPa(Q,D,Q.S,Q.Vn,Q.ft,Q.mediaType,Q.xt,function(){return Q.An;});D.Bk && (Q.Bk=new q.xQa(D.Bk,Q.S));P && (Q.Mj=L || (0,w.Cy)(Q.mediaType,Q.track.ca,Q.T,Q.S,Q.track.Z,Q.Vn.XLb.bind(Q.Vn),Q.Vn.WLb.bind(Q.Vn),function(){}),Q.Mj.on("created",function(){return Q.events.emit("requestQueueCreated");}));return Q;}c.__extends(A,z);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.jr.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.jr;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ra:{get:function(){return this.ft;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{H:{get:function(){return this.ft.I.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Qe:{get:function(){return this.hr;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ie:{get:function(){return this.jr.ie;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{o5:{get:function(){return this.hr.o5;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{lba:{get:function(){return this.hr.lba;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Tj:{get:function(){return this.J3;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{oca:{get:function(){return this.Db || this.ez;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{fk:{get:function(){return this.Qe.fk || this.oca;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{oU:{get:function(){return this.Qe.oU;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Hma:{get:function(){return this.Qe.Hma;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{FUb:{get:function(){var B;B=this.Qe.J7a;return null === B || void 0 === B?void 0:B.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vi:{get:function(){return !!this.lf && (this.Cw > this.lf.index || this.J3 >= this.lf.Ua.v);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Axb:{get:function(){return this.vi && 0 === this.Qe.OD;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hi:{get:function(){return this.vi && 0 === this.hr.y0b;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Cwa:{get:function(){var B;if(this.rja)return !0;if(!this.hi)return !1;B=this.VM();return this.rja || (this.rja=void 0 === B || B.Cwa);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Lxb:{get:function(){return !!this.Qe.J7a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vB:{get:function(){return this.Qe.vB;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Is:{get:function(){return this.Hb?k.K.max(this.Hb.qa(this.ED),k.K.Ba):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{wM:{get:function(){return this.Ra.wM;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{h8a:{get:function(){return this.aub;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{pm:{get:function(){return this.So.aj(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{cGb:{get:function(){return this.Qe.Ga.Bb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{pk:{get:function(){return this.pm.pk;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{N:{get:function(){var B,D;return null !== (D=null === (B=this.cf) || void 0 === B?void 0:B.N) && void 0 !== D?D:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{rb:{get:function(){var B;return null === (B=this.cf) || void 0 === B?void 0:B.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{yb:{get:function(){var B;return null === (B=this.lf) || void 0 === B?void 0:B.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{An:{get:function(){return this.Ra.Kd.jd(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Gra:{get:function(){return this.Qe.Gra;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{dx:{get:function(){return this.Qe.dx;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{rAa:{get:function(){return this.Qe.rAa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ez:{get:function(){return this.Qtb.add(this.Ra.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{So:{get:function(){return this.Ra.UV(this.mediaType);},enumerable:!1,configurable:!0}});A.prototype.pT=function(){var B;B=this;this.hr.pT(function(D){var C,E;E=D[0];D=null === (C=E.Ia) || void 0 === C?void 0:C.v;C=E.index;C < B.Cw && B.OI(D,C);});};A.prototype.reset=function(){this.Qe.reset();this.cf && this.OI(this.cf.Ia.v,this.cf.index);this.Mj && this.Ra.ca.oT(this.mediaType,this.Mj);};A.prototype.Lf=function(B){var D;this.kt=!0;this.hr.Lf(B);null === (D=this.So) || void 0 === D?void 0:D.aj(this.mediaType).Ma();this.Mj && (this.Ra.ca.oT(this.mediaType,this.Mj),y.iE.instance.c6(this.Mj),this.Mj.removeAllListeners(),this.Mj=void 0);};A.prototype.toJSON=function(){return {started:this.dx,startOfSequence:this.rAa,segmentId:this.H,requestedBufferLevel:this.lba,viewableId:this.ft.ca.J,hasFragments:this.Gra};};A.prototype.Jn=function(B){return this.Qe.Jn(B);};A.prototype.OI=function(B,D){this.J3=B;this.Cw=D;};A.prototype.kC=function(){return this.Qe.kC();};A.prototype.VM=function(){return this.Ra.V3a(this.mediaType);};A.prototype.JL=function(B){return (B=this.Qe.oLb(B.v))?B.complete:!1;};Object.defineProperties(A.prototype,{qf:{get:function(){return this.ft.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ED:{get:function(){var B,D;return this.Qe.ED || (null === (D=null === (B=this.cf) || void 0 === B?void 0:B.Ia) || void 0 === D?void 0:D.add(this.Ra.Kd)) || this.ez;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Wgb:{get:function(){return k.K.Na(this.J3);},enumerable:!1,configurable:!0}});A.prototype.xib=function(B,D,C){var E;(0,t.assert)(this.Mj);(0,t.assert)(!this.kt,"pipeline.tryIssueRequest on disabled pipeline");(0,t.assert)(!this.qn(),"pipeline.tryIssueRequest on done pipeline");(0,t.assert)(!this.vi);if(!B.Oh)return (B=B.zJ(this.Ra.I,this.Mj))?{Qh:B,reason:"success"}:{Qh:B,reason:"pipelineTryIssueHeaderRequest"};if(B.Z)((0,t.assert)(this.track.Z,"Unexpected live stream."),B=this.Jac(B,this.Mj,C));else {E=B.bOb();(0,t.assert)(E,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(B.Oh,", headerFragments:").concat(E));B=this.Kac(B,E,this.Mj,D,C);}this.uBb();return B;};A.prototype.rW=function(B,D){B && (this.cf=B);D && (this.lf=D);(0,t.assert)(this.cf);(0,t.assert)(this.lf);(0,t.assert)(void 0 === this.Cw);this.OI(this.cf.Ia.v,this.cf.index);};A.prototype.truncate=function(B){var D;D=this;(0,t.assert)(this.cf,"expected first fragment to exist on updateStreaming");this.lf=B;this.vi && (B=c.__read(this.hr.iwb(B),2),this.OI(B[0],B[1]),this.vi && (this.Qe.hfb(),this.Qe.NXa(),Promise.resolve(function(){D.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:D.mediaType});})));};A.prototype.Ur=function(){return this.qn()?!1:this.Df()?!0:this.track.JX;};A.prototype.Df=function(){return void 0 !== this.cf && void 0 !== this.lf;};A.prototype.qn=function(){return this.kt || this.Axb;};A.prototype.Tsa=function(){var B,D,C;C=this.T.zn;if(null === (B=this.Mj) || void 0 === B?0:B.track)C=null === (D=this.Mj) || void 0 === D?void 0:D.track.zn;return C;};Object.defineProperties(A.prototype,{lxa:{get:function(){var B;B=!0;this.T.Dya && (B=this.connected);this.T.Cya && (B=B && this.Era);return B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Kab:{get:function(){return void 0 !== this.Bk;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{iaa:{get:function(){var B;return (null === (B=this.Bk) || void 0 === B?0:B.Tv())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.ns=function(B,D){this.Vn.hZb(B);"oncomplete" === this.T.$5a && (this.Era=!0);this.ona=0;this.DG(B,D);};A.prototype.oO=function(B){var D,C;B.Ee || this.Vn.jZb(B.stream,null === (D=B.Db) || void 0 === D?void 0:D.v,null === (C=B.Ia) || void 0 === C?void 0:C.v);this.Vn.eZb(this.H,B.stream,B.Ee);this.Y6(B);};A.prototype.WH=function(B){var D,C,E,G;if(this.BTb(B)){this.Ra.ca.AH.meb();C=B.stream;E=this.ie.indexOf(C);C=C.kk().una - this.T.rVb;G=this.fk.v - this.xt.va.currentTime.v;G <= this.T.FX && this.T.hM?(this.Mm("onrequesterror: declaring missing segment ","as the buffer is dangerously low at ",G," ms"),this.pVa(B)):410 !== B.status && (null === (D=B.Ua) || void 0 === D?void 0:D.v) > C?(this.Mm("onrequesterror: 4xx error for live request, retrying the same url",B.toString()),this.bjb(B,!1)):0 < E?(this.Mm("onrequesterror: switching stream for 410 or 4xx after retries",B.toString()),this.bjb(B,!0)):this.T.hM?(this.Mm("onrequesterror: declaring missing segment after having ","retried the current stream and all lower streams"),this.pVa(B)):this.X6(B);}else this.X6(B);};A.prototype.nO=function(B){this.connected=!0;"onfirstbyte" === this.T.$5a && (this.Era=!0);this.lV(B);};A.prototype.j3a=function(B){var D,C;D=this.Qe.Ga;if(0 === D.length)return {Ga:[],paa:0,ps:0,TO:0};C=D.eV(B.v);0 > C && (C=void 0 === D.Db || B.v <= D.Db.v?0:D.length);return {Ga:D.x6b(C),paa:Math.max(0,D.IYa - C),ps:D.ps,TO:D.TO};};A.prototype.bjb=function(B,D){var C,E;C=this;if(D){if(this.T.Gta)if((D=this.ie.indexOf(B.stream),-1 === D))this.XA("reissueLiveRequest: stream not found in stream list, falling back to first stream");else if((D=this.ie[0 < D?Math.max(D - 1,0):Math.min(1,this.ie.length - 1)],B.mBb(D),!D.Oh)){E=this.fk.v;this.Ra.ca.nfb(D,this.Ra.I,function(){return {qf:C.qf,Xd:h.Yc.Gl,Io:E,Ck:E,Uk:C.xt.va.currentTime.v};});}}else this.Jn(!D);};A.prototype.pVa=function(B){this.Yua.add(B);this.ona+=1;this.aub=this.Yua.size;this.Qe.X4b(B);this.events.emit("liveMissingSegment",{type:"liveMissingSegment",H:B.index,mediaType:this.mediaType});this.T.UU && this.Cw === B.index && this.OI(B.Ua.v,this.Cw + 1);};A.prototype.TOb=function(){var B,D;(0,t.assert)(this.track.Z,"Unexpected live stream.");B=Array.from(this.Yua).reduce(function(C,E){return void 0 !== E.Th && (void 0 === (null === C || void 0 === C?void 0:C.Th) || C.Th < E.Th)?E:C;},void 0);if(B && void 0 !== B.Th){D=B.Th + 1;return B.stream.kk().yV(D).Ia;}};Object.defineProperties(A.prototype,{Aza:{get:function(){return this.track.ca.AH.Aza;},enumerable:!1,configurable:!0}});A.prototype.Kac=function(B,D,C,E,G){var F,I,P,M,L,Q;P=this.ft;M=P.ca;L=this.mediaType;Q=this.Cw;if(Q >= D.length)return (this.Mm("makeRequest nextFragmentIndex:",Q,"past fragments length:",D.length),{Qh:!1,reason:"insufficientFragments"});if(!this.cf || !this.lf)return (this.Mm("makeRequest delayed, first or last fragment not set","first:",!!this.cf,"last:",!!this.lf),{Qh:!1,reason:"noFirstOrLastFragment"});D=this.FG.i3a(B,Q,L === l.u.Y && !!this.T.Uz && this.Ra.I.mo && this.cf.Bb.v < this.T.Uz && void 0 !== this.cf.Ha,L === l.u.Y && !!this.T.Uz && this.Ra.I.Yk && this.lf.Bb.v < this.T.Uz && void 0 !== this.lf.Ha);L === l.u.Y && this.T.Uz && (this.Ra.I.mo && (D.fw?D.sfb():D.index === this.cf.index + 1 && this.cf.Bb.v < this.T.Uz && void 0 !== this.cf.Ha && D.sfb(this.cf.Ha.end - this.cf.Ha.start)),this.Ra.I.Yk && (D.fl?D.tfb():D.index === this.lf.index - 1 && this.lf.Bb.v < this.T.Uz && void 0 !== this.lf.Ha && D.tfb(this.lf.Ha.end - this.lf.Ha.start)));if(M.ny && !M.ny.hma(this.mediaType,D.ta))return {Qh:!1,reason:this.mediaType === l.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.rta=D.region;D.Cs=G;null === (F=this.Bk) || void 0 === F?void 0:F.lSb(D,B);D.fl && L === l.u.X && this.Vn.zub(P.I,D.Hb.v);this.T.IH && (D.IH=this.T.IH);D.location=B.location;D.Wc=B.Ub;D.boc=B.Po;(G=P.ca.dca) && "OPEN_CONNECT_APPLIANCE" === B.Ds && (F=this.T.lJb && this.mediaType === l.u.X && this.T.zn,D.AI=this.T.t6 || L === l.u.Y && this.T.q6 || L === l.u.X && this.T.r6?E:void 0,D.SI=G.Ot({CB:P.oo(this.mediaType),C$:this.T.fJb?this.T.C$:void 0,Thb:String(m.platform.time.sa()),Tab:E,tla:F?{start:D.offset,size:D.ta}:void 0,Abb:D.Bb.v}));m.platform.time.sa();C=this.Qe.zZa(D,C,B);if(!C.open()){this.Mm("MediaRequest.open error: " + C.xg + " native: " + C.ej);if(C.aborted)return {Qh:!1,reason:"requestAborted"};this.Mm("makeRequest caught:",C.xg);M.rf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Qh:!1,reason:"openAseMediaRequest"};}null === (I=this.Bk) || void 0 === I?void 0:I.JJb(C,D,B);this.OI(C.Ua.v,D.LX);return {Qh:!0,reason:"success"};};A.prototype.Jac=function(B,D,C){var E,G,F,I,P,M,L,Q,J;F=this.ft;I=F.ca;P=this.Cw;M=B.kk();L=M.yV(P);Q=L.Ia;L=L.Ua;if(L.v > M.una)return {Qh:!1,reason:"exceedsLiveEdge"};if(I.ny && !I.ny.hma(this.mediaType,0))return {Qh:!1,reason:this.mediaType === l.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};if((M=P === (null === (E=this.lf) || void 0 === E?void 0:E.index)) && this.mediaType === l.u.Y && (E=this.Ra.Me(l.u.X)) && E.lf)J=E.lf.Ua.v;E=P === (null === (G=this.cf) || void 0 === G?void 0:G.index);G=this.mediaType === l.u.Da?0:this.mediaType === l.u.Y && E?0:void 0;C={Th:P,index:P,rb:Q.ja,yb:L.ja,N:B.N,offset:0,ta:0,Cs:C,fw:E,fl:M,Vz:{Cd:F.I.R2a(),vN:F.I.RZ},fx:J,responseType:G};B=this.Qe.zZa(C,D,B);if(!B.open()){this.Mm("MediaRequest.open error: " + B.xg + " native: " + B.ej);if(B.aborted)return {Qh:!1,reason:"requestAborted"};this.Mm("makeRequest caught:",B.xg);I.rf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Qh:!1,reason:"openAseMediaRequest"};}this.OI(L.v,this.Cw + 1);return {Qh:!0,reason:"success"};};A.prototype.BTb=function(B){return B.stream.Z && !B.Ee && void 0 !== B.Th && (410 === B.status || 404 === B.status);};A.prototype.uBb=function(){this.vi && (this.Qe.hfb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return A=c.__decorate([x.DM],A);})(f.YD);b.KNa=a;(0,v.Fk)(r.sx,a);},74418:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.DDa=void 0;c=a(5163);r=a(90745);m=a(91176);g=a(91176);k=a(66164);d=a(48170);f=a(29358);n=a(29092);h=a(55024);l=a(63002);p=a(53693);q=a(33604);u=a(52571);t=a(54540);v=a(69575);a=(function(w){function y(){var x;x=null !== w && w.apply(this,arguments) || this;x.mUa=0;x.Aja=0;x.V2=0;x.oia=0;return x;}c.__extends(y,w);y.prototype.zya=function(x){var z,A,B,D;w.prototype.zya.call(this,x);this.mUa++;this.Aja++;this.GUa=k.platform.time.sa();this.PK || (this.PK={QCb:null === (z=x.Ua) || void 0 === z?void 0:z.v,w5:null === (A=x.Ia) || void 0 === A?void 0:A.v,index:x.index},this.f3 || (this.f3=this.PK));z=this.r3;A=!1;z && 100 > Math.abs(z.Hb.v - (null === (B=x.Db) || void 0 === B?NaN:B.v)) && (this.V2+=x.Hb.v - z.Hb.v,this.oia++,A=!0);A || (this.V2=null === (D=x.Bb) || void 0 === D?void 0:D.v,this.oia=1);this.r3=x;};y.prototype.stop=function(){w.prototype.stop.call(this);this.Aja=0;this.PK=void 0;};y.prototype.t3a=function(){var x,z,A,B,D;z=this.yt;A=z.K5;if(A){D=A.Me(this.we);D && D.Qe && (B=D.Qe.j4a());return {RM:B,currentBranch:{sId:A.I && A.I.id,cancelled:A.Qd},currentReceivedCount:z && z.aGb,totalReceivedCount:this.mUa,currentState:z && z.TZa || "Uninitialized",lastRequestPushed:this.r3 && ({contentEndPts:null === (x=this.r3.Ua) || void 0 === x?void 0:x.v,fragmentIndex:this.r3.index}),tslp:this.GUa && k.platform.time.sa() - this.GUa,cpts:this.V2,crq:this.oia,rslp:this.Aja,firstRequestSSPushed:this.PK && ({contentStartPts:this.PK.w5,fragmentIndex:this.PK.index}),firstRequestPushed:this.f3 && ({contentStartPts:this.f3.w5,fragmentIndex:this.f3.index})};}};return y;})((function(w){function y(x,z,A,B,D,C,E,G,F,I,P){var M;M=w.call(this) || this;M.mg=x;M.we=z;M.T=B;M.S=D;M.ba=C;M.Vwa=E;M.Hd=G;M.zl=F;M.bB=new g.Sq(!1);M.ZA=new g.Sq(m.K.Na(-Infinity));M.S=(0,v.Pf)(k.platform,M.S,("AsePlayerBuffer [").concat(z,"]:"));M.yt=new f.sEa(M.S,A,z);M.resume();C && E && G && (P?(M.gD=P,P.Nv(C,G,M.mg)):M.oZa(),x=new l.mHa(null === C || void 0 === C?void 0:C.Hd,m.K.Na(M.T.FX),D),M.yt.a4(x),M.T.XVa && (C=new p.NMa(null === C || void 0 === C?void 0:C.Hd,M.T.XVa,m.K.Na(M.T.Wxb),D),M.yt.a4(C)),I && (M.sUa=new q.XPa(I,M.mediaType,D),M.yt.a4(M.sUa)),d.L && M.T.$Ib && (D=new t.dKa(D),M.yt.a4(D)));M.mg.on("requestAppended",function(L){M.bB.set(!0);L.request.Hb && M.ZA.set(L.request.Hb);M.emit("requestAppended");});return M;}c.__extends(y,w);Object.defineProperties(y.prototype,{js:{get:function(){return this.bB;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{l9:{get:function(){return this.ZA;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZSb:{get:function(){return this.yt.ti;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{TI:{get:function(){return this.mg.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.oZa=function(){(0,u.assert)(this.ba && this.Vwa && this.Hd,"Player should be defined");this.gD && this.gD.Yva();this.gD=new h.cPa(this.we,this.S,this.ba,this.mg,this.ba.events,this.Vwa,this.Hd,this.zl);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.we;},enumerable:!1,configurable:!0}});y.prototype.t3a=function(){};y.prototype.resume=function(){d.L && this.S.trace("resume");this.ygb();};Object.defineProperties(y.prototype,{Eyb:{get:function(){return this.HK;},enumerable:!1,configurable:!0}});y.prototype.tZ=function(){this.mg.J$(!0);};y.prototype.reset=function(x,z){var A,B,D;void 0 === x && (x=!1);d.L && this.S.trace("AsePlayerBuffer.reset mediaTypes:",z);this.stop();this.mg.reset(x);this.bB.set(!1);this.ZA.set(m.K.Na(-Infinity));x || (this.HK=void 0,null === (A=this.gD) || void 0 === A?void 0:A.reset(),x=null === (B=this.ba) || void 0 === B?void 0:B.Kg,null === (D=this.sUa) || void 0 === D?void 0:D.g_b(x,z || x));};y.prototype.sf=function(x){void 0 === x && (x=!1);d.L && this.S.trace("restart");this.reset(x);this.ygb(!0);};y.prototype.stop=function(){d.L && this.S.trace("stop");this.yt.Igb();};y.prototype.close=function(){var x;d.L && this.S.trace("close");null === (x=this.gD) || void 0 === x?void 0:x.close();};y.prototype.Ma=function(){this.stop();this.close();};y.prototype.VX=function(){this.T.Apa && this.mg.LLb();this.mg.m6();};y.prototype.zD=function(x){this.mg.zD(x);};y.prototype.ALb=function(x){this.mg.$Yb(x);};y.prototype.ji=function(x){var z;return !(null === (z=this.gD) || void 0 === z || !z.ji(x));};y.prototype.ygb=function(x){if(!this.yt.ti || x)(this.yt.v5b(),n.AsyncIterator.c9(this.yt,this.mUb.bind(this)));};y.prototype.mUb=function(x){x.done || this.zya(x.value);};y.prototype.zya=function(x){var z,A,B,D,C,E,G,F;d.L && this.S.trace(("requestReceived: ").concat(null === (z=this.yt.K5) || void 0 === z?void 0:z.I.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ha)));this.mg.endOfStream?d.L && this.S.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.HK?(this.HK.HUb=null === (E=x.Ua) || void 0 === E?void 0:E.v,this.HK.KUb=null === (G=x.Hb) || void 0 === G?void 0:G.v,this.HK.N7a=x.Hb):this.HK={Pkc:null === (A=x.Ia) || void 0 === A?void 0:A.v,Qkc:null === (B=x.Db) || void 0 === B?void 0:B.v,HUb:null === (D=x.Ua) || void 0 === D?void 0:D.v,KUb:null === (C=x.Hb) || void 0 === C?void 0:C.v,N7a:x.Hb},x.fw && x.stream.track.am && (null === (F=this.ba) || void 0 === F || !F.zW(x.ca.J)) && this.emit("drmNeeded",{J:x.ca.J,uq:x.Db}),this.mg.Byb(x));};return y;})(r.EventEmitter));b.DDa=a;},92140:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rQa=void 0;r=(function(){function a(){this.rRb=this.E5([{x:32,y:3.3},{x:48,y:3.65},{x:64,y:4.24},{x:80,y:4.56},{x:96,y:4.67}]);this.tdc=this.E5([{x:16,y:2},{x:32,y:3.2},{x:48,y:3.6},{x:64,y:3.8},{x:80,y:4.3},{x:96,y:4.5},{x:112,y:4.6},{x:128,y:4.7},{x:144,y:4.8}]);this.hGb=this.E5([{x:48,y:2.73},{x:64,y:3.15},{x:80,y:3.39},{x:96,y:3.59},{x:128,y:4.55},{x:192,y:4.8}]);this.gGb=this.E5([{x:192,y:2.9},{x:256,y:3.4},{x:320,y:3.8},{x:384,y:4.3},{x:448,y:4.6},{x:512,y:4.75},{x:576,y:4.76},{x:640,y:4.9},{x:768,y:4.9}]);}a.hOb=function(){a.instance || (a.instance=new a());return a.instance;};a.prototype.E5=function(c){c.sort(function(m,g){return m.x - g.x;});return function(m){var g,k;if(m < c[0].x){g=(c[1].y - c[0].y) / (c[1].x - c[0].x);k=c[0].y - g * c[0].x;return g * m + k;}if(m > c[c.length - 1].x)return (g=(c[c.length - 1].y - c[c.length - 2].y) / (c[c.length - 1].x - c[c.length - 2].x),k=c[c.length - 1].y - g * c[c.length - 1].x,g * m + k);for(k=0;k < c.length - 1;k++)if(m >= c[k].x && m <= c[k + 1].x)return (g=(c[k + 1].y - c[k].y) / (c[k + 1].x - c[k].x),k=c[k].y - g * c[k].x,g * m + k);};};a.prototype.jca=function(c,m){return (-1 !== m.indexOf("xheaac")?this.tdc:-1 !== m.indexOf("heaac")?this.rRb:-1 !== m.indexOf("ddplus-2")?this.hGb:this.gGb)(c);};return a;})();b.rQa=r;},71472:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.U_=void 0;c=a(5163);m=a(52571);r=a(85254);g=a(5800);a=a(71808);k=(function(){function d(f,n){this.Va=[];this.We=void 0;this.kc=0;this.S=f;n && n.length && (Array.isArray(n)?(this.Va=n.slice(),this.lS(0,this.Va.length)):n instanceof d && (this.Va=n.Va.slice(),this.lS(0,this.Va.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Va[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$d:{get:function(){return this.Va[this.Va.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rb:{get:function(){return this.first && this.first.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yb:{get:function(){return this.$d && this.$d.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ar:{get:function(){return this.We;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ta:{get:function(){return this.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{N:{get:function(){return this.first && this.first.N;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{An:{get:function(){return this.first && this.first.An;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ga:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});d.prototype.kbc=function(f){this.kc+=f;};d.prototype.vWa=function(){var f;if(0 === this.Va.length)((0,m.assert)(void 0 === this.We),(0,m.assert)(0 === this.kc));else {(0,m.assert)(this.We instanceof g.uA);(0,m.assert)("number" === typeof this.kc);(0,m.assert)(void 0 !== this.Ar && this.Ar.rb === this.rb);f=this.Va.reduce(function(n,h,l){return 0 === l || h.rb === n?h.yb:n;},0);(0,m.assert)(this.Ar.yb === f);(0,m.assert)(this.Va.reduce(function(n,h,l){return 0 === l || h.rb === n?h.yb:n;},0) === this.Ar.yb);(0,m.assert)(this.Va.reduce(function(n,h){return n + h.ta;},0) === this.kc);}};d.prototype.get=function(f){0 > f && (f+=this.Va.length);return this.Va[f];};d.prototype.push=function(f){this.Va.push(f);this.lS(this.Va.length - 1);return this.length;};d.prototype.unshift=function(f){this.Va.unshift(f);this.lS(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Va.length)return (this.xja(this.Va.length - 1),this.Va.pop());};d.prototype.shift=function(){if(0 !== this.Va.length)return (this.xja(0),this.Va.shift());};d.prototype.splice=function(f,n){for(var h,l=[],p=2;p < arguments.length;p++)l[p - 2]=arguments[p];0 > f && (f+=this.Va.length);0 > f && (f=0);f > this.Va.length && (f=this.Va.length);if(void 0 === n || 0 > n)n=0;n=Math.min(n,this.Va.length - f);0 < n && this.xja(f,f + n);p=(h=this.Va).splice.apply(h,c.__spreadArray([f,n],c.__read(l),!1));0 < l.length && this.lS(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,n){void 0 === f && (f=0);void 0 === n && (n=this.Va.length);0 > f && (f+=this.Va.length);if(f >= this.Va.length)return new d(this.S);n > this.Va.length && (n=this.Va.length);0 > n && (n+=this.Va.length);return new d(this.S,this.Va.slice(f,n));};d.prototype.uo=function(f){if(0 === this.Va.length || f.rb >= this.yb)this.push(f);else if(f.yb <= this.rb)this.unshift(f);else {for(var n=0,h=this.Va.length - 1,l;n < h - 1;)(l=Math.floor((h + n) / 2),(0,m.assert)(l !== h && l !== n),f.rb >= this.Va[l].yb?n=l:h=l);(0,m.assert)(n !== h);(0,m.assert)(this.Va[n].yb <= f.rb && this.Va[h].rb >= f.yb);this.splice(h,0,f);}};d.prototype.remove=function(f){f=this.Va.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],n=0;n < arguments.length;n++)f[n]=arguments[n];f=f.map(function(h){return h.Va;});return new d(this.S,Array.prototype.concat.apply(this.Va,f));};d.prototype.forEach=function(f){var n;n=this;this.Va.forEach(function(h,l){return f(h,l,n);});};d.prototype.some=function(f){var n;n=this;return this.Va.some(function(h,l){return f(h,l,n);});};d.prototype.every=function(f){var n;n=this;return this.Va.every(function(h,l){return f(h,l,n);});};d.prototype.map=function(f){var n;n=this;return this.Va.map(function(h,l){return f(h,l,n);});};d.prototype.reduce=function(f,n){var h;h=this;return this.Va.reduce(function(l,p,q){return f(l,p,q,h);},n);};d.prototype.indexOf=function(f){return this.Va.indexOf(f);};d.prototype.find=function(f){var n,h;n=this;return this.Va.some(function(l,p){h=p;return f(l,p,n);})?this.Va[h]:void 0;};d.prototype.findIndex=function(f){var n,h;n=this;return this.Va.some(function(l,p){h=p;return f(l,p,n);})?h:-1;};d.prototype.filter=function(f){var n;n=this;return new d(this.S,this.Va.filter(function(h,l){return f(h,l,n);}));};d.prototype.zM=function(f){for(var n=this.Va.length - 1;0 <= n;--n)f(this.Va[n],n,this);};d.prototype.lAa=function(f){for(var n=this.Va.length - 1;0 <= n;--n)if(f(this.Va[n],n,this))return !0;return !1;};d.prototype.ipa=function(f){if(this.empty || f < this.Ia.v || f >= this.Ua.v)return -1;for(var n=0,h=this.Va.length - 1,l;h > n;){l=Math.floor((h + n) / 2);if(f >= this.Va[l].Ia.v && f < this.Va[l].Ua.v){h=l;break;}f < this.Va[l].Ua.v?h=l - 1:n=l + 1;}return h;};d.prototype.eV=function(f){if(this.empty || f < this.Db.v || f >= this.Hb.v)return -1;for(var n=0,h=this.Va.length - 1,l;h > n;){l=Math.floor((h + n) / 2);if(f >= this.Va[l].Db.v && f < this.Va[l].Hb.v){h=l;break;}f < this.Va[l].Hb.v?h=l - 1:n=l + 1;}return h;};d.prototype.x1a=function(f){f=this.eV(f);return 0 <= f?this.Va[f]:void 0;};d.prototype.lib=function(f,n){this.remove(f);n.uo(f);};d.prototype.update=function(){this.We && (this.We.Z6b(this.rb),this.lT(0));};d.prototype.lT=function(f){var n;n=this.Va[f].yb;for(f+=1;f < this.Va.length && n === this.Va[f].rb;++f)n=this.Va[f].yb;f < this.Va.length?void 0 === this.We?this.We=new g.uA(this,{yb:n}):this.We.oP(n):void 0 === this.We?this.We=new g.uA(this,{}):this.We.h5();};d.prototype.DK=function(f,n){for(var h=f;h < n;++h)this.kc+=this.Va[h].ta;void 0 === this.We || 0 === f?this.lT(0):this.We.yb === this.yb?this.lT(f - 1):this.Va[f].rb === this.We.yb && this.lT(f);};d.prototype.cy=function(f,n){var h;if(0 === f)(this.We=void 0,n < this.length && this.lT(n));else {h=this.We;h.yb > this.Va[f - 1].yb && (n < this.length?h.oP(this.Va[f - 1].yb):h.h5());}for(;f < n;++f)this.kc-=this.Va[f].ta;};d.prototype.lS=function(f,n){void 0 === n && (n=f + 1);this.DK(f,n);};d.prototype.xja=function(f,n){void 0 === n && (n=f + 1);this.cy(f,n);};return d;})();b.U_=k;(0,r.Fk)(a.sx,k);},47743:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Qda=void 0;c=a(5163);m=a(66164);a(52571);r=a(85254);g=c.__importDefault(a(14282));k=a(50468);d=a(50247);f=m.platform.ep;n=a(51440);a=(function(h){var R8;R8=2;for(;R8 !== 3;){switch(R8){case 14:return l;break;case 4:return l;break;case 2:c.__extends(l,h);l.create=function(p,q,u,t,v,w,y,x){var P2Z;P2Z=2;for(;P2Z !== 1;){switch(P2Z){case 2:return !q.Bk && t.Ha && p.mediaType === g.default.Cm.X?new n.Zda(p,u,t,v,w,q,y,x):new l(p,u,t,v,w,q,y,x);break;}}};l.prototype.toString=function(){var I5G;I5G=2;for(;I5G !== 1;){switch(I5G){case 2:var o5q="I";o5q+="D";o5q+=":";o5q+=" ";return o5q + this.ri() + ":" + k.Kq.prototype.toString.call(this);break;}}};R8=4;break;}}function l(p,q,u,t,v,w,y,x){var l2C,z;l2C=2;for(;l2C !== 7;){switch(l2C){case 2:var C7A="m";C7A+="e";C7A+="d";C7A+="i";C7A+="a";var k9m="me";k9m+="dia(";k9m+="edit)";var n4e="1SI";n4e+="YbZ";n4e+="rNJCp9";n4e;z=u.Ha?k9m:C7A;void 0 === u.responseType && (u.responseType=u.Ha || f.Af && !f.Af.Kya.vha?0:1);q=h.call(this,p,q,z,u,t,v,w,y) || this;l2C=3;break;case 3:q.Cz=!1;k.Kq.Eb(q,p,v,u,x);return q;break;}}}})(d.V_);b.Qda=a;(0,r.Fk)(k.Kq,a,!1);},50468:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Kq=void 0;c=a(5163);m=a(91176);g=a(52571);k=c.__importDefault(a(14282));d=a(95591);r=a(85254);f=a(89645);n=a(78015);h=a(5800);a=a(71808);l=(function(p){function q(u,t,v,w){var y;y=p.call(this,u,v) || this;q.Eb(y,u,t,v,w);return y;}c.__extends(q,p);q.Eb=function(u,t,v,w,y){var x;n.PJ.ssa(u,t,w);u.og=w.index;u.WA=w.rb;u.nt=w.yb;u.bwb=w.ub?w.ub:t.ub;u.Vz=w.Vz;u.I=v;u.Jqa=y;u.TSa=!!w.fw;u.rTa=!!w.fl;u.iUa=null !== (x=w.region) && void 0 !== x?x:0;u.SSa=!!w.wpa;u.qTa=!!w.ou;u.La=void 0 === w.Z6 || void 0 === w.Ipa || w.Z6 === w.rb && w.Ipa === w.yb?u:new h.uA(u,{rb:w.Z6,yb:w.Ipa});u.pub=w.Zua;u.wsb=w.yj;u.Ktb=t.g8;u.Hh=w.Ha?u.M$a(w.Ha):void 0;u.FUa=w.fx;u.KT=!1;u.cTa=!1;u.No=[];};q.CZa=function(u){for(var t=new Uint32Array(u.length),v=new Uint32Array(u.length),w=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,z,A,B=0;B < u.length;++B)(z=u[B],A=z.kc,t[B]=z.nt - z.WA,v[B]=A,w[B]=z.stream.ex,void 0 !== z.ub && null !== z.ub && (y[B]=z.ub),x+=A);return new d.zha(t,v,u.length?u[0].N:1E3,x);};Object.defineProperties(q.prototype,{$Sb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{iu:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.og;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ub:{get:function(){return this.bwb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rla:{get:function(){return 8 * this.ta / this.Bb.v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rb:{get:function(){return this.WA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yb:{get:function(){return this.nt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{An:{get:function(){var u,t;return null !== (t=null === (u=this.Jqa) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fw:{get:function(){return this.TSa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fl:{get:function(){return this.rTa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.iUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wpa:{get:function(){return this.SSa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ou:{get:function(){return this.qTa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zua:{get:function(){return this.pub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yj:{get:function(){return this.wsb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ha:{get:function(){return this.Hh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fx:{get:function(){return this.FUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rya:{get:function(){return this.Hh?this.Hh.end - this.Hh.start:this.Vt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Z6:{get:function(){return this.La.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ipa:{get:function(){return this.La.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YLb:{get:function(){return this.La.UB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{BM:{get:function(){return this.La.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jpa:{get:function(){return this.La.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vt:{get:function(){var u;u=this.YLb;(0,g.assert)(u);return u / this.stream.xa.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cra:{get:function(){return this.cTa;},enumerable:!1,configurable:!0}});q.prototype.obc=function(u,t){(0,g.assert)(u.N === this.N,"Cannot change content timestamp timescale");(0,g.assert)(t.N === this.N,"Cannot change content timestamp timescale");this.WA=u.ja;this.nt=t.ja;};q.prototype.JWb=function(){this.TSa=!0;};q.prototype.X8a=function(){this.rTa=!0;};q.prototype.B7b=function(u){this.Vz={Cd:u.R2a(),get vN() {return u.RZ;}};};q.prototype.qP=function(u){this.FUa=u;};q.prototype.y7b=function(u,t,v){this.iUa=u;this.SSa=t;this.qTa=v;};q.prototype.Fi=function(u){var t,v;void 0 === u && (u={});t=this.stream.xa.ja;v=this.Hh || ({start:0,end:this.Vt});u=this.M$a(u);this.La && this.La !== this || (this.La=new h.uA(this,this));u.start > v.start && (this.WA=this.La.rb + u.start * t);u.end < v.end && (this.nt=this.La.rb + u.end * t);this.Hh=c.__assign(c.__assign({},v),u);};q.prototype.eoa=function(u){void 0 === u && (u=1);this.Hh?this.Fi({start:this.Hh.start + u,end:this.Hh.end}):this.Fi({start:u});};q.prototype.n6=function(u){this.Hh?this.Fi({start:this.Hh.start,end:(this.Hh.end || 0) - u}):this.Fi({start:0,end:-u});};q.prototype.ki=function(){this.Ha?this.Fi({start:this.Ha.start,end:this.Ha.start}):this.Fi({start:0,end:0});};q.prototype.C7b=function(u){this.Hh || this.Fi();this.Hh.gca=u;};q.prototype.sfb=function(u){this.Hh || this.Fi();this.Hh.mo=!0;u && (this.Hh.g1a=u);};q.prototype.tfb=function(u){this.Hh || this.Fi();this.Hh.Yk=!0;u && (this.Hh.h1a=u);};q.prototype.F1a=function(u){var v;if(!(u < this.Ia.v || u >= this.Ua.v) && this.yj && this.yj.length){u=new m.K(u + 1 - this.Ia.v,1E3).Hg(this.stream.xa);for(var t=this.yj.length - 1;0 <= t;--t){v=this.yj[t];if(v.Pj <= u)return v;}return {Pj:0,Fe:this.BM.v};}};q.prototype.rLb=function(u){var v;if(!(u < this.Ia.v || u >= this.Ua.v) && this.yj && this.yj.length){u=new m.K(u + 1 - this.Ia.v,1E3).Hg(this.stream.xa);for(var t=this.yj.length - 1;0 <= t;--t){v=this.yj[t];if(v.Pj <= u)return v;}return {Pj:0,Fe:this.BM.v};}};q.prototype.v1a=function(u,t){var v,w,y;if(!(u < this.Ia.v || u >= this.Ua.v)){if(!t && this.Ktb)return {Pj:0,Fe:this.Ia.v};v=this.xa.ja;w=this.xa.N;y=Math.floor(this.UB / v);u=Math.min((t?Math.ceil:Math.floor)((m.K.l$a(u,w) - this.rb + (t?-1:1) * (w / 1E3 - 1)) / v),y);v=m.K.iBa(this.rb + u * v,w);return u === y?void 0:{Pj:u,Fe:v};}};q.prototype.pLb=function(u){return this.mediaType === k.default.Cm.X?this.F1a(u):this.v1a(u,!1);};q.prototype.lpa=function(u){return this.mediaType === k.default.Cm.X?this.rLb(u):this.v1a(u,!0);};q.prototype.D6a=function(){return 0 < this.No.length;};q.prototype.Xqa=function(){(0,g.assert)(!this.WY,"Should not get response iterator more than once");this.WY=new f.ZD(this.console);return this.WY.getIterator();};q.prototype.Oxa=function(u,t){this.WY?(this.WY.enqueue(u),t && this.WY.tG()):this.No.push(u);this.cTa=t;};q.prototype.SO=function(){this.No=[];};q.prototype.zka=function(u){this.kc+=u.ta;this.nt=u.yb;this.Hh && (this.La=new h.uA(this,{rb:this.Z6,yb:this.nt}),this.Hh.end=this.Vt);};q.prototype.Mdb=function(u){var t,v,w;t={type:"logdata",target:"endplay",fields:{}};v=this.mediaType === k.default.Cm.Y?"audioedit":"videoedit";w=this.BM.equal(this.Ia);w=[w?this.Ua.v:this.Ia.v,w?-this.Bb.v:this.Bb.v];u && w.push(u);t.fields[v]={type:"array",value:w};return t;};q.prototype.toString=function(){return ("[").concat(this.Vb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Ia.v,"-").concat(this.Ua.v,",") + ("p:").concat(this.Db.v,"-").concat(this.Hb.v,",d:").concat(this.Bb.v,"]");};q.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Vb,bitrate:this.bitrate,index:this.index,startPts:this.Ia.v,endPts:this.Ua.v,contentStartPts:this.Ia.v,contentEndPts:this.Ua.v,fragmentStartPts:this.BM.equal(this.Ia)?void 0:this.BM.v,fragmentEndPts:this.Jpa.equal(this.Ua)?void 0:this.Jpa.v,edit:this.Ha};};q.prototype.E1a=function(u){var v;if(this.yj)for(var t=0;t < this.yj.length;++t)if(this.yj[t].Pj === u)v=this.yj[t].offset;return v;};q.prototype.M$a=function(u){var t,v;t=Math.max(u.start || 0,0);v=void 0 === u.end?this.Vt:Math.min(this.Vt,Math.max(t,0 > u.end?this.Vt + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:v});};return q;})(n.PJ);b.Kq=l;(0,r.Fk)(a.sx,l);},21306:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xDa=void 0;c=a(5163);a(52571);m=a(99735);r=a(85254);g=a(71472);k=a(71808);d=a(81392);f=a(5800);a=(function(n){function h(l,p){var q,u;q=this;u=[new g.U_(l),new g.U_(l),new g.U_(l)];q=n.call(this,u,function(t){return t.complete?q.empty || t.rb <= q.xCb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.Nk=u[0];q.sj=u[1];q.kr=u[2];q.xp=0;q.$ha=0;q.S=l;q.mp=p;return q;}c.__extends(h,n);Object.defineProperties(h.prototype,{ta:{get:function(){return this.Nk.ta + this.sj.ta + this.kr.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Yac:{get:function(){return this.kr;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.sj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Nk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{A3b:{get:function(){return this.xp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{p5:{get:function(){return this.Nk.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ps:{get:function(){return this.Nk.ta + this.sj.ta - this.xp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zac:{get:function(){return this.kr.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{TO:{get:function(){return this.ta - this.xp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{first:{get:function(){return this.oMb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$d:{get:function(){return this.izb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ioa:{get:function(){return !this.Nk.empty || this.kr.empty || this.sj.empty?this.first:this.sj.rb < this.kr.rb?this.sj.first:this.kr.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{X7a:{get:function(){return this.kr.empty || this.sj.empty?this.$d:this.sj.yb < this.kr.yb?this.kr.$d:this.sj.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{P1a:{get:function(){return this.kr.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N:{get:function(){return this.first && this.first.N;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rb:{get:function(){return this.ioa && this.ioa.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yb:{get:function(){return this.X7a && this.X7a.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{An:{get:function(){return this.first && this.first.An;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xCb:{get:function(){return this.Nk.empty?this.rb:this.Nk.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wCb:{get:function(){var l;return this.Nk.empty?null === (l=this.Ia) || void 0 === l?void 0:l.v:this.Nk.Ua.v;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{GYa:{get:function(){var l;return this.Nk.empty?null === (l=this.Db) || void 0 === l?void 0:l.v:this.Nk.Hb.v;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fbb:{get:function(){var l,p;return (null === (l=this.sj.Hb) || void 0 === l?void 0:l.v) || (null === (p=this.Nk.Hb) || void 0 === p?void 0:p.v);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{OD:{get:function(){return this.kr.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fi:{get:function(){return this.sj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{IYa:{get:function(){return this.Nk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ja:{get:function(){return this.Nk.concat(this.sj);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ar:{get:function(){return this.We;},enumerable:!1,configurable:!0}});h.prototype.DK=function(l){var p;l.aborted?++this.$ha:this.xp+=l.bytesReceived || 0;if(this.empty)this.We=new f.uA(this,{});else if(l.rb !== this.yb)if(l.rb > this.We.yb)this.We.oP(this.We.yb);else if(l.rb < this.rb || l.rb === this.We.yb){p=l.yb;this.ILb(function(q,u){return q.rb - u.rb;},function(q){p=q.rb === p?q.yb:p;});p === Math.max(this.yb,l.yb)?this.We.h5():this.We.oP(p);}l.Hfb(this);};h.prototype.cy=function(l){l.aborted?--this.$ha:this.xp-=l.bytesReceived;this.empty?this.We=void 0:l.rb !== this.yb && l.yb <= this.We.yb && l.rb > this.We.rb && this.We.oP(l.rb);l.WBb();};h.prototype.update=function(){var l;this.Nk.update();this.sj.update();this.kr.update();if(this.We){l=this.map(function(u){return u;});l.sort(function(u,t){return u.rb - t.rb;});this.We.h5();for(var p=l[0].yb,q=1;q < l.length;++q){if(l[q].rb !== p){this.We.oP(p);break;}p=l[q].yb;}}};h.prototype.push=function(l){this.DK(l);return n.prototype.push.call(this,l);};h.prototype.shift=function(){var l;l=n.prototype.shift.call(this);l && this.cy(l);return l;};h.prototype.pop=function(){var l;l=n.prototype.pop.call(this);l && this.cy(l);return l;};h.prototype.unshift=function(l){this.DK(l);return n.prototype.unshift.call(this,l);};h.prototype.uo=function(l){this.DK(l);n.prototype.uo.call(this,l);};h.prototype.remove=function(l){if(!n.prototype.remove.call(this,l))return !1;this.cy(l);return !0;};h.prototype.splice=function(l,p){for(var q=[],u=2;u < arguments.length;u++)q[u - 2]=arguments[u];u=n.prototype.splice.apply(this,c.__spreadArray([l,p],c.__read(q),!1));q.forEach(this.DK.bind(this));u.forEach(this.cy.bind(this));return u;};h.prototype.Z2b=function(l){var p;p=this;this.reduce(function(q,u,t){u.aborted && !u.Cz && (l && l(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};h.prototype.ipa=function(l){return this.y1a(function(p){return p.ipa(l);});};h.prototype.eV=function(l){return this.y1a(function(p){return p.eV(l);});};h.prototype.x1a=function(l){l=this.eV(l);return -1 !== l?this.get(l):void 0;};h.prototype.x6b=function(l){var q;for(var p=[];l < this.length;){q=this.get(l);q && p.push(q);l++;}return p;};h.prototype.oO=function(l){this.move(l);this.Y6(l);};h.prototype.pO=function(l,p){this.xp+=p;this.nV(l,p);};h.prototype.ns=function(l,p){this.xp+=p;this.Yfb();this.DG(l,p);};h.prototype.aY=function(l,p,q){this.xp-=l.bytesReceived;++this.$ha;this.AM(l,p,q);};h.prototype.bY=function(l,p,q){this.sj.kbc(p - q);this.Hpa(l,p,q);};h.prototype.C_b=function(){this.Yfb();};h.prototype.Yfb=function(){for(;this.sj.first && (this.sj.first.complete || this.sj.first.Cz) && (this.Nk.empty?this.sj.first === this.ioa:this.sj.first.rb === this.Nk.yb);)this.X7b();};return h;})(m.qFa);b.xDa=a;(0,r.Fk)(d.YD,a,!1);(0,r.Fk)(k.sx,a);},83527:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Rda=void 0;c=a(5163);m=a(78015);r=(function(g){function k(d,f,n,h){var l;l=g.call(this,d,n) || this;l.Lo=void 0;k.c6a(l,d,f,n,h);return l;}c.__extends(k,g);k.c6a=function(d,f,n,h,l){m.PJ.ssa(d,f,h);d.I=n;d.ZE=h.Ph;d.cr=h.oaa;d.MSa=h.sG;d.S=l;};Object.defineProperties(k.prototype,{Ee:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ph:{get:function(){return this.ZE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oaa:{get:function(){return this.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sG:{get:function(){return this.MSa;},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Vb,bitrate:this.bitrate};};return k;})(m.PJ);b.Rda=r;},35018:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u){return {Ee:!0,Cs:{nf:l.Fb.Pn},Wc:u,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.zDa=void 0;m=a(5163);g=a(91562);k=a(91176);r=a(90745);d=a(66164);f=a(69575);n=a(85254);h=a(52571);l=a(65161);p=a(83527);a=a(50247);q=d.platform.MediaSource;a=(function(u){function t(v,w,y,x,z,A,B,D){var C,E,G;C=y.track;B=(B?"(cache)":"") + v.id + " header";E=x.offset;G=x.ta;x.oaa && (E+=x.oaa.byteLength,G-=x.oaa.byteLength);x=m.__assign(m.__assign(m.__assign({},x),c(x.Wc)),{offset:E,ta:G});w=u.call(this,v,C,B,x,z,A,w,D) || this;w.Lo=y;w.iva=0;p.Rda.c6a(w,v,A,x,D);w.gwa=x.ta;++w.iva;return w;}m.__extends(t,u);Object.defineProperties(t.prototype,{Ee:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{naa:{get:function(){return this.Wub;},enumerable:!1,configurable:!0}});t.prototype.Ce=function(){var v;if(!this.complete){v={type:"headerRequestCancelled",request:this};this.emit(v.type,v);}u.prototype.Ce.call(this);};t.prototype.mV=function(v){this.stream.Iva();u.prototype.mV.call(this,v);};t.prototype.AM=function(v,w,y){this.stream.Z$();u.prototype.AM.call(this,v,w,y);};t.prototype.ns=function(v,w){var y;y=v.response;y && this.tsb(y);(0,h.assert)(this.cr);v.SO();this.Uub()?(this.stream.Z$(),u.prototype.ns.call(this,v,w)):this.c4?(this.sKb(v.offset + v.ta,this.c4),u.prototype.ns.call(this,v,w)):u.prototype.WH.call(this,v);};t.prototype.sKb=function(v,w){this.a1a(this.ZL,this.label + " (" + this.iva + ")",c(this.Wc),{offset:v,ta:w});++this.iva;};t.prototype.Uub=function(){var v,w,y,x,z,A,B;x=this.config;z=new g.Rq(t.rYb,this.stream,this.cr,this.stream.Z?["moov"]:["sidx"],x.f0b,{foc:this.stream.track.rxa,cbb:void 0 === this.xa,qib:!q.Af || !q.Af.hCb,sBa:x.sBa,Rm:x.Rm,cQ:this.config.cQ,E5b:!0,kca:!q.Af || !q.Af.AYb,pya:this.config.pya});A=z.parse({xa:this.xa});this.gcc=x.cQ && z.iRb;if(A.Jw){(0,h.assert)(A.Ph);this.ZE=A.Ph;this.Wub=A.naa;this.MSa=!!A.BJb;void 0 === this.xa && void 0 === A.xa && this.S.error("No frame duration available for " + this.Vb);z=A.xa?new k.K(A.xa):this.xa;B=void 0;if(this.stream.mediaType === l.u.X && (null === (v=x.vO) || void 0 === v?0:v.enabled))if(null === (w=this.stream.JI) || void 0 === w?0:w.length)B=this.stream.JI;else if((v=this.stream.ds.JI,0 < (null === v || void 0 === v?void 0:v.length)))for((B=new Uint8Array(v.length),y=0);y < v.length;y++)B[y]=v[y].ub;else if(null === (y=A.ox) || void 0 === y?0:y.length)for((B=new Uint8Array(A.ox.length),y=0);y < A.ox.length;y++)B[y]=A.ox[y];this.stream.Hva(A.Ph,A.N,z,A.Ga,A.YN,A.yj,B,A.trackId);this.cr=void 0;}else this.c4=A.c4 || 0;return !!A.Jw;};t.prototype.tsb=function(v){this.cr=this.cr?(0,f.IL)(this.cr,v):v;};t.rYb=new d.platform.Console("MP4","media|asejs");return t;})(a.V_);b.zDa=a;(0,n.Fk)(p.Rda,a,!1,!1);(0,n.Fk)(r.EventEmitter,a);},33923:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.xca=b.tA=void 0;c=a(65161);m=(function(){function g(k){this.audio=k.audio;this.video=k.video;this.text=k.text;}g.prototype.z4a=function(k){switch(k){case c.u.Y:return this.audio;case c.u.X:return this.video;case c.u.Da:return this.text;}};g.prototype.mk=function(k){return this.z4a(k);};g.prototype.XV=function(k){return (k=this.z4a(k))?k.track:void 0;};Object.defineProperties(g.prototype,{Ud:{get:function(){return this.video || this.audio || this.text;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xTb:{get:function(){return void 0 !== this.video && void 0 !== this.audio;},enumerable:!1,configurable:!0}});g.prototype.T6=function(k){[this.audio,this.video,this.text].filter(function(d){return void 0 !== d;}).forEach(k);};g.prototype.Poa=function(k){return [this.audio,this.video,this.text].filter(function(d){return void 0 !== d;}).every(k);};Object.defineProperties(g.prototype,{O:{get:function(){return this.Ud.O;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.Ud.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bitrate:{get:function(){return this.zzb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zzb:{get:function(){return this.xTb?this.video.bitrate + this.audio.bitrate:this.Ud.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ov:{get:function(){var k;return null === (k=this.audio) || void 0 === k?void 0:k.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{TD:{get:function(){var k;return null === (k=this.video) || void 0 === k?void 0:k.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ub:{get:function(){var k;return null !== (k=this.Ud.ub) && void 0 !== k?k:0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cb:{get:function(){return this.Ud.cb;},set:function(k){this.Ud.cb=k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{id:{get:function(){return this.Ud.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vb:{get:function(){return this.Ud.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ga:{get:function(){return this.Ud.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hs:{get:function(){return this.Ud.hs;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{UZ:{get:function(){return this.Ud.UZ;},set:function(k){this.Ud.UZ=k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kr:{get:function(){return this.Poa(function(k){return k.Kr;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ub:{get:function(){return this.Ud.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return this.Ud.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wr:{get:function(){return this.Poa(function(k){return k.Wr;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gq:{get:function(){return this.Ud.gq;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jz:{get:function(){return this.Ud.jz;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vy:{get:function(){return this.Ud.Vy;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wd:{get:function(){return this.Ud.wd;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Fn:{set:function(k){this.T6(function(d){d.Fn=k;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{location:{get:function(){return this.Ud.location;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Uh:{get:function(){var k;k=[];this.T6(function(d){d.location && k.push(d.location);});return k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Po:{set:function(k){this.Ud.Po=k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qza:{set:function(k){this.Ud.qza=k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lN:{set:function(k){this.Ud.lN=k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qra:{set:function(k){this.Ud.Qra=k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rra:{set:function(k){this.Ud.Rra=k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ds:{get:function(){return this.Ud.ds;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{profile:{get:function(){return this.Ud.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ex:{get:function(){return this.Ud.ex;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.Ud.ca;},enumerable:!1,configurable:!0}});g.prototype.Taa=function(k){return this.Ud.Taa(k);};Object.defineProperties(g.prototype,{ib:{get:function(){return this.Ud.ib;},set:function(k){this.Ud.ib=k;},enumerable:!1,configurable:!0}});g.prototype.isEqual=function(k){return k && this.Poa(function(d){var f;f=k.mk(d.mediaType);return void 0 !== f && d.Vb === f.Vb;});};g.prototype.toString=function(){return ("").concat(this.audio?this.audio.toString():"") + ("").concat(this.video?this.video.toString():"") + ("").concat(this.text?this.text.toString():"");};return g;})();b.tA=m;b.xca=function(g){var k,d;d=(k={},k[c.u.Y]={audio:g},k[c.u.X]={video:g},k[c.u.Da]={text:g},k);return new m(d[g.mediaType]);};},11758:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Sda=void 0;c=a(5163);a(66164);m=a(52571);r=(function(g){function k(d,f,n,h,l,p,q){f=g.call(this,d,f,n,h,l,p,q) || this;f.zhb=0;(0,m.assert)(0 === n.responseType);(0,m.assert)(n.Th);f.Th=n.Th;d=d.kk();f.zhb=d.ws.v;return f;}c.__extends(k,g);return k;})(a(47743).Qda);b.Sda=r;},79459:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Uda=void 0;c=a(5163);m=a(79048);g=a(48170);r=(function(k){function d(f,n,h,l,p,q,u,t,v,w,y,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);f=k.call(this,h,v,{index:0,offset:0,ta:0,rb:p,yb:q,N:l,fw:x,fl:z,fx:y},w) || this;f.d0b=h;f.console=t;f.I=v;g.L && f.console.log(("AsePaddingRequest [").concat(f.mediaType,"], constructed ").concat(f.toString()) + (", ").concat(n.byteLength," bytes") + (", ").concat(f.Vt," samples"));f.Oxa(n,!0);return f;}c.__extends(d,k);Object.defineProperties(d.prototype,{profile:{get:function(){return this.d0b.profile;},enumerable:!1,configurable:!0}});d.prototype.abort=function(){return !1;};d.prototype.toJSON=function(){var f,n,h,l,p;return {viewableId:m.Tq,startPts:null === (f=this.Db) || void 0 === f?void 0:f.v,endPts:(null === (n=this.Db) || void 0 === n?void 0:n.v) + (null === (h=this.Bb) || void 0 === h?void 0:h.v),"contentStartTicks:":this.rb,contentEndTicks:this.yb,contentStartPts:null === (l=this.Ia) || void 0 === l?void 0:l.v,contentEndPts:null === (p=this.Ua) || void 0 === p?void 0:p.v};};d.prototype.toString=function(){return ("[padding c:").concat(this.Ia.v,"-").concat(this.Ua.v,",") + ("p:").concat(this.Db.v,"-").concat(this.Hb.v,",") + ("d:").concat(this.Ua.v - this.Ia.v,"]");};return d;})(a(50468).Kq);b.Uda=r;},81392:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YD=b.IDa=void 0;c=a(5163);r=(function(){function m(g){this.mp=g;}m.prototype.Hfb=function(g){this.mp=g;};m.prototype.WBb=function(){this.mp=void 0;};m.prototype.mV=function(g){var k,d;null === (d=null === (k=this.mp) || void 0 === k?void 0:k.cwa) || void 0 === d?void 0:d.call(k,g);};m.prototype.Y6=function(g){var k,d;null === (d=null === (k=this.mp) || void 0 === k?void 0:k.oO) || void 0 === d?void 0:d.call(k,g);};m.prototype.lV=function(g){var k,d;null === (d=null === (k=this.mp) || void 0 === k?void 0:k.nO) || void 0 === d?void 0:d.call(k,g);};m.prototype.nV=function(g,k){var d,f;null === (f=null === (d=this.mp) || void 0 === d?void 0:d.pO) || void 0 === f?void 0:f.call(d,g,k);};m.prototype.DG=function(g,k){var d,f;null === (f=null === (d=this.mp) || void 0 === d?void 0:d.ns) || void 0 === f?void 0:f.call(d,g,k);};m.prototype.X6=function(g){var k,d;null === (d=null === (k=this.mp) || void 0 === k?void 0:k.WH) || void 0 === d?void 0:d.call(k,g);};m.prototype.AM=function(g,k,d){var f,n;null === (n=null === (f=this.mp) || void 0 === f?void 0:f.aY) || void 0 === n?void 0:n.call(f,g,k,d);};m.prototype.Hpa=function(g,k,d){var f,n;null === (n=null === (f=this.mp) || void 0 === f?void 0:f.bY) || void 0 === n?void 0:n.call(f,g,k,d);};m.prototype.Y1a=function(g){var k,d;null === (d=null === (k=this.mp) || void 0 === k?void 0:k.bwa) || void 0 === d?void 0:d.call(k,g);};m.prototype.Z1a=function(g){var k,d;null === (d=null === (k=this.mp) || void 0 === k?void 0:k.dwa) || void 0 === d?void 0:d.call(k,g);};return m;})();b.IDa=r;r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);return g;})(r);b.YD=r;r.prototype.cwa=r.prototype.mV;r.prototype.oO=r.prototype.Y6;r.prototype.nO=r.prototype.lV;r.prototype.pO=r.prototype.nV;r.prototype.ns=r.prototype.DG;r.prototype.WH=r.prototype.X6;r.prototype.aY=r.prototype.AM;r.prototype.bY=r.prototype.Hpa;r.prototype.bwa=r.prototype.Y1a;r.prototype.dwa=r.prototype.Z1a;},50247:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V_=b.ym=void 0;c=a(5163);m=a(90745);g=a(91562);a(66164);r=a(85254);k=a(52571);a(1936);d=a(75539);f=a(45247);n=a(81392);a=a(78015);(function(h){h[h.TLa=0]="NOTHING_APPENDED";h[h.Y1=1]="PARTIAL";h[h.Am=2]="COMPLETE";h[h.Jk=3]="ERROR";})(b.ym || (b.ym={}));a=(function(h){function l(p,q,u,t,v,w,y,x){var z;z=h.call(this,p,t) || this;z.ZL=q;z.label=u;z.properties=t;z.I=w;z.config=y;z.console=x;z.events=new m.EventEmitter();z.Wa=d.Rg.dv;z.TE=0;z.IS=-Infinity;z.he=[];z.rba=0;z.Hfb(v);z.Wa=d.Rg.dv;z.ff=p.RV(!!t.Ee,t.Th);z.eF=p.location || t.location;z.gT=p.Ub || t.Wc;z.Th=t.Th;z.lZa(q,u,t);return z;}c.__extends(l,h);Object.defineProperties(l.prototype,{Ee:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{state:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{faa:{get:function(){return this.Wa >= d.Rg.OPENED && this.Wa < d.Rg.Am;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.Wa >= d.Rg.tQ && this.Wa < d.Rg.Am;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$xa:{get:function(){return this.Wa === d.Rg.Fl;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Wa === d.Rg.Am;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aborted:{get:function(){return this.Wa === d.Rg.Ns;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{En:{get:function(){return void 0 !== this.kB;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{url:{get:function(){return this.ff;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{status:{get:function(){var p;return (null === (p=this.yN) || void 0 === p?void 0:p.status) || this.he[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xg:{get:function(){var p;return null === (p=this.yN) || void 0 === p?void 0:p.xg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cC:{get:function(){var p;return null === (p=this.yN) || void 0 === p?void 0:p.cC;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ej:{get:function(){var p;return null === (p=this.yN) || void 0 === p?void 0:p.ej;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bytesReceived:{get:function(){return this.TE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{th:{get:function(){return this.IS;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{location:{get:function(){return this.eF;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Wc:{get:function(){return this.gT;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{egb:{get:function(){return this.properties.SI;},enumerable:!1,configurable:!0}});l.prototype.Lza=function(p,q){this.eF=p;this.gT=q;};l.prototype.QBa=function(p){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.ca;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Vb,"mediaRequest:",this,"stream:",q),1);t=q.RV(this.Ee,this.Th);if(this.url !== t || p)if((u.Lza(this,q.location,q.Ub),!this.LP(t)))return (this.console.warn("swapUrl failed: ",this.cC),2);return 0;};l.prototype.mBb=function(p){(0,k.assert)(0 >= this.ta,"AseRequest.changeStream is only supported for open range requests");(0,k.assert)(1 <= this.he.length && void 0 !== this.he[0].xg,"AseRequest.changeStream only supported when open range request has failed");(0,k.assert)(this.stream.track === p.track,"AseStream.changeStream cannot change stream to a different track");this.E7b(p);this.QBa();};l.prototype.zib=function(){var u;for(var p,q;this.rba < this.he.length && (q=this.he[this.rba]).response;){++this.rba;u=!this.En && this.rba === this.he.length;null === (p=this.Oxa) || void 0 === p?void 0:p.call(this,q.response,u);q.SO();}};l.prototype.lZa=function(p,q,u){var t,v;if(0 < u.ta)u.IH && u.ta > u.IH?this.e3b(p,q,u,u.IH,u):this.rI(p,q,u,u);else if(this.Nwa())this.rI(p,q,u,u);else {t=u.offset;v=this.mediaType === f.u.Da?this.config.FVb:this.config.uVb;this.config.b_a && (u=c.__assign(c.__assign({},u),{responseType:0}));this.rI(p,q,u,{offset:t,ta:v});}};l.prototype.e3b=function(p,q,u,t,v){var w,y;t=Math.ceil(v.ta / t);w=v.offset;for(v=v.ta;0 < v;--t){y=Math.ceil(v / t);this.rI(p,q,u,{offset:w,ta:y});w+=y;v-=y;}};l.prototype.Nwa=function(){return !!this.ZL.nhb;};l.prototype.rI=function(p,q,u,t){p=new d.bMa(this.stream,this.ff,p,q,u,t,this,this.I,this.config,this.console);this.he.push(p);this.state >= d.Rg.OPENED && (p.open(),this.state >= d.Rg.Am && (this.Wa=d.Rg.OPENED,this.mV(this)));};l.prototype.ys=function(p){var q;q=this.he.indexOf(p);-1 !== q && (this.he.splice(q,1),0 < this.kc && ((0,k.assert)(this.kc >= p.ta),this.kc-=p.ta));};l.prototype.a1a=function(p,q,u,t){this.rI(p,q,u,t);this.kc+=t.ta;};l.prototype.open=function(){var p;null === (p=this.dja) || void 0 === p?void 0:p.j_b();if(p=this.he.every(function(q){return q.open();}))(this.Wa=d.Rg.OPENED,this.mV(this));return p;};l.prototype.resume=function(){var p;(0,k.assert)(void 0 !== this.kB,"invalid attempt to resume request hat is not stalled");p=this.yib(this.kB.offset,this.kB.ta);p && (this.kB=void 0);return p;};l.prototype.abort=function(){var p,q;p=this.active;q=this.faa;this.Wa=d.Rg.Ns;this.he.forEach(function(u){return u.abort();});this.kB=void 0;this.AM(this,p,q);return !0;};l.prototype.Ce=function(){this.he.forEach(function(p){return p.Ce();});this.kB=void 0;};l.prototype.LP=function(p){this.ff=p;return this.he.map(function(q){return q.LP(p);}).some(function(q){return q;});};l.prototype.HPb=function(){(0,k.assert)(0 < this.he.length);return this.he[0].response;};l.prototype.getResponseHeader=function(p,q){var u;u=null;this.he.some(function(t){return !!(u=t.getResponseHeader(p,q));});return u;};l.prototype.getAllResponseHeaders=function(p){var q;q=null;this.he.some(function(u){return !!(q=u.getAllResponseHeaders(p));});return q;};l.prototype.ri=function(){return 1 === this.he.length?this.he[0].ri():"(" + this.he.map(function(p){return p.ri();}).join(", ") + ")";};l.prototype.n4a=function(){return this.he[0].ri();};l.prototype.cwa=function(){};l.prototype.oO=function(p){var q;this.state > d.Rg.OPENED || (this.Wa=d.Rg.tQ,this.IS=Math.max(this.IS,p.th),null === (q=this.dja) || void 0 === q?void 0:q.d_b(),this.Y6(this));};l.prototype.nO=function(p){var q,u,t,v;if(0 >= this.ta && !this.Nwa()){u=p.nNb();if(void 0 === u)this.IQb(p);else {t=this.offset + p.ta;v=u - t;0 < v && !this.yib(t,v) && (this.kB={offset:t,ta:v,qU:u},this.Z1a(this));}}this.state <= d.Rg.tQ && (this.awa(p,0),this.Wa=d.Rg.Fl,null === (q=this.dja) || void 0 === q?void 0:q.ZZb(),this.zib(),this.lV(this));void 0 !== u && this.bY(p,u,this.ta);};l.prototype.dwa=function(){(0,k.assert)(!1);};l.prototype.yib=function(p,q){var u;u=this.stream.ca;if(u.ny && !u.ny.hma(this.mediaType,q))return !1;this.rI(this.he[0].ZL,this.label,this.properties,{offset:p,ta:q});return !0;};l.prototype.IQb=function(p){this.VYa=(this.VYa || 0) + 1;1 >= this.VYa && (this.ys(p),p.abort(),this.kB=void 0,this.lZa(p.ZL,this.label,this.properties));};l.prototype.pO=function(p,q){this.awa(p,q);this.nV(this,q);};l.prototype.ns=function(p,q){var u,t,v,w,y;if(!(this.state > d.Rg.Fl)){if(this.config.b_a && this.mediaType !== f.u.Da && this.$Sb && p === this.he[0] && p.response instanceof ArrayBuffer){t=g.jK.d1a(new DataView(p.response));if(t){v=t.nBa;w=t.M1a;t=t.Rya;if(void 0 === w || void 0 === t)(w=void 0 === w?this.mediaType === f.u.X?this.stream.xa.jd(this.lq).ja:0:0,w=new f.K(v + w,this.stream.lq));else {t=this.stream.xa.hm(t);w=new f.K(v + w,this.stream.lq);y=this.Bb;!t.equal(this.Bb) && this.console.error("fragment times mismatch:",("decode ").concat(v),("presentation ").concat(w.ob()),("duration ").concat(t.ob()),("expected ").concat(y.ob()));}}}this.awa(p,q);this.zib();this.he.every(function(x){return x.complete;}) && !this.En?(this.Wa=d.Rg.Am,null === (u=this.dja) || void 0 === u?void 0:u.hO(),this.DG(this,q),this.Ce()):this.nV(this,q);}};l.prototype.bwa=function(){this.Y1a(this);};l.prototype.WH=function(p){var q;this.console.warn("AseRequest.onrequesterror:",this.toString(),"sub request:",p.toString());q=p.status;(416 === q || 206 === q) && 0 >= this.ta && !this.Nwa()?(p.abort(),p.Ce(),this.ys(p),this.rI(p.ZL,this.label,this.properties,{offset:p.offset,ta:Math.max(Math.ceil(p.ta / 2),1)})):(this.yN=p,this.X6(this));};l.prototype.aY=function(){var p,q;if(this.state !== d.Rg.Ns){this.console.warn("AseRequest.onrequestaborted:",this.toString());p=this.active;q=this.faa;this.Wa=d.Rg.Ns;this.AM(this,p,q);}};l.prototype.bY=function(p,q,u){this.kc+=q - u;p={type:"updatedBytes",w$a:q,gwa:u};this.events.emit(p.type,p);this.Hpa(this,q,u);};l.prototype.awa=function(p,q){this.yN === p && (this.yN=void 0);this.IS=Math.max(this.IS,p.th);this.TE+=q;};l.prototype.toString=function(){return "ID: " + this.ri();};return l;})(a.PJ);b.V_=a;(0,r.Fk)(n.IDa,a,!1);},11031:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Yda=void 0;c=a(5163);m=a(91176);g=a(6198);k=a(89613);d=a(52571);f=a(92140);n=a(50468);r=(function(){function h(l,p,q){var u,t,v;this.T=p;this.S=q;this.$Ta=m.K.Ba;this.jr=l.track;this.H3=l.ex;this.ds=l.ds;this.Stb=this.mediaType !== g.u.Da?this.lX.si:!1;this.Jvb=l.C$b;this.Va=void 0;this.ZE=l.Ph;p=l.gq;this.gq=void 0 === p?!0:p;this.f6=l.f6;this.QK=void 0;this.ATa=this.kia=0;this.url=this.mZ=this.Ub=this.Po=this.Lta=this.location=this.cb=this.ib=void 0;this.Vy=!1;this.ita=this.Zd=void 0;this.oS=new Set();l=this.T;!this.Z && (p=l && "object" === typeof l.Saa && l.Saa[this.profile],"object" === typeof p && (p=p[this.bitrate])) && (this.$Ta=new m.K(p.ticks,p.timescale));this.yub=0 <= (null === (u=l.tWa) || void 0 === u?void 0:u.indexOf(this.profile));if((null === (t=l.vO) || void 0 === t?0:t.Akc) && this.mediaType === g.u.X && (u=this.ds,0 < (null === (v=u.JI) || void 0 === v?void 0:v.length))){v=u.JI.splice(0,u.JI.length);u=new Uint8Array(v.length);for(t=0;t < v.length;t++)u[t]=v[t].ub;this.JI=u;}}Object.defineProperties(h.prototype,{Oh:{get:function(){return this.Z?!!this.ZE:!!this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{E6a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ca:{get:function(){return this.jr.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{J:{get:function(){return this.ca.J;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{O:{get:function(){return this.jr.O;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.jr.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xa:{get:function(){return this.jr.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N:{get:function(){return this.jr.N;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lq:{get:function(){return this.jr.lq;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{trackId:{get:function(){return this.jr.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{track:{get:function(){return this.jr;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lX:{get:function(){if(this.mediaType !== g.u.Da)return this.ds;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ex:{get:function(){return this.H3;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vb:{get:function(){var l;return this.mediaType === g.u.Da?null !== (l=this.Jvb) && void 0 !== l?l:"":this.lX.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{id:{get:function(){return this.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{si:{get:function(){return this.Stb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Z:{get:function(){return this.track.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bitrate:{get:function(){return this.mediaType === g.u.Da?0:this.lX.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ub:{get:function(){var l;if(this.z6)return this.z6;if(this.mediaType === g.u.X)return null !== (l=this.ds.vmaf) && void 0 !== l?l:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jca:{get:function(){return this.mediaType !== g.u.Y?f.rQa.hOb().jca(this.bitrate,this.profile):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{m5b:{get:function(){if(this.mediaType === g.u.X)return this.ds.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{VY:{get:function(){if(this.mediaType === g.u.X)return this.ds.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{profile:{get:function(){return this.mediaType === g.u.Da?"timedtext":this.lX.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wd:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ak:{get:function(){if(this.mediaType === g.u.X)return this.ds.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rf:{get:function(){return this.$Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ws:{get:function(){return this.Z?this.kk().ws:m.K.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{O6:{get:function(){return this.track.O6;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{g8:{get:function(){return this.yub;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ga:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hs:{get:function(){return this.Va && this.Va.hs;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Kr:{get:function(){return void 0 !== this.QK?this.QK:this.WTb();},set:function(l){this.QK=l;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Wr:{get:function(){return this.gq && !this.Vy;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jz:{get:function(){return this.Wr && !1 !== this.Kr;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ph:{get:function(){return this.ZE;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lTb:{get:function(){return this.mediaType === g.u.Y || this.mediaType === g.u.X && (-1 !== this.wd.indexOf("h264bpl") || -1 !== this.wd.indexOf("h264mpl") || -1 !== this.wd.indexOf("hevc") && -1 === this.wd.indexOf("do"));},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cTb:{get:function(){(0,d.assert)(!!this.Ga,"Initial header should have been received already");return this.ca.Esa() && -1 < this.wd.indexOf("h264mpl") && void 0 === this.Ga.yka;},enumerable:!1,configurable:!0}});h.prototype.PG=function(){return this.ca.PG(this.mediaType,this.Vb);};h.prototype.bOb=function(){var l;l=this.PG();return l && l.stream.Ga;};h.prototype.zJ=function(l,p){return this.ca.zJ(this,l,p);};h.prototype.Iva=function(){this.track.Iva();};h.prototype.Z$=function(){this.track.Z$();};h.prototype.Hva=function(l,p,q,u,t,v,w,y){this.Z || u && void 0 !== u.Fs && (this.track.Oh || void 0 !== u.jf && u.jf.length) && void 0 !== u.offset && void 0 !== u.sizes && u.sizes.length?(!this.Z && this.T.Rm && this.Rf && 0 === u.Fs && (u.Fs+=this.Rf.jd(u.N).ja),this.Oh || (this.ZE=l,this.track.Hva(this,p,q,u,v,y),this.Z || (this.Va=new k.JQa(this.H3,this.track.In,u,t,v,w,this.O)),this.track.a_b(this))):this.Z || (u?this.S.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== u.Fs) + "," + this.track.Oh + "," + this.track.rxa + "," + (void 0 !== u.jf) + "," + !(!u.jf || !u.jf.length) + "," + (void 0 !== u.offset) + "," + (void 0 !== u.sizes) + "," + !(!u.sizes || !u.sizes.length)):this.S.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};h.prototype.ZCb=function(l){this.Oh || (this.track.$Cb(l.track),this.Va=l.Ga,this.ZE=l.Ph);};h.prototype.po=function(l){return new n.Kq(this,void 0,this.Ga.get(l));};h.prototype.a3a=function(l){var p;p=this.po(l.index);l.Ha && (p.Fi(l.Ha),p.qP(l.fx));return p;};h.prototype.lbc=function(l,p){this.kia=l;this.ATa=p;};h.prototype.ZBb=function(){this.cb=this.ib=this.Ub=this.location=this.url=void 0;};h.prototype.hn=function(){switch(this.mediaType){case g.u.Y:return this.MMb();case g.u.X:return this.xQb();case g.u.Da:return this.fQb();default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};h.prototype.RV=function(l,p,q){var u,t,v;return this.Z?(q=null === (u=q || this.url) || void 0 === u?void 0:u.split("?"),u=null !== (t=null === q || void 0 === q?void 0:q[0]) && void 0 !== t?t:"",t=null !== (v=null === q || void 0 === q?void 0:q[1]) && void 0 !== v?v:"",l?l=this.kk().CSb:(void 0 === p && this.S.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== p,"liveSegmentId is required for live media requests"),l=this.kk().media.replace("$Number$",p.toString())),this.ca.UI && (p=this.kk(),v=p.Bb,t+=(t?"&":"") + "flp=" + encodeURIComponent(("ast,").concat(p.AB,",startSegment,").concat(p.AP,",duration,").concat(v.ja,",timeScale,").concat(v.N))),u + "/" + l + (t?"?" + t:"")):q || this.url;};h.prototype.kk=function(l){var p,q,u,t,v,w;p=this;(0,d.assert)(this.Z && this.ca.W.Sh,"liveMetadata missing from manifest");q=this.ca.W.Sh;q=q.Nba[q.$na[this.Vb]];l=!l && this.ca.UI?this.ca.UI.AB:new Date(q.H4).getTime();u=Math.max(0,this.ca.Iu - l - this.T.YW);t=Number(q.AP);v=new m.K(Number(q.e2b),q.N);w=new m.K(q.duration,q.N);return c.__assign(c.__assign({},q),{AB:l,una:u,AP:t,ws:v,Bb:w,yV:function(y){var x,z,A,B;x=w.jd(p.N);if(p.T.x9 && p.mediaType === g.u.Y){z=p.O6.jd(p.N);A=p.xa.jd(p.lq);B=Math.ceil(x.hm(y - t).qa(z).Hg(A));x=Math.ceil(x.hm(y - t + 1).qa(z).Hg(A));B=A.hm(B).add(z).jd(p.N);z=A.hm(x).add(z).jd(p.N);}else (B=x.hm(y - t),z=B.add(x));return {Ia:B,Ua:z};}});};h.prototype.Taa=function(l){return !this.oS.has(l);};h.prototype.Hwb=function(l){this.oS.has(l)?this.S.trace("segment already blocked: " + l):(this.S.trace("addBlockedLiveSegment: " + l),this.oS.add(l));};h.prototype.u4b=function(l){this.oS.has(l) && (this.S.trace("removeBlockedSegment: " + l),this.oS.delete(l));};h.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,streamId:this.Vb,bitrate:this.bitrate,streamIndex:this.ex,isAvailable:this.gq,fittable:this.Kr,vmaf:this.ub,resolutionWidth:this.m5b,resolutionHeight:this.VY};};h.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Vb + ":" + this.bitrate;};h.prototype.WTb=function(){var l,p,q,u,t,v,w;if(!this.Oh)return !0;if(this.track.Pra >= this.bitrate)return this.QK=!0;if(this.track.G8a <= this.bitrate)return this.QK=!1;(w=this.Z?this.T.Z9 * this.bitrate / 8 * (this.T.Az + (null !== (p=null === (l=this.ca) || void 0 === l?void 0:l.WI.v) && void 0 !== p?p:0)) < this.kia:this.Va.zAb(this.T.Az,this.kia,null !== (u=null === (q=this.ca) || void 0 === q?void 0:q.WI.v) && void 0 !== u?u:0,null !== (v=null === (t=this.ca) || void 0 === t?void 0:t.WI.ta) && void 0 !== v?v:0,this.ATa))?this.track.rxa && !this.si && this.track.am || (this.track.Pra=this.bitrate):this.track.G8a=this.bitrate;return this.QK=w;};h.prototype.xQb=function(){return c.__assign(c.__assign({},this.track.hn()),{profile:this.wd});};h.prototype.MMb=function(){return c.__assign(c.__assign({},this.track.hn()),{profile:this.wd,bitrate:this.bitrate});};h.prototype.fQb=function(){return c.__assign(c.__assign({},this.track.hn()),{profile:this.wd});};return h;})();b.Yda=r;},78015:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.PJ=void 0;a(52571);r=(function(){function c(m,g){c.ssa(this,m,g);}c.ssa=function(m,g,k){m.Od=g;m.kc=k.ta;m.$b=k.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Od;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ta:{get:function(){return this.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.$b;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.Od.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Od.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Od.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Vb:{get:function(){return this.Od.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Od.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Od.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{N:{get:function(){return this.Od.N;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{lq:{get:function(){return this.Od.lq;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{xa:{get:function(){return this.Od.xa;},enumerable:!1,configurable:!0}});c.prototype.E7b=function(m){this.Od=m;};return c;})();b.PJ=r;},5800:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uA=void 0;r=a(85254);a=a(71808);c=(function(){function m(g,k){this.er=g;this.WA=k.rb;this.nt=k.yb;}Object.defineProperties(m.prototype,{rb:{get:function(){return void 0 !== this.WA?this.WA:this.er.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yb:{get:function(){return void 0 !== this.nt?this.nt:this.er.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{N:{get:function(){return this.er.N;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{An:{get:function(){return this.er.An;},enumerable:!1,configurable:!0}});m.prototype.Z6b=function(g){this.WA=g;};m.prototype.oP=function(g){this.nt=g;};m.prototype.h5=function(){this.nt=void 0;};return m;})();b.uA=c;(0,r.Fk)(a.sx,c);},71808:function(r,b,a){var g;function c(k,d){return void 0 === k?void 0:0 === k?g.K.Ba:new g.K(k,d);}function m(k,d){return void 0 === k || void 0 === d?void 0:k + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.sx=void 0;g=a(91176);r=(function(){function k(){}Object.defineProperties(k.prototype,{UB:{get:function(){var d,f;d=this.yb;f=this.rb;return (void 0 === d || void 0 === f?void 0:d - f) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{m1b:{get:function(){return m(this.rb,this.An);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{i1b:{get:function(){return m(this.yb,this.An);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bb:{get:function(){return c(this.UB,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ia:{get:function(){return c(this.rb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ua:{get:function(){return c(this.yb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Db:{get:function(){return c(this.m1b,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hb:{get:function(){return c(this.i1b,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ixa:{get:function(){return c(this.An,this.N);},enumerable:!1,configurable:!0}});return k;})();b.sx=r;},26279:function(r,b,a){var c,m,g,k,d,f,n,h,l,p;Object.defineProperties(b,{__esModule:{value:!0}});b.QJ=void 0;c=a(5163);m=a(91176);g=a(6198);k=a(82149);d=a(52571);f=a(69575);n=a(65077);h=a(444);l=a(52629);p=a(11031);r=(function(){function q(u,t,v){this.T=t;this.S=v;this.zv=new f.kQa();this.x3=0;this.Do=u.Do;this.ca=u.ca;this.mediaType=u.mediaType;this.xJ=u.xJ;this.CF=u.CF;this.xTa=u.EN;this.mediaType === g.u.X?(t=this.Do,v=c.__read(t.streams,1)[0],this.uvb=new l.BK({w:t.maxWidth,Rr:t.maxHeight},{w:t.vbb,Rr:t.wbb}),void 0 !== v.framerate_value && void 0 !== v.framerate_scale && (this.Kia=h.RA.from({tu:v.framerate_value,Dr:v.framerate_scale}),this.gja=this.Kia.xa()),void 0 !== t.Bua && void 0 !== t.Aua && (this.fub=h.RA.from({tu:t.Bua,Dr:t.Aua}))):this.mediaType === g.u.Y && (this.Gsb=this.Do.streams[0].channels,this.wvb=48E3);this.mb=(this.RK=this.gja) && this.RK.N;this.mediaType === g.u.Da && (this.mb=1E3);this.Pia=this.WTa=!1;this.Pra=-Infinity;this.G8a=Infinity;u=q.Usb(this,u.Xp);t=u.maxBitrate;v=u.ie;this.am=u.am;this.maxBitrate=t;this.ie=v;this.Ivb=v.reduce(function(w,y){w[y.Vb]=y;return w;},{});!1;}q.Usb=function(u,t){var v,w,y,x,z,A,B,D;v=u.T;w=u.mediaType === g.u.X;y=!1;x=0;z=[];if(u.mediaType === g.u.Y || u.mediaType === g.u.X){A=u.Do;B=A.streams.some(function(C){return C.si;});A.streams.forEach(function(C,E){var G,F,I;G=C.bitrate;F=!0;if(w){I=C.si;F=t?!0:I === B;y=y || I;}F && G > x && (x=G);C=new p.Yda({ds:C,ex:E,track:u,gq:F},v,u.S);z.push(C);});}else if(u.mediaType === g.u.Da){D=u.Do;A=D.downloadableIds["imsc1.1"];if(D=D.ttDownloadables["imsc1.1"])(A=new p.Yda({ds:D,ex:0,track:u,gq:!0,C$b:A,Ph:[]},v,u.S),z.push(A),u.zv.set(A));}return {am:y,maxBitrate:x,ie:z};};Object.defineProperties(q.prototype,{JX:{get:function(){return !this.Oh && 0 === this.x3;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Oh:{get:function(){var u;return this.mediaType === g.u.Da?!0:this.Z?!(null === (u=this.zv.value) || void 0 === u || !u.Oh):!!this.In && !!this.zv.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rxa:{get:function(){return this.WTa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return String(this.ca.O);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === g.u.Da?this.Do.id:this.Do.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Go:{get:function(){return this.tub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xa:{get:function(){return this.RK;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.Kia;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{P9:{get:function(){return this.fub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vk:{get:function(){return this.uvb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Gsb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.wvb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === g.u.Da?this.Do.rawTrackType:this.Do.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YI:{get:function(){return this.mediaType === g.u.Da?this.Do.rawTrackType:this.Do.YI;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{N:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lq:{get:function(){return this.rub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{In:{get:function(){return this.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fu:{get:function(){return this.zv.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{upa:{get:function(){return this.zv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uX:{get:function(){return this.ie.some(function(u){var t;return 1 < ((null === (t=u.Ph) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Z:{get:function(){return this.ca.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{EN:{get:function(){return this.xTa;},set:function(u){this.xTa=u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O6:{get:function(){return this.utb || m.K.Ba;},set:function(u){this.utb=u;},enumerable:!1,configurable:!0}});q.prototype.mk=function(u){return this.YG()[u];};q.prototype.YG=function(){return this.Ivb;};q.prototype.equals=function(u){return !!u && this.O === u.O && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.Iva=function(){this.x3++;};q.prototype.Z$=function(){0 < this.x3 && this.x3--;};q.prototype.Hva=function(u,t,v,w,y,x){if(this.Z || w && void 0 !== w.Fs && (this.Oh || void 0 !== w.jf && w.jf.length)){if(u.si || !u.track.am)this.WTa=!0;if(this.Oh)!this.Pia && !this.Z && w.jf && w.jf.length > this.In.length && (this.Nc=new k.Mha(this.mediaType,this.xa,w,y),this.zv.feb(),this.Pra=-Infinity,this.Pia=!0);else {this.xUa(t);this.tub=x;void 0 !== v && this.mediaType === g.u.X && this.T.X5b && (v=h.RA.e2a(v).xa());if(v=v || this.gja)(this.wUa(v || this.gja),void 0 === this.N && this.yUa(v.N));this.Z || (this.Nc=new k.Mha(this.mediaType,this.xa,w,y));if(u.si || !u.track.am)this.Pia=!0;}}else this.Z || this.S && this.S.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.a_b=function(u){void 0 === this.zv.value && this.zv.set(u);};q.prototype.$Cb=function(u){this.Oh || (this.yUa(u.N),this.xUa(u.lq),this.wUa(u.xa),this.Nc=u.In,u.upa.value?this.zv.set(u.upa.value):this.zv.feb());};q.prototype.YZb=function(u){var t,v;t=u.nBa;u=u.M1a;if(this.mediaType !== g.u.Y || void 0 === u)return !1;v=this.ca.GVb().jd(this.lq);t=new m.K(t + u,this.lq).qa(v);u=Math.floor(t.Hg(this.xa));this.O6=t.qa(this.xa.hm(u));return !0;};q.prototype.Jr=function(u,t,v,w){var y;(0,d.assert)(this.fu);y=this.fu;return (0,n.Jr)(this.mediaType,u,y,t,v,w);};q.prototype.dC=function(u,t,v){var w;(0,d.assert)(this.fu);w=this.fu;return (0,n.dC)(this.mediaType,u,w,t,v);};q.prototype.hn=function(){switch(this.mediaType){case g.u.Y:return ((0,d.assert)(this.mediaType === g.u.Y),(0,d.assert)(void 0 !== this.channels),(0,d.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,YI:this.YI,bitrate:this.ie[this.ie.length - 1].bitrate,sampleRate:this.sampleRate,Go:this.Go});case g.u.X:return ((0,d.assert)(this.mediaType === g.u.X),(0,d.assert)(void 0 !== this.P9),(0,d.assert)(void 0 !== this.vk),{J:this.ca.J,am:this.am,profile:this.profile,Ykc:this.P9.tu,Xkc:this.P9.Dr,YI:this.YI,vk:this.vk,maxWidth:this.vk.vk.w,maxHeight:this.vk.vk.Rr,vbb:this.vk.Wab.w,wbb:this.vk.Wab.Rr,Go:this.Go});case g.u.Da:return ((0,d.assert)(this.mediaType === g.u.Da),{profile:this.profile,YI:this.YI});default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};q.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.GV=function(){(0,d.assert)(this.Z,"Unexpected call to getLiveAvailabilityStartTime. Not a live track.");return (this.fu || this.ie[0]).kk(!0).AB;};q.prototype.Ry=function(){(0,d.assert)(this.Z,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return m.K.Na(Math.max(0,this.P2a() - this.T.HC));};q.prototype.A3a=function(u){(0,d.assert)(this.Z,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.P2a() - u.v > 1E3 * this.ca.jl.HVb?"DVR":"LIVE";};q.prototype.xOb=function(){(0,d.assert)(this.Z,"Unexpected call to getLiveVideoPresentationTimeOffset. Not a live track.");return (this.fu || this.ie[0]).kk().ws;};q.prototype.P2a=function(){(0,d.assert)(this.Z,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (this.fu || this.ie[0]).kk().una;};q.prototype.yUa=function(u){this.mb=u;};q.prototype.xUa=function(u){this.rub=u;};q.prototype.wUa=function(u){new h.RA(u.N,u.ja).xa();this.RK=u;this.mediaType === g.u.X && (this.Kia=h.RA.e2a(u));};return q;})();b.QJ=r;},51440:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Zda=void 0;c=a(5163);a(91562);a(66164);a(52571);r=a(85254);m=a(50468);a=(function(g){function k(d,f,n,h,l,p,q,u){var t;t=c.__assign(c.__assign({},n),{offset:n.offset,ta:n.Zua + 8,IH:void 0,responseType:0});h=g.call(this,d,f,"moof",t,h,l,p,q) || this;h.Cz=!1;m.Kq.Eb(h,d,l,n,u);h.rXb=h.CAb(n,t.ta);h.a1a(f,"mdat",n,h.rXb);return h;}c.__extends(k,g);k.prototype.CAb=function(d,f){var n;f={offset:d.offset + f,ta:d.ta - f};if(this.Ha){if(0 < this.Ha.start){n=this.E1a(this.Ha.start);n && (f.offset=d.offset + n,f.ta=d.ta - n);}this.Ha.end < this.Vt && (n=this.E1a(this.Ha.end)) && (f.ta-=d.ta - n);}return f;};k.prototype.toString=function(){return "ID: " + this.ri() + ":" + g.prototype.toString.call(this);};return k;})(a(50247).V_);b.Zda=a;(0,r.Fk)(m.Kq,a);},24251:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.PDa=void 0;c=a(91176);r=(function(){function m(g){this.config=g;}m.prototype.L2b=function(g){var k,d,f;k=this.config;d=[];f=[];g.forEach(function(q,u){void 0 === q.ub?f.push(u):d.push(u);});if(0 !== f.length)for(var n=-1,h=-1,l=function(q){var u,t,v,w,y,x;u=f[q];t=g[u];if(0 === q || u !== f[q - 1] + 1)(n=d[(0,c.Rka)(d,function(z){return z < u;})] || -1,h=d[(0,c.Sk)(d,function(z){return z > u;})] || -1);v=0;w=k.jXb;q=0;y=k.kXb;-1 < h && (w=g[h].bitrate,y=g[h].ub);-1 < n && (q=g[n].ub,v=g[n].bitrate);w=Math.log(w);v=0 === v?0:Math.log(v);x=Math.log(t.bitrate);t.z6=Math.max(0,Math.min(110,Math.round((q * (w - x) + y * (x - v)) / (w - v) * 100) / 100));},p=0;p < f.length;p++)l(p);};return m;})();b.PDa=r;},29092:function(r,b,a){var g,k,d,f,n,h,l;function c(p){return p && "function" === typeof p.Gg?!0:!1;}function m(p){return c(p) && (p=typeof p.kTb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.qmb=b.qKb=b.jTb=b.hlb=b.AsyncIterator=void 0;g=a(5163);k=a(48170);f=(function(){function p(q){var u;u=this;this.Jtb=q;this.FS=!1;this.ivb=function(t){return u.D2b(t);};this.gZa();}p.c9=function(q,u){function t(){var v;v=q.next();v.then(function(w){m(q) && q.kTb || u(w);});v.then(function(w){return !w.done && t();});}t();};Object.defineProperties(p.prototype,{gz:{get:function(){return this.FS;},enumerable:!1,configurable:!0}});p.KNb=function(){return new n([]);};p.kra=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{pN:{get:function(){return this.kt || !1;},enumerable:!1,configurable:!0}});p.prototype.Gg=function(){this.cancel();};p.prototype.cancel=function(){this.STa();this.kt=!0;return this.jia;};p.prototype.next=function(){return this.kt?this.jia:Promise.race([this.jia,this.Jtb()]).then(this.ivb);};p.prototype.D2b=function(q){q.done && (this.FS=!0,this.Gg());this.pN || (this.STa(),this.gZa());return q;};p.prototype.gZa=function(){var q;q=this;this.jia=new Promise(function(u){q.STa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=f;n=(function(p){function q(u){var t;t=p.call(this,function(){return t.SOb();}) || this;t.JF=u;t.index=0;return t;}g.__extends(q,p);q.prototype.Gg=function(){c(this.JF) && this.JF.Gg();p.prototype.Gg.call(this);};q.prototype.SOb=function(){return this.JF.length > this.index?Promise.resolve({value:this.JF[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.hlb=n;b.jTb=c;b.qKb=m;h=(function(p){function q(u,t,v){var w;w=p.call(this,function(){return w.gva();}) || this;w.console=t;w.Pk=v;w.Bxa=!1;Array.isArray(u)?w.PS=new n(u):w.PS=u;return w;}g.__extends(q,p);q.prototype.F2b=function(u){var t;this.Bxa=!1;t=this.console;k.L && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.UK)return (c(u) && u.Gg(),f.kra());Array.isArray(u)?this.Pk=new n(u):this.Pk=u;return this.gva();};q.prototype.E2b=function(u){var t;t=this.console;k.L && t && t.trace("CompoundIterator: processNextInnerResult",this.UK,u.done);if(!u.done || this.UK)return u;this.Pk=void 0;return this.gva();};q.prototype.Gg=function(){var u;u=this.console;k.L && u && u.trace("CompoundIterator: dispose");this.UK=!0;p.prototype.Gg.call(this);c(this.PS) && this.PS.Gg();c(this.Pk) && this.Pk.Gg();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.UK," ").concat(this.PS," ").concat(this.Pk);};q.prototype.gva=function(){var u,t;u=this;t=this.console;k.L && t && t.trace("CompoundIterator: nextImpl");if(this.Pk)return (k.L && t && t.trace("CompoundIterator: getNextInner"),this.Pk.next().then(function(v){return u.E2b(v);}));this.Bxa=!0;k.L && t && t.trace("CompoundIterator: getNextOuter");return this.PS.next().then(function(v){return u.F2b(v);});};return q;})(f);b.qmb=h;b.map=function(p,q,u){return new l(p,q,u);};l=(function(p){function q(u,t,v){var w;w=p.call(this,function(){return w.Atb();}) || this;w.source=u;w.nua=t;w.Lma=v;return w;}g.__extends(q,p);q.prototype.Gg=function(){c(this.source) && this.source.Gg();p.prototype.Gg.call(this);};q.prototype.Atb=function(){var u,t,v;u=this.Lma;t=this.nua;v=this.source;k.L && u && u.trace("MappedIterator: Requesting next");return v.next().then(function(w){return w.done?w:t(w.value);});};return q;})(f);b.flatten=function(p,q,u){return new h(p,q,u);};},89645:function(r,b,a){var g,k,d,f,n,h,l,p;function c(q,u){return q.done?q:{value:{value:q.value,TUa:u}};}function m(q){q.TUa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.czb=b.krb=b.ZD=void 0;g=a(5163);k=a(66164);r=a(90745);d=a(29092);f=a(48170);n=a(69575);h=a(52571);a=a(85254);l=(function(){function q(u,t){this.console=u;this.Xf=t;this.wub=this.vS=0;this.kg=[];this.console=(0,n.Pf)(k.platform,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{mHb:{get:function(){return this.vS;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HYa:{get:function(){var u,t,v;for(t=0;t < this.kg.length;t++){v=this.kg[t];if(!v.EW || (null === (u=v.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gz:{get:function(){return 0 === this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Bya:{get:function(){var u;for(u=0;u < this.kg.length && this.kg[u].ata;u++);return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=g.__read(this.kg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hva:{get:function(){var u;for(u=0;u < this.kg.length && this.kg[u].EW;u++);return u;},enumerable:!1,configurable:!0}});q.prototype.tG=function(){var u;if(void 0 === this.Xf){u=this.console;f.L && u && u.trace("QueueIterator: enqueueEnd");this.IBa(this.hva - (this.Xf || 0));}};q.prototype.Ek=function(){return this.kg.map(function(u){return u.item;});};q.prototype.c_=function(){this.zf || (this.zf=this.kg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.zf;};q.prototype.IBa=function(u){var t;f.L && this.console.trace("updateCount",{Zmc:this.Xf,Cr:u});if(void 0 !== this.Xf){t=this.kg[this.Xf];t && this.zsa(t);}this.Xf=void 0 === this.Xf?u:void 0 === u?u:this.Xf + u;void 0 !== this.Xf && (this.Xf=Math.max(0,this.Xf),(t=this.kg[this.Xf]) && t.qH.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;f.L && this.console.trace("Enqueue called");t=this.hva;this.g5();return this.X2b(t,{value:u,done:!1}).v_a.promise;};q.prototype.deb=function(){f.L && this.console.trace("resetEnd");this.IBa(void 0);};q.prototype.clear=function(u){var t,v,w;f.L && this.console.trace("clear");this.Gxa();t=this.Bya;v=this.kg.length - t;if(0 < v){w={index:t,xva:v};f.L && this.console.trace("Removing items",w);this.kg.splice(t,v);this.g5();this.emit("onRemoved",w);}for(v=1;v < t;v++)this.zsa(this.kg[v]);this.Xf=void 0;this.IBa(u?u + t:u);this.vS && (this.vS=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,n.Pf)(k.platform,this.console,"QueueIteratorInstance::");return new p(this,function(v){return u.O3a(v);},t);};q.prototype.lHb=function(){var u;if(0 < this.Bya){u=g.__read(this.kg,1)[0];u.EW && (f.L && this.console.trace("dequeue",u.id),this.Gxa(1),this.emit("onDequeue",u.qH.promise));}};q.prototype.remove=function(u){var t,v,w;for(t=0;t < this.kg.length;t++){v=this.kg[t];w=v.item;if(w && !w.done && w.value === u){this.kg.splice(t,1);this.Xf && this.Xf > t && this.Xf--;this.g5();f.L && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:t,xva:1});break;}}};q.prototype.Gxa=function(u){var t;u=u || Math.min(this.Bya,this.hva);if(0 < u){t=this.kg.splice(0,u);this.g5();this.Xf && (this.Xf-=u);f.L && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(v){v.v_a.resolve();});});this.emit("onRemoved",{index:0,xva:u});this.vS+=u;}};q.prototype.O3a=function(u){var t;f.L && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.d6a(u);t=this.kg[u];t.c5b.resolve();u=t.qH.promise;f.L && this.console.trace("getNextItem:return",{id:t.id});}else (f.L && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.X2b=function(u,t){var v;v=!t.done && t.value;v=v && v.toJSON?v.toJSON():v;f.L && this.console.trace("Providing result",{eyb:u,item:v});this.d6a(u);u=this.kg[u];v=u.qH.resolve;v(t);return u;};q.prototype.d6a=function(u){var t;if(void 0 === this.kg[u]){t={};this.zsa(t);this.kg[u]=t;u === this.Xf && t.qH.resolve({done:!0});f.L && this.console.trace("Item initialized",{eyb:u});}};q.prototype.gna=function(u){var t;t={};t.promise=new Promise(function(v,w){t.resolve=function(y){v(y);u && u(y);};t.reject=w;});return t;};q.prototype.zsa=function(u){var t;t=this;u.qH=this.gna(function(v){u.item=v;u.EW=!0;f.L && t.console.trace("Item resolved",{id:u.id});});u.id && u.ata && !u.EW && (u.qH.resolve({done:!0}),f.L && this.console.warn("Overwriting requested queue item",u.id));u.v_a=this.gna();u.c5b=this.gna(function(){u.ata=!0;f.L && t.console.trace("Item requested",{id:u.id});});u.id=this.wub++;u.ata=!1;u.EW=!1;u.item=void 0;};q.prototype.g5=function(){this.zf=void 0;};q.prototype.Spa=function(){var u,t,v;u=this;t=(0,n.Pf)(k.platform,this.console,"QueueIteratorInstance::");v=new p(this,function(w){var y,x;if(0 === u.count)return d.AsyncIterator.kra();y=u.O3a(w);x=u.kg[0];return y.then(function(z){return c(z,function(){v.pN || (x === u.kg[0]?u.lHb():(0,h.assert)(!u.kg.filter(function(A){return A.qH.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return v;};return q;})();b.ZD=l;(0,a.Fk)(r.EventEmitter,l);p=(function(q){function u(t,v,w){var y;y=q.call(this,function(){f.L && y.console.trace("Next item requested",{index:y.index});return y.J5b(y.index++);}) || this;y.parent=t;y.J5b=v;y.console=w;y.UK=!1;y.index=0;y.Via=!1;y.Hw=function(x){var z;z=x.index;x=x.xva;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;f.L && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}g.__extends(u,q);u.prototype.Gg=function(){this.console.trace("disposed");this.UK=!0;this.Ce();q.prototype.Gg.call(this);};u.prototype.next=function(){this.pN || this.ysa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.Ce();return q.prototype.cancel.call(this);};u.prototype.Ce=function(){this.parent.ks("onRemoved",this.Hw);this.Via=!1;};u.prototype.ysa=function(){this.Via || (this.Via=!0,this.parent.on("onRemoved",this.Hw));};return u;})(d.AsyncIterator);b.krb=p;b.czb=function(q){return (0,d.map)(q,m);};},29358:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sEa=void 0;c=a(5163);m=a(29092);g=a(48170);r=(function(){function k(d,f,n){this.S=d;this.Csb=f;this.we=n;this.a3=0;this.q3=!1;this.mS=[];this.WE=void 0;g.L && d.trace(("BranchRequestIterator [").concat(this.we,"]: created"));}Object.defineProperties(k.prototype,{aGb:{get:function(){return this.a3;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{K5:{get:function(){return this.ESa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ti:{get:function(){return this.q3;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{TZa:{get:function(){return this.Pk?this.Pk.gz?"Complete":this.Pk.Bxa?"WaitingForBranch":void 0 !== this.WE && 0 !== this.WE?("In Policy ").concat(this.mS[this.WE].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.tTa);},enumerable:!1,configurable:!0}});k.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,n,h;return c.__generator(this,function(l){switch(l.label){case 0:d=this.Pk;if(!d)return [3,6];this.WE=void 0;return [4,d.next()];case 1:(f=l.Ja(),n=0,l.label=2);case 2:if(!(n < this.mS.length))return [3,5];this.WE=n;h=this.mS[n];return [4,h.process(f)];case 3:(f=l.Ja(),l.label=4);case 4:return (n++,[3,2]);case 5:this.WE=void 0;if(f.done || this.Pk !== d)return [2,{done:!0}];this.a3++;f.value.TUa();return [2,{done:!1,value:f.value.value}];case 6:return [2,m.AsyncIterator.kra()];}});});};k.prototype.v5b=function(){this.Igb();this.G3b();};k.prototype.Igb=function(){var d;if(this.Pk){this.tTa=this.TZa;d=this.Pk;d && d.Gg();this.mS.forEach(function(f){return f.reset();});d && g.L && this.S.trace(("BranchRequestIterator [").concat(this.we,"]: Disposing iterator that was on branch "),this.K5 && this.K5.I.id);this.q3=!1;this.WE=this.Pk=void 0;}};k.prototype.a4=function(d){this.mS.push(d);};k.prototype.G3b=function(){var d,f,n,h;d=this;if(!this.q3){f=this.S;n=this.Csb;h=this.we;this.a3=0;this.tTa=this.ESa=void 0;this.Pk=(0,m.flatten)((0,m.map)(n.MPb(),function(l){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.ESa=l,this.a3=0,g.L && f.trace(("BranchRequestIterator [").concat(this.we,"]: new branch ").concat(l.I.id)),[4,l.kC(h)]);case 1:if(p=q.Ja())return [2,{value:p}];g.L && f.error(("BranchRequestIterator [").concat(this.we,"]: skipping branch ").concat(l.I.id));return [2,{value:[]}];}});});},f),f);this.q3=!0;}};return k;})();b.sEa=r;},14550:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p){return p === f.u.X?0:p === f.u.Y?1:p === f.u.Da?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.iea=b.xA=b.wpb=b.EJ=void 0;m=a(5163);g=a(90745);k=a(66164);d=a(48170);f=a(65161);n=a(69575);h=a(52571);b.EJ=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.wpb={EJ:b.EJ};(function(p){p[p.dv=0]="CREATED";p[p.EQ=1]="CANCELLED";})(l=b.xA || (b.xA={}));r=(function(){function p(q,u,t,v,w){this.At=q;this.YSa=u;this.uv=t;this.nn=v;this.Wa=l.dv;this.bL=[];this.events=new g.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,n.Pf)(k.platform,w,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Qd:{get:function(){return this.Wa === l.EQ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{I:{get:function(){return this.At;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xc:{get:function(){return this.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.YSa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.Eb=function(){return m.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return m.__generator(this,function(){if(q=this.parent)(q.Hb && (u=q.Hb.qa(this.nn),this.jx(u,"init from parent")),q.JJ.then(function(){var v;if(!t.Qd){v=t.parent;(0,h.assert)(v,"Parent is undefined after parent normalization");v.Hb && (v=v.Hb.qa(t.nn),t.jx(v,"parent normalization"));}}));return [2];});});};p.prototype.jx=function(q,u){void 0 === u && (u="unknown");d.L && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.v) + (" from ").concat(this.uv.v,".  ").concat(u));this.uv=q;};p.prototype.V3a=function(q){var t;if(!this.Qd)for(var u=this.parent;u;){t=u.iC(q);if(t)return t;u=u.parent;}};p.prototype.Lf=function(){this.YSa=void 0;};p.prototype.f8=function(q){return this.Xc.some(function(u){return u.mediaType === q;});};return p;})();b.iea=r;},26178:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z;function c(A,B){return A.t6 || B === f.u.Y && A.q6 || B === f.u.X && A.r6 || A.ooa;}Object.defineProperties(b,{__esModule:{value:!0}});b.qEa=b.xA=void 0;m=a(5163);g=a(91176);k=a(91176);d=a(42431);f=a(65161);r=a(71808);n=a(85254);h=a(52571);l=a(19595);p=a(32412);q=a(48170);u=a(97757);t=a(78541);v=a(42556);w=a(50930);y=a(14550);x=a(5348);(function(A){A[A.dv=0]="CREATED";A[A.EQ=1]="CANCELLED";})(z=b.xA || (b.xA={}));a=(function(A){function B(D,C,E,G,F,I,P,M,L,Q,J,H){C=A.call(this,G,L,P,I,C) || this;C.T=D;C.wO=E;C.r3a=F;C.Mia=M;C.pS=Q;C.xt=J;C.GJ=H;C.bz=new p.DR();C.yya=0;C.Nb=void 0;C.dA=void 0;C.ml=new k.ev();C.y8=new k.ev();C.Jva=C.vSb();C.Ugb=[];return C;}m.__extends(B,A);B.prototype.UV=function(D){return this.pZ()?this.qUb:this.Ugb[D];};Object.defineProperties(B.prototype,{Xc:{get:function(){var D;this.kn && 0 === (null === (D=this.bL) || void 0 === D?void 0:D.length) && this.r3a && (q.L && this.console.trace("Branch getting initial tracks"),this.bL=this.r3a(this.ca).sort(y.EJ),q.L && this.console.trace("Branch got initial tracks:",this.bL));return this.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mL:{get:function(){return this.hi?this.Nr().every(function(D){return D.Qe.mL;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{PVa:{get:function(){return this.Nr().some(function(D){return D.Lxb;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{vi:{get:function(){var D;return !(null === (D=this.pd) || void 0 === D || !D.vi);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{hi:{get:function(){var D;return !(null === (D=this.pd) || void 0 === D || !D.hi);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{vB:{get:function(){var D,C;return null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.vB) && void 0 !== C?C:0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Df:{get:function(){var D;return !(null === (D=this.pd) || void 0 === D || !D.Df);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{JJ:{get:function(){return this.ml.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{kn:{get:function(){var D;return !(null === (D=this.GJ) || void 0 === D || !D.ca);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{e8:{get:function(){return !!this.Xc.length && this.Xc.every(function(D){return D.Oh;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ca:{get:function(){(0,h.assert)(this.GJ.ca,"viewable should be available");return this.GJ.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{N:{get:function(){var D;return (null === (D=this.pd) || void 0 === D?void 0:D.N) || this.nn.N;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{rb:{get:function(){var D,C;return null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.rb) && void 0 !== C?C:this.nn.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{yb:{get:function(){var D,C;return null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.yb) && void 0 !== C?C:this.I.fd.jd(this.nn.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{An:{get:function(){var D,C;return null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.An) && void 0 !== C?C:this.Kd.jd(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ez:{get:function(){var D,C,E;return null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.ez) && void 0 !== C?C:null === (E=this.nn) || void 0 === E?void 0:E.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{wM:{get:function(){var D,C;C=null === (D=this.I.Xk) || void 0 === D?void 0:D[0];return C && this.Ia?g.K.Na(Math.max(0,C[0] - this.Ia.v - this.I.uc.v)):g.K.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{rs:{get:function(){var D,C;return null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.rs) && void 0 !== C?C:this.I.uc.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{gI:{get:function(){var D,C;return null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.gI) && void 0 !== C?C:this.I.fd.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{t9:{get:function(){var D;return null === (D=this.pd) || void 0 === D?void 0:D.t9;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Kd:{get:function(){var D,C;return null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.Kd) && void 0 !== C?C:this.uv;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Is:{get:function(){var D;return (null === (D=this.pd) || void 0 === D?void 0:D.Is) || this.I.fd.qa(this.nn || this.I.uc);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{fk:{get:function(){var D;return null === (D=this.pd) || void 0 === D?void 0:D.fk;},enumerable:!1,configurable:!0}});B.prototype.Eb=function(){return m.__awaiter(this,void 0,void 0,function(){var D,C,E;E=this;return m.__generator(this,function(G){switch(G.label){case 0:A.prototype.Eb.call(this);if(this.Qd)return [2];q.L && this.console.log(("AseBranch {").concat(this.I.id,"} awaiting viewable"));return [4,this.GJ.Eb(this)];case 1:G.Ja();q.L && this.console.log(("AseBranch {").concat(this.I.id,"} viewable available, branch ").concat(this.Qd?"cancelled":"active"));if(this.Qd)return [2];D=this.Xc.map(function(F){var I;return null === (I=E.parent) || void 0 === I?void 0:I.aj(F.mediaType);});this.vfb(this.nn);this.Xc.some(function(F){F.mediaType === f.u.Da && E.Mfb(F);});return [4,this.o1a()];case 2:return (G.Ja(),q.L && this.console.log(("AseBranch {").concat(this.I.id,"} have headers")),this.Qd?[2]:(C=this.parent)?[4,C.JJ]:[3,4]);case 3:G.Ja();if(this.Qd)return [2];this.eFb(D);G.label=4;case 4:return (this.normalize(),[2]);}});});};B.prototype.eFb=function(D){var C;C=this;this.bz.forEach(function(E){var G,F,I;I=null === (G=C.parent) || void 0 === G?void 0:G.aj(E.mediaType);(0,h.assert)(I,"Parent state should be defined");-1 === (null === D || void 0 === D?void 0:D.indexOf(I)) && (null === (F=C.UV(E.mediaType).aj(E.mediaType)) || void 0 === F?void 0:F.Ma(),G=new l.YR(function(){var P;return null === (P=C.parent) || void 0 === P?void 0:P.aj(E.mediaType);}),C.UV(E.mediaType).Kfb(G));I=void 0;});D=void 0;};B.prototype.o1a=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(){this.e8?this.y8.resolve():(this.ca.events.on("onHeaderFragments",this.Jva),this.events.emit("needsRequest"));return [2,this.y8.promise];});});};B.prototype.vSb=function(){var D;D=this;return function(){!D.Qd && D.e8 && (D.ca.events.ks("onHeaderFragments",D.Jva),D.y8.resolve());};};B.prototype.normalize=function(){this.Qd || (this.pd=new x.iMa(this,this.T,this.console,this.ca,this.wO,this.At,this.nn,this.bz.items,this.uv,this.Mia,this.pS,this.events,this.xt),this.koa(this.pd.TB),this.ml.resolve(this.pd));};B.prototype.WO=function(){var D;null === (D=this.pd) || void 0 === D?void 0:D.WO();};B.prototype.update=function(D){var C;this.At=D;(null === (C=this.pd) || void 0 === C?0:C.update(D)) && this.koa(!0);};B.prototype.jx=function(D,C){var E;void 0 === C && (C="unknown");A.prototype.jx.call(this,D,C);null === (E=this.pd) || void 0 === E?void 0:E.jx(D);};B.prototype.kC=function(D){return m.__awaiter(this,void 0,void 0,function(){var C;return m.__generator(this,function(E){switch(E.label){case 0:return [4,this.ml];case 1:return (C=E.Ja(),[2,null === C || void 0 === C?void 0:C.kC(D)]);}});});};B.prototype.reset=function(){var D;null === (D=this.pd) || void 0 === D?void 0:D.reset();};B.prototype.Lf=function(D){var C;void 0 === D && (D="other");A.prototype.Lf.call(this,D);this.Wa=z.EQ;this.kn && this.ca.events.ks("onHeaderFragments",this.Jva);null === (C=this.pd) || void 0 === C?void 0:C.Lf(D);this.bz.forEach(function(E){E.cancel();E.So.aj(E.mediaType).Ma();});this.GJ.Ma();this.dA && (this.dA.removeAllListeners(),q.L && this.console.trace("AseBranch destroying textRequestQueue:",this.dA),d.iE.instance.c6(this.dA),this.dA=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:D});this.events.removeAllListeners();};B.prototype.G8=function(D){var C;return !(null === (C=this.pd) || void 0 === C || !C.G8(D));};B.prototype.Me=function(D){var C;return null === (C=this.pd) || void 0 === C?void 0:C.Me(D);};B.prototype.f8=function(D){return this.Xc.some(function(C){return C.mediaType === D;});};B.prototype.Nr=function(D){var C,E;void 0 === D && (D=y.EJ);return null !== (E=null === (C=this.pd) || void 0 === C?void 0:C.Nr(D)) && void 0 !== E?E:[];};B.prototype.aj=function(D){var C;return null === (C=this.UV(D)) || void 0 === C?void 0:C.aj(D);};B.prototype.D7=function(){var D,C,E;if(!this.e8)return this.bz.items;E=null !== (C=null === (D=this.pd) || void 0 === D?void 0:D.D7()) && void 0 !== C?C:[];q.L && this.console.trace("getMediaStreamables returning:",E);return E;};B.prototype.iC=function(D){var C;return (null === (C=this.pd) || void 0 === C?void 0:C.iC(D)) || this.bz.get(D);};B.prototype.oo=function(D,C){var E;return (null === (E=this.pd) || void 0 === E?void 0:E.oo(D,C)) || 0;};B.prototype.FM=function(){var D;return (null === (D=this.pd) || void 0 === D?void 0:D.FM()) || ({});};B.prototype.JM=function(D){var C;return (null === (C=this.pd) || void 0 === C?void 0:C.JM(D)) || this.ez.v;};B.prototype.Zz=function(D,C,E){return m.__awaiter(this,void 0,void 0,function(){var G,F,I,P,M;M=this;return m.__generator(this,function(L){switch(L.label){case 0:q.L && this.console.trace("Branch.setTracks:",D);this.bL=D.sort(y.EJ);this.vfb(C);if(!this.Df)return [3,4];(0,h.assert)(this.pd);G=this.bz.filter(function(Q){return Q.track.Oh;}).items;F=this.pd.djb(G,C,E);I=F.HU;P=F.TB;I && this.koa(P);if(this.e8)return [3,4];this.y8=new k.ev();this.ml=new k.ev();q.L && this.console.log(("AseBranch {").concat(this.I.id,"} setTracks waiting for headers"));return [4,this.o1a()];case 1:return (L.Ja(),this.Qd?[2]:this.parent?[4,this.parent.JJ]:[3,3]);case 2:(L.Ja(),L.label=3);case 3:(this.pd.djb(this.bz.items,C,E),q.L && this.console.log(("AseBranch {").concat(this.I.id,"} setTracks pipelines updated")),this.ml.resolve(this.pd),this.events.emit("needsRequest"),L.label=4);case 4:return (D.some(function(Q){if(Q.mediaType === f.u.Da)return (M.Mfb(Q),!0);}),[2]);}});});};B.prototype.Mfb=function(D){var C;C=this;this.Nb=D;this.dA || (this.dA=(0,t.Cy)(f.u.Da,this.ca,this.T,this.console,!0,function(E){return C.wO.emit("transportReport",E);},function(E){return C.wO.emit("mediaRequestComplete",E);},function(){}),q.L && this.console.trace("AseBranch created textRequestQueue:",this.dA));};B.prototype.kFb=function(D){var C,E,G,F,I,P;C=this;D=D.track.Z?this.T.C9:this.T.wca;E=this.XV(f.u.Y);G=this.XV(f.u.X);F=c(this.T,f.u.X);I=new l.YR(function(){var M;return null === (M=C.parent) || void 0 === M?void 0:M.aj(f.u.Y);});P=new l.YR(function(){var M;return null === (M=C.parent) || void 0 === M?void 0:M.aj(f.u.X);});E && I.Uza(E);G && P.Uza(G);this.qUb=new v.kR(D,this.T,I,P,F);};B.prototype.GFb=function(D){this.pZ()?this.kFb(D):this.nFb(D);};B.prototype.nFb=function(D){var C,E,G;C=this;E=D.mediaType === f.u.Y?this.T.Vyb:D.track.Z?this.T.C9:this.T.wca;G=new l.YR(function(){var F;return null === (F=C.parent) || void 0 === F?void 0:F.aj(D.track.mediaType);});G.Uza(D.track);E=new v.ZR(E,this.T,G,c(this.T,D.mediaType));this.Ugb[D.mediaType]=E;};B.prototype.vfb=function(D){var C,E,G;C=this;this.yya=0;E=this.Xc;this.ca.Z || (E=E.filter(function(F){return F.mediaType !== f.u.Da;}));G=0;E=E.map(function(F){var I;I=C.bz.find(function(P){return P.track === F;});I || (++C.yya,I=new w.wIa(C,F,function(){return (null === D || void 0 === D?void 0:D.add(C.Kd)) || g.K.Ba;},D || g.K.Ba,C.T,C.console,C.wO,function(){0 === --C.yya && C.events.emit("requestQueuesCreated");}),C.pZ() && 0 < G || (C.GFb(I),G++));return I;});this.bz=new p.DR(E);};B.prototype.Jn=function(D){var C;return (null === (C=this.pd) || void 0 === C?void 0:C.Jn(D)) || [];};B.prototype.JL=function(D){var C;return !(null === (C=this.pd) || void 0 === C || !C.JL(D));};B.prototype.p7=function(D){return this.pd?this.pd.p7(D):g.K.Ba;};B.prototype.Sca=function(D){var C;return !(null === (C=this.pd) || void 0 === C || !C.Sca(D));};B.prototype.koa=function(D){D={type:"branchNormalized",segmentContentStart:this.I.uc,branchContentStart:this.Ia,branchContentEnd:this.Ua,didNormalizeSegment:D};this.events.emit(D.type,D);q.L && this.console.trace("branchNormalized:",D);};B.prototype.XV=function(D){var C;C=this.Xc.filter(function(E){return E.mediaType === D;});return 0 < C.length?C[0]:void 0;};B.prototype.XG=function(D){var C;return (null === (C=this.XV(D)) || void 0 === C?void 0:C.ie) || [];};B.prototype.toJSON=function(){var D;return (null === (D=this.pd) || void 0 === D?void 0:D.toJSON()) || ({});};B.prototype.pZ=function(){return this.T.e9 && !this.ca.Z;};return B=m.__decorate([u.DM],B);})(y.iea);b.qEa=a;(0,n.Fk)(r.sx,a);},50930:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wIa=void 0;c=a(78541);m=a(42431);a(65161);g=a(52571);r=(function(){function k(d,f,n,h,l,p,q,u){this.Ra=d;this.track=f;this.e9b=n;this.Y8b=h;this.config=l;this.console=p;this.events=q;this.t_b=u;this.Cw=0;this.lxa=this.hi=!1;}Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{H:{get:function(){return this.Ra.I.id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qf:{get:function(){return this.Ra.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oca:{get:function(){return this.e9b();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fk:{get:function(){return this.oca;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ED:{get:function(){return this.oca;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wgb:{get:function(){return this.Y8b;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wM:{get:function(){return this.Ra.wM;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Mj:{get:function(){return this.xe || (this.xe=this.Cy());},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vi:{get:function(){return !this.track.JX;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cwa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{So:{get:function(){return this.Ra.UV(this.mediaType);},enumerable:!1,configurable:!0}});k.prototype.Ur=function(){return this.track.JX;};k.prototype.qn=function(){return this.track.Oh;};k.prototype.Df=function(){return !1;};k.prototype.j3a=function(){return {Ga:[],paa:0,ps:0,TO:0};};k.prototype.oac=function(){var d;(0,g.assert)(this.qn());d=this.Mj;this.xe=void 0;return d;};k.prototype.xib=function(d){return (d=d.zJ(this.Ra.I,this.Mj))?{Qh:d,reason:"success"}:{Qh:d,reason:"pipelineTryIssueHeaderRequest"};};k.prototype.cancel=function(){this.xe && (this.Ra.ca.oT(this.mediaType,this.xe),m.iE.instance.c6(this.xe),this.xe.removeAllListeners(),this.xe=void 0);};k.prototype.Tsa=function(){var d,f,n;n=this.config.zn;if(null === (d=this.Mj) || void 0 === d?0:d.track)n=null === (f=this.Mj) || void 0 === f?void 0:f.track.zn;return n;};k.prototype.VM=function(){return this.Ra.V3a(this.mediaType);};k.prototype.Cy=function(){var d,f;d=this;f=(0,c.Cy)(this.mediaType,this.track.ca,this.config,this.console,this.track.Z,function(n){return d.events.emit("transportReport",n);},function(n){return d.events.emit("mediaRequestComplete",n);},function(){});f.on("created",this.t_b);return f;};return k;})();b.wIa=r;},5348:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w;function c(y,x){return (y.mediaType === l.u.X?0:1) - (x.mediaType === l.u.X?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.iMa=b.Yqb=void 0;m=a(5163);g=a(91176);k=a(91176);d=a(66164);f=a(59478);n=a(81392);h=a(29092);l=a(65161);p=a(49522);q=a(52571);r=a(71808);u=a(85254);t=a(32412);v=a(31729);w=a(69575);b.Yqb={EJ:c};a=(function(y){function x(z,A,B,D,C,E,G,F,I,P,M,L,Q){var J,H;H=y.call(this,D) || this;H.Ra=z;H.T=A;H.ca=D;H.wO=C;H.At=E;H.uv=I;H.Mia=P;H.pS=M;H.events=L;H.xt=Q;H.Oi=new t.DR([]);H.kt=!1;H.lTa=0;H.ySa=H.RZb.bind(H);(0,q.assert)(D.J === H.I.J || isNaN(D.J) && isNaN(H.I.J));z=E.id && E.id.length?"{" + E.id + "}":"";H.console=(0,w.Pf)(d.platform,B,z);H.nn=G || H.I.uc;B=H.parent;H.RTa=null === B || void 0 === B?void 0:B.Hb;null === (J=H.pS) || void 0 === J?void 0:J.addListener(H.ySa);F=H.qZa(F,H.nn,!!B).TB;H.TB=F;return H;}m.__extends(x,y);Object.defineProperties(x.prototype,{Qd:{get:function(){return this.kt;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{I:{get:function(){return this.At;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vi:{get:function(){return this.Oi.every(function(z){return z.vi;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hi:{get:function(){return this.Oi.every(function(z){return z.hi;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vB:{get:function(){return this.Nr().reduce(function(z,A){return z + A.vB;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Df:{get:function(){return this.Nr().every(function(z){return z.Df();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xc:{get:function(){return this.Ra.Xc;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{N:{get:function(){return this.VS.N;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rb:{get:function(){return this.VS.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{yb:{get:function(){return this.VS.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{An:{get:function(){return this.Kd.jd(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ez:{get:function(){return this.nn.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rs:{get:function(){return this.I.uc.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{gI:{get:function(){return this.I.fd.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{t9:{get:function(){return this.Oi.reduce(function(z,A){return z && A.Hb?g.K.max(z,A.Hb):A.Hb?A.Hb:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fk:{get:function(){return this.Oi.reduce(function(z,A){A=A.fk;return z && A?g.K.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Is:{get:function(){return this.VS.Is;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kd:{get:function(){return this.uv;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.Ra.parent;},enumerable:!1,configurable:!0}});x.prototype.djb=function(z,A,B){void 0 === A && (A=this.Ia || this.nn);return this.qZa(z,A,B);};x.prototype.WO=function(){var z,A,B,D;if(this.hF){z=this.At;A=m.__read(this.hF.WO(z,z.fd),3);B=A[0];z=A[1];A=A[2];D=this.Me(l.u.Y);D && ((0,q.assert)(B,"branch.renormalize: audioLastFragment should be defined"),D.truncate(B));if(B=this.Me(l.u.X))((0,q.assert)(z,"branch.renormalize: videoLastFragment should be defined"),B.truncate(z));if(z=this.Me(l.u.Da))((0,q.assert)(A,"branch.renormalize: lastTextFragment should be defined"),z.truncate(A));this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(z){var A;A=z.fd.pva(this.At.fd);this.At=z;return A && this.hF?(this.WO(),!0):!1;};x.prototype.jx=function(z){this.Kd.equal(z) || (this.uv=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.kC=function(z){return m.__awaiter(this,void 0,void 0,function(){var A;return m.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Ja(),(A=this.Me(z))?[2,A.kC()]:[2,h.AsyncIterator.KNb()]);}});});};x.prototype.pT=function(){this.Oi.forEach(function(z){return z.pT();});};x.prototype.reset=function(){this.Oi.forEach(function(z){z.reset();});};x.prototype.Lf=function(z){var A,B;this.kt || (this.kt=!0,null === (A=this.hF) || void 0 === A?void 0:A.Ce(),this.hF=void 0,this.Oi.forEach(function(D){D.Lf("aborted" === z);}),null === (B=this.pS) || void 0 === B?void 0:B.removeListener(this.ySa));};x.prototype.G8=function(){return !0;};x.prototype.Me=function(z){return this.Oi.get(z);};x.prototype.Nr=function(z){void 0 === z && (z=c);return this.Oi.items.slice().sort(z);};x.prototype.D7=function(){return this.Oi.items;};x.prototype.iC=function(z){return this.Me(z);};x.prototype.oo=function(z,A){z=this.Me(z);if(!z)return 0;if(A)return z.lba;A=z.oU;if(void 0 === A)return 0;z=this.Mia();return A - z;};x.prototype.FM=function(){var z,A,B,D,C,E,G;G=null === (z=this.Me(l.u.Y)) || void 0 === z?void 0:z.o5;z=null === (A=this.Me(l.u.X)) || void 0 === A?void 0:A.o5;return {gda:null !== (B=null === z || void 0 === z?void 0:z.v) && void 0 !== B?B:0,Q3:null !== (D=null === G || void 0 === G?void 0:G.v) && void 0 !== D?D:0,s_:null !== (C=null === z || void 0 === z?void 0:z.ta) && void 0 !== C?C:0,qT:null !== (E=null === G || void 0 === G?void 0:G.ta) && void 0 !== E?E:0};};x.prototype.JM=function(z){var A;return (z=this.Me(z))?null !== (A=z.oU) && void 0 !== A?A:0:0;};x.prototype.Jn=function(z){var A;z=this.Me(z);A=this.ca.Z;return (null === z || void 0 === z?void 0:z.Jn(A)) || [];};x.prototype.RZb=function(z){z=z.newValue;(0,l.pn)(z) && this.cB();};x.prototype.JL=function(z){return this.Oi.every(function(A){return A.JL(z);});};x.prototype.p7=function(z){var A;return (null === (A=this.Oi.get(z)) || void 0 === A?void 0:A.cGb) || g.K.Ba;};x.prototype.Sca=function(z){var A,B,D,C;A=this.VS.FUb;if(!A)return !1;z=(0,k.mc)(z,function(E){return A.v <= E.Ia.v;});if(!z)return !1;B=z.Ia;z=!1;D=m.__read((0,v.oya)(this.T,this.Oi,B),3);B=D[0];C=D[1];D=D[2];C && (this.Me(l.u.X).truncate(C),z=!0);B && (this.Me(l.u.Y).truncate(B),z=!0);D && (this.Me(l.u.Da).truncate(D),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.ns=function(z,A){this.kt || ((0,q.assert)(!z.Ee),this.cB(),this.events.emit("requestComplete",{type:"requestComplete",Ra:this.Ra}),this.hi && this.Pub());this.DG(z,A);};x.prototype.pO=function(z,A){this.T.z0a && this.cB(!0);this.nV(z,A);};x.prototype.nO=function(z){this.T.z0a && this.cB(!0);this.lV(z);};x.prototype.qZa=function(z,A,B){var D,C,E;D=this;C=new t.DR();E=!1;z.forEach(function(G){var F;F=D.Oi.find(function(I){return I.track === G.track;});void 0 === F?(E=!0,F=new f.KNa(D,D.T,D.console,D.wO,D.Ra,G.track,A,!0,D.xt,G.oac()),D.FSb(F)):(D.Oi.remove(F),F.pT());C.add(F);});0 < this.Oi.length && (E=!0,this.Oi.forEach(function(G){return G.Lf();}));this.Oi=C;return E?this.normalize(A,B):{HU:!1,TB:!1};};x.prototype.FSb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.vi && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});z.events.on("liveMissingSegment",function(B){return A.events.emit("liveMissingSegment",B) && A.cB();});};x.prototype.normalize=function(z,A){var B;null === (B=this.hF) || void 0 === B?void 0:B.Ce();this.hF=new p.LNa({console:this.console,config:this.T,ca:this.ca,I:this.I,pq:this.Oi,Ia:z,Ua:this.I.fd,splice:A});this.VS=this.Oi.sxa;A=this.hF.normalize();z=A.HU;A=A.TB;z && this.RTa && (this.uv=this.RTa.qa(this.Ia));return {HU:z,TB:A};};x.prototype.c8b=function(z){var A;return (0,l.pn)((null === (A=this.pS) || void 0 === A?void 0:A.value) || l.Yc.Gl) && (!z || this.lTa + this.T.Sua < d.platform.time.sa());};x.prototype.cB=function(z){void 0 === z && (z=!1);this.c8b(z) && (this.lTa=d.platform.time.sa(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Pub=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A,B;return {segment:this.I.id,branchOffset:null === (z=this.Kd) || void 0 === z?void 0:z.v,viewableId:this.At.J,contentStartPts:null === (A=this.Ia) || void 0 === A?void 0:A.v,contentEndPts:null === (B=this.Ua) || void 0 === B?void 0:B.v};};return x;})(n.YD);b.iMa=a;(0,u.Fk)(r.sx,a);},25813:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.OMa=b.xA=void 0;c=a(5163);m=a(91176);g=a(66164);k=a(65161);r=a(71808);d=a(85254);f=a(89645);n=a(52571);h=a(69575);l=a(3033);p=a(27977);q=a(27259);a=a(14550);(function(t){t[t.dv=0]="CREATED";t[t.EQ=1]="CANCELLED";})(u=b.xA || (b.xA={}));a=(function(t){function v(w,y,x,z,A,B){w=t.call(this,y,z,x,m.K.Ba,(0,h.Pf)(g.platform,w,"AsePadding")) || this;w.ca=A;w.config=B;w.FJ=new f.ZD(w.console);w.zB=new f.ZD(w.console);w.ml=new m.ev();w.qO=new q.PMa(B).create();w.console.trace(("PaddingBranch {").concat(y.id,"}: created"));return w;}c.__extends(v,t);v.prototype.HEb=function(w){return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B,D,C,E;E=this;return c.__generator(this,function(G){switch(G.label){case 0:return [4,this.j2b()];case 1:return (y=G.Ja(),x=y.Rf,z=y.Ld,A=y.bitrate,B=y.Go,D=(0,h.Pf)(g.platform,this.console,"[0]"),this.zB=new f.ZD(D),C=l.gE.instance().BZ.zcb(this.ca,x,z,A,B,w,this.I,this.z2a.bind(this),this.config,D),C.forEach(function(F){return E.zB.enqueue(F);}),this.zB.tG(),[2]);}});});};v.prototype.RFb=function(w){var y,x,z;return c.__awaiter(this,void 0,void 0,function(){var A,B,D,C,E,G,F,I,P,M,L,Q,J;J=this;return c.__generator(this,function(H){switch(H.label){case 0:return [4,this.l2b()];case 1:return (A=H.Ja(),B=A.profile,D=A.Mv,C=A.Go,E=null === (z=null === (x=null === (y=this.parent) || void 0 === y?void 0:y.Me(k.u.X)) || void 0 === x?void 0:x.track.xa) || void 0 === z?void 0:z.aya(),(0,n.assert)(E,"padding branches should always have a frameRate"),G=(0,h.Pf)(g.platform,this.console,"[0]"),F=this.qO.Ueb({profile:B,frameRate:E}),I=F.profile,P=F.frameRate,M=l.gE.instance().BZ.Bcb(this.ca,this.ca.Gcc,I,P,D,C,w,this.I,this.z2a.bind(this),G),L=M.duration,Q=M.Ga,this.I.Gfb([]),Q.forEach(function(K){return J.FJ.enqueue(K);}),this.FJ.tG(),this.mcc=L,this.ca.GG=L.v,[2,{duration:L}]);}});});};Object.defineProperties(v.prototype,{vi:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{hi:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vB:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Df:{get:function(){return this.ml.cP;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{JJ:{get:function(){return this.ml.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{kn:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{N:{get:function(){return this.I.uc.N;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{rb:{get:function(){return this.I.uc.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{yb:{get:function(){return this.I.fd.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{An:{get:function(){return this.Kd.jd(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ez:{get:function(){return this.I.uc.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wM:{get:function(){(0,n.assert)(!this.I.Xk,"exit zone not supported for padding segments");return m.K.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mL:{get:function(){return this.zB && this.FJ?this.zB.gz && this.FJ.gz:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{PVa:{get:function(){return !(!this.zB && !this.FJ);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{rs:{get:function(){return this.I.uc.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{gI:{get:function(){return this.I.fd.add(this.Kd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{t9:{get:function(){return this.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fk:{get:function(){return this.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kd:{get:function(){return this.uv;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Fua:{get:function(){return this.DTa || this.I.fd.qa(this.I.uc);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Is:{get:function(){return m.K.Ba;},enumerable:!1,configurable:!0}});v.prototype.Eb=function(){return c.__awaiter(this,void 0,void 0,function(){var w;return c.__generator(this,function(y){switch(y.label){case 0:(t.prototype.Eb.call(this),y.label=1);case 1:return (y.Gf.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.I.id,"}: init")),this.parent?[4,this.parent.JJ]:[3,3]);case 2:(y.Ja(),y.label=3);case 3:return (this.DTa=this.I.fd.qa(this.I.uc),[4,this.AZa([k.u.Y,k.u.X])]);case 4:return (y.Ja(),this.ml.resolve(),[3,6]);case 5:w=y.Ja();if(!this.Qd)throw w;return [3,6];case 6:return [2];}});});};v.prototype.update=function(w){this.At=w;};v.prototype.kC=function(w){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.I.id,"}: getRequestIterator(").concat(w,")"));return w === k.u.Y?[2,this.zB.Spa()]:[2,this.FJ.Spa()];});});};v.prototype.reset=function(){};v.prototype.Lf=function(w){void 0 === w && (w="other");t.prototype.Lf.call(this,w);this.Wa=u.EQ;this.DTa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:w});this.events.removeAllListeners();};v.prototype.G8=function(){return !0;};v.prototype.Me=function(){};v.prototype.f8=function(w){return [k.u.Y,k.u.X].some(function(y){return y === w;});};v.prototype.Nr=function(){return [];};v.prototype.aj=function(w){var y;return null === (y=this.parent) || void 0 === y?void 0:y.aj(w);};v.prototype.D7=function(){return [];};v.prototype.iC=function(){};v.prototype.oo=function(){return this.Fua.v;};v.prototype.FM=function(){return {};};v.prototype.JM=function(){return this.I.fd.v;};v.prototype.Zz=function(w,y,x,z){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(A){switch(A.label){case 0:return [4,this.ml.promise];case 1:return (A.Ja(),this.parent?[4,this.parent.JJ]:[3,3]);case 2:(A.Ja(),A.label=3);case 3:return [4,this.AZa(z)];case 4:return (A.Ja(),[2]);}});});};v.prototype.AZa=function(w){return c.__awaiter(this,void 0,void 0,function(){var y,x;return c.__generator(this,function(z){switch(z.label){case 0:y=m.K.Ba;if(-1 === w.indexOf(k.u.X))return [3,2];this.FJ.clear();return [4,this.RFb(this.Fua)];case 1:(x=z.Ja(),y=x.duration,z.label=2);case 2:if(-1 === w.indexOf(k.u.Y))return [3,4];this.zB.clear();this.console.trace(("AsePaddingBranch {").concat(this.I.id,"}: video duration ").concat(y.ob()));return [4,this.HEb(this.mcc)];case 3:(z.Ja(),z.label=4);case 4:return [2];}});});};v.prototype.Jn=function(){return [];};v.prototype.JL=function(w){var y,x;return !!((null === (y=this.Hb) || void 0 === y?0:y.greaterThan(w)) && (null === (x=this.Db) || void 0 === x?0:x.lessThan(w)));};v.prototype.p7=function(){return this.Fua;};v.prototype.Sca=function(){return !1;};v.prototype.toJSON=function(){var w,y;return {segment:this.I.id,viewableId:this.At.J,contentStartPts:null === (w=this.Ia) || void 0 === w?void 0:w.v,contentEndPts:null === (y=this.Ua) || void 0 === y?void 0:y.v};};v.prototype.l2b=function(){var w,y,x,z,A,B,D;return c.__awaiter(this,void 0,void 0,function(){var C,E,G,F;return c.__generator(this,function(I){switch(I.label){case 0:return (C=null === (y=null === (w=this.parent) || void 0 === w?void 0:w.Me(k.u.X)) || void 0 === y?void 0:y.pm.pk)?[3,2]:[4,null === (z=null === (x=this.parent) || void 0 === x?void 0:x.Me(k.u.X)) || void 0 === z?void 0:z.pm.dkb];case 1:I.Ja();if(this.Qd)return [2,Promise.reject()];I.label=2;case 2:return (C=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Me(k.u.X)) || void 0 === B?void 0:B.pm.pk,(0,n.assert)(C,"Parent of padding branch must have last selected video stream"),E=null === (D=C.track.vk) || void 0 === D?void 0:D.Mv,G=C.track.Go,F=C.wd,[2,{profile:F,Mv:E,Go:G}]);}});});};v.prototype.j2b=function(){var w,y,x,z,A,B;return c.__awaiter(this,void 0,void 0,function(){var D,C,E,G,F;return c.__generator(this,function(I){switch(I.label){case 0:return (D=null === (y=null === (w=this.parent) || void 0 === w?void 0:w.Me(k.u.Y)) || void 0 === y?void 0:y.pm.pk)?[3,2]:[4,null === (z=null === (x=this.parent) || void 0 === x?void 0:x.Me(k.u.Y)) || void 0 === z?void 0:z.pm.dkb];case 1:I.Ja();if(this.Qd)return [2,Promise.reject()];I.label=2;case 2:return (D=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Me(k.u.Y)) || void 0 === B?void 0:B.pm.pk,(0,n.assert)(D,"Parent of padding branch must have last selected audio stream"),C=D.Rf || m.K.Ba,E=(0,p.bqa)(D.profile),G=D.bitrate,F=D.track.Go,[2,{Rf:C,Ld:E,bitrate:G,Go:F}]);}});});};v.prototype.z2a=function(w,y){return this.uv.add(y).jd(w).ja;};v.prototype.XG=function(){return [];};return v;})(a.iea);b.OMa=a;(0,d.Fk)(r.sx,a);},70842:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TYa=void 0;c=a(79048);m=a(91176);g=a(10943);k=a(26178);b.TYa=function(d){var f,n,h,l,p,q,u,t,v,w,y;f=d.config;n=d.console;h=d.bxa;l=d.I;p=d.events;q=d.KI;u=d.nn;t=d.Kd;v=d.Xt;w=d.Xd;y=d.Hd;d=d.GJ;l.J === c.Tq && f.fM?(p=new g.QMa(l.J,f.rwa),q=m.K.Ba,f=new (a(25813).OMa)(n,l,q,h.J7.bind(h),p,f)):f=new k.qEa(f,n,p,l,q,u,t,v,h.J7.bind(h),w,y,d);return f;};},45550:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.cE=void 0;c=a(15913);m=a(52571);r=(function(){function g(k){this.config=k;this.reset();}g.instance=function(){(0,m.assert)(void 0 !== g.st);return g.st;};g.GCb=function(k){g.st=new g(k);};g.prototype.push=function(k){this.Ii && this.Ii.push(k);};g.prototype.ib=function(){if(this.Ii)return (this.Ii.yr(),this.Ii.Bi([.25,.5,.75,.9,.95,.99]).map(function(k){return k?parseFloat(k.toFixed(1)):0;}));};g.prototype.reset=function(){this.config.kJb && this.config.xfa && (this.Ii=new c.TDigest(this.config.xfa.c,this.config.xfa.maxc));};return g;})();b.cE=r;},78647:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.CEa=b.su=void 0;c=a(5163);r=a(90745);m=a(91176);g=a(91176);k=a(66164);d=a(8171);f=c.__importDefault(a(14282));n=a(65161);h=a(52571);l=a(82450);p=a(50247);q=a(40666);u=a(69575);t=a(29092);v=a(11758);b.su=function(w){return w.qa(m.K.Na(w.DI));};a=(function(w){function y(x,z,A,B,D,C){var E,G;E=this;E=w.call(this) || this;E.we=x;E.qg=z;E.Mc=A;E.T=B;E.ba=D;E.Yn=C;E.LUa=!1;E.LSa=!1;E.hT=!1;E.S=d.Jq.iw(E.we);E.XA=E.S.error.bind(E.S);E.Mm=E.S.warn.bind(E.S);E.gy=E.S.trace.bind(E.S);null === (G=A.events) || void 0 === G?void 0:G.addListener("ready",function(){E.Tx();});E.D9a=new l.yLa(E.T,E.we,E.qg.Af,E.S);E.reset();return E;}c.__extends(y,w);Object.defineProperties(y.prototype,{endOfStream:{get:function(){return this.yS;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{f$b:{get:function(){return !!this.Mc.DJb;},enumerable:!1,configurable:!0}});y.prototype.reset=function(x){var z,A,B;null === (z=this.MTa) || void 0 === z?void 0:z.Ma();x || (this.fy=[]);this.aja=this.g3=this.bF=void 0;this.SA && (this.SA.Qd=!0,this.SA.iterator.Gg(),this.SA=void 0);this.FK && (this.FK.Qd=!0,this.FK.iterator.Gg(),this.FK=void 0);this.zia=!1;this.cF=void 0;this.hT=this.yS=!1;this.zUa(m.K.Ba);null === (B=(A=this.Mc).reset) || void 0 === B?void 0:B.call(A);this.D9a.reset();};y.prototype.LLb=function(){this.g3=!0;};y.prototype.m6=function(){this.LSa=!0;this.Tx();};y.prototype.zD=function(x){this.LUa=x;};y.prototype.Byb=function(x){this.fy.push(x);this.Tx();};y.prototype.lA=function(){this.Tx();};y.prototype.$Yb=function(x){this.T.Ika && void 0 === this.aja && this.tSa(x,0);this.Tx();};y.prototype.J$=function(x){var z,A,B,D;z=this;void 0 === x && (x=!1);if(!this.yS && (this.yS=!0,this.Tx(),x || !this.f$b))if(this.cF && this.Yn && this.T.dHb){x=m.K.Na(this.T.T$b);x=this.cF.qa(x);D=(0,q.tda)(this.Yn,x,!0);x=D.Wf;D=D.promise;null === (A=this.MTa) || void 0 === A?void 0:A.Ma();this.MTa=x;D.then(function(){var C,E;z.yS && (null === (E=(C=z.Mc).endOfStream) || void 0 === E?void 0:E.call(C));});}else null === (B=(D=this.Mc).endOfStream) || void 0 === B?void 0:B.call(D);};y.prototype.zUa=function(x){var z;null !== (z=this.Mvb) && void 0 !== z && z.equal(x) || (this.Mvb=x,this.Mc.Nfb(x.ja,x.N));};y.prototype.Tx=function(){var x,z,A,B,D,C,E,G;D=this.T;if(!this.SA && !this.FK && this.fy.length)if(this.Mc && !1 !== this.Mc.ready){C=this.fy[0];if(C.aborted)(this.Mm("aborted fragment should not appear in the toAppend list:",C.toString(),"complete:",C.complete),this.aT("@" + k.platform.time.sa() + ", append: removing aborted fragment from toAppend: " + C.toString()),this.fy.shift());else {E=C.stream;G=E.ca;if(E.Oh)if((C.fw && !this.hT && (null === (z=(x=this.Mc).zgb) || void 0 === z?void 0:z.call(x,{J:E.track.ca.J,N6a:E.si}),this.hT=!0),this.$7b(E,C.index)))(this.g3=!1,this.tSa(E,C.index));else if((x=this.ba.zW(G.J),E=this.bSb(E),x || E || !this.zia && !D.lCa))if((x=this.m4a(C),this.we === f.default.Cm.Y && (C.fl || C.ou || (null === (A=C.Ha) || void 0 === A?0:A.Yk)) && C.Ha && !D.$O && !this.yS && this.fy.length <= (C.fl || C.ou?1:2) && x > D.FX && (null === (B=C.Vz) || void 0 === B || !B.vN)))this.e6b();else {this.zia || (this.zia=E);this.fy.shift();try{this.Txb(C);}catch(F){throw (this.S.error(F),F);}}}}else this.aT("@" + k.platform.time.sa() + ", append: not appending, sourceBuffer not ready");};y.prototype.e6b=function(){var x;x=this;this.Yn && (this.kta?this.kta.F8 || this.kta.sf():this.kta=this.Yn.By(function(){return x.vUb();},"JIT Appender"));};y.prototype.vUb=function(){var x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:if(1 !== this.fy.length)return [3,3];x=this.fy[0];if(!x.fl && !x.ou || (null === (B=x.Vz) || void 0 === B?0:B.vN))return [2];z=this.m4a(x);A=this.T.FX;return z > A?[4,q.Tg.WD(m.K.Na(z - A))]:[3,2];case 1:(D.Ja(),D.label=2);case 2:return (this.Tx(),[3,0]);case 3:return [2];}});};y.prototype.m4a=function(x){var z;return (null === (z=x.Db) || void 0 === z?NaN:z.v) - this.ba.Rd.v;};y.prototype.$7b=function(x,z){var A;A=x.Ph;(0,h.assert)(A);return 0 === A.length?this.g3=!1:this.g3 || void 0 === this.bF || x.Vb !== this.bF.Vb?!0:1 < A.length?(0,g.Rka)(A,function(B){return B.Sd <= z;}) !== this.bF.Q6a:!1;};y.prototype.bSb=function(x){if(x.mediaType === n.u.Y || !x.si)return !0;if(void 0 === this.bF)return !1;if(!x.track.uX)return !x.si;x=x.Ph;(0,h.assert)(x);return !1 === x[this.bF.Q6a].sG;};y.prototype.tSa=function(x,z){var A,B,D,C;if(!this.LUa || this.LSa){if(x.Ph && 0 !== x.Ph.length){D=x.Ph.reduce(function(E,G,F){return G.Sd <= z?F:E;},0);C=x.Ph[D];this.bF || (null === (B=(A=this.Mc).zgb) || void 0 === B?void 0:B.call(A,{J:x.track.ca.J,N6a:x.si}),this.hT=!0);if(!this.Mc.appendBuffer(C.data,{Ee:!0,profile:x.profile,bitrate:x.bitrate,Vb:x.Vb}))throw (this.Mm("appendHeader error: " + this.Mc.error),this.aT("@" + k.platform.time.sa() + ", appendHeader error: " + this.Mc.error),Error("appendHeaderError"));this.aT("@" + k.platform.time.sa() + ", header appended, streamId: " + x.Vb);this.bF={Vb:x.Vb,Q6a:D};this.qvb(x.Vb,D);}this.Tx();}};y.prototype.Txb=function(x){var z,A,B,D,C;z=this;D=x.Ixa || m.K.Ba;C=x.I;C.fd && !C.fd.equal(m.K.Fj) && (D=C.fd.add(D).zh,Infinity === this.qg.duration || this.qg.duration < D) && (this.qg.duration=D);D=void 0 !== x.fx?m.K.Na(x.fx).add(x.Ixa):void 0;C=null === (A=this.fy[0]) || void 0 === A?void 0:A.Db;A={endOfStream:this.endOfStream || !(null === (B=x.Vz) || void 0 === B || !B.vN),RN:D,fva:C};C=this.D9a.append(x,A);B=C.ki;D=C.yi;A=C.No;C=C.offset;null === D || void 0 === D?void 0:D.forEach(function(E){return z.emit(E.type,E);});D=x.stream;D.Z && (C=C.qa(D.ws.jd(D.N)));this.zUa(C);B && (x.fl || x.ou) && x.ki();D=p.ym.TLa;B || (this.we === n.u.Y || this.we === n.u.X?D=this.Qxb(x,A):this.we === n.u.Da && (D=this.Zxb(x)));switch(D){case p.ym.Jk:this.xsb(x);break;case p.ym.Y1:this.aja=x;break;case p.ym.Am:this.Gva(x);this.aja=x;break;case p.ym.TLa:this.oab(x,!0);}};y.prototype.ghb=function(){var x;return k.platform.ep.Af.Kya.vha || !(null === (x=this.qg.Af) || void 0 === x || !x.ghb);};y.prototype.Qxb=function(x,z){return this.ghb()?this.Rxb(x,z):this.Sxb(x,z);};y.prototype.Rxb=function(x,z){var A,B,D;A=this;B=(0,u.hua)(x);if((z=(z || x.No).every(function(C,E){return A.Mc.appendBuffer(C,0 === E?B:void 0);})) && !x.Cra){z=x.Xqa();D={La:x,iterator:z,Qd:!1};this.SA=D;t.AsyncIterator.c9(z,function(C){D.Qd || (C.done?(A.SA=void 0,A.Gva(x)):A.Mc.appendBuffer(C.value,B));});z=p.ym.Y1;}else z=z?p.ym.Am:p.ym.Jk;return z;};y.prototype.Sxb=function(x,z){var A,B,D,C;A=this;B=(0,u.hua)(x);z || (z=x.No);if(x.Cra)D=(D=this.MYa(z,B))?p.ym.Am:p.ym.Jk;else {D=x.Xqa();C={La:x,iterator:D,Qd:!1};this.SA=C;t.AsyncIterator.c9(D,function(E){C.Qd || (E.done?(A.MYa(z,B),A.SA=void 0,A.Gva(x)):z.push(E.value));});D=p.ym.Y1;}return D;};y.prototype.MYa=function(x,z){x=1 < x.length?(0,u.IL)(x):x[0];return this.Mc.appendBuffer(x,z);};y.prototype.Zxb=function(x){var z,A,B,D;z=this;(0,h.assert)(x instanceof v.Sda);A=x.No;if(x.Cra){(0,h.assert)(A.every(function(C){return C instanceof ArrayBuffer;}));Promise.resolve().then(function(){return z.k0a(x,A);});B=p.ym.Am;}else {B=x.Xqa();D={La:x,iterator:B,Qd:!1};this.FK=D;t.AsyncIterator.c9(B,function(C){D.Qd || (C.done?(z.FK=void 0,(0,h.assert)(A.every(function(E){return E instanceof ArrayBuffer;})),z.k0a(x,A)):A.push(C.value));});B=p.ym.Y1;}return B;};y.prototype.k0a=function(x,z){var A,B;z=(0,u.IL)(z);z=new Uint8Array(z);z=k.platform.Dna(z);(0,h.assert)(z);B=x.fl && (null === (A=x.Vz) || void 0 === A?void 0:A.vN);x={Qlc:!0,H:x.Th,jb:x.Ia.v,kf:x.Ua.v,us:x.zhb,Bib:z,endOfStream:B};A=c.__assign({type:"subtitleData"},x);this.qg.events.emit(A.type,A);"function" === typeof this.Mc.Yxb && this.Mc.Yxb(x);};y.prototype.Gva=function(x){var z;void 0 === this.cF || this.we !== f.default.Cm.Y || x.Db.equal(this.cF) || (this.cF=void 0);this.aT("@" + k.platform.time.sa() + ", request appended, type: " + x.mediaType + ", streamId: " + x.Vb + ", pts: " + (null === (z=x.Db) || void 0 === z?void 0:z.v) + "-" + x.Hb.v);this.oab(x,!1);};y.prototype.oab=function(x,z){var A,B,D;x.fl || x.ou?(this.cF=z?x.Db:x.Hb,null === (B=(A=this.Mc).DJb) || void 0 === B?void 0:B.call(A,x.Vz),this.hT=!1,(null === (D=x.Vz) || void 0 === D?0:D.vN) && this.J$()):this.cF=void 0;x.KT=!0;x.SO();this.rvb(x);this.Tx();};y.prototype.xsb=function(x){if(void 0 !== this.Mc.error){if("done" === this.Mc.error)return;this.XA("failure to append queued mediaRequest:",null === x || void 0 === x?void 0:x.toString(),"err:",JSON.stringify(this.Mc.error));throw this.Mc.error;}x=Error("failure to append queued mediaRequest: " + (null === x || void 0 === x?void 0:x.toString()) + " err: " + this.Mc.error);this.XA(x.message);throw x;};y.prototype.qvb=function(x,z){x={type:"headerAppended",mediaType:this.we,streamId:x,isIndex:z};this.emit(x.type,x);};y.prototype.rvb=function(x){x={type:"requestAppended",mediaType:this.we,request:x};this.emit(x.type,x);};y.prototype.aT=function(x){x={type:"managerdebugevent",message:x};this.emit(x.type,x);};return y;})(r.EventEmitter);b.CEa=a;},58348:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DEa=void 0;c=a(90745);m=a(66164);g=a(91176);k=a(65161);d=a(61996);f=a(52571);r=(function(){function n(h,l,p){this.S=h;this.T=l;this.wtb=p;this.mr=this.ar=this.Km=0;this.$q=[];this.zja=new Map();this.Se=new d.Xq({uh:4,nl:this,source:"BufferSizeLimiter"});}Object.defineProperties(n.prototype,{ta:{get:function(){return {total:this.Km,audio:this.ar,video:this.mr};},enumerable:!1,configurable:!0}});n.prototype.Lv=function(h){var l,p,q,u;l=this;if(!h.Ee){p={requestId:h.n4a(),mediaType:h.mediaType,ta:h.ta,HD:m.platform.time.sa(),O:h.stream.ca.O};this.$q.push(p);q=h.ta;if(0 >= q){u=new c.Ge();u.on(h.events,"updatedBytes",function(t){l.dVa(h.mediaType,t.w$a - t.gwa);p.ta=t.w$a;u.clear();l.zja.delete(h);});this.zja.set(h,u);}else this.dVa(h.mediaType,q);}};n.prototype.ys=function(h){var l,p;if(!h.Ee){l=h.n4a();p=(0,g.Sk)(this.$q,function(q){return q.requestId === l;});-1 !== p && (this.$q.splice(p,1),p=h.ta,0 < p && (this.Km-=p,h.mediaType === k.u.Y?this.ar-=p:this.mr-=p,(0,f.assert)(this.Km === this.ar + this.mr),(0,f.assert)(0 <= this.Km),(0,f.assert)(0 <= this.ar),(0,f.assert)(0 <= this.mr)),this.zja.delete(h));}};n.prototype.hma=function(h,l){var p;(0,f.assert)(this.Km === this.ar + this.mr);p=this.wtb();if(void 0 !== p.total && this.Km + l > p.total)return (this.dib(),!1);p=h === k.u.Y?p.audio:p.video;h=h === k.u.Y?this.ar:this.mr;return void 0 !== p && h + l > p?(this.dib(),!1):!0;};n.prototype.dVa=function(h,l){this.Km+=l;h === k.u.Y?this.ar+=l:this.mr+=l;(0,f.assert)(this.Km === this.ar + this.mr);(0,f.assert)(0 < this.Km);(0,f.assert)(0 <= this.ar);(0,f.assert)(0 <= this.mr);};n.prototype.dib=function(){var h;if(this.T.IIb){h=m.platform.time.sa();this.Se.CT("traceActiveRequests",{fi:this.$q.map(function(l){return {requestId:l.requestId,ta:l.ta,O:l.O,Doc:h - l.HD};})});}};n.prototype.vWa=function(){var h,l,p;h=0;l=0;p=0;this.$q.forEach(function(q){h+=q.ta;q.mediaType === k.u.Y?l+=q.ta:p+=q.ta;});(0,f.assert)(h === l + p);(0,f.assert)(0 < h);(0,f.assert)(0 <= l);(0,f.assert)(0 <= p);(0,f.assert)(h === this.Km);(0,f.assert)(l === this.ar);(0,f.assert)(p === this.mr);};return n;})();b.DEa=r;},35779:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.D2a=b.$pa=b.gya=b.Lla=b.gK=void 0;c=a(5163);m=a(66164);g=a(52571);k=a(69575);r=(function(){function f(n,h,l){void 0 === l && (l={});this.config=n;this.Coa=h;this.nd=[];this.xL=new k.jg();this.X4=new k.jg();this.options=c.__assign({uh:10},l);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.GIb;},enumerable:!1,configurable:!0}});f.prototype.G7=function(n,h){var l;if(!this.isEnabled)return h();l=this.e7(n);if(l)return l.value;h=h();this.uo(n,h);return h;};f.prototype.findIndex=function(n){var h,l,p,q;h=Infinity;l=Infinity;if(this.options.Om || this.options.zq){p=m.platform.time.sa();this.options.zq && (h=p - this.options.zq);this.options.Om && (l=p - this.options.Om);}for(p=0;p < this.nd.length;p++){q=this.nd[p];if(this.options.zq && q.RW < h){this.nd.splice(p,this.nd.length - p);break;}if(this.options.Om && q.Vl < l)(this.nd.splice(p,1),p--);else if(this.Coa(q.key,n))return p;}return -1;};f.prototype.e7=function(n){var h;n=this.findIndex(n);if(-1 !== n){h=this.nd[n];this.nd.splice(n,1);this.nd.unshift(h);this.options.zq && (h.RW=m.platform.time.sa());this.X4.push(n);this.xL.push(1);return h;}this.xL.push(0);};f.prototype.uo=function(n,h){this.nd.unshift({key:n,value:h});if(this.options.zq || this.options.Om)(n=m.platform.time.sa(),this.options.zq && (this.nd[0].RW=n),this.options.Om && (this.nd[0].Vl=n));this.ema();};f.prototype.ema=function(){this.nd.length > this.options.uh && this.nd.pop();};f.prototype.clear=function(){this.nd=[];};return f;})();b.gK=r;d=new WeakMap();b.Lla=function(f){void 0 === f && (f="default");return function(n,h,l){var p;p=l.value;l.value=function(q){var u,t,v;u=this;v=null === (t=d.get(this)) || void 0 === t?void 0:t[f];(0,g.assert)(v,"lruCache not defined");return v.G7(q,function(){return p.call(u,q);});};};};b.gya=function(f,n,h){d.has(f) || d.set(f,{});d.get(f)[n]=h;};b.$pa=function(f){var n;if(!d.has(f))return [];n=d.get(f);return Object.keys(n).map(function(h){return n[h];});};b.D2a=function(f){return d.has(f)?d.get(f):{};};},36948:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KCb={zz:["minInitVideoBitrate",-Infinity],NC:["maxInitVideoBitrate",Infinity],yz:["minInitAudioBitrate",-Infinity],yw:["maxInitAudioBitrate",Infinity],h$:["minAcceptableVideoBitrate",-Infinity],BX:["minAcceptableVMAF",0],RXb:["minAcceptableVMAFRebufferScalingFactor",0],Qua:["minAllowedVideoBitrate",-Infinity],OWb:["maxAllowedVideoBitrate",Infinity],NH:["minAllowedVmaf",-Infinity],b9a:["maxAllowedVmaf",Infinity],FP:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],u6:["enableResolutionVMAFStreamFilter",!1],Iwa:["percentCapTitlesForResolutionVMAFStreamFilter",100],pba:["resolutionVMAFCappingRuleList",[]],M5a:["ignoreUserFilterOnEmptyResult",!0],Az:["minRequiredBuffer",2E4],UN:["minRequiredAudioBuffer",0],kq:["minPrebufSize",5800],Sua:["minCheckBufferingCompleteInterval",200],z0a:["enableMoreFrequentBufferingCompleteCheck",!1],$9a:["minimumBufferingCompleteInterval",1E4],Cya:["requireDownloadDataAtBuffering",!1],$5a:["indicatorForDownloadDataAtBuffering","oncomplete"],Dya:["requireSetupConnectionDuringBuffering",!1],Yxa:["rebufferingFactor",1],gs:["maxBufferingTime",2E3],ZBa:["useMaxPrebufSize",!0],OC:["maxPrebufSize",4E4],yua:["maxRebufSize",Infinity],x8:["initialBitrateSelectionCurve",null],e6a:["initSelectionLowerBound",-Infinity],f6a:["initSelectionUpperBound",Infinity],TZ:["throughputPercentForAudio",15],lla:["bandwidthMargin",0],nla:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],IWa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,sy:76376,scale:18862.4,gamma:3.0569}],mla:["bandwidthMarginContinuous",!1],JWa:["bandwidthMarginForAudio",!0],PAa:["switchConfigBasedOnInSessionTput",!0],Pma:["conservBandwidthMargin",20],Rma:["conservBandwidthMarginTputThreshold",6E3],Qma:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],qhb:["switchAlgoBasedOnHistIQR",!1],QAa:["switchConfigBasedOnThroughputHistory","iqr"],q9a:["maxPlayerStateToSwitchConfig",-1],D8a:["lowEndMarkingCriteria","iqr"],iJa:["IQRThreshold",.5],z5a:["histIQRCalcToUse","simple"],Jt:["bandwidthManifold",{curves:[{min:.05,max:.82,sy:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,sy:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],sX:["maxTotalBufferLevelPerSession",0],u5a:["highWatermarkLevel",3E4],Yhb:["toStableThreshold",3E4],Nca:["toUnstableThreshold",0],jAa:["skipBitrateInUpswitch",!1],pCa:["watermarkLevelForSkipStart",8E3],hAa:["simulationDurationStrategy","default"],z8b:["simulationFullBufferPercentage",1],Y9a:["minSimulationDuration",2E4],R9:["maxSimulationDuration",3E5],WBa:["upperThroughputPredictionFactor",1.6],Mra:["highStreamRetentionWindow",9E4],Yta:["lowStreamTransitionWindow",51E4],Ora:["highStreamRetentionWindowUp",5E5],$ta:["lowStreamTransitionWindowUp",1E5],Nra:["highStreamRetentionWindowDown",6E5],Zta:["lowStreamTransitionWindowDown",0],Lra:["highStreamInfeasibleBitrateFactor",.5],pz:["lowestBufForUpswitch",9E3],bX:["lockPeriodAfterDownswitch",15E3],bua:["lowWatermarkLevel",15E3],qz:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],cua:["lowestWaterMarkLevelBufferRelaxed",!1],Z9:["mediaRate",1.5],JH:["maxTrailingBufferLen",15E3],$ka:["audioBufferTargetAvailableSize",262144],fCa:["videoBufferTargetAvailableSize",1048576],y9a:["maxVideoTrailingBufferSize",8388608],c9a:["maxAudioTrailingBufferSize",393216],H6:["fastUpswitchFactor",3],DKb:["fastUpswitchFactorWithoutHeaders",3],CKb:["fastUpswitchFactorForNextSegment",1],cpa:["fastDownswitchFactor",3],HH:["maxMediaBufferAllowed",27E4],Kmc:["minMediaBufferLen",1E4],hgb:["simulatePartialBlocks",!0],ggb:["simulateBufferFull",!0],Sma:["considerConnectTime",!0],Oma:["connectTimeMultiplier",1],qVb:["liveDvrSwitchThresholdms",1E4],f9a:["maxDomainFailureWaitDuration",3E4],X0a:["exhaustAllLocationsForFailure",!0],m9a:["maxNetworkErrorsDuringBuffering",20],N9:["maxBufferingTimeAllowedWithNetworkError",6E4],k1a:["fastDomainSelectionBwThreshold",2E3],Hhb:["throughputProbingEnterThreshold",4E4],Ihb:["throughputProbingExitThreshold",34E3],t8a:["locationProbingTimeout",1E4],s1a:["finalLocationSelectionBwThreshold",1E4],Fhb:["throughputHighConfidenceLevel",.75],Ghb:["throughputLowConfidenceLevel",.4],Kta:["locationStatisticsUpdateInterval",6E4],TVb:["locationSelectorPersistFailures",!0],A0a:["enablePerfBasedLocationSwitch",!1],rmc:["maxRateMaxFragmentGroups",4500],fJb:["enableNginxRateLimit",!1],C$:["nginxSendingRate",4E4],a9a:["maxActiveRequestsSABCell100",2],aeb:["resetActiveRequestsAtSessionInit",!0],t6:["enableHybridPacing",!1],Xla:["catchUpMode",!1],eXb:["maxSegHint",4],xya:["requestLevelLogging",!1],NIb:["enableCsprNonPipelined",!1],q6:["enableCprAudio",!1],r6:["enableCprVideo",!1],LIb:["enableCprAudioNonPipelined",!1],MIb:["enableCprVideoNonPipelined",!0],ooa:["enableConcurrentStreamingHandling",!1],hJb:["enablePaceReportLogging",!1],Y_b:["paceRateSelectorAlgorithm","default"],Z_b:["paceRateSelectorAlgorithmAudio","default"],$_b:["paceRateSelectorAlgorithmNonPipelined","default"],Hgb:["staticPacingRateKbps",0],j5:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1,lowestAllowedFragmentBitrateFactors:[0,0,0]}],Wac:["unpacedFragmentInterval",0],YRb:["ignorePacedRequestStrategy","none"],gY:["pacedThresholdPct",.1],joa:["effectivePaceRateFactor",1],k4b:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],b0b:["pacingTargetBufferStrategy","implicit"],u$b:["targetBufferLevelStddevMultiplier",1],t$b:["targetBufferLevelDurationMs",0],aYb:["minTargetBufferLevelMs",27E4],wAa:["stddevPredictorMultiplier",-.3],xAa:["stddevPredictorUpperMultiplier",2],o9b:["stddevPredictorSource","deliverytime"],oma:["ciPredictorSource","throughput-ci"],u0a:["enableInitialTputLogging",!1],t0a:["enableInitialThroughputHistory",!1],l8:["headerRequestSize",4096],Hoa:["estimateHeaderSize",!0],v$a:["neverWipeHeaderCache",!1],ecc:["useSidxInfoFromManifestForHeaderRequestSize",!1],f0b:["parseAdditionalBoxesMp4Header",!0],m1a:["fastPlayHeaderRequestSize",0],IH:["maxRequestSize",0],EX:["minRequestSize",65536],CX:["minBufferLenForHeaderDownloading",1E4],ogb:["smartHeaderPreDownloading",!1],n0a:["enableAllHeadersPreDownloading",!1],zn:["pipelineEnabled",!0],wua:["maxParallelConnections",3],bcc:["usePipelineForAudio",!1],acc:["usePipelineDetectionForAudio",!1],dcc:["usePipelineForText",!0],pgb:["socketReceiveBufferSize",0],B4:["audioSocketReceiveBufferSize",32768],mda:["videoSocketReceiveBufferSize",65536],F$b:["textSocketReceiveBufferSize",32768],Ajb:["usePipelineDetectionForVideo",!1],dYb:["minVideoSocketReceiveBufferSize",65536],Jra:["headersSocketReceiveBufferSize",32768],V7b:["shareDownloadTracks",!0],W7b:["shareOpenRangeTracks",!1],GHb:["disableHeaderDownloadTracks",!1],Uua:["minTimeBetweenHeaderRequests",void 0],rY:["prebufferTimeLimit",6E4],Q9a:["minBufferLevelForTrackSwitch",2E3],iJb:["enablePenaltyForLongConnectTime",!1],Fwa:["penaltyFactorForLongConnectTime",2],Vta:["longConnectTimeThreshold",200],wka:["additionalBufferingLongConnectTime",2E3],xka:["additionalBufferingPerFailure",8E3],CY:["rebufferCheckDuration",6E4],iM:["enableOCSideChannel",!0],HGb:["decryptOCSideChannelMinInterval",1E3],IGb:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],i8a:["liveOCSideChannelRefreshInterval",5E3],vxa:["probeRequestTimeoutMilliseconds",3E4],unc:["probeRequestConnectTimeoutMilliseconds",8E3],V1:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],lJb:["enableSCByteRangeHints",!1],Vib:["updateDrmRequestOnNetworkFailure",!0],T$b:["timeBeforeEndOfStreamBufferMark",6E3],uua:["maxFastPlayBufferInMs",2E4],TWb:["maxFastPlayContentTimeThresholdMs",112E3],h9a:["maxFastPlayBitThreshold",2E8],d9a:["maxBufferingCompleteBufferInMs",Infinity],Uzb:["bufferingCompleteOnMemoryLimit",!1],Rua:["minAudioMediaRequestSizeBytes",0],Vua:["minVideoMediaRequestSizeBytes",0],RWb:["maxAudioMediaRequestSizeBytes",Infinity],mXb:["maxVideoMediaRequestSizeBytes",Infinity],YWb:["maxMediaRequestSizeBytesInFraction",1],Aw:["minAudioMediaRequestDuration",0],Bz:["minVideoMediaRequestDuration",0],k$:["minMediaRequestDuration",0],QWb:["maxAudioMediaRequestDuration",Infinity],lXb:["maxVideoMediaRequestDuration",Infinity],Q9:["maxMediaRequestDuration",Infinity],Cka:["allowFirstRequestAggregation",!1],Dmc:["minAudioMediaRequestDurationCache",0],Omc:["minVideoMediaRequestDurationCache",0],Ina:["defaultHeaderCacheSize",4],Hna:["defaultHeaderCacheDataPrefetchMs",0],ccc:["usePipelineForBranchedAudio",!0],m$:["minimumTimeBeforeBranchDecision",2E3],eYb:["minimumAppendedMediaBeforePlayback",5E3],bXb:["maxRequestsToAttachOnBranchActivation",void 0],FX:["minimumJustInTimeBufferLevel",3E3],Ekc:["enableJustInTimeAppends",!1],XVa:["appendPacingFactor",0],Wxb:["appendPacingThreshold",3E3],xjc:["branchEndPtsIntervalMs",250],Flc:["ignorePtsJustBeforeCurrentSegment",!1],UWb:["maxFragsForFittableOnBranching",300],dva:["networkFailureResetWaitMs",2E3],cva:["networkFailureAbandonMs",6E4],S9:["maxThrottledNetworkFailures",5],Fca:["throttledNetworkFailureThresholdMs",200],aua:["lowThroughputThreshold",400],Roa:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],S$b:["timeAtEachBitrateRoundRobin",1E4],K5b:["roundRobinDirection","forward"],IRb:["httpsConnectErrorAsPerm",!1],x0a:["enableManagerDebugTraces",!1],O8a:["managerDebugMessageInterval",1E3],N8a:["managerDebugMessageCount",20],$O:["requireAudioStreamToEncompassVideo",!1],wca:["ase_stream_selector","optimized"],Vyb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],C9:["liveStreamSelectorAlgorithm","livesimple"],I$a:["noRepeatedFirstSelectionLogic",!1],Ehb:["throughputDiscountForLive",.8],Dhb:["throughputDiscountExponentBC",1.5],HC:["liveTargetBufferDuration",1E4],YW:["liveEdgeCushion",0],uVb:["liveInitialFetchSizeBytes",1024],FVb:["liveTextInitialFetchSizeBytes",40],CVb:["liveResyncClockOn404Error",!0],tVb:["liveEndSlateMaxDuration",6E4],Gta:["liveSwitchStreamsOnErrorInPipeline",!0],rVb:["liveEdgeRetryWindowMs",6E3],x9:["liveAccurateFragmentTimestamps",!1],Zbc:["useLiveBitrateDynamicCap",!0],hM:["enableMissingSegmentsDetection",!1],UU:["enableMissingSegmentsReplacement",!1],X5b:["sanitizeMediaVideoFrameDuration",!0],b_a:["debugFragmentTimes",!1],roa:["enableLiveTemporaryRequestRetries",!0],sP:["simulateLiveEdge",!1],p6:["enableConditionalServerTimeUpdate",!0],u$:["negligibleServerTimeDeltaDifference",1E3],M9:["maxAttemptsOnFailure",18],soa:["enableMaxAttemptsOnFailure",!0],Ala:["bufferingSelectorAlgorithm","default"],y9b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],C0a:["enableThroughputTraceResearchData",!1],Jhb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Dnc:["researchEnvironmentEnabled",!1],nJb:["enableStreamSelectionAugmentData",!1],$yb:["augmentDataNumOfChunks",30],zna:["ase_dump_fragments",!1],Ana:["ase_location_history",0],c_a:["ase_throughput",0],qwa:["paddingDurationMs",1E3],rwa:["paddingMediaType","padding"],qO:["paddingCodecSelector","strict"],Bk:["stallAtFrameCount",void 0],vgb:["stallAtFrameCountAudio",void 0],oua:["marginPredictor","simple"],TYb:["noDuplicateUnderflowTimer",!1],Roc:["useManifestDrmHeader",!0],Toc:["useOnlyManifestDrmHeader",!0],eva:["networkMeasurementGranularity","video_location"],GYb:["netIntrStoreWindow",36E3],Tmc:["minNetIntrDuration",8E3],qtb:["fastHistoricBandwidthExpirationTime",10368E3],Ntb:["bandwidthExpirationTime",5184E3],ptb:["failureExpirationTime",86400],TTa:["historyTimeOfDayGranularity",4],mtb:["expandDownloadTime",!0],nub:["minimumMeasurementTime",500],mub:["minimumMeasurementBytes",131072],gvb:["throughputMeasurementTimeout",2E3],fvb:["initThroughputMeasureDataSize",262144],bub:["historicBandwidthUpdateInterval",2E3],Zic:["throughputPredictor","ewma"],jza:["secondThroughputEstimator","slidingwindow"],Jeb:["secondThroughputMeasureWindowInMs",3E5],Yic:["throughputMeasureWindow",5E3],$ic:["throughputWarmupTime",5E3],Xic:["throughputIQRMeasureWindow",1E3],Fic:["IQRBucketizerWindow",15E3],k9a:["maxIQRSamples",100],T9a:["minIQRSamples",5],Uic:["connectTimeHalflife",10],Oic:["responseTimeHalflife",10],iTa:["historicThroughputHalflife",14400],hTa:["historicResponseTimeHalflife",100],gTa:["historicHttpResponseTimeHalflife",100],AIa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],LTa:["minReportedNetIntrDuration",4E3],Wic:["throughputBucketMs",500],Mic:["bucketHoltWintersWindow",2E3],gtb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],ntb:["experimentalFilter",["throughput-wssl"]],yja:["reportedFilters",[]],Gia:["filterDefinitionOverrides",{}],atb:["defaultFilter","throughput-ewma"],btb:["defaultFilterField","average"],zvb:["secondaryFilter","throughput-sw"],GSa:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],tJb:["enableWsslEstimate",!1],umc:["maxWsslRequestSize",131072],tmc:["maxWsslRequestRatio",.2],skb:["wsslAggregationMethod","max"],B0a:["enableSessionHistoryReport",!0],a0a:["earlyStageEstimatePeriod",1E4],W7a:["lateStageEstimatePeriod",3E4],n9a:["maxNumSessionHistoryStored",10],X9a:["minSessionHistoryDuration",3E5],slc:["highAndStableModelName","baseline"],Dkc:["enableHighAndStablePredictor",!1],Lmc:["minNumSessionHistory",5],ujc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],rlc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],tlc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],kka:["addHeaderDataToNetworkMonitor",!0],qAa:["startMonitorOnLoadStart",!1],sya:["reportFailedRequestsToNetworkMonitor",!1],uaa:["periodicHistoryPersistMs",0],Dba:["saveBitrateMs",0],bva:["needMinimumNetworkConfidence",!0],qla:["biasTowardHistoricalThroughput",!1],amc:["logMemoryUsage",!1],pI:["probeServerWhenError",!0],GT:["allowSwitchback",!0],jcb:["probeDetailDenominator",100],O9:["maxDelayToReportFailure",300],Dxb:["allowParallelStreaming",!0],xmc:["mediaPrefetchDisabled",!1],Emc:["minBufferLevelToAllowPrefetch",5E3],kP:["seamlessAudio",!1],Rnc:["seamlessAudioProfiles",[]],Snc:["seamlessAudioProfilesAndTitles",{}],hza:["seamlessAudioMaximumSyncError",void 0],iza:["seamlessAudioMinimumSyncError",void 0],t6a:["insertSilentFrames",0],Bsa:["insertSilentFramesOnSeek",!1],u6a:["insertSilentFramesOnSeekForTitles",[]],ISb:["insertSilentFramesOnSeekCount",3],Ukc:["forceDiscontinuityAtTransition",!0],soc:["supportAudioResetOnDiscontinuity",void 0],roc:["supportAudioEasingOnDiscontinuity",void 0],rIb:["editCompleteFragments",!0],fYb:["minimumAudioFramesPerFragment",1],LT:["applyProfileTimestampOffset",!1],Rm:["applyProfileStreamingOffset",!0],Saa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],tWa:["audioProfilesNonSyncSamples",["xheaac-dash"]],Eac:["truncateEndOfStreamAudio",!1],Xbc:["useDpiAssumedAacEncoderDelay",!0],b$:["mediaSourceSupportsNegativePts",!1],i$:["minAudioPtsGap",void 0],Syb:["audioOverlapGuardSampleCount",2],kJb:["enableRecordJSBridgePerf",!1],xfa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],N$b:["throughputThresholdSelectorParam",0],Ubc:["upswitchDuringBufferingFactor",2],Ixb:["allowUpswitchDuringBuffering",!1],Vjc:["contentOverrides",void 0],Wjc:["contentProfileOverrides",void 0],x5a:["hindsightDenominator",0],w5a:["hindsightDebugDenominator",0],wlc:["hindsightAlgorithmsEnabled",[]],y5a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],WVa:["appendMediaRequestOnComplete",!1],lCa:["waitForDrmToAppendMedia",!1],Ucc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],Apa:["forceAppendHeadersAfterDrm",!1],e_a:["declareBufferingCompleteAtSegmentEnd",!1],pX:["maxActiveRequestsPerSession",void 0],Bta:["limitAudioDiscountByMaxAudioBitrate",!1],Ika:["appendFirstHeaderOnComplete",!0],MT:["aseReportDenominator",0],Vka:["aseReportIntervalMs",3E5],kyb:["aseReportMaxStreamSelections",400],j8a:["liveReportSendIntervalMs",6E4],Fta:["liveReportCollectIntervalMs",5E3],sBa:["translateToVp9Draft",!1],pya:["reorderTrakMvex",!1],Lu:["switchableAudioProfiles",[]],ela:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Dca:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],ala:["audioBwFactor",1],Xyb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Yyb:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],w9a:["maxStartingVideoVMAF",110],ru:["minStartingVideoVMAF",1],R3:["activateSelectStartingVMAF",!1],Oba:["selectStartingVMAFTDigest",-1],mP:["selectStartingVMAFMethod","fallback"],Teb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],vO:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],pkc:["disablePtsStartsEvent",!0],ldb:["recordFirstFragmentOnSubBranchCreate",!0],Z8a:["markRequestActiveOnFirstByte",!1],HYb:["networkRequestRetryDelay",500],rca:["stopOnAllInactiveRequests",!1],m0a:["enableActiveRequestsInFilters",!1],cQ:["useNativeDataViewMethods",!0],iyb:["aseDiagnostics",[{Oc:"queue-audit",enabled:!0},{Oc:"task-audit",enabled:!0},{Oc:"trace-ShimSession",enabled:!0},{Oc:"trace-engine",enabled:!0},{Oc:"trace-RequestPacer",enabled:!0},{Oc:"trace-BufferStateTracker",enabled:!0},{Oc:"trace-GraphStreamingProcess",enabled:!0},{Oc:"trace-AsePlaygraph",enabled:!0},{Oc:"playgraph-branch-audit",enabled:!0},{Oc:"content-playgraph",enabled:!0},{Oc:"trace-CphAsePlaygraph",enabled:!0},{Oc:"trace-GraphLocation",enabled:!0},{Oc:"cache-ads::gls",enabled:!0},{Oc:"cache-content::gls",enabled:!0},{Oc:"trace-LiveOCSideChannel",enabled:!1}]],HIb:["enableAseReporting",!0],Hzb:["branchDistanceThreshold",6E4],L9:["maxAllowedOutstandingRequests",4],Tua:["minStreamableConcurrencyWindow",3E3],gXb:["maxStreamableConcurrencyWindow",Infinity],BAa:["streamableConcurrencyFactor",.3],bU:["bufferingConcurrencyWindow",7800],ula:["branchCreationThreshold",12E4],s6:["enableDiscontiguousBuffering",!1],Dpa:["forceImmediateTransitionTypeForTitles",[]],Cpa:["forceImmediateTransitionExitZone",0],Xma:["contiguousBufferMultiplier",3],WYa:["contiguousBufferMinimumAudio",1048576],YYa:["contiguousBufferMinimumVideo",8388608],XYa:["contiguousBufferMinimumText",0],K1b:["prefetchBudgetInBytes",0],ddb:["rebufferRiskHalfLife",1E4],o_:["useBufferSizeLimiter",!1],fcc:["useStaticBufferSizeLimiter",!1],N1b:["prefetchWeightBudget",32],Wua:["minimumDownstreamBranchProbability",.075],YBa:["useExitZones",!0],O1b:["prefetchWhilePlaying",!0],T1b:["prefetcherSoftReset",!0],p1b:["playgraphDefaultWeight",65520],dHb:["delayNotificationOfEoS",!1],AXb:["memDeadlockShouldCheckMemory",!0],zXb:["memDeadlockOverageThreshold",.9],yXb:["memDeadlockMaxUtilizationPercentage",.5],l1b:["playerPtsPadding",1],Jmc:["minFragmentVmaf",void 0],QU:["enableCombinedPlaygraphs",!0],fM:["enableAdPlaygraphs",!0],jM:["enablePrerollForInitialSeek",!1],Soa:["excludedContentPlaygraphIds",[]],S4a:["graphSelectorSetAudioRate",!1],sJb:["enableVmafEstimationFromBitrate",!1],jXb:["maxVMAFMappingBitrate",16E3],kXb:["maxVMAFMappingVMAF",110],hBb:["cdndldistEnabled",!1],Uz:["segmentFadeDuration",400],Kba:["segmentFadeInDuration",-1],Lba:["segmentFadeOutDuration",-1],ON:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],sba:["retainSbrOnFade",!1],s6a:["insertSilentFrameOnFade",!0],cnc:["optimizeEditedFragments",!1],ohb:["supportsPtsChanged",!0],GIb:["enableAdLruCaches",!1],mWa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],$Ib:["enableLiveRequestLogger",!1],G5a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],p9a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],RD:["usePrioritySetTimeout",!1],FXa:["centralizeClockSchedulers",!0],FWa:["backOffSetTimeout",!0],l4b:["rehydrateSkippableAdBreaks",!0],hoc:["skipIntroPlaygraphEnabled",!1],e9:["jointStreamSelectorEnabled",!1],pUb:["jointStreamCreationAlgorithm","optimized"],BVb:["livePrefetchEnabled",!1],IIb:["enableBufferSizeLimiterTracer",!1],Wbc:["useConfigManager",!1],J9:["manifestConfigAllowList",("liveEdgeCushion maxMediaBufferAllowed enableMissingSegmentsDetection enableMissingSegmentsReplacement liveAccurateFragmentTimestamps enablePeriodicServerTimeUpdate periodicServerTimeUpdateInterval maxAttemptsOnFailure enableConditionalServerTimeUpdate negligibleServerTimeDeltaDifference").split(" ")]};b.Dj=b.KCb;},49502:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},7559:function(r,b){function a(m,g){var k;g.some(function(d){var f;f=d.profiles;(f=f && 0 <= f.indexOf(m)) && (k=d.override);return f;});return k;}function c(m,g){return !!g && g.Lu && 0 <= g.Lu.indexOf(m);}Object.defineProperties(b,{__esModule:{value:!0}});b.F6a=b.s2a=b.Fqa=b.Fxb=void 0;b.Fxb=function(m){return m.kP;};b.Fqa=function(m,g){return void 0 !== m.i$?m.i$:g && void 0 !== g.i$?g.i$:100;};b.s2a=function(m,g){m=m.profile;m=c(m,g)?a(m,g.Dca):a(m,g.ela);return {yz:m && m.minInitAudioBitrate || g.yz,yw:m && m.maxInitAudioBitrate || g.yw,TXb:m && m.minAudioBitrate || -Infinity,PWb:m && m.maxAudioBitrate || Infinity,Az:m && m.minRequiredAudioBuffer || g.UN};};b.F6a=c;},78541:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Cy=void 0;c=a(48170);m=a(42431);g=a(52571);b.Cy=function(k,d,f,n,h,l,p,q){var u;c.L && n.trace("AsePlaygraph.createRequestQueue()");u=m.iE.instance.Cy(k,d.O,!0,!1,{WB:f.WB,Z:h},f);u.il.on(u,"networkfailing",function(){var t;c.L && n.trace("requestQueue OnNetworkFailing: ",u);u.$oa && ((0,g.assert)(u.apa),null === (t=d.aw) || void 0 === t?void 0:t.zs(void 0,u.apa,void 0,u.xg,u.ej));d.Jn();});u.il.on(u,"error",function(){q(u.xg,u.ej);});u.on("transportreport",function(t){t.uoa=d.AH.lM;l(t);});u.on("mediaRequestComplete",p);u.Eb();return u;};},42431:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iE=void 0;c=a(5163);m=a(66164);g=c.__importDefault(a(14282));k=a(65161);d=a(91772);r=(function(){function f(n){this.PE=n;this.Xc=[];this.console=new m.platform.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(f,{instance:{get:function(){void 0 === f.st && (f.st=new f(m.platform.VQ));return f.st;},enumerable:!1,configurable:!0}});f.reset=function(){f.st=void 0;};f.prototype.Cy=function(n,h,l,p,q,u){var t;t=u.V7b?this.iLb(l,h,n,u.W7b):-1;-1 === t?(t={track:this.XEb(l,p,n,q,u),Ei:l,O:h,Kcb:n,nD:[],Vl:!1,jG:!1},this.Xc.push(t),this.F3b(t),n=!1):(n=!0,t=this.Xc[t]);n=new d.EPa(this.console,t.track,t.Vl,n);t.nD.push(n);return n;};f.prototype.F3b=function(n){function h(){n.Vl=!0;n.track.removeListener("created",h);}n.track.on("created",h);};f.prototype.c6=function(n){var h,l;n.Sp();h=this.gV(function(p){return p.track === n.track;});if(-1 !== h){if((h=this.Xc[h],1 === h.nD.length))(h.track.Sp(),h.jG=!0);else {l=h.nD.indexOf(n);0 <= l && h.nD.splice(l,1);}}else n.track.Sp();};f.prototype.Cf=function(){this.PE.Cf();};f.prototype.XEb=function(n,h,l,p,q){var u,t,v,w,y,x;u=this;v=!1;w=t=!1;y=p.Z;n?l === k.u.X?(n=1,q.zn?(w=!0,n=q.wua):q.pX && 2 < q.pX && (w=!0,n=q.pX),t=y?!!q.p_:q.p_ || !w,t={type:this.PE.X,openRange:t,pipeline:w,connections:n,socketBufferSize:q.mda,minRequestSize:q.EX}):l === k.u.Y?(v=q.zn && (q.bcc || h && q.ccc),t=y?!!q.p_:q.p_ || !v,t={type:this.PE.Y,openRange:t,pipeline:v,connections:1,socketBufferSize:q.B4,minRequestSize:q.EX}):l === k.u.Da?(t=y?!!q.p_:q.p_ || !q.dcc,t={type:this.PE.Da,openRange:t,pipeline:q.zn,connections:1,socketBufferSize:q.F$b,minRequestSize:q.EX}):t={type:q.GHb?this.PE.X:this.PE.Unb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Jra,minRequestSize:q.EX}:t={type:l === k.u.Y?g.default.Cm.Y:g.default.Cm.X,openRange:!1,pipeline:!1,connections:1,socketBufferSize:l === k.u.Y?q.B4:q.mda,minRequestSize:q.EX};x=new this.PE(t,p);x.zn=w;x.on("transportreport",function(z){var A;A=u.gV(function(B){return B.track === x;});-1 !== A && (A=u.Xc[A],A.nD.length && A.nD[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=u.gV(function(B){return B.track === x;});-1 !== A && (A=u.Xc[A],A.nD.length && A.nD[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=u.gV(function(A){return A.track === x;});-1 !== z && u.Xc.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.zn=!1;if(y)x.bya(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(v && q.acc || q.Ajb)q.Ajb && x.config.type === k.u.X?x.bya(c.__assign(c.__assign({},x.config),{socketBufferSize:q.dYb,pipeline:!1,openRange:!0,connections:1})):x.bya(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};f.prototype.iLb=function(n,h,l,p){return this.gV(function(q){return !q.jG && (!p && q.track.config.bnc || !n?!q.Ei && q.Kcb === l:q.Ei && q.O === h && q.Kcb === l);});};f.prototype.gV=function(n){for(var h=0;h < this.Xc.length;++h)if(n(this.Xc[h]))return h;return -1;};return f;})();b.iE=r;},91772:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.EPa=void 0;c=a(5163);m=a(90745);r=(function(g){function k(d,f,n,h){var l;l=g.call(this) || this;l.S=d;l.track=f;l.Vl=!1;l.Wia=!1;l.il=new m.Ge();l.il.on(f,"networkfailing",function(){l.emit("networkfailing");});l.il.on(f,"error",function(){l.S.warn("requestQueue got error");l.emit("error");});if(n)(l.Vl=!0,Promise.resolve().then(function(){return l.emit("created");}));else l.il.on(f,"created",function(){l.Vl=!0;l.emit("created");});l.Wia=h;return l;}c.__extends(k,g);Object.defineProperties(k.prototype,{$oa:{get:function(){return this.track.$oa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xg:{get:function(){return this.track.xg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ej:{get:function(){return this.track.ej;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{apa:{get:function(){return this.track.apa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});k.prototype.Eb=function(){var d,f;this.Wia || (null === (f=(d=this.track).Eb) || void 0 === f?void 0:f.call(d),this.Wia=!0);};k.prototype.toString=function(){return this.track.toString();};k.prototype.toJSON=function(){return this.track;};k.prototype.Sp=function(){this.il.clear();};return k;})(m.EventEmitter);b.EPa=r;},14282:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(6198);b["default"]={vec:{rv:0,Lhc:1,name:["STARTUP","STEADY"]},Cm:{Y:r.u.Y,X:r.u.X,Da:r.u.Da,name:["AUDIO","VIDEO","TEXT"]},kgc:{Y:r.u.Y,X:r.u.X,Da:r.u.Da,name:["AUDIO","VIDEO","TEXT"]},Zf:{URL:0,IE:1,LOCATION:2,nv:3,name:["URL","SERVER","LOCATION","NETWORK"]},Cl:{HAVE_NOTHING:0,ZJ:1,YJ:2,$Q:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Zs:{dec:0,Nfc:1,phc:2,Mgc:3,jhc:4,kic:5,Sfc:6,jgc:7,rv:8,Jk:9,zga:10,Sqb:11,dea:12,Uob:13,Tob:14,zrb:15,yrb:16,Yob:17,Qrb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},pfc:{nv:0,Rec:1,name:["NETWORK","DECODE"]},Jhc:{Sec:"delayedSeamless",Zfc:"hideLongTransition"}};},48170:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.L=!1;},83744:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.eHa=void 0;c=a(5163);m=a(90745);g=c.__importStar(a(17267));k=a(66164);d=a(91176);f=new k.platform.Console("ASEJS_ERROR_DIRECTOR","asejs");n=c.__importDefault(a(14282));h=a(86429);l=k.platform.ep;p=l.F0;q={};u={};r=[n.default.Zf.nv,!1];a=[n.default.Zf.nv,!0];t=[n.default.Zf.IE,!1];v=[n.default.Zf.IE,!0];w=[n.default.Zf.URL,!0];y=[n.default.Zf.URL,!1];x=[n.default.Zf.URL,!1];z=[-1,!1];A=[n.default.Zf.IE,!1];q[p.Wdc]=t;q[p.UNKNOWN_ERROR]=t;q[p.Pgc]=t;q[p.Nmb]=t;q[p.LFa]=t;q[p.Zmb]=t;q[p.Rmb]=v;q[p.emb]=v;q[p.TEa]=A;q[p.REa]=A;q[p.fmb]=z;q[p.gmb]=A;q[p.hmb]=A;q[p.bmb]=t;q[p.dmb]=t;q[p.SEa]=r;q[p.cmb]=t;q[p.amb]=A;q[p.Eec]=v;q[p.Ynb]=A;q[p.nIa]=A;q[p.mIa]=A;q[p.jIa]=A;q[p.kIa]=A;q[p.Xnb]=w;q[p.ifa]=v;q[p.kfa]=w;q[p.jfa]=a;q[p.qIa]=a;q[p.lfa]=v;q[p.$nb]=w;q[p.B1]=A;q[p.oIa]=v;q[p.Znb]=v;q[p.Umb]=v;q[p.Omb]=t;q[p.Erb]=t;q[p.Emb]=t;q[p.Fmb]=t;q[p.Gmb]=t;q[p.Hmb]=t;q[p.Imb]=t;q[p.Jmb]=t;q[p.Kmb]=t;q[p.Lmb]=t;q[p.Mmb]=t;q[p.Pmb]=t;q[p.Qmb]=t;q[p.Smb]=t;q[p.Tmb]=t;q[p.Vmb]=t;q[p.Wmb]=t;q[p.Xmb]=t;q[p.Ymb]=t;q[p.$mb]=t;q[p.anb]=t;q[p.Drb]=A;q[p.TIMEOUT]=r;u[p.TEa]=!0;u[p.nIa]=!0;u[p.mIa]=!0;u[p.kIa]=!0;u[p.LFa]=!0;r=(function(){var l$F;l$F=2;function B(D,C,E,G){var Q1i;Q1i=2;for(;Q1i !== 18;){switch(Q1i){case 10:this.Paa=new h.fPa(D,G,C);this.poa=!1;this.u5=0;Q1i=18;break;case 2:this.jl=D;this.config=C;this.Ara=E;Q1i=4;break;case 4:var o_8="1";o_8+="S";o_8+="IYbZ";o_8+="rNJC";o_8+="p9";this.pC=G;this.events=new m.EventEmitter();this.il=new m.Ge();o_8;this.eYa=new d.TR();q[p.jIa]=C.IRb?v:A;Q1i=14;break;case 14:var B7w="n";B7w+="e";B7w+="tworkFailed";this.il.addListener(this.jl,B7w,this.QQb.bind(this));this.BN=k.platform.time.sa();this.Pt=0;this.XAa={};Q1i=10;break;}}}for(;l$F !== 13;){switch(l$F){case 7:B.prototype.vh=function(){var H0Y,D,C,E;H0Y=2;for(;H0Y !== 3;){switch(H0Y){case 2:var A5i="m";A5i+="s";var d66="Setting";d66+=" ";d66+="underflow timeout in ";(D=this,C=this.config,E=C.N9);this.BN=Math.max(k.platform.time.sa(),this.BN);this.j_ || C.TYb || (f.info(d66 + E + A5i),this.j_=setTimeout(function(){var r7G;r7G=2;for(;r7G !== 4;){switch(r7G){case 2:var f33="ms, since u";f33+="nderf";f33+="l";f33+="ow wi";f33+="th no success";var G2i="Forcing permanent";G2i+=" network failur";G2i+="e";G2i+=" afte";G2i+="r ";U6ONX.x6U(0);f.info(U6ONX.M9t(E,G2i,f33));D.j_=void 0;D.jl.zs(n.default.Zf.nv,!0);r7G=4;break;}}},E));this.config.soa && (this.poa=!0);H0Y=3;break;}}};B.prototype.nYa=function(){var q0B;q0B=2;for(;q0B !== 1;){switch(q0B){case 2:var A1l="Cleared";A1l+=" un";A1l+="der";A1l+="fl";A1l+="ow timeout";this.j_ && (clearTimeout(this.j_),this.j_=void 0,f.info(A1l));q0B=1;break;}}};return B;break;case 2:B.prototype.Ma=function(){var I_N;I_N=2;for(;I_N !== 5;){switch(I_N){case 2:this.il.clear();this.Paa.reset();I_N=5;break;}}};B.prototype.pP=function(D){var o6H;o6H=2;for(;o6H !== 1;){switch(o6H){case 4:this.eca=D;o6H=8;break;case 2:this.eca=D;o6H=1;break;}}};B.prototype.zs=function(D,C,E,G,F){var x0k,X2r,V,la,D2I,m$Y,W8o,ca,I,P,M,L,Q,J,H,K,O,ta,Fa,R,oa,h0h,ua,ya,Ca,Va,S,ma,Ja,Na,I5z,S7v,Z6A;x0k=2;for(;x0k !== 44;){switch(x0k){case 7:var N6G=" consec";N6G+="utive n";N6G+="etwork failure mode in underflow mode";var j59="Forcing pe";j59+="rmane";j59+="nt network ";j59+="failure after ";f.info(j59 + this.u5 + N6G);this.jl.zs(n.default.Zf.nv,!0);x0k=14;break;case 28:var z0y="Unmapped failure code in ";z0y+="JSASE error direc";z0y+="to";z0y+="r : ";U6ONX.x6U(1);f.error(U6ONX.T8X(G,z0y));x0k=44;break;case 10:x0k=this.config.roa && D.GN?20:16;break;case 22:C=O.u4a(D).map(function(N){var B$K;B$K=2;for(;B$K !== 1;){switch(B$K){case 2:return {url:D.url,Wc:N.id,Ub:N,stream:oa,urls:N.urls,H:D.Th};break;}}});x0k=21;break;case 3:x0k=G && g.isArray(q[G])?9:28;break;case 29:return;break;case 9:x0k=this.poa?8:12;break;case 33:try{X2r=2;for(;X2r !== 13;){switch(X2r){case 5:Ca=la.value;ma=Ca.Wc;Va=Ca.urls;S=Ca.url;X2r=8;break;case 8:X2r=R === A && !this.M4b(ma)?13:7;break;case 1:X2r=!la.done?5:13;break;case 14:la=V.next();X2r=1;break;case 7:var S6Q="er";S6Q+="ro";S6Q+="r";Va.some(function(N){var O2G;O2G=2;for(;O2G !== 5;){switch(O2G){case 2:O.zs(ta,Fa,N.url);return ta === n.default.Zf.IE;break;}}});!this.eca || 0 !== E && void 0 !== E || this.eca.rza(S6Q,S);X2r=14;break;case 2:(V=c.__values(C),la=V.next());X2r=1;break;}}}catch(N){var ra;ra={error:N};}finally{D2I=2;for(;D2I !== 1;){switch(D2I){case 2:try{m$Y=2;for(;m$Y !== 1;){switch(m$Y){case 2:la && !la.done && (P=V.return) && P.call(V);m$Y=1;break;}}}finally{W8o=2;for(;W8o !== 5;){switch(W8o){case 9:throw ra.error;W8o=7;break;case 2:W8o=ra?1:5;break;case 1:throw ra.error;W8o=5;break;}}}D2I=1;break;}}}x0k=44;break;case 24:x0k=D?23:32;break;case 20:R=D.GN;ca=R.sD;R=R.lmc;x0k=17;break;case 31:C=O.P6b(C.host,C.port).map(function(N){var N$P,ha;N$P=2;for(;N$P !== 5;){switch(N$P){case 2:return {url:(null === (ha=N.url.stream.Ht) || void 0 === ha?void 0:ha.RV(!0)) || "",Wc:N.Ub.id,Ub:N.Ub,stream:N.url.stream,urls:N.Ub.urls};break;}}}).filter(function(N){var v4n;v4n=2;for(;v4n !== 1;){switch(v4n){case 2:return "" !== N.url;break;}}});x0k=21;break;case 2:H=l.F0.name;H=G?H[G]:void 0;(K=this.config,O=this.jl);x0k=4;break;case 13:this.u5++;x0k=12;break;case 15:var c6I="crit";c6I+="i";c6I+="calN";c6I+="etworkEr";c6I+="ror";var S2G="cri";S2G+="ticalN";S2G+="etworkErr";S2G+="or";var E84="r";E84+="eq";E84+="uest";E84+="Err";E84+="or";var f4o="r";f4o+="eques";f4o+="tError";this.uH={ln:E,xg:G,j1a:H,ej:F};this.events.emit(f4o,{type:E84,ln:E});u[G] && (++this.Pt,this.events.emit(S2G,{type:c6I,xg:G}));x0k=25;break;case 30:var k_r="Invalid affected for netwo";k_r+="r";k_r+="k failure";f.error(k_r);x0k=29;break;case 25:x0k=R !== z?24:44;break;case 14:return;break;case 32:x0k=C?31:30;break;case 21:(ta=R[0],Fa=R[1]);x0k=35;break;case 16:var g1u="Treat HTTP";g1u+="_RESPONSE_5";g1u+="XX as SERVER_THROTTLE error for live streaming";G === p.lfa && (f.info(g1u),R=A);x0k=15;break;case 35:x0k=K.pI?34:33;break;case 4:var e17=" ";e17+=": critical error ";e17+="coun";e17+="t = ";var j61=" ";j61+="o";j61+="n";j61+=" ";var H8i=" w";H8i+="i";H8i+="th ";var K58=" ";K58+="o";K58+="n";K58+=" ";var u80="F";u80+="ail";u80+="ure";u80+=" ";f.warn(u80 + H + K58 + (null === D || void 0 === D?void 0:D.url) + H8i + E + j61 + JSON.stringify(D?D:C) + e17 + this.Pt);x0k=3;break;case 11:x0k=O.Z && D?10:15;break;case 12:R=q[G];x0k=11;break;case 23:oa=O.p3a(D.stream);x0k=22;break;case 8:x0k=this.u5 >= this.config.M9?7:13;break;case 34:try{h0h=2;for(;h0h !== 8;){switch(h0h){case 2:(ua=c.__values(C),ya=ua.next());h0h=1;break;case 1:h0h=!ya.done?5:8;break;case 5:var j10="e";j10+="r";j10+="ror";var c_i=" Reached limi";c_i+="t, marking u";c_i+="rl as failed and changing stream ";var a51="]";a51+=" se";a51+="gm";a51+="ent";a51+="Id ";var J0i=" ";J0i+="Re";J0i+="try";J0i+=" count increasi";J0i+="ng ";var P8s="]";P8s+=" segment";P8s+="Id ";(Ca=ya.value,Va=Ca.urls,S=Ca.url,ma=Ca.Wc,Ja=Ca.stream,Na=Ca.Ub);R === A || R === t?this.Paa.t2b(Ca,{JVa:ma,h_:R,ln:E,xg:G,j1a:H,ej:F}):this.config.roa && R === y && (null === (M=null === Ja || void 0 === Ja?void 0:Ja.Ht) || void 0 === M?0:M.Z) && (null === (L=null === Ja || void 0 === Ja?void 0:Ja.Ht) || void 0 === L?void 0:L.Ub) === Na.id && D && D.GN?(ca=D.GN.sD,D.GN.sD=ca + 1,f.log("[" + D.mediaType + P8s + D.Th + J0i + ca + 1),Ja.Ht.Hwb(D.Th || 0)):this.config.roa && R === x && (null === (Q=null === Ja || void 0 === Ja?void 0:Ja.Ht) || void 0 === Q?0:Q.Z) && (null === (J=null === Ja || void 0 === Ja?void 0:Ja.Ht) || void 0 === J?void 0:J.Ub) === Na.id && D && D.GN?(f.log("[" + D.mediaType + a51 + D.Th + c_i + D.GN.sD),O.L4b(D.stream.url,ta,Fa)):Va.some(function(N){var x6R;x6R=2;for(;x6R !== 5;){switch(x6R){case 2:O.zs(ta,Fa,N.url);return ta === n.default.Zf.IE;break;}}});!this.eca || 0 !== E && void 0 !== E || this.eca.rza(j10,S);h0h=9;break;case 9:ya=ua.next();h0h=1;break;}}}catch(N){var Za;Za={error:N};}finally{I5z=2;for(;I5z !== 1;){switch(I5z){case 2:try{S7v=2;for(;S7v !== 1;){switch(S7v){case 2:ya && !ya.done && (I=ua.return) && I.call(ua);S7v=1;break;}}}finally{Z6A=2;for(;Z6A !== 5;){switch(Z6A){case 3:Z6A=Za?4:8;break;case 2:Z6A=Za?1:5;break;case 1:throw Za.error;Z6A=5;break;}}}I5z=1;break;}}}x0k=44;break;case 17:var c8w=" ";c8w+="max ";c8w+="re";c8w+="tries:";var V5e="Treating ${httpCode} a";V5e+="s URL_THROTTLE error for live";V5e+=" streami";V5e+="ng";V5e+=" retry count:";var O4R=" ma";O4R+="x ret";O4R+="rie";O4R+="s:";var P6K=" as URL_T";P6K+="EM";P6K+="P error for live ";P6K+="str";P6K+="eaming retry count:";var O7n="T";O7n+="r";O7n+="eati";O7n+="ng ";ca < R?(f.info(O7n.concat(E,P6K),ca,O4R,R),R=y):(f.info(V5e,ca,c8w,R),R=x);x0k=15;break;}}};B.prototype.M4b=function(D){var M6p,C,E,G;M6p=2;for(;M6p !== 7;){switch(M6p){case 8:this.XAa[D]={$d:C,count:1};M6p=7;break;case 2:(C=k.platform.time.sa(),E=this.config,G=this.XAa[D]);M6p=1;break;case 1:M6p=G?5:8;break;case 3:M6p=!(G.$d >= C - E.Fca || G.Qz || (G.$d=C,++G.count,G.count < E.S9))?9:7;break;case 5:M6p=G.$d < this.BN?4:3;break;case 4:(G.$d=C,G.count=1);M6p=7;break;case 9:return G.Qz=!0;break;}}};l$F=3;break;case 3:B.prototype.QQb=function(D){var G2E,C,E,G,F,I,P,M;G2E=2;for(;G2E !== 7;){switch(G2E){case 4:G2E=this.uH?3:9;break;case 9:var f4d="temporar";f4d+="yN";f4d+="etworkE";f4d+="rror";var s33="tempor";s33+="a";s33+="ryNetw";s33+="ork";s33+="Error";D || this.events.emit(s33,{type:f4d,errorCode:I,httpCode:P,nativeCode:M});G?(this.bP && (clearTimeout(this.bP),this.bP=void 0),this.nYa(),this.Paa.reset(),this.Ara({KTb:D,J_b:I,L_b:P,M_b:M})):this.bP || (this.bP=setTimeout(function(){var G0D;G0D=2;for(;G0D !== 5;){switch(G0D){case 2:C.bP=void 0;C.nba();G0D=5;break;}}},F.dva));G2E=7;break;case 2:var h5e=" last suc";h5e+="c";h5e+="ess was";h5e+=" ";var J9Y="tem";J9Y+="poraril";J9Y+="y";var M0T="perm";M0T+="an";M0T+="e";M0T+="n";M0T+="tly";var V0q=" ";V0q+="ms";V0q+=" ag";V0q+="o";var O5F="Network has";O5F+=" ";O5F+="failed ";(C=this,E=k.platform.time.sa() - this.BN,G=D,F=this.config);U6ONX.c0q(2);f.warn(U6ONX.T8X(O5F,E,V0q,D?M0T:J9Y,h5e));!D && E > F.cva && (G=!0);G2E=4;break;case 3:(I=this.uH.xg,P=this.uH.ln,M=this.uH.ej);G2E=9;break;}}};B.prototype.nba=function(){var F7A,D;F7A=2;for(;F7A !== 5;){switch(F7A){case 2:D=this;this.eYa.j4 || this.eYa.nkb(function(){var q4w;q4w=2;for(;q4w !== 1;){switch(q4w){case 2:D.bP || (D.jl.nba(),D.XAa={},D.pC());q4w=1;break;}}});F7A=5;break;}}};B.prototype.Wca=function(D){var D9j,C;D9j=2;for(;D9j !== 6;){switch(D9j){case 3:var l_n="upd";l_n+="a";l_n+="tingLastSuc";l_n+="c";l_n+="essEvent";var N_4="updatingLa";N_4+="stSucc";N_4+="essEvent";this.u5=0;this.jl.Z && void 0 !== D.Th && !D.stream.Taa(D.Th) && this.jl.p3a(D.stream).Ht.u4b(D.Th);C.pI && this.Paa.Wca(D);this.events.emit(N_4,{type:l_n});D9j=6;break;case 2:C=this.config;this.BN=Math.max(D.th || k.platform.time.sa(),this.BN);this.nYa();this.poa=!1;D9j=3;break;}}};l$F=7;break;}}})();b.eHa=r;},72681:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.GDa=void 0;c=a(5163);r=a(66164);m=a(90745);g=r.platform.pj;a=(function(k){function d(f){var n;n=k.call(this) || this;n.YTa=f;n.i3=f.groupId;n.s3=new m.Ge();n.s3.on(n,g.Kk.LR,n.Hub);n.s3.on(n,g.Kk.JA,n.mja);return n;}c.__extends(d,k);d.prototype.E_b=function(f,n,h){g.prototype.open.call(this,f,n,h);};d.prototype.j7b=function(f){this.i3=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.i3;},enumerable:!1,configurable:!0}});d.prototype.Ce=function(){this.s3 && this.s3.clear();g.prototype.Ce.call(this);};d.prototype.Hub=function(f){this.YTa.u2b(f.probed,f.affected);this.Ce();};d.prototype.mja=function(f){this.YTa.r2b(f.probed,f.affected);this.Ce();};return d;})(g);b.GDa=a;},86429:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fPa=void 0;c=a(66164);m=a(52571);g=a(72681);new c.platform.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function k(d,f,n){this.KS=d;this.pC=f;this.config=n;this.Uj=new Set();this.Ut={};this.jD={};this.tF=!0;this.groupId=1;}k.prototype.t2b=function(d,f){var n,h,l,p,q,u,t,v,w,y;n=this;h=this.config;l=d.Wc;p=d.stream;q=d.Ub.location;(0,m.assert)(p,"Failing url should have an associated stream");(0,m.assert)(q,"Failing url should have an associated location");u=[];t=p.Uh[0];v=!1;w=this.Ut[l];y=c.platform.time.sa();if(!w)w=this.U7b(l,y,f,d);else if(w.$d >= y - h.Fca)return;w.Qz || (t && q.id === t.id && (d.isPrimary=!0),w.$d=y,w.Qz=!1,w.error=f,++w.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,D,C;B=x.Ub.id;D=B + "-" + l;C=n.jD[D];if(void 0 === C || void 0 === C.wY)(C && C.sm && clearTimeout(C.sm),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.Ht) || void 0 === A?0:A.Z)?n.vOb(d.stream.Ht,d.H,x.url):x.url,(0,m.assert)(x,("Unexpected probeUrl: ").concat(x)),z=n.vZa(x,d,B),n.jD[D]={pa:!1,count:0,wY:z.ri()},u.push(z.ri()),v=!0);-1 === w.Bza.indexOf(B) && w.Bza.push(B);}),0 < u.length && (h={ts:c.platform.time.sa(),es:f.JVa,fc:f.xg,fn:f.j1a,nc:f.ej,pb:u,gid:this.groupId},f.ln && (h.hc=f.ln),this.BH(h,"errpb")),v && this.groupId++));};k.prototype.vZa=function(d,f,n){var h,l;h=new g.GDa(this);l="random=" + parseInt(("").concat(1E7 * Math.random()));h.E_b(d + (-1 !== d.indexOf("?")?"&":"?") + l,f,n);return h;};k.prototype.U7b=function(d,f,n,h){var l;l=this.Ut[d];h=h.Ub.location;l || (l=this.Ut[d]={count:0,$d:f,Qz:!1,error:n,Bza:[],wxa:{},location:h,H:n.H,Gkc:n});return l;};k.prototype.getState=function(d){return this.Ut[d];};k.prototype.XBb=function(d){this.Ut[d]=void 0;};k.prototype.BH=function(d,f){var n;if(this.tF){n={type:"logdata",target:"endplay",fields:{}};n.fields[f]={type:"array",value:d,adjust:["ts"]};this.KS.tva(n);}};k.prototype.vOb=function(d,f,n){var h;h=void 0 === f || f === d.kk().AP;return d.RV(h,h?void 0:f,n);};k.prototype.u2b=function(d,f){var n,h,l,p,q,u,t,v,w,y,x,z,A;n=this;p=this.KS;q=this.config;u=f.Wc;t=this.Ut[u];if(t){v=d.url;w=this.jD[d.Wc + "-" + u];if(w){y=t.error;w && w.sm && clearTimeout(w.sm);w.pa=!0;w.count=0;w.wY=void 0;t.wxa[d.Wc]=!0;w=this.Ut[d.Wc];if((null === w || void 0 === w?0:w.Qz) && q.GT){p.eeb(d.Wc,w.error.h_[1]);if(this.tF){x={ts:c.platform.time.sa(),id:d.requestId,servid:f.Wc,gid:d.groupId?d.groupId:-1};this.BH(x,"errst");}this.Ut[d.Wc]=void 0;this.pC();}if(v !== f.url){z=this.jD[u + "-" + u];if(!z || !z.pa){u=null === w || void 0 === w?void 0:w.location;q=Math.min((null === (l=null === (h=null === u || void 0 === u?void 0:u.ib) || void 0 === h?void 0:h.ow) || void 0 === l?void 0:l.Aa) || Math.random() * q.O9,q.O9);A=setTimeout(function(){var B;n.Uj.delete(A);if(!(!1 !== t.Qz || z && z.pa) && (t.Qz=!0,p.zs(y.h_[0],y.h_[1],f.stream.Ht.url,y),n.tF)){B={ts:c.platform.time.sa(),id:d.requestId,servid:f.Wc,gid:d.groupId?d.groupId:-1};n.BH(B,"erep");}},q);this.Uj.add(A);}}this.tF && (x={ts:c.platform.time.sa(),id:d.requestId,result:1,servid:d.Wc,gid:d.groupId?d.groupId:-1},this.BH(x,"pbres"));}}};k.prototype.r2b=function(d,f){var n,h,l,p,q,u,t,v,w,y,x,z,A;n=this;p=this.KS;q=this.config;u=f.Wc;t=this.Ut[u];v=d.Wc;w=this.jD[v + "-" + u];if(w)if(t){y=0;w.pa=!1;w.wY=void 0;t.wxa[v]=!1;x=t.Bza;if(q.GT && v === u && f.isPrimary){z=t.location;z=(null === (l=null === (h=null === z || void 0 === z?void 0:z.ib) || void 0 === h?void 0:h.ow) || void 0 === l?void 0:l.Aa) || 300 * Math.random();h=Math.min(z * Math.pow(2,w.count),12E4);h+=Math.random() * (1E4 > h?100:1E4);w.sm=setTimeout(function(){var B;w.sm=void 0;B=n.vZa(d.url,f,v);B.j7b(d.groupId);w.wY=B.ri();},h);}++w.count;if(v === u && (y=0,x.forEach(function(B){!1 === t.wxa[B] && y++;}),x.length === y && t.count >= q.S9)){A=t.error;t.Qz=!0;q=f.stream;(0,m.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.zs(A.h_[0],A.h_[1],B.url,A);n.tF && (B={ts:c.platform.time.sa(),id:-1,servid:B.Ub.id},n.BH(B,"erep"));});}this.tF && (q={ts:c.platform.time.sa(),id:d.requestId,result:0,servid:d.Wc,gid:d.groupId?d.groupId:-1},this.BH(q,"pbres"));}else w && (w.pa=!1,w.wY=void 0);};k.prototype.Wca=function(d){var f,n,h;if(d.url){n=this.KS;h=n.L6b(d.url);h || (h=null === (f=this.KS.u4a(d)[0]) || void 0 === f?void 0:f.id);h && (d=this.Ut[h]) && d.Qz && this.config.GT && (n.eeb(d.error.JVa,!1),this.tF && (n={ts:c.platform.time.sa(),id:-1,servid:h},this.BH(n,"errst")),this.XBb(h),(h=this.jD[h + "-" + h]) && h.sm && clearTimeout(h.sm));}};k.prototype.reset=function(){var d,f,n;d=this.jD;for(n in d)d.hasOwnProperty(n) && (f=d[n + "-" + n]) && f.sm && clearTimeout(f.sm);this.Uj.forEach(function(h){return clearTimeout(h);});this.Uj.clear();this.jD={};this.Ut={};};return k;})();b.fPa=r;},52045:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.d0a=b.sTb=b.P6a=b.k4a=void 0;c=a(91176);b.k4a=function(m,g){if((m=m.Ra.I.yq) && 0 !== m.length)return (0,c.mc)(m,function(k){return k.Ia.v <= g && g < k.Ua.v;});};b.P6a=function(m,g){return g.index === m.cf.index?!0:(m=m.Ra.I.yq) && 0 !== m.length?m.some(function(k){k=k.Ia;return g.Ia.Ao(k) && k.lessThan(g.Ua);}):!1;};b.sTb=function(m,g){return g.index === m.lf.index?!0:(m=m.Ra.I.yq) && 0 !== m.length?m.some(function(k){k=k.Ua;return g.Ia.lessThan(k) && k.Ao(g.Ua);}):!1;};b.d0a=function(m,g,k,d){var f,n,h,l,p,q,u,t;m=null === (f=g.Ha) || void 0 === f?void 0:f.start;f=null === (n=g.Ha) || void 0 === n?void 0:n.end;t=n=!1;if((null === d || void 0 === d?0:d.HTb) || (null === d || void 0 === d || !d.qTb) && g.Ia.lessThan(k.Ia)){if(u=g.lpa(k.Ia.v))(u=(null !== (l=null === (h=g.Ha) || void 0 === h?void 0:h.start) && void 0 !== l?l:0) + u.Pj,m=Math.max(null !== m && void 0 !== m?m:0,u));u=k.Ia.v;n=!0;}if((null === d || void 0 === d || !d.yTb) && g.Ua.greaterThan(k.Ua)){if(u=g.lpa(k.Ua.v))(u=(null !== (q=null === (p=g.Ha) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Pj,f=Math.min(null !== f && void 0 !== f?f:Infinity,u),g.LX=g.index);u=k.Ua.v;t=!0;}if(void 0 !== m || void 0 !== f)(g.Fi({start:m,end:f}),void 0 !== u && (!g.fx || u > g.fx) && g.qP(u));g.y7b(k.region,n,t);};},47317:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lDa=void 0;c=a(5163);m=a(77399);r=(function(){function g(k,d){this.tk=k;this.filter=d;this.g9a=Math.max(k.max_n || 10,0);this.reset();}g.prototype.reset=function(){this.DY=[];this.offset=0;this.gx=this.cA=null;this.filter.reset();this.ZZ=null;};g.prototype.add=function(k,d,f){var n;n=this.gx;null !== n && f > n && (this.offset+=Math.max(d - n,0),this.gx=null);for((0,m.q6a)(this.DY,[d - this.offset,f - this.offset,k]);this.DY && this.DY.length > this.g9a;)(k=c.__read(this.DY.shift(),3),this.filter.add(k[2],k[0],k[1]));this.ZZ=null;};g.prototype.get=function(k,d){var f,l;if(!this.ZZ){this.ZZ=this.filter.ho();try{for(var n=c.__values(this.DY),h=n.next();!h.done;h=n.next()){l=c.__read(h.value,3);this.ZZ.add(l[2],l[0],l[1]);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (f=n.return) && f.call(n);}finally{if(p)throw p.error;}}}p=this.gx;return this.ZZ.get((null === p?k:p) - this.offset,d);};g.prototype.ho=function(){var k;k=new g(this.tk,this.filter.ho());k.gx=this.gx;k.offset=this.offset;return k;};g.prototype.start=function(k){var d;d=this.gx;null !== d && k > d && (this.offset+=k - d,this.gx=null);this.filter.start(k - this.offset);};g.prototype.stop=function(k){this.gx=null === this.gx?k:Math.min(this.gx,k);this.filter.stop(k - this.offset);};g.prototype.flush=function(){this.filter.flush();};g.prototype.toString=function(){return "AggregatingFilter(" + this.g9a + ", " + this.filter.toString() + ")";};return g;})();b.lDa=r;},43276:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$D=void 0;r=(function(){function a(){var P2y;P2y=2;for(;P2y !== 4;){switch(P2y){case 2:var x6o="1";x6o+="SIY";x6o+="bZrNJCp9";this.mF=this.kc=0;this.ec=this.rg=void 0;x6o;P2y=4;break;}}}var Z4l;Z4l=2;for(;Z4l !== 9;){switch(Z4l){case 2:a.prototype.start=function(c){var h32;h32=2;for(;h32 !== 1;){switch(h32){case 2:this.rg?c < this.rg?(this.mF+=this.rg - c,this.rg=c):this.ec && c > this.ec && (this.ec=this.rg=c):this.ec=this.rg=c;h32=1;break;}}};a.prototype.stop=function(c){var m_i;m_i=2;for(;m_i !== 1;){switch(m_i){case 2:this.ec && c > this.ec && (this.mF+=c - this.ec,this.ec=c);m_i=1;break;}}};a.prototype.add=function(c,m,g){var D$r;D$r=2;for(;D$r !== 4;){switch(D$r){case 2:this.start(m);this.stop(g);this.kc+=c;D$r=4;break;}}};a.prototype.get=function(){var L5c;L5c=2;for(;L5c !== 1;){switch(L5c){case 2:return {Aa:this.mF?Math.floor(8 * this.kc / this.mF):null,K_a:this.mF || 0};break;}}};return a;break;}}})();b.$D=r;},78416:function(r,b,a){var m,g;function c(k){this.T={rX:k.maxc || 25,Jma:k.c || .5,gdc:k.w || 15E3,Nzb:k.b || 5E3};m.call(this,this.T.gdc,this.T.Nzb);this.eT();}m=a(68963);g=a(15913).TDigest;c.prototype=Object.create(m.prototype);c.prototype.shift=function(){var k;k=this.uu(0);m.prototype.shift.call(this);null !== k && (this.$e.push(k,1),this.nB=!0);return k;};c.prototype.flush=function(){var k;k=this.get();this.$e.push(k,1);this.nB=!0;m.prototype.reset.call(this);return k;};c.prototype.get=function(){return this.G4a();};c.prototype.SM=function(){var k;k=this.G4a();return {min:k.min,p10:k.mwa,p25:k.mq,p50:k.wn,p75:k.nq,p90:k.nwa,max:k.max,centroidSize:k.iBb,sampleSize:k.sampleSize,centroids:k.Aj};};c.prototype.G4a=function(){var k;if(0 === this.$e.size())return null;k=this.$e.Bi([0,.1,.25,.5,.75,.9,1]);if(k[2] === k[4])return null;if(this.nB || !this.nd)(this.nB=!1,this.nd={min:k[0],mwa:k[1],mq:k[2],wn:k[3],nq:k[4],nwa:k[5],max:k[6],Bi:this.$e.Bi.bind(this.$e),iBb:this.$e.size(),sampleSize:this.$e.n,Aj:this.gNb(),SM:this.SM.bind(this)});return this.nd;};c.prototype.gNb=function(){var k;if(0 === this.$e.size())return null;if(!this.nB && this.nd)return this.nd.centroids;k=this.$e.Bi([.25,.75]);if(k[0] === k[1])return null;this.$e.size() > this.T.rX && this.$e.yr();k=this.$e.Ek(!1).map(function(d){return {mean:d.Qf,n:d.n};});return JSON.stringify(k);};c.prototype.B4a=function(){return this.$e.summary();};c.prototype.size=function(){return this.$e.size();};c.prototype.toString=function(){return "btdtput(" + this.Wja + "," + this.Gh + "," + this.$n + "): " + this.$e.summary();};c.prototype.eT=function(){this.$e=new g(this.T.Jma,this.T.rX);};r.exports=c;},20596:function(r,b,a){var m,g;function c(k,d,f,n){m.call(this,f,n);this.Bv=new g(k);this.lub=d;}m=a(68963);g=a(16514);c.prototype=Object.create(m.prototype);c.prototype.shift=function(){var k;k=this.uu(0);m.prototype.shift.call(this);null !== k && this.Bv.b4(k);return k;};c.prototype.flush=function(){var k;k=this.get();this.Bv.b4(k);m.prototype.reset.call(this);return k;};c.prototype.get=function(){var k;k=this.NV();return {sampleSize:this.SV(),Jwa:k,kva:k.wn?(k.nq - k.mq) / k.wn:void 0};};c.prototype.SV=function(){return this.Bv.SV();};c.prototype.NV=function(){return this.Bv.SV() < this.lub?{mq:void 0,wn:void 0,nq:void 0,sampleSize:void 0,Bi:void 0}:{mq:this.Bv.AL(25),wn:this.Bv.AL(50),nq:this.Bv.AL(75),sampleSize:this.Bv.SV(),Bi:this.Bv.AL.bind(this.Bv)};};c.prototype.toString=function(){return "biqr(" + this.Wja + "," + this.Gh + "," + this.$n + ")";};r.exports=c;},56089:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.dFa=void 0;c=a(5163);m=a(43276);r=(function(){var n57;n57=2;function g(){var a_K;a_K=2;for(;a_K !== 5;){switch(a_K){case 2:var Q59="1S";Q59+="IYb";Q59+="ZrNJCp9";this.$K={};Q59;a_K=5;break;case 3:this.$K={};"";a_K=2;break;}}}for(;n57 !== 8;){switch(n57){case 3:var w0h="no-pbci";w0h+="d-";w0h+="key";g.D$=w0h;return g;break;case 2:g.prototype.add=function(k,d,f,n,h){var v5_,l;v5_=2;for(;v5_ !== 9;){switch(v5_){case 2:l=this.$K;v5_=1;break;case 1:h=h || g.D$;void 0 === l[n] && (l[n]={});void 0 === l[n][h] && (l[n][h]=new m.$D());l[n][h].add(k,d,f);v5_=9;break;}}};g.prototype.start=function(k,d,f){var x01,n;x01=2;for(;x01 !== 9;){switch(x01){case 2:n=this.$K;f=f || g.D$;x01=5;break;case 5:void 0 === n[d] && (n[d]={});void 0 === n[d][f] && (n[d][f]=new m.$D());n[d][f].start(k);x01=9;break;}}};g.prototype.stop=function(k,d,f){var W9w,n;W9w=2;for(;W9w !== 4;){switch(W9w){case 2:n=this.$K;f=f || g.D$;void 0 !== n[d] && void 0 !== n[d][f] && n[d][f].stop(k);W9w=4;break;}}};g.prototype.get=function(){var U0n,d,f,n,h,l,r5f,p,q,r75,w52,k2c;function k(t){var K$i;K$i=2;for(;K$i !== 1;){switch(K$i){case 2:Object.keys(l.$K[t]).forEach(function(v){var F6V,w;F6V=2;for(;F6V !== 5;){switch(F6V){case 2:w=f.$K[t][v].get();w && h.push({cdnid:t,pbcid:v === g.D$?null:v,avtp:w.Aa,tm:w.K_a});F6V=5;break;}}});K$i=1;break;}}}U0n=2;for(;U0n !== 4;){switch(U0n){case 2:(f=this,n=Object.keys(this.$K).map(function(t){var k7h;k7h=2;for(;k7h !== 1;){switch(k7h){case 2:return parseInt(t);break;case 4:return parseInt(t);break;}}}),h=[],l=this);try{r5f=2;for(;r5f !== 3;){switch(r5f){case 2:(p=c.__values(n),q=p.next());r5f=1;break;case 1:r5f=!q.done?5:3;break;case 4:q=p.next();r5f=1;break;case 7:r5f=~q.done?4:5;break;case 5:k(q.value);r5f=4;break;case 14:q=p.next();r5f=2;break;}}}catch(t){var u;u={error:t};}finally{r75=2;for(;r75 !== 1;){switch(r75){case 2:try{w52=2;for(;w52 !== 1;){switch(w52){case 2:q && !q.done && (d=p.return) && d.call(p);w52=1;break;}}}finally{k2c=2;for(;k2c !== 5;){switch(k2c){case 2:k2c=u?1:5;break;case 3:k2c=u?8:1;break;case 1:throw u.error;k2c=5;break;}}}r75=1;break;}}}return h;break;}}};n57=3;break;}}})();b.dFa=r;},71409:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.rFa=void 0;c=a(5163);r=a(66164);m=a(15913);new r.platform.Console("ASEJS_TDIGEST_FILTER","media|asejs");a=(function(){function g(k){this.config=k;this.Kma=k.c;this.vua=k.vmc;this.eX=k.eX;this.fW=k.fW;this.A8=k.A8;this.f8b=k.ckc;this.aH=k.aH;this.e9a=k.e9a;this.reset();}g.prototype.reset=function(){this.Ii=new m.TDigest(this.Kma,this.vua);this.ec=null;};g.prototype.add=function(k,d,f){var n,h,l,u;f=Math.max(f - d,1);k=8 * k / f;if(this.f8b){null === this.ec && (this.ec=d);h=Math.pow(2,(d - this.ec) / this.aH);l=f * h;if(h >= this.e9a){l=new m.TDigest(this.Kma,this.vua);try{for(var p=c.__values(this.Ii.Ek()),q=p.next();!q.done;q=p.next()){u=q.value;l.push(u.Qf,u.n / h);}}catch(v){var t;t={error:v};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(t)throw t.error;}}this.Ii=l;l=f;this.ec=d;}this.Ii.push(k,l);}else this.Ii.push(k,f);};g.prototype.get=function(){var k;k=this.Ii.Bi([this.eX,this.fW,this.A8]);return {low:k[0] || 0,high:k[1] || 0,initial:k[2] || 0};};g.prototype.ho=function(){var k,d,f,l;d=new g(this.config);f=new m.TDigest(this.Kma,this.vua);try{for(var n=c.__values(this.Ii.Ek()),h=n.next();!h.done;h=n.next()){l=h.value;f.push(l.Qf,l.n);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (k=n.return) && k.call(n);}finally{if(p)throw p.error;}}d.Ii=f;return d;};g.prototype.flush=function(){};g.prototype.start=function(){};g.prototype.stop=function(){};return g;})();b.rFa=a;},8239:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bGa=b.hnb=b.aGa=b.Knb=b.inb=void 0;c=a(5163);m=a(51117);a=(function(){return function(){};})();b.inb=a;g=(function(){function k(d,f,n,h,l){this.alpha=d;this.Aa=f;this.weight=h;this.Bha=n * this.weight;this.$Z=l;}k.prototype.ho=function(){return new k(this.alpha,this.Aa,this.Te,this.weight,this.$Z);};Object.defineProperties(k.prototype,{Te:{get:function(){return this.weight?this.Bha / this.weight:0;},enumerable:!1,configurable:!0}});k.prototype.update=function(d,f,n){var h,l,p,q;h=this.alpha;l=this.weight;p=this.$Z;q=h * (d - p);5 < q && (this.weight/=Math.exp(q),this.$Z=p=d);d=Math.exp(h * (f - p)) - Math.exp(h * (d - p));f=this.weight+=d;h=this.Aa;this.Aa=p=h + d * (n - h) / f;this.Bha=l?this.Bha * (f - d) / l + d * (n - p) * (n - h):0;};return k;})();b.Knb=g;r=(function(){var n18;n18=2;function k(d){var H5J,f,n;H5J=2;for(;H5J !== 7;){switch(H5J){case 3:this.S9a=f;this.ZXb=n;this.reset();H5J=7;break;case 2:var q87="1S";q87+="IYbZr";q87+="NJCp9";this.tk=d;q87;(f=d.min_b,n=d.min_iv);this.aH=d.hl;H5J=3;break;}}}for(;n18 !== 14;){switch(n18){case 7:k.prototype.flush=function(){};return k;break;case 2:k.prototype.ho=function(d){var f2i;f2i=2;for(;f2i !== 8;){switch(f2i){case 2:d || (d=new k(this.tk));d.Gq=this.Gq;d.cA=this.cA;d.ZI=this.ZI.ho();d.$I=this.$I.ho();return d;break;}}};k.prototype.reset=function(){var A4v,d;A4v=2;for(;A4v !== 3;){switch(A4v){case 5:this.$I=new g(d,0,0,0,0);this.Gq=this.cA=null;A4v=3;break;case 2:d=-Math.log(.5) / this.aH;this.ZI=new g(d,0,0,0,0);A4v=5;break;}}};k.prototype.start=function(d){var M9K;M9K=2;for(;M9K !== 1;){switch(M9K){case 2:null === this.Gq && (this.Gq=d);M9K=1;break;}}};k.prototype.add=function(d,f,n){var u3V=U6ONX;var b$m,h;b$m=2;for(;b$m !== 7;){switch(b$m){case 2:h=this.Gq;this.Gq=null === h?f:Math.min(h,f);h=this.cA;this.cA=null === h?n:Math.max(h,n);b$m=3;break;case 3:u3V.x6U(3);h=Math.max(u3V.M9t(n,f),1);u3V.x6U(4);this.ZI.update(f,n,u3V.M9t(h,d));u3V.c0q(5);this.$I.update(f,n,u3V.T8X(h,8,d));b$m=7;break;}}};k.prototype.get=function(d,f){var A4X=U6ONX;var l4X,n,h,l,p,q,u,v,w,t;l4X=2;for(;l4X !== 16;){switch(l4X){case 1:l4X=0 < l?5:17;break;case 7:l4X=0 === t?6:12;break;case 2:(n=this.Gq || 0,h=this.cA || 0,l=d - h,p=this.ZXb,q=this.ZI,u=this.$I);l4X=1;break;case 10:l=1E-11 < v?Math.max(w / v,l):l + 2 * t / p;l4X=14;break;case 5:l4X=(q=new g(q.alpha,q.Aa,q.Te,q.weight,q.$Z),u=new g(u.alpha,u.Aa,u.Te,u.weight,u.$Z),0 < q.weight && 0 !== f)?4:20;break;case 14:A4X.x6U(3);q.update(A4X.M9t(h,n),A4X.M9t(d,n,A4X.c0q(3)),A4X.M9t(l,f,A4X.c0q(4)));l4X=13;break;case 13:A4X.c0q(3);u.update(A4X.T8X(h,n),A4X.M9t(d,n),0);l4X=20;break;case 20:d=q.weight;f=u.weight;return {Aa:d?q.Aa:null,Te:d?q.Te:null,rL:f?u.Aa:null,gQ:f?u.Te:null};break;case 17:(q=this.ZI,u=this.$I);l4X=20;break;case 12:(v=new m.I1(p,t).bBb(l),w=p - v[1]);A4X.c0q(6);var F47=A4X.T8X(1,17,6,19,7);v=F47 - v[0];l4X=10;break;case 4:void 0 === f && (f=this.S9a);l >= p && (f=Math.min(f,this.S9a));p=f * q.Aa;A4X.x6U(7);var Z8g=A4X.T8X(14,38,19,4,73);t=Math.pow(f,Z8g) * q.Te;l4X=7;break;case 6:l=Math.max(l,p);l4X=14;break;}}};k.prototype.toString=function(){var I0q;I0q=2;for(;I0q !== 1;){switch(I0q){case 2:var u5o="D";u5o+="elive";u5o+="r";u5o+="yDi";u5o+="st(";return u5o.concat(this.aH,")");break;}}};k.prototype.stop=function(){};n18=7;break;}}})();b.aGa=r;a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);return d;})(a);b.hnb=a;r=(function(k){function d(f){var n;n=k.call(this,f) || this;n.tk=f;return n;}c.__extends(d,k);d.prototype.get=function(){var f,n,h;if(0 === this.ZI.weight || 0 === this.$I.weight)return {low:null,high:null,initial:null};switch(this.tk.TN){case "deliverytime":f=this.ZI;f=new m.I1(f.Aa,f.Te);(n=this.tk.accuracy,h=this.tk.WWb);return {low:8 / f.Nw(this.tk.fW,n,h),high:8 / f.Nw(this.tk.eX,n,h),initial:8 / f.Nw(this.tk.A8,n,h)};default:return (f=this.$I,f=new m.I1(f.Aa,f.Te),n=this.tk.accuracy,h=this.tk.WWb,{low:f.Nw(this.tk.eX,n,h),high:f.Nw(this.tk.fW,n,h),initial:f.Nw(this.tk.A8,n,h)});}};d.prototype.ho=function(){var f;f=new d(this.tk);k.prototype.ho.call(this,f);return f;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.tk.eX,this.tk.fW),"])");};return d;})(r);b.bGa=r;},28855:function(r,b,a){var k;function c(d){this.reset();this.u7b(d);}function m(d){this.setInterval(d);this.reset();}function g(d){this.YA=new m(d);this.$b=0;this.Jc=null;}k=a(17267);c.prototype.u7b=function(d){this.EK=Math.pow(.5,1 / d);this.DS=d;};c.prototype.reset=function(d){d && d.Aa && k.Tb(d.Aa)?d.Te && k.Tb(d.Te)?(this.xv=this.Ptb,this.np=d.Aa,this.UA=d.Te + d.Aa * d.Aa):(this.xv=this.Ptb,this.np=d.Aa,this.UA=d.Aa * d.Aa):this.UA=this.np=this.xv=0;};c.prototype.add=function(d){var f;if(k.Tb(d)){this.xv++;f=this.EK;this.np=f * this.np + (1 - f) * d;this.UA=f * this.UA + (1 - f) * d * d;}};c.prototype.Vqa=function(){var d,f,n;if(0 === this.xv)return {Aa:0,Te:0};d=this.np;f=this.UA;n=1 - Math.pow(this.EK,this.xv);d/=n;f/=n;n=d * d;return {Aa:d,Te:f > n?f - n:0};};c.prototype.get=function(){var d;d=this.Vqa();return {Aa:Math.floor(d.Aa),Te:Math.floor(d.Te)};};c.prototype.getState=function(){return 0 === this.xv?null:{a:Number(this.np.toPrecision(6)),s:Number(this.UA.toPrecision(6)),n:this.xv};};c.prototype.Tf=function(d){if(k.xc(d) || !k.has(d,"a") || !k.has(d,"s") || !k.isFinite(d.a) || !k.isFinite(d.s))return (this.UA=this.np=this.xv=0,!1);this.np=d.a;this.UA=d.s;k.has(d,"n") && k.Tb(d.n)?this.xv=d.n:this.xv=16 * this.DS;return !0;};m.prototype.setInterval=function(d){this.DS=d;this.EK=-Math.log(.5) / d;};m.prototype.reset=function(d){this.ec=this.rg=null;d && k.isFinite(d.Aa)?this.np=d.Aa:this.np=0;};m.prototype.start=function(d){k.xc(this.rg) && (this.ec=this.rg=d);};m.prototype.add=function(d,f,n){var h,l,p;k.xc(this.rg) && (this.ec=this.rg=f);this.rg=Math.min(this.rg,f);f=Math.max(n - f,1);h=this.EK;l=Math.max(n,this.ec);p=l - this.ec;n=l - n;this.np=this.np * (0 < p?Math.exp(-h * p):1) + 8 * d / f * (1 - Math.exp(-h * f)) * (0 < n?Math.exp(-h * n):1);this.ec=l;};m.prototype.get=function(d){var f;d=Math.max(d,this.ec);f=this.np * Math.exp(-this.EK * (d - this.ec));d=1 - Math.exp(-this.EK * (d - this.rg));0 < d && (f/=d);return {Aa:Math.floor(f)};};m.prototype.toString=function(){return "ewmav(" + this.DS + ")";};g.prototype.setInterval=function(d){this.YA.setInterval(d);};g.prototype.reset=function(d){this.YA.reset(d);this.$b=0;this.Jc=null;};g.prototype.start=function(d){!k.xc(this.Jc) && d > this.Jc && (this.$b+=d - this.Jc,this.Jc=null);this.YA.start(d - this.$b);};g.prototype.add=function(d,f,n){!k.xc(this.Jc) && n > this.Jc && (this.$b+=f > this.Jc?f - this.Jc:0,this.Jc=null);this.YA.add(d,f - this.$b,n - this.$b);};g.prototype.stop=function(d){this.Jc=Math.max(k.xc(this.YA.ec)?0:this.YA.ec + this.$b,k.xc(this.Jc)?d:Math.min(this.Jc,d));};g.prototype.get=function(d){return this.YA.get((k.xc(this.Jc)?d:this.Jc) - this.$b);};g.prototype.toString=function(){return this.YA.toString();};r.exports={mnb:c,Oec:m,knb:g};},97315:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x;function c(z){this.config=z;this.ctb=z.GSa;}m=a(66917).Cga;g=a(71409).rFa;k=a(43276).$D;b=a(28855);d=b.mnb;f=b.knb;n=a(75059).lnb;h=a(8239).aGa;l=a(8239).bGa;p=a(75059).lsb;q=a(20596);u=a(78416);t=a(88318).$Qa;v=a(21506);w=a(97610);y=a(82583).wOa;x=a(47317).lDa;c.prototype.create=function(z,A){var B,D,C,E;B=this.ctb[z];D=A[z];C={};B && Object.keys(B).forEach(function(G){C[G]=B[G];});D && Object.keys(D).forEach(function(G){C[G]=D[G];});switch(C.type){case "slidingwindow":E=new m(this.config,new n(C.mw));break;case "discontiguous-ewma":E=new m(this.config,new f(C.mw));break;case "initial-discontiguous-ewma":E=new y(new f(C.mw),C.playerStates);break;case "wssl":E=new p(C.mw,C.max_n);break;case "iqr":E=new q(C.mx,C.mn,C.bw,C.iv);break;case "tdigest":E=new u(C);break;case "ci":E=new m(this.config,new x(C,new g(C)));break;case "discrete-ewma":E=new d(C.hl);break;case "tdigest-history":E=new t(C);break;case "iqr-history":E=new v(C);break;case "avtp":E=new k();break;case "entropy":E=new w(C);break;case "deliverytime":E=new m(this.config,new x(C,new h(C)));break;case "deliverytime-ci":E=new m(this.config,new x(C,new l(C)));}E && (E.type=C.type);return E;};r.exports=c;},96965:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WLa=void 0;r=a(66164);c=a(65161);new r.platform.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function m(g,k){this.config=g;this.X$=k;this.reset();}m.prototype.reset=function(){this.confidence=c.Jx.HAVE_NOTHING;this.startTime=this.ta=0;};m.prototype.ho=function(){var g;g=new m(this.config,this.X$);g.confidence=this.confidence;g.ta=this.ta;g.startTime=this.startTime;return g;};m.prototype.add=function(g,k,d){0 === this.startTime && (this.startTime=k,this.ta=0);this.ta+=g;g=d - this.startTime;this.confidence=Math.max(this.confidence,c.Jx.ZJ);this.confidence < c.Jx.YJ && (g > this.config.nub || this.ta > this.config.mub) && (this.confidence=c.Jx.YJ);this.confidence < c.Jx.$Q && (g > this.config.gvb || this.ta > this.config.fvb) && (this.confidence=c.Jx.$Q,this.X$());};m.prototype.get=function(){return this.confidence;};m.prototype.start=function(){};m.prototype.stop=function(){};m.prototype.flush=function(){};return m;})();b.WLa=a;},97610:function(r,b,a){var m;function c(g){var k,d;k=g.sw;d=g.mw;this.dL=k;this.fia={uhd:g.uhdl,hd:g.hdl};this.$n=Math.max(Math.ceil(1 * k / d),1);this.oub=g.mins || 1;m.call(this,k,d);this.reset();}m=a(68963);new (a(66164).platform.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(m.prototype);c.prototype.flush=function(){this.Mi.map(function(g,k){this.xVa(g,this.Npa(k));},this);};c.prototype.qAb=function(){var g,k,d,f,n,h,l,t;g=this.fia;for(k in g)if(g.hasOwnProperty(k)){d=g[k];f=this.Pja[k];n=this.Oja[k];if(f.first){h=f.first;l=f.oI;void 0 !== l && (n[h][l]+=1);f.first=void 0;}f=[];h=0;d=l=d.length + 1;for(var p=0;p < l;p++){for(var q=0,u=0;u < d;u++)q+=n[u][p];h+=q;f.push(q);}q=-1;if(h > this.oub){for(p=q=0;p < l;p++)if(0 < f[p])for(u=0;u < d;u++){t=n[u][p];0 < t && (q-=t * Math.log(1 * t / f[p]));}q/=h * Math.log(2);}this.Cia[k]=q;}return this.Cia;};c.prototype.xVa=function(g,k){var h,l;for(var d=this.$n,f=this.fia;this.c3.length >= d;)this.c3.shift();for(;this.d3.length >= d;)this.d3.shift();this.c3.push(g);this.d3.push(k);g=this.c3.reduce(function(p,q){return p + q;},0);k=this.d3.reduce(function(p,q){return p + q;},0);if(0 < k){g=8 * g / k;for(var n in f)if(f.hasOwnProperty(n)){k=this.Pja[n];d=this.Oja[n];h=this.f3b(g,f[n]);l=k.oI;void 0 !== l?d[h][l]+=1:k.first=h;k.oI=h;}}};c.prototype.f3b=function(g,k){for(var d=0;d < k.length && g > k[d];)d+=1;return d;};c.prototype.shift=function(){this.xVa(this.Mi[0],this.Npa(0));m.prototype.shift.call(this);};c.prototype.reset=function(){var g,k,d,f,n,h,l;this.Pja={};this.c3=[];this.d3=[];this.Oja={};this.Cia={};g=this.fia;for(k in g)if(g.hasOwnProperty(k)){d=this.Oja;f=k;h=void 0;l=Array(h);h=n=g[k].length + 1;for(var p=0;p < h;p++){l[p]=Array(n);for(var q=0;q < n;q++)l[p][q]=0;}d[f]=l;this.Pja[k]={first:void 0,oI:void 0};this.Cia[k]=0;}m.prototype.reset.call(this);};r.exports=c;},66917:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Cga=void 0;new (a(66164).platform.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(m,g){this.config=m;this.filter=g;}c.prototype.ho=function(){return new c(this.config,this.filter);};c.prototype.j8b=function(m,g,k,d){var f,n,h;h=d.AI;if(!h || !h.T8())return !0;switch(this.config.YRb){case "requested":return !1;case "requested-low":return (h=h.$ya(this.config.joa),h.W9a() > ((null === (f=d.Cs) || void 0 === f?void 0:f.eD) || 0));case "inferred":h=h.$ya(this.config.joa);m=h.sua(m,g,k,this.config.gY);if(!m)break;return h.W9a() > ((null === (n=d.Cs) || void 0 === n?void 0:n.eD) || 0);case "inferred-strict":if((h=h.$ya(this.config.joa),h.sua(m,g,k,this.config.gY)))return !1;}return !0;};c.prototype.add=function(m,g,k,d){this.j8b(m,g,k,d) && this.filter.add(m,g,k,d);};c.prototype.get=function(m){if(this.filter.get)return this.filter.get(m);};c.prototype.start=function(m){this.filter.start && this.filter.start(m);};c.prototype.stop=function(m){this.filter.stop && this.filter.stop(m);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Cga=r;},82583:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wOa=void 0;r=(function(){function a(c,m){this.fi=0;this.filter=c;this.Daa=m;this.fi=0;}a.prototype.oX=function(c){return 0 < this.Daa.filter(function(m){var g;return m === (null === (g=c.Cs) || void 0 === g?void 0:g.nf);}).length;};a.prototype.add=function(c,m,g,k){this.oX(k) && this.filter.add(c,m,g,k);};a.prototype.start=function(c,m){this.filter.start && this.oX(m) && this.filter.start(c);};a.prototype.stop=function(c,m){this.filter.stop && this.oX(m) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.fi=0;this.filter.reset && this.filter.reset();};a.prototype.Xw=function(c,m){this.oX(m) && (this.fi+=1,this.filter.Xw && this.filter.Xw(c,m));};a.prototype.Zw=function(c,m,g){this.oX(g) && (this.fi=Math.max(this.fi - 1,0),0 === this.fi && this.stop(c,g),this.filter.Zw && this.filter.Zw(c,g));};return a;})();b.wOa=r;},75059:function(r,b,a){var k;function c(d){this.dL=d;this.reset();}function m(d){this.$n=new c(d);this.$b=0;this.Jc=null;}function g(d,f){this.dL=d;this.BTa=f;this.reset();}k=a(17267);c.prototype.cUa=function(d,f){this.ec+=d;this.tj+=d;this.kc+=f;this.Qi.push({d:d,b:f});};c.prototype.XS=function(){var d;for(;this.tj > this.dL;){d=this.Qi.shift();this.kc-=d.b;this.tj-=d.d;}};c.prototype.reset=function(){this.Qi=[];this.ec=null;this.tj=this.kc=0;};c.prototype.setInterval=function(d){this.dL=d;this.XS();};c.prototype.start=function(d){k.xc(this.ec) && (this.ec=d);};c.prototype.add=function(d,f,n){k.xc(this.ec) && (this.ec=f);f > this.ec && this.cUa(f - this.ec,0);this.cUa(n > this.ec?n - this.ec:0,d);this.XS();};c.prototype.get=function(){return {Aa:Math.floor(8 * this.kc / this.tj),Te:0};};m.prototype.reset=function(){this.$n.reset();this.$b=0;this.Jc=null;};m.prototype.add=function(d,f,n){!k.xc(this.Jc) && n > this.Jc && (f > this.Jc && (this.$b+=f - this.Jc),this.Jc=null);this.$n.add(d,f - this.$b,n - this.$b);};m.prototype.start=function(d){!k.xc(this.Jc) && d > this.Jc && (this.$b+=d - this.Jc,this.Jc=null);this.$n.start(d - this.$b);};m.prototype.stop=function(d){this.Jc=k.xc(this.Jc)?d:Math.min(d,this.Jc);};m.prototype.get=function(){return this.$n.get();};m.prototype.setInterval=function(d){this.$n.setInterval(d);};g.prototype.reset=function(){this.Qi=[];this.kc=this.tj=0;};g.prototype.add=function(d,f,n,h){void 0 !== h && !0 === h && (f=n - f,this.tj+=f,this.kc+=d,this.Qi.push({d:f,b:d}),this.XS());};g.prototype.XS=function(){var d;for(;this.tj > this.dL || this.Qi.length > this.BTa;){d=this.Qi.shift();this.kc-=d.b;this.tj-=d.d;}};g.prototype.start=function(){};g.prototype.stop=function(){};g.prototype.get=function(){return {Aa:Math.floor(8 * this.kc / this.tj),Te:0};};g.prototype.setInterval=function(d,f){this.dL=d;this.BTa=f;this.XS();};r.exports={Nec:c,lnb:m,lsb:g};},8934:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hMa=b.Pnb=void 0;c=a(5163);m=a(66164);g=a(6198);k=a(48170);d=a(52045);f=a(69575);r=(function(){return function(n,h,l,p){this.T=h;this.vu=p;p="[" + n + "]";l=(0,f.Pf)(m.platform,l,p);this.V9a=n === g.u.X?h.Vua:h.Rua;p=m.platform.TM()[n];this.qX=n === g.u.X?h.mXb:h.RWb;this.qX=Math.min(h.YWb * p,this.qX);k.L && l.trace("This pipeline's buffer size ",p,this.qX);this.k$=(n === g.u.X?h.Bz:h.Aw) || h.k$;this.Q9=(n === g.u.X?h.lXb:h.QWb) || h.Q9;this.Cka=h.Cka;};})();b.Pnb=r;r=(function(n){function h(l,p,q,u){return n.call(this,l,p,q,u) || this;}c.__extends(h,n);h.prototype.i3a=function(l,p,q,u){var t,v,w,y,x,z,A,B,D;void 0 === q && (q=!1);void 0 === u && (u=!1);w=this.vu;y=l.ca.Esa();x=w.cf.index;z=w.lf.index;A=p === x;B=p === z;if(!B || A && w.cf.Ha){if(A){D=l.a3a(w.cf);D.qP(w.cf.fx);B && (w.cf.Ha || w.lf.Ha) && D.Fi({start:null === (t=D.Ha) || void 0 === t?void 0:t.start,end:null === (v=w.lf.Ha) || void 0 === v?void 0:v.end});}else D=l.po(p);}else (D=l.a3a(w.lf),D.qP(w.lf.fx));D.LX=p + 1;if(t=(0,d.k4a)(w,w.Tj))(k.L && w.gy("getFragmentForRequest pts:",w.Tj,"in region:",t,"previous region:",w.rta),v=void 0 === w.rta || w.rta !== t.region,(0,d.d0a)(w.S,D,t,{qTb:A,yTb:B,HTb:v}));B && (D.X8a(),D.B7b(w.Ra.I));A && D.JWb();if(D.LX !== p && !y && (this.Cka || !D.Ha) && (!q || p > x + 1) && (!u || p < z - 2))for((q=u?z - 1:z,++p);p < l.Ga.length && p < q && (D.ta < this.V9a || D.Bb.v < this.k$) && (1 === D.stream.Ph.length || this.SAb(l,p));++p){u=l.po(p);if((0,d.P6a)(w,u))break;if(D.Bb.add(u.Bb).v > this.Q9)break;if(D.ta + u.ta > this.qX)break;D.zka(u);D.LX=p + 1;k.L && w.gy("getFragmentForRequest: extended fragment startPts:",D.Ia.v,"to duration:",D.Bb.v,"size:",D.ta,"min request size:",this.V9a,"max request size:",this.qX,"min request duration:",this.k$,"max request duration:",this.Q9,"edit:",D.Ha);}k.L && w.gy("getFragmentForRequest(" + p + ") returning:",D,"stream:",D.stream,"firstRequestInRegion:",D.wpa,"lastRequestInRegion:",D.ou,"nextIndex:",D.LX);return D;};h.prototype.SAb=function(l,p){return !l.Ph.some(function(q){return p === q.Sd;});};return h;})(r);b.hMa=r;},65077:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.G0a=b.dC=b.Jr=b.w7=void 0;c=a(50468);m=a(65161);g=a(52571);k=a(8171);b.w7=function(d,f){return d.Py(f,void 0,!0);};b.Jr=function(d,f,n,h,l,p){var q,u,t,v;k.Jq.iw(d);if(n.Z){f=n.N;l=n.kk();p=l.AP;q=l.Bb.jd(f);q=p + Math.floor(h / q.v);d === m.u.Y && (q=Math.max(p,q - 1));h=l.yV(q);d=h.Ia;h=h.Ua;(0,g.assert)(d.N === f,"Expected fragment start timestamp to be in stream timescale");(0,g.assert)(h.N === f,"Expected fragment end timestamps to be in stream timescale");return new c.Kq(n,void 0,{index:q,rb:d.ja,yb:h.ja,N:f,offset:0,ta:0});}(0,g.assert)(n.Ga,"findFirstFragment called without stream fragments");u=n.Ga;h=Math.max(n.Ga.tl(0),h);d === m.u.Y && !p && f.Rm && !f.LT && n.Rf && (h=Math.max(n.Ga.tl(0),h + n.Rf.v));q=(0,b.w7)(u,h);t=n.po(q);if(t.Ua.v < h)return t;v=t.pLb(h);v?(0 < v.Pj && t.Fi({start:v.Pj}),d !== m.u.Y || f.b$ || (0 > v.Fe && t.Fi({start:v.Pj}),v.Fe < (f.Rm && !f.LT && n.Rf?Math.floor(n.Rf.v):0) && t.eoa())):h >= t.Ua.v && q < u.length - 1 && (t=n.po(q + 1));d === m.u.X && l && t.Ua.v === l && q < u.length - 1 && (t=n.po(q + 1));d === m.u.Y && !t.Ha && (f.t6a || f.rIb) && p && t.Fi({});t.qP(h);return t;};b.dC=function(d,f,n,h,l,p){var q,u;k.Jq.iw(d);if(n.Z)return (l=f=q=Infinity,d=n.N,void 0 !== h && Infinity !== h && (f=n.kk(),l=f.AP,p=f.Bb.jd(d),q=l + Math.floor(h / p.v),0 === h % p.v && (q=Math.max(l,q - 1)),f=f.yV(q),h=f.Ua,f=f.Ia.ja,l=h.ja),new c.Kq(n,void 0,{index:q,rb:f,yb:l,N:d,offset:0,ta:0}));q=n.Ga;void 0 === h && (h=q.kf);if(l && (l=l.dLb(n,h,d,f,p)))return l;l=q.xa;p=h?h + (0,b.G0a)(d,l,f.$O,f.kP):q.WU(q.length - 1);q=q.Py(p,void 0,!0);l=n.po(q);0 === q || l.Ia.v !== h || d !== m.u.X && f.$O || (--q,l=n.po(q));p=d === m.u.X?p:h;if(p < l.Ua.v){u=l.lpa(p);u && 0 !== u.Pj?l.Fi({end:u.Pj}):d === m.u.Y && (u || p < l.Ia.v) && 0 !== q?l=n.po(q - 1):d !== m.u.X || n.cTb && !u || 0 === q || (l=n.po(q - 1));}d === m.u.Y && !l.Ha && f.t6a && l.Fi();l.qP(h);return l;};b.G0a=function(d,f,n,h){var l;return d === m.u.X || h?0:n?null !== (l=null === f || void 0 === f?void 0:f.v) && void 0 !== l?l:0:f?-f.v:0;};},97757:function(r,b,a){var m,g,k,d,f,n;function c(h,l){return h - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.Snb=b.DM=void 0;m=a(5163);g=a(66164);k=a(48170);d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).Qnb;b.DM=function(h,l){var p;if(!d)return h;p=new n(h.name,l);return (function(q){function u(){for(var t=[],v=0;v < arguments.length;v++)t[v]=arguments[v];t=q.apply(this,m.__spreadArray([],m.__read(t),!1)) || this;t.h2a=p.bFb(t);return t;}m.__extends(u,q);return u;})(h);};n=(function(){function h(l,p){this.name=l;this.Lma=p;this.vC=[];this.NSb=0;}Object.defineProperties(h,{console:{get:function(){f || (f=new g.platform.Console("GCTAGGER"));return f;},enumerable:!1,configurable:!0}});h.prototype.bFb=function(l){var p,q;if(d){p=this.Lma;p || (p=h.console);if(!l.h2a && "undefined" !== typeof nrdp){l={type:this.name,id:this.NSb++};this.vC.push(l.id);q=JSON.stringify(l);q=nrdp.h2a(q,(function(u,t,v,w){u.vC.splice(u.vC.indexOf(t),1);u.vC=u.vC.sort(c);for(var y=[],x=0;x < u.vC.length && 5 > x;x++)y.push(u.vC[x]);null === w || void 0 === w?void 0:w.error(("Removing instance for ").concat(v,"/").concat(t,". ") + ("").concat(u.vC.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,l.id,l.type,p));k.L && p && p.info("Creating tagged instance",l);return q;}}};return h;})();b.Snb=n;},79183:function(r,b,a){var m,g,k,d,f,n,h;function c(l,p){return l.filter(function(q){return q.groupId === p.groupId;}).reduce((0,g.R9a)(function(q){return q.Io;}),p).Io;}Object.defineProperties(b,{__esModule:{value:!0}});b.KHa=void 0;m=a(5163);g=a(91176);k=a(66164);d=a(57141);f=a(65161);n=a(61996);h=a(62629);r=(function(){function l(p,q){this.S=p;this.config=q;this.U7a=0;this.Se=new n.Xq({uh:10,nl:this,source:"GraphStreamingProcess"});}l.prototype.uab=function(p,q){var u,t,v,w,y,x,z,A,B,E,G,F,I,P;v=!1;w=[];if(0 < q.length){y=this.Q8b(q);x=y.some(function(L){return 1 === (0,h.tXa)(L) && (0,f.pn)(L.Xd);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var D=m.__values(y),C=D.next();!C.done;C=D.next()){E=C.value;if(E.Ur && (!B || E.groupId === B))if(E.vi)B=E.groupId;else if("global" !== A[E.mediaType]){G=E.X8(p,null !== (t=E.bu) && void 0 !== t?t:1);F=(0,d.adb)(G.reason);F && (A[E.mediaType]=F,(0,g.o4)(z,E));if(G.result){I=c(z,E);if(this.DBb(E,x,I)){P=E.pH();this.Qta(w,E,P.reason);P.Qh && (this.U7a=k.platform.time.sa());if(v=P.Qh)break;if("globalVideoMemoryLimit" === P.reason || "globalAudioMemoryLimit" === P.reason){this.S.trace("GSP.onRequestOpportunity stopping at memory limit:",P.reason);break;}"pipelineTryIssueHeaderRequest" === P.reason && (B=E.groupId,this.S.trace("GSP.onRequestOpportunity stopping due to blocking header"));}else if((this.Qta(w,E,"concurrencyCheck"),!F))break;}else this.Qta(w,E,G.reason);}}}catch(L){var M;M={error:L};}finally{try{C && !C.done && (u=D.return) && u.call(D);}finally{if(M)throw M.error;}}}this.Se.nr({streamableCount:q.length,streamableReasons:w,lastSuccessfulIssueRequestMs:this.U7a});return v;};l.prototype.Q8b=function(p){return this.p2b(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.z9b;});};l.prototype.p2b=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,h.sXa)(q.config,u,q.S),z9b:u};});};l.prototype.Qta=function(p,q,u){this.Se.enabled && p.push(this.bQb(u,q));};l.prototype.bQb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Xd,currentPlayerMs:q.Uk,pathCompletePlayerMs:q.Io,streamingPlayerMs:q.Ck};};l.prototype.DBb=function(p,q,u){return this.config.bU && (q || (0,f.pn)(p.Xd))?this.EBb(p,u):this.FBb(p,u);};l.prototype.GBb=function(p){return p.Ck <= p.Io;};l.prototype.FBb=function(p,q){return p.Ck - (p.Uk > q?p.Uk:q) <= Math.max(this.config.Tua,Math.min((p.Io - p.Uk) * this.config.BAa,this.config.gXb));};l.prototype.EBb=function(p,q){var u,t;if(void 0 === this.config.bU)return !0;u=this.config.bU;t=p.Uk + u;return p.Ck <= t?!0:this.GBb(p) && q >= t && p.Ck - q < u;};m.__decorate([(0,n.Ib)({methodName:"onRequestOpportunity",Cj:!0})],l.prototype,"uab",null);return l;})();b.KHa=r;},62629:function(r,b,a){var p,q,u;function c(t){return t.Ck - t.Uk;}function m(t,v){return Math.exp(-(Math.log(2) / t) * v);}function g(t,v){t=Math.log(2) * v / t;return (1 - Math.exp(-t)) / t;}function k(t,v){var w,y,x,z,A;w=v.nI;y=v.mI;x=v.Kz;if(0 === v.qf.length)return {e4:!1};z=v.qf[0];v=z.tf;A=z.rC;z=z.duration;if(!A || 1 === x)return {e4:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(w < y)return {e4:!1};y=w - y;w=x + y / z * (1 - x);z-=y;A=A * (1 - w) / (1 - x);t=v * w / x * m(t,z) + A * g(t,z);(0,q.assert)(1 >= t);return {e4:!0,vxb:t};}function d(t){var v,w,y,x,z;v=t.St;w=t.GP;y=t.Dq;x=t.Ck;z=t.Uk;t=t.xM;(0,q.assert)(void 0 !== w);(0,q.assert)(void 0 !== v);y=1 - y;x-=z;t?(z=w - t - x,v-=t,0 >= z?t=Math.max(0,(w - t) / v):(w=v - z,t=0 < w?x / w:0,y*=0 < w?w / v:1)):(z=w - x,0 >= z?t=w / v:(w=v - z,t=0 < w?x / w:0,y*=0 < w?w / v:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function f(t,v){t=Math.log(2) / t.ddb;return n(v) * Math.exp(-t * c(v));}function n(t){var v;return (null !== (v=t.bu) && void 0 !== v?v:1) * t.qf.reduce(function(w,y){var x;x=y.rC;return w * (y.tf + (void 0 === x?0:x));},1);}function h(t){var v,w,y,x;if(0 === t.qf.length)return 0;w=0;if(1 > t.Kz){w=t.nI;y=t.mI;x=null !== (v=t.qf[0].duration) && void 0 !== v?v:0;w=Math.max(0,Math.min(x,w - (y - x)));}return t.qf.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - w;}function l(t){return t.qf.filter(function(v){return !v.rC;}).reduce(function(v,w){return v * w.tf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Sla=b.tXa=b.JAb=b.sXa=b.OAb=void 0;p=a(65161);q=a(52571);u=a(48170);b.OAb=c;b.sXa=function(t,v,w){var y,x,z,A,B,D,C,E;if(!t.s6 || (0,p.pn)(v.Xd))return f(t,v);x=t.ddb;t=c(v);z=h(v);A=l(v);B=k(x,v);D=B.e4;B=B.vxb;B=void 0 === B?1:B;C=1 > v.Dq?d(v):1;E=(null !== (y=v.bu) && void 0 !== y?y:1) * A * m(x,t - z) * B * C * v.qf.filter(function(G,F){return G.rC && (0 < F || !D);}).reduce(function(G,F){var I,P;I=F.rC;P=F.duration;P=void 0 === P?0:P;I=void 0 === I?0:I;F=F.tf * m(x,P) + I * g(x,P);return G * F;},1);u.L && (null === w || void 0 === w?void 0:w.log(("{").concat(v.groupId,"} [").concat(v.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(v.Dq,", ") + ("pssp: ").concat(v.Kz,", ") + ("streamingDuration: ").concat(v.GP,", ") + ("duration: ").concat(v.St,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(m(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(C,", ") + ("probabilities: ").concat(JSON.stringify(v.qf)," => ").concat(E)));return E;};b.JAb=f;b.tXa=n;b.Sla=l;},45247:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.sYb=b.Dj=b.QJb=b.Sy=b.LV=b.UM=b.mWb=b.H8=b.wW=b.KH=b.c$=b.Fb=b.u=b.zA=b.Yc=b.BK=b.jg=b.Qp=b.cS=b.kh=b.jc=b.zR=b.dt=b.hS=b.Sq=b.K=void 0;c=a(5163);m=a(66164);c.__exportStar(a(66164),b);g=a(91176);Object.defineProperties(b,{K:{enumerable:!0,get:function(){return g.K;}}});Object.defineProperties(b,{Sq:{enumerable:!0,get:function(){return g.Sq;}}});c.__exportStar(a(49502),b);k=a(63576);Object.defineProperties(b,{hS:{enumerable:!0,get:function(){return k.hS;}}});Object.defineProperties(b,{dt:{enumerable:!0,get:function(){return k.dt;}}});Object.defineProperties(b,{zR:{enumerable:!0,get:function(){return k.zR;}}});c.__exportStar(a(85858),b);c.__exportStar(a(25218),b);c.__exportStar(a(40666),b);c.__exportStar(a(95407),b);c.__exportStar(a(51308),b);d=a(91967);Object.defineProperties(b,{jc:{enumerable:!0,get:function(){return d.jc;}}});Object.defineProperties(b,{kh:{enumerable:!0,get:function(){return d.kh;}}});f=a(11862);Object.defineProperties(b,{cS:{enumerable:!0,get:function(){return f.cS;}}});n=a(6783);Object.defineProperties(b,{Qp:{enumerable:!0,get:function(){return n.Qp;}}});h=a(69575);Object.defineProperties(b,{jg:{enumerable:!0,get:function(){return h.jg;}}});l=a(52629);Object.defineProperties(b,{BK:{enumerable:!0,get:function(){return l.BK;}}});p=a(65161);Object.defineProperties(b,{Yc:{enumerable:!0,get:function(){return p.Yc;}}});Object.defineProperties(b,{zA:{enumerable:!0,get:function(){return p.zA;}}});Object.defineProperties(b,{u:{enumerable:!0,get:function(){return p.u;}}});Object.defineProperties(b,{Fb:{enumerable:!0,get:function(){return p.Fb;}}});Object.defineProperties(b,{c$:{enumerable:!0,get:function(){return p.c$;}}});Object.defineProperties(b,{KH:{enumerable:!0,get:function(){return p.KH;}}});Object.defineProperties(b,{wW:{enumerable:!0,get:function(){return p.wW;}}});Object.defineProperties(b,{H8:{enumerable:!0,get:function(){return p.H8;}}});b.mWb=function(u){m.platform.bsa(u);};b.UM=function(u){m.platform.bsa(u);return Promise.resolve().then(function(){return c.__importStar(a(60069));}).then(function(t){return t.UM();});};b.LV=function(u,t){m.platform.bsa(u);return Promise.resolve().then(function(){return c.__importStar(a(23102));}).then(function(v){return v.LV(t);});};b.Sy=function(){return a(32838)["default"];};r=c.__importDefault(a(14282));b.QJb=r.default;r=a(36948);b.Dj=r.Dj;q=a(37268);b.sYb=function(){return {Rq:q.Rq};};},79857:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XJa=void 0;c=a(5163);m=a(66164);g=a(61996);k=a(54366);d=a(52571);f=a(48912);r=(function(){function n(h,l,p,q,u){this.S=h;this.T=l;this.Lm=p;this.Mtb=q;this.Btb=u;this.lUa=!1;this.cja=0;this.Se=new g.Xq({uh:10,nl:this,source:"LiveOCSideChannel",console:this.S});}n.prototype.Jd=function(h){this.lUa || (h.Jd(new k.et(this.Se)),this.lUa=!0);};n.prototype.Ce=function(){this.nF && (clearTimeout(this.nF),this.nF=void 0);};n.prototype.p0b=function(h,l,p,q,u,t){var v,w,y,x,z;v=this;this.uTa=h;this.sTa=l;if(u){l=p;y=p.indexOf("?");-1 !== y && (l=p.slice(0,y));u.split(";").some(function(A){if(0 === A.indexOf("sc="))return (x=A.slice(3),!0);});if(x)if((u=this.T.HGb,void 0 !== this.Lm.FN.endTime && (u=Math.max(u,this.T.IGb)),p=m.platform.time.sa(),p-=this.cja,p < u))this.Se.CT("parseMessage",{parsed:!1,url:l,time:m.platform.time.now(),lastTimeParsed:this.cja,delta:p},!0,!0);else {(0,d.assert)(null === (w=this.Lm.W.Sv) || void 0 === w?void 0:w.Lg,"Missing pbcid for OC side channel message decryption.");w=new f.Xha(this.Lm.W.Sv.Lg).decrypt(x,!0);try{z=JSON.parse(w);}catch(A){this.S.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(w));return;}w=z.time;p=Number(w);isNaN(p)?this.S.error(("Invalid live server time in OC side channel message. time:").concat(w)):this.Lm.OBa(p,t);t=z["live-msg-start"];w=z["live-msg-end"];void 0 !== t && isNaN(new Date(t).getTime()) || void 0 !== w && isNaN(new Date(w).getTime())?this.S.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(t,", live-msg-end:").concat(w)):this.Lm.ajb(t,w);p=z["encoder-tag"];u=z["encoder-region"];p && u || this.S.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(p,", encoder-region:").concat(u));this.Lm.vbc(q,{ZB:p,YB:u});q=z.maxBitrate;void 0 !== q && (q=Number(q),0 < q && (h.track.EN=q));this.cja=p=m.platform.time.sa();this.Se.CT("parseMessage",{parsed:!0,url:l,pbcid:this.Lm.W.Sv.Lg,time:m.platform.time.now(),startTime:t,endTime:w});this.nF && (clearTimeout(this.nF),this.nF=void 0);void 0 === w && (this.nF=setTimeout(function(){v.eya();},this.T.i8a));}}};n.prototype.eya=function(){var h,l,p;h=this;l=this.Btb();(0,d.assert)(this.uTa);(0,d.assert)(this.sTa);p=!1;0 === l && (p=this.Mtb.uib(this.uTa,this.sTa,void 0,!0));this.Se.nr({time:m.platform.time.now(),outstanding:l,issued:p});this.nF=setTimeout(function(){h.eya();},this.T.i8a);};c.__decorate([(0,g.Ib)({methodName:"refreshOCSideChannel",Cj:!1})],n.prototype,"eya",null);return n;})();b.XJa=r;},18905:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(92517),b);},92517:function(r,b,a){var n,h,l,p,q,u,t,v,w;function c(y){var x,z,A;y=y.parent;x=!1;if(y && y.children){z={};z[v.Dl]=[];z[v.ai]=[];z[v.TEMPORARY]=[];A=y.children;A.forEach(function(B){B && z[B.Zd].push(B);});0 < z[v.Dl].length || (z[v.ai].length === A.length?y.Zd !== v.ai && (y.Zd=v.ai,t.error("PERM failing :",q.default.Zf.name[y.bn] + " " + y.id),x=!0):y.Zd === v.Dl && (y.Zd=v.TEMPORARY,t.error("TEMP failing :",q.default.Zf.name[y.bn] + " " + y.id),x=!0),x && c(y));}}function m(y){var z;for(var x=[];y;y=y.parent)switch(y.bn){case q.default.Zf.IE:z=y;x.unshift(z.id + "(" + z.name + ")");break;case q.default.Zf.LOCATION:x.unshift(y.id);break;case q.default.Zf.URL:x.unshift("<url for " + y.stream.bitrate + ">");}return x.length?"/" + x.join("/"):"";}function g(y){var x;if((y=y.parent) && 0 < y.children.length && y.Zd !== v.Dl){x={};x[v.Dl]=[];x[v.ai]=[];x[v.TEMPORARY]=[];y.children.forEach(function(z){z && x[z.Zd].push(z);});0 < x[v.Dl].length && (y.Zd=v.Dl,g(y));}}function k(y){return y.Zd !== v.Dl;}function d(y){switch(y.Zd){case v.Dl:return "OK";case v.ai:return "FAILED PERMANENTLY";case v.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function f(y,x){if(y.Zd === v.TEMPORARY || y.Zd === v.ai && x)y.Zd=v.Dl;y.children && y.children.forEach(function(z){z && f(z,x);});}Object.defineProperties(b,{__esModule:{value:!0}});b.kKa=void 0;n=a(5163);h=n.__importStar(a(17267));r=a(90745);l=a(66164);p=a(65161);q=n.__importDefault(a(14282));u=a(52571);t=new l.platform.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(y){y[y.Dl=0]="OK";y[y.TEMPORARY=1]="TEMPORARY";y[y.ai=2]="PERMANENT";})(v || (v={}));(function(y){y[y.rv=0]="STARTUP";y[y.nrb=1]="REBUFFER";})(w || (w={}));a=(function(y){var e_T;e_T=2;for(;e_T !== 22;){switch(e_T){case 26:x.prototype.R4b=function(z){var N4q,A;N4q=2;for(;N4q !== 4;){switch(N4q){case 5:this.WC.forEach(function(B){var r$X;r$X=2;for(;r$X !== 1;){switch(r$X){case 2:B.id !== A && B.ib && B.ib.confidence > q.default.Cl.ZJ && (B.ib.confidence=q.default.Cl.ZJ);r$X=1;break;}}});N4q=4;break;case 2:A=this.Hc.location;this.x2b=z;N4q=5;break;}}};x.prototype.L0b=function(){var f0z,z;f0z=2;for(;f0z !== 5;){switch(f0z){case 2:z=this;this.$N || this.WC.forEach(function(A){var S4I;S4I=2;for(;S4I !== 1;){switch(S4I){case 2:A.Zd === v.TEMPORARY && z.Gj.fail(A.id,l.platform.time.sa());S4I=1;break;}}});f0z=5;break;}}};x.prototype.dump=function(){};return x;break;case 7:x.prototype.P6b=function(z,A){var c2I,B,D;c2I=2;for(;c2I !== 4;){switch(c2I){case 2:(B=[],D=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(C,E){var O5A,F,I,G,P;O5A=2;for(;O5A !== 13;){switch(O5A){case 5:O5A=G && 4 === G.length?4:13;break;case 8:O5A=h.zg(I) && h.zg(G) && I === z && G == A?7:13;break;case 4:(F="s" === G[1],I=G[2]);O5A=3;break;case 3:var k7q="8";k7q+="0";var M7T="4";M7T+="4";M7T+="3";G=G[3];G.length || (G=F?M7T:k7q);O5A=8;break;case 2:C=C.Ub;G=E.match(D);O5A=5;break;case 7:C.urls.some(function(M){var q5s;q5s=2;for(;q5s !== 5;){switch(q5s){case 3:q5s=M.url == E?9:7;break;case 2:q5s=M.url === E?1:5;break;case 1:return (P=M,!0);break;}}});P && B.push({url:P,Ub:C});O5A=13;break;}}});return B;break;}}};x.prototype.zs=function(z,A,B,D){var o1O,C,E,G,C_w;o1O=2;for(;o1O !== 25;){switch(o1O){case 9:var I4d=" : ";I4d+="w";I4d+="as ";var F4K=" ";F4K+="a";F4K+="t";F4K+=" ";var w2u=" failure reporte";w2u+="d";w2u+=" for ";var N1n="T";N1n+="EM";N1n+="P";var j9s="P";j9s+="ER";j9s+="M";var f2c="reportFail";f2c+="u";f2c+="re: ";t.warn(f2c + (A?j9s:N1n) + w2u + q.default.Zf.name[z] + F4K + m(C) + I4d + d(C));o1O=8;break;case 6:C.Zd=G;c(C);this.$N=this.$N || k(this.ll);z=this.ll.Zd;o1O=11;break;case 15:o1O=27;break;case 3:o1O=G !== C.Zd?9:25;break;case 26:var n5u="Unable t";n5u+="o find failure enti";n5u+="ty fo";n5u+="r URL ";U6ONX.x6U(1);t.warn(U6ONX.M9t(B,n5u));o1O=25;break;case 2:(C=z !== q.default.Zf.nv && B?this.urls[B]:this.ll,E=this.ll.Zd,G=A?v.ai:v.TEMPORARY);o1O=1;break;case 1:o1O=C && C.parent && C.bn !== z?5:4;break;case 16:o1O=C_w === v.Dl?6:15;break;case 27:var P3l="Inv";P3l+="alid fai";P3l+="lure";P3l+=" state";throw Error(P3l);o1O=6;break;case 11:var e39="net";e39+="wor";e39+="kF";e39+="ail";e39+="ed";var N6f="Emitting n";N6f+="etworkFa";N6f+="iled, per";N6f+="manent =";z > E && (t.warn(N6f,z === v.ai),this.emit(e39,z === v.ai));this.Xz=null;this.LI=q.default.Zs.Jk;D && (this.LI=q.default.Zs.Sqb,C.Rw=D);this.dump();o1O=25;break;case 8:C_w=C.Zd;o1O=C_w === v.ai?7:17;break;case 4:o1O=C?3:26;break;case 5:C=C.parent;o1O=1;break;case 17:o1O=C_w === v.TEMPORARY?6:16;break;case 7:return;break;}}};x.prototype.L4b=function(z,A,B){var b8v,D,C,E23;b8v=2;for(;b8v !== 16;){switch(b8v){case 2:D=this.urls[z];z=this.ll.Zd;C=B?v.ai:v.TEMPORARY;b8v=4;break;case 7:D.Zd=C;this.$N=this.$N || k(this.ll);b8v=14;break;case 4:b8v=D && C !== D.Zd?3:16;break;case 19:b8v=E23 === v.Dl?7:18;break;case 17:var X1e="Invalid ";X1e+="fa";X1e+="ilure state";throw Error(X1e);b8v=7;break;case 14:var H47="ne";H47+="tworkF";H47+="ailed";var e5O="Emitting ";e5O+="networkF";e5O+="ailed, perma";e5O+="nent =";A=this.ll.Zd;A > z && (t.warn(e5O,A === v.ai),this.emit(H47,A === v.ai));this.Xz=null;this.LI=q.default.Zs.Jk;this.dump();b8v=16;break;case 8:return;break;case 20:b8v=E23 === v.TEMPORARY?7:19;break;case 9:E23=D.Zd;b8v=E23 === v.ai?8:20;break;case 18:b8v=17;break;case 3:var c8O=" : ";c8O+="wa";c8O+="s";c8O+=" ";var t1l=" ";t1l+="a";t1l+="t ";var v3D=" failure rep";v3D+="orte";v3D+="d ";v3D+="fo";v3D+="r ";var f$8="T";f$8+="E";f$8+="M";f$8+="P";var H23="P";H23+="E";H23+="R";H23+="M";var H7Q="rep";H7Q+="ortFai";H7Q+="lureForUr";H7Q+="l ";t.warn(H7Q + (B?H23:f$8) + v3D + q.default.Zf.name[A] + t1l + m(D) + c8O + d(D));b8v=9;break;}}};e_T=13;break;case 13:x.prototype.eeb=function(z,A){var m_c;m_c=2;for(;m_c !== 3;){switch(m_c){case 5:this.Xz=null;this.LI=q.default.Zs.zga;m_c=3;break;case 2:m_c=(z=this.zk[z])?1:5;break;case 8:m_c=(z=this.zk[z])?4:4;break;case 1:(f(z,A),g(z));m_c=5;break;}}};x.prototype.nba=function(){var P_J;P_J=2;for(;P_J !== 1;){switch(P_J){case 4:f(this.ll,~5);P_J=7;break;case 2:f(this.ll,!1);P_J=1;break;}}};x.prototype.tva=function(z){var s76;s76=2;for(;s76 !== 1;){switch(s76){case 4:this.Aub(z);s76=2;break;case 2:this.Aub(z);s76=1;break;}}};x.prototype.vh=function(){var N1_;N1_=2;for(;N1_ !== 1;){switch(N1_){case 2:this.R4b(w.nrb);N1_=1;break;}}};e_T=20;break;case 2:n.__extends(x,y);x.prototype.Ir=function(){var h01;h01=2;for(;h01 !== 1;){switch(h01){case 2:return k(this.ll);break;case 4:return k(this.ll);break;}}};x.prototype.L6b=function(z){var I$l;I$l=2;for(;I$l !== 5;){switch(I$l){case 2:I$l=(z=this.urls[z]) && z.parent?1:5;break;case 1:return z.parent.id;break;case 9:return z.parent.id;break;}}};e_T=4;break;case 4:x.prototype.u4a=function(z){var h6Q,A,B,B3U,D,C,E,E3m,l3R,K8u;h6Q=2;for(;h6Q !== 4;){switch(h6Q){case 2:B=[];try{B3U=2;for(;B3U !== 9;){switch(B3U){case 3:C=D.next();B3U=1;break;case 2:(D=n.__values(Object.keys(this.urls)),C=D.next());B3U=1;break;case 12:C=D.next();B3U=7;break;case 5:E=this.urls[C.value];B3U=4;break;case 4:E.url === z.stream.url && B.push(E.Ub);B3U=3;break;case 14:E=this.urls[C.value];B3U=3;break;case 1:B3U=!C.done?5:9;break;}}}catch(F){var G;G={error:F};}finally{E3m=2;for(;E3m !== 1;){switch(E3m){case 2:try{l3R=2;for(;l3R !== 1;){switch(l3R){case 2:C && !C.done && (A=D.return) && A.call(D);l3R=1;break;}}}finally{K8u=2;for(;K8u !== 5;){switch(K8u){case 2:K8u=G?1:5;break;case 3:K8u=G?5:0;break;case 1:throw G.error;K8u=5;break;}}}E3m=1;break;}}}return B;break;}}};x.prototype.p3a=function(z){var V_p;V_p=2;for(;V_p !== 1;){switch(V_p){case 2:for(var A in this.streams)if(this.streams[A].Ht === z){return this.streams[A];}V_p=1;break;}}};x.prototype.kL=function(z,A,B){var o_E,D,C,E,G,F;o_E=2;for(;o_E !== 26;){switch(o_E){case 2:D=this;void 0 === B && (B=q.default.Zs.Yob);z.locations.forEach(function(I){var F_o,M,L,Q,P;F_o=2;for(;F_o !== 7;){switch(F_o){case 3:I={id:P,bn:q.default.Zf.LOCATION,Zd:v.Dl,dc:I.rank,level:I.level,weight:I.weight,Rw:void 0,parent:Q,children:M,zk:M,streams:{},ib:L};D.Uh[I.id]=I;Q.children.push(I);F_o=7;break;case 5:(D.Uh[P].dc=I.rank,D.Uh[P].level=I.level,D.Uh[P].weight=I.weight);F_o=7;break;case 4:(M=[],L=D.Gj.get(P),Q=D.ll);F_o=3;break;case 1:F_o=D.Uh[P]?5:4;break;case 2:P=I.key;F_o=1;break;}}});o_E=4;break;case 4:var e34="L";e34+="I";e34+="V";e34+="E";var T_B="L";T_B+="I";T_B+="V";T_B+="E";this.t3=l.platform.time.sa();this.WC.sort(function(I,P){var u8m;u8m=2;for(;u8m !== 1;){switch(u8m){case 2:return I.level - P.level || I.dc - P.dc;break;}}});z.servers.forEach(function(I){var f62,P,L,M;f62=2;for(;f62 !== 14;){switch(f62){case 6:M.children.push(I);f62=14;break;case 2:P=I.id;f62=1;break;case 1:f62=D.zk[P]?5:4;break;case 3:f62=M?9:14;break;case 9:L=[];I={id:P,bn:q.default.Zf.IE,Zd:v.Dl,Rw:void 0,parent:M,children:L,urls:L,name:I.name,type:I.type,dc:I.rank,location:M};D.zk[I.id]=I;f62=6;break;case 4:M=D.Uh[I.key];f62=3;break;case 5:D.zk[P].dc=I.rank;f62=14;break;}}});(E=z.Vf,G=z.Sh);(0,u.assert)(this.Z && T_B === E && !!G || !this.Z && e34 !== E && !G);this.Z && (this.HVb=G.BZb);F=!0;o_E=13;break;case 13:A && (F=!1,this.K2b(A));z.audio_tracks.forEach(function(I){var A17;A17=2;for(;A17 !== 1;){switch(A17){case 2:D.pcb(p.u.Y,I,F);A17=1;break;}}});z.video_tracks.forEach(function(I){var c8Y;c8Y=2;for(;c8Y !== 1;){switch(c8Y){case 2:D.pcb(p.u.X,I,F);c8Y=1;break;}}});null === (C=z.timedtexttracks) || void 0 === C?void 0:C.forEach(function(I){var h8H;h8H=2;for(;h8H !== 1;){switch(h8H){case 2:D.B2b(I,F);h8H=1;break;case 4:D.B2b(I,F);h8H=2;break;}}});z=this.WC.filter(function(I){var a4u,P;a4u=2;for(;a4u !== 4;){switch(a4u){case 2:P=I.zk.every(function(M){var v0D;v0D=2;for(;v0D !== 1;){switch(v0D){case 2:return 0 === M.urls.length;break;case 4:U6ONX.c0q(8);var H9Z=U6ONX.T8X(18,286,16,13,14);return H9Z == M.urls.length;break;}}});P && (I.zk.forEach(function(M){var s5t;s5t=2;for(;s5t !== 1;){switch(s5t){case 2:D.zk[M.id]=void 0;s5t=1;break;}}}),D.Uh[I.id]=void 0,I.parent=void 0,I.children.length=0,I.streams={});return !P;break;}}});o_E=19;break;case 19:z.forEach(function(I){var h8u;h8u=2;for(;h8u !== 1;){switch(h8u){case 2:I.zk.sort(function(P,M){var D3D;D3D=2;for(;D3D !== 1;){switch(D3D){case 2:return P.dc - M.dc;break;}}});h8u=1;break;}}});this.WC=z;this.ll.children=z;this.Xz=null;o_E=15;break;case 15:this.LI=B;this.dump();o_E=26;break;}}};x.prototype.ijb=function(z,A,B){var n5$,P,G,F,I,D,C,E;n5$=2;for(;n5$ !== 16;){switch(n5$){case 8:return !1;break;case 14:this.Hc.location && G.confidence >= I && (z=this.Uh[this.Hc.location]) && (z.ib=G);h.xc(this.Xz) && (this.Xz=this.wbc());n5$=12;break;case 18:var z1y="(empt";z1y+="y stream li";z1y+="s";z1y+="t)";var c5p="Did not find";c5p+=" a URL for ANY";c5p+=" stream...";var h4t="ne";h4t+="twor";h4t+="kFailed";var N4o="Network has failed,";N4o+=" not";N4o+=" updatin";N4o+="g st";N4o+="ream selection";A.forEach(function(M,L){var C7Q,Q;C7Q=2;for(;C7Q !== 5;){switch(C7Q){case 2:var X2n=" ";X2n+="K";X2n+="bp";X2n+="s)";var K8B=" ";K8B+="(";var g2O="]";g2O+=" ";var V3D="Fai";V3D+="ling s";V3D+="trea";V3D+="m ";V3D+="[";Q=M.id;P.some(function(J){var U68,K,H;U68=2;for(;U68 !== 8;){switch(U68){case 5:return !1;break;case 1:U68=!H?5:4;break;case 4:K=H.Uh[0];void 0 === M.Oaa && (M.Oaa=K.id,M.txa=H.bQ[K.id][0].Ub.id);U68=9;break;case 9:return H.bQ[J.id].some(function(O){var V0U,R;V0U=2;for(;V0U !== 20;){switch(V0U){case 12:M.ib=C.qla?J.ib.confidence >= q.default.Cl.YJ || G.confidence < I?J.ib:G:G.confidence === q.default.Cl.HAVE_NOTHING || J.ib.confidence >= q.default.Cl.YJ?J.ib:G;C.t0a && !M.ib.gu && (M.ib.gu=J.ib.gu);return !0;break;case 2:V0U=k(O.Ub)?1:5;break;case 7:M.Ub=O.Ub.id;M.mZ=O.Ub.name;M.Ds=O.Ub.type;E && (H.Dta=B);V0U=12;break;case 1:return (O.Ub.Zd === v.TEMPORARY && (M.Zd=v.TEMPORARY),C.pI && M.Ub === O.Ub.id && O.Ub.Rw && (M.Rw=O.Ub.Rw),!1);break;case 3:var y8Z="location";y8Z+="f";y8Z+="ailover";var C8I="ser";C8I+="verfa";C8I+="il";C8I+="ove";C8I+="r";var Q5H="p";Q5H+="erfo";Q5H+="rmanc";Q5H+="e";var e3C="u";e3C+="n";e3C+="know";e3C+="n";R=e3C;M.location !== J.id && (C.pI?M.ita=J.id === K.id:R=J !== P[0] && E && H.Dta !== B?"" + q.default.Zs.Qrb:J !== P[0]?"" + q.default.Zs.dea:void 0 === M.location?"" + q.default.Zs.rv:h.wo(M.M7a) || M.M7a === J.id?h.wo(M.S7a) || M.S7a === O.Ub.id?Q5H:C8I:y8Z,M.location=J.id,M.Lta=J.level,M.Po=R);M.url=O.url;V0U=7;break;case 5:V0U=k(O) || E && !O.z9.some(function(ca){var r8l;r8l=2;for(;r8l !== 1;){switch(r8l){case 2:U6ONX.x6U(9);return U6ONX.T8X(B,ca);break;}}})?4:3;break;case 4:return !1;break;}}});break;case 2:H=J.streams[Q];U68=1;break;}}})?(M.Vy=!1,M.Zd=void 0,M.gq && ++F):M.Zd && M.Zd === v.TEMPORARY?D.ll.Zd=v.TEMPORARY:M.Vy || (t.warn(V3D + L + g2O + Q + K8B + M.bitrate + X2n),M.ZBb(),M.Vy=!0);C7Q=5;break;}}});return k(this.ll)?(t.warn(N4o),this.$N=!0,this.emit(h4t,this.ll.Zd === v.ai),!1):F?!0:(t.warn(c5p + (A.length?"":z1y)),this.zs(q.default.Zf.nv,!0),!1);break;case 20:n5$=!P.length?19:18;break;case 9:n5$=k(this.ll)?8:7;break;case 19:return (this.zs(q.default.Zf.nv,!1),!1);break;case 10:P=this.Xz;n5$=20;break;case 11:return (this.zs(q.default.Zf.nv,!1),!1);break;case 12:n5$=!this.Xz?11:10;break;case 5:E && (this.Xz=null);(G=this.Hc.get(),F=0);l.platform.Nt && l.platform.Nt(z);n5$=9;break;case 7:I=q.default.Cl.ZJ;C.bva && (I=q.default.Cl.YJ);n5$=14;break;case 2:(D=this,C=this.config,E=!1);this.Z && void 0 !== B && B !== this.oTa && (void 0 === this.pTa || l.platform.time.sa() - this.pTa > C.qVb) && (this.oTa=B,this.pTa=l.platform.time.sa(),E=!0);n5$=5;break;}}};e_T=7;break;case 20:x.prototype.Ma=function(){var h7L;h7L=2;for(;h7L !== 1;){switch(h7L){case 2:this.config.TVb && this.L0b();h7L=1;break;}}};x.prototype.K2b=function(z){var H5z,B,D,C,h_C,E,G,K2F,c_j,f3Z;H5z=2;for(;H5z !== 4;){switch(H5z){case 2:(D=this,C=new Set());try{h_C=2;for(;h_C !== 3;){switch(h_C){case 14:G=E.next();h_C=0;break;case 1:h_C=!G.done?5:3;break;case 5:A(G.value);h_C=4;break;case 4:G=E.next();h_C=1;break;case 2:(E=n.__values(z),G=E.next());h_C=1;break;}}}catch(I){var F;F={error:I};}finally{K2F=2;for(;K2F !== 1;){switch(K2F){case 2:try{c_j=2;for(;c_j !== 1;){switch(c_j){case 2:G && !G.done && (B=E.return) && B.call(E);c_j=1;break;}}}finally{f3Z=2;for(;f3Z !== 5;){switch(f3Z){case 2:f3Z=F?1:5;break;case 3:f3Z=F?7:9;break;case 1:throw F.error;f3Z=5;break;}}}K2F=1;break;}}}Object.keys(this.streams).forEach(function(I){var s1d;s1d=2;for(;s1d !== 1;){switch(s1d){case 2:C.has(I) || delete D.streams[I];s1d=1;break;}}});H5z=4;break;}}function A(I){var d9B;d9B=2;for(;d9B !== 1;){switch(d9B){case 2:Object.keys(I).forEach(function(P){var Q_B,L,M;Q_B=2;for(;Q_B !== 9;){switch(Q_B){case 4:var O5L="L";O5L+="I";O5L+="V";O5L+="E";L=D.streams[P];D.streams[P]=L?n.__assign(n.__assign({},L),M):{id:P,bitrate:M.bitrate,ub:null,type:M.mediaType,clear:M.si?!1:!0,gq:!0,urls:[],bQ:{},Uh:[],Ht:M,Dta:D.Z?O5L:void 0};Q_B=9;break;case 2:M=I[P];C.add(P);Q_B=5;break;case 5:Q_B=M?4:9;break;}}});d9B=1;break;}}}};x.prototype.pcb=function(z,A,B){var v1Y,D;v1Y=2;for(;v1Y !== 5;){switch(v1Y){case 2:D=this;A.streams.forEach(function(C){var P4F;P4F=2;for(;P4F !== 1;){switch(P4F){case 2:D.qcb(z,C.downloadable_id,C,B);P4F=1;break;}}});v1Y=5;break;}}};x.prototype.B2b=function(z,A){var x58,B;x58=2;for(;x58 !== 4;){switch(x58){case 2:var f7$="n";f7$+="o";f7$+="n";f7$+="e";x58=f7$ !== z.id?1:4;break;case 1:var w8c="i";w8c+="ms";w8c+="c";w8c+="1.";w8c+="1";var G$p="im";G$p+="sc";G$p+="1";G$p+=".1";B=z.downloadableIds[G$p];(z=z.ttDownloadables[w8c]) && B && this.qcb(p.u.Da,B,z,A);x58=4;break;}}};e_T=16;break;case 16:x.prototype.qcb=function(z,A,B,D){var L9n,C,E;L9n=2;for(;L9n !== 10;){switch(L9n){case 6:this.C2b(C,B.urls);L9n=14;break;case 2:C=this.streams[A];L9n=1;break;case 11:return;break;case 1:L9n=h.wo(C) && D?5:12;break;case 7:this.streams[C.id]=C;L9n=6;break;case 8:var k6h="L";k6h+="I";k6h+="V";k6h+="E";var w8W="n";w8W+="o";w8W+="n";w8W+="e";w8W+="-";C={id:A,bitrate:C,ub:E,type:z,profile:D,clear:0 === D.indexOf(w8W),gq:!0,urls:[],bQ:{},Uh:[],Dta:this.Z?k6h:void 0};L9n=7;break;case 12:L9n=!C && !D?11:6;break;case 5:D="";C=0;E=null;z !== p.u.Da && (D=B.content_profile,C=B.bitrate,z === p.u.X && (E=B.vmaf));L9n=8;break;case 14:h.Tp(C.bQ,function(G){var Y0K;Y0K=2;for(;Y0K !== 1;){switch(Y0K){case 2:G.sort(function(F,I){var V0z;V0z=2;for(;V0z !== 1;){switch(V0z){case 2:return F.Ub.dc - I.Ub.dc;break;}}});Y0K=1;break;}}});C.Uh=C.Uh.sort(function(G,F){var R9T;R9T=2;for(;R9T !== 1;){switch(R9T){case 2:return G.level - F.level || G.dc - F.dc;break;}}});L9n=10;break;}}};x.prototype.C2b=function(z,A){var O6O,B;O6O=2;for(;O6O !== 5;){switch(O6O){case 2:B=this;A.forEach(function(D){var k2Q,I,C,E,G,F;k2Q=2;for(;k2Q !== 14;){switch(k2Q){case 4:h.wo(E) && (E={id:C,bn:q.default.Zf.URL,Zd:v.Dl,Rw:void 0,parent:G,children:[],url:C,Ub:G,stream:z,z9:F},B.urls[C]=E,G.children.push(E));I=G.location;z.urls.push(E);0 === z.Uh.filter(function(P){var f0D;f0D=2;for(;f0D !== 1;){switch(f0D){case 2:return P.id === I.id;break;case 4:return P.id == I.id;break;}}}).length && z.Uh.push(I);k2Q=7;break;case 5:k2Q=G?4:14;break;case 2:(C=D.url,E=B.urls[C],G=B.zk[D.cdn_id]);B.Z && (F=D.liveOcaCapabilities);k2Q=5;break;case 7:I.streams[z.id]=z;(D=z.bQ[I.id])?D.push(E):z.bQ[I.id]=[E];k2Q=14;break;}}});O6O=5;break;}}};x.prototype.wbc=function(){var x5y,z,A,B,D;x5y=2;for(;x5y !== 6;){switch(x5y){case 3:x5y=null === this.t3 || this.t3 + A.Kta < D?9:8;break;case 8:B.sort(function(C,E){var b5$;b5$=2;for(;b5$ !== 1;){switch(b5$){case 2:return C.level - E.level || C.dc - E.dc;break;}}});return B;break;case 2:(z=this,A=this.config,B=this.WC.filter(function(C){var d3y;d3y=2;for(;d3y !== 1;){switch(d3y){case 2:return !k(C) && 0 !== C.level;break;case 4:return +k(C) || 1 === C.level;break;}}}));x5y=1;break;case 1:x5y=0 === B.length?5:4;break;case 4:D=l.platform.time.sa();x5y=3;break;case 5:return null;break;case 9:(B.forEach(function(C){var t7O;t7O=2;for(;t7O !== 1;){switch(t7O){case 2:C.id !== z.Hc.location && (C.ib=z.Gj.get(C.id));t7O=1;break;}}}),this.t3=D);x5y=8;break;}}};e_T=26;break;}}function x(z,A,B,D,C,E){var s5d,G;s5d=2;for(;s5d !== 25;){switch(s5d){case 10:var J2G="n";J2G+="e";J2G+="t";J2G+="wor";J2G+="k";G.ll={id:J2G,bn:q.default.Zf.nv,Zd:v.Dl,Rw:void 0,parent:void 0,children:G.WC};G.t3=null;G.Xz=null;G.LI=q.default.Zs.rv;s5d=17;break;case 2:G=y.call(this) || this;G.Hc=B;G.Gj=D;s5d=4;break;case 7:G.Uh={};G.zk={};G.urls={};G.streams={};G.WC=[];G.$N=!1;s5d=10;break;case 27:var z5L="1SIY";z5L+="b";z5L+="Z";z5L+="rNJCp9";z5L;return G;break;case 4:var Z7V="LI";Z7V+="V";Z7V+="E";G.config=C;G.Aub=E;G.oTa=Z7V;G.x2b=w.rv;s5d=7;break;case 17:var t6m="L";t6m+="I";t6m+="V";t6m+="E";B=z.Sh;G.Z=t6m === z.Vf && !!B;G.kL(z,A,q.default.Zs.rv);s5d=27;break;}}}})(r.EventEmitter);b.kKa=a;},62614:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.G3a=void 0;b.G3a=function(a){var c;a=a.Sh;if(!a)return 0;c=a.Nba;return 1E3 * Object.keys(c).reduce(function(m,g){g=c[g];return Math.max(m,g.duration / g.N);},0);};},32412:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DR=void 0;c=a(91176);m=a(52571);g=a(65161);r=(function(){function k(d){var f;void 0 === d && (d=[]);f=this;this.items=d;d.forEach(function(n){return f.JBa(n);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sxa:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(d){switch(d){case g.u.X:return this.video;case g.u.Y:return this.audio;case g.u.Da:return this.text;}};k.prototype.every=function(d){return this.items.every(d);};k.prototype.some=function(d){return this.items.some(d);};k.prototype.forEach=function(d){this.items.forEach(d);};k.prototype.find=function(d){return (0,c.mc)(this.items,d);};k.prototype.reduce=function(d,f){return this.items.reduce(d,f);};k.prototype.filter=function(d){return new k(this.items.filter(d));};k.prototype.map=function(d){return this.items.map(d);};k.prototype.replace=function(d,f){var n;n=this.items.indexOf(d);(0,m.assert)(-1 < n);(0,m.assert)(d.mediaType === f.mediaType);this.items[n]=f;this.JBa(f);};k.prototype.add=function(d){this.items.push(d);this.JBa(d);};k.prototype.remove=function(d){var f;f=this.items.indexOf(d);if(-1 === f)return !1;this.items.splice(f,1);this.TBb(d.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};k.prototype.JBa=function(d){switch(d.mediaType){case g.u.X:this.video=d;break;case g.u.Y:this.audio=d;break;case g.u.Da:this.text=d;}};k.prototype.TBb=function(d){switch(d){case g.u.X:this.video=void 0;break;case g.u.Y:this.audio=void 0;break;case g.u.Da:this.text=void 0;}};return k;})();b.DR=r;},58684:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.TDa=void 0;c=a(91176);m=a(7559);r=(function(){function g(k,d,f,n){this.config=d;this.Af=f;this.console=n;this.xa=k.xa;}g.prototype.append=function(k,d){var f,n,h,l,p,q,u,t,v,w,y,x,z;if(k.ki)return k;f=!1;n=(0,m.Fqa)(this.config,this.Af);h=k.La;l=k.offset;p=k.tf;q=k.yi;u=h.Hb;t=h.Db;v=h.ou;v=h.fl || v;if(!k.La.Ha || !v || p)return k;w=h.Ua.qa(h.Ia);v=Math.floor(w.Hg(this.xa));y=d.fva || u.qa(this.xa.hm(2));x=y.qa(t);u=v;z=!1;d.fva && (d=this.qXa(w,x,x),u=d.Qj,z=d.F$a);n=y.qa(c.K.Na(n));t=c.K.max(n.qa(t),c.K.Ba);z || (t=this.qXa(w,t,x),u=t.Qj,t.F$a && (--u,this.xa.hm(u)));u < (this.config.fYb || 1)?f=!0:0 < v - u && k.La.n6(v - u);return {La:h,offset:l,tf:p,ki:f,yi:q};};g.prototype.qXa=function(k,d,f){var n;k=c.K.min(k,d);k=Math.floor(k.Hg(this.xa));d=this.xa.hm(k);f=f.qa(d);n=0 < k && f.lessThan(c.K.Ez);return {Qj:k,Nnc:d,alc:f,F$a:n};};return g;})();b.TDa=r;},18395:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.$da=void 0;c=a(91176);m=a(48170);r=(function(){function g(k){this.console=k;}g.prototype.append=function(k){var d,f,n,h,l,p;if(k.ki)return k;d=k.La;f=k.offset;n=k.yi;h=d.Ia;l=d.Ua;p=h.add(f);f=l.add(f);p=this.AN && p.qa(this.AN);this.AN=f;if(void 0 === p || p.equal(c.K.Ba))return k;k.yi=n || [];d={stream:d.Vb,pts:h.v,gap:p.v};k.yi.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});m.L && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return k;};return g;})();b.$da=r;},15038:function(r,b,a){var g,k,d,f,n,h;function c(l,p,q,u,t,v){var w,y,x,z,A,B,D;if(void 0 !== l.gca || void 0 !== l.eAa || l.mo || l.Yk){w=l.end - l.start;y=Array(w);x=l.mo;z=l.g1a?l.g1a - 1:0;A=l.h1a?l.h1a - 1:0;B=Math.min(w,Math.max(l.gca || 0,v && x && !z?1:0));l=Math.min(w - B,Math.max(l.eAa || 0,v && p && !A?1:0));v=Math.floor(u.Hg(q));q=Math.max(0,Math.min(w - B - l,x?Math.max(0,v - z):0));D=Math.max(0,Math.min(w - B - l - q,p?Math.max(0,v - A):0));q=B + q;u=w - l - D;A=A?0:Math.max(0,v + 1 - D);v=(1 - t) / (v + 1);for(D=0;D < w;++D)y[D]=D < B?-Infinity:D >= w - l?-Infinity:x && D < q?m(t + (D - B + z) * v):p && D >= u?m(1 - (D - u + A + 1) * v):0;return y;}}function m(l){return 20 * Math.log(l) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.UDa=void 0;g=a(5163);k=a(91562);d=a(91176);f=a(69575);n=a(52571);h=a(65161);r=a(87574);r=(function(l){var q9A;q9A=2;function p(q,u,t){var w4t,v;w4t=2;for(;w4t !== 6;){switch(w4t){case 2:var k9t="1SIYbZrNJC";k9t+="p";k9t+="9";k9t;v=l.call(this,q,h.u.Y) || this;v.console=q;v.config=u;w4t=3;break;case 3:v.Kba=d.K.Na(0 <= u.Kba?u.Kba:u.Uz);w4t=9;break;case 9:v.Lba=d.K.Na(0 <= u.Lba?u.Lba:u.Uz);v.ON=Math.pow(10,(u.ON[t] || -44) / 20);return v;break;}}}for(;q9A !== 9;){switch(q9A){case 2:g.__extends(p,l);p.prototype.Ha=function(q,u){var E79,t,v,w,y,x;E79=2;for(;E79 !== 33;){switch(E79){case 10:E79=!y?20:19;break;case 16:E79=q.Ha.end !== q.Vt || q.Ha.eAa || q.Ha.Yk?15:35;break;case 2:var c7R="AudioMediaFragmen";c7R+="tEditor [${fragment.";c7R+="mediaType}]: Attempt to e";c7R+="dit appended fragment";void 0 === u && (u=!0);t=[];(0,n.assert)(!q.KT,c7R);E79=4;break;case 15:q=this.uIb(q,y?(0,f.IL)(y):v[0],x,u);y=q.pa;x=q.Bo;w=q.data;E79=24;break;case 8:E79=!(v[0] instanceof ArrayBuffer)?7:6;break;case 6:E79=0 >= q.Bb.ja?14:13;break;case 20:return {pa:y};break;case 4:E79=!q.Ha?3:9;break;case 19:x && t.push(x);y=w;E79=17;break;case 14:return {pa:!1};break;case 9:v=q.No;E79=8;break;case 3:return {pa:!0};break;case 21:y=w;E79=35;break;case 23:return {pa:y};break;case 7:return {pa:!0};break;case 24:E79=!y?23:22;break;case 35:y && 1 < v.length && (y=null === y || void 0 === y?void 0:y.concat(v.slice(1)));return {pa:!0,yi:t,No:y};break;case 22:x && t.push(x);E79=21;break;case 13:E79=0 < q.Ha.start || q.Ha.gca || q.Ha.mo?12:16;break;case 17:x=q.Ha.start;E79=16;break;case 12:(w=this.tIb(q,v[0],u),y=w.pa,x=w.Bo);w=w.data;E79=10;break;}}};q9A=5;break;case 5:p.prototype.tIb=function(q,u,t){var j_I,v;j_I=2;for(;j_I !== 6;){switch(j_I){case 8:var b2J=" ";b2J+="ed";b2J+="it ";b2J+="fa";b2J+="iled";var H74="]";H74+=":";H74+=" ";var V0E="AudioMed";V0E+="iaFragm";V0E+="entE";V0E+="ditor";V0E+=" [";t=c(q.Ha,t,q.xa,this.Kba,this.ON,this.config.s6a);return (u=new k.Xs(this.r$,q.stream,u).ydb({Pj:q.Ha.start,N:q.lq,ky:t,Iya:!1,CI:this.config.sba,FH:m(this.ON)}))?{pa:!0,Bo:q.Mdb(v),data:u.La}:(this.console.error(V0E.concat(q.mediaType,H74).concat(q.toString(),b2J)),{pa:!1});break;case 2:void 0 === t && (t=!0);(0,n.assert)(q.Ha);v=q.Ha.gca;t=!(!q.Ha.Yk || !t);j_I=3;break;case 9:return {pa:!0};break;case 3:j_I=!(q.Ha.start || v || q.Ha.mo || t)?9:8;break;}}};p.prototype.uIb=function(q,u,t,v){var u6Q,w;u6Q=2;for(;u6Q !== 14;){switch(u6Q){case 8:return {pa:!0};break;case 9:u6Q=q.Ha.end === q.Vt && !w && !q.Ha.mo && !v?8:7;break;case 7:var O2t=" ";O2t+="edit";O2t+=" ";O2t+="fa";O2t+="iled";var b0R="]";b0R+=":";b0R+=" ";var R4$="Au";R4$+="dioMed";R4$+="i";R4$+="aFragmentEditor ";R4$+="[";v=c(q.Ha,v,q.xa,this.Lba,this.ON,this.config.s6a);return (u=new k.Xs(this.r$,q.stream,u).Fdb({Pj:q.Ha.end - t,N:q.lq,ky:v,Iya:!1,CI:this.config.sba,FH:m(this.ON)}))?{pa:!0,Bo:q.Mdb(w),data:u.La}:(this.console.error(R4$.concat(q.mediaType,b0R).concat(q.toString(),O2t)),{pa:!1});break;case 4:w=q.Ha.eAa;v=!(!q.Ha.Yk || !v);u6Q=9;break;case 2:void 0 === t && (t=0);void 0 === v && (v=!0);(0,n.assert)(q.Ha);u6Q=4;break;}}};return p;break;}}})(r.bga);b.UDa=r;},32614:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VDa=void 0;c=a(48170);r=(function(){function m(g){this.console=g;}m.prototype.append=function(g,k){var d,f,n,h,l,p,q;if(g.ki)return g;d=!1;f=g.La;n=g.offset;h=g.tf;g=g.yi;k=k.RN;l=f.Hb;if(this.km && l.lessThan(this.km.Hb)){p=this.km.RN.qa(f.Db);q=f.Hb.qa(this.km.RN);q.lessThan(p) && (c.L && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(f) + (", current error: ").concat(p.ob()) + (", discard error: ").concat(q.ob())),d=!0);}this.km=(f.fl || f.ou) && k?{RN:k,Hb:l}:void 0;return {La:f,offset:n,tf:h,ki:d,yi:g};};return m;})();b.VDa=r;},89245:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wJa=void 0;r=(function(){function a(c){this.SY=!1;this.w8b=c.ISb;}a.prototype.append=function(c){c.La.Ha && (c.La.C7b(this.SY?0:this.w8b),this.SY=!0);return c;};return a;})();b.wJa=r;},87574:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bga=void 0;c=a(66164);b.bga=(function(){return function(m,g){this.console=m;this.mediaType=g;this.r$=new c.platform.Console("MP4","media|asejs");};})();},82450:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.yLa=void 0;c=a(91176);m=a(65161);g=a(52571);k=a(15033);d=a(77970);f=a(93883);n=a(25073);h=a(83083);l=a(89245);p=a(58684);q=a(32614);u=a(15038);t=a(18395);v=a(31469);r=(function(){function w(y,x,z,A){this.config=y;this.mediaType=x;this.Af=z;this.console=A;}w.prototype.append=function(y,x){var z,A,B,D,C;void 0 === this.track?this.ysa(y.stream):this.track !== y.stream.track && ((0,g.assert)(this.track.xa),(0,g.assert)(y.stream.track.xa),this.track=y.stream.track);(0,g.assert)(void 0 !== this.Pp);B={La:y,offset:null !== (z=y.Ixa) && void 0 !== z?z:c.K.Ba,tf:this.config.kP,ki:!1};B=this.Pp.reduce(function(E,G){return G.append(E,x);},B);D=B.La;z=B.offset;C=B.ki;B=B.yi;B=void 0 === B?[]:B;D.Ha && ((0,g.assert)(y.Ha,"Fragments must be marked for edit at request time"),y.Fi(D.Ha));if(C || !this.Gua)return {offset:z,ki:C};y=this.Gua.Ha(y,!(null === (A=y.I) || void 0 === A || !A.Yk));A=y.pa;D=y.yi;y=y.No;Array.prototype.push.apply(B,void 0 === D?[]:D);return {offset:z,ki:!A,yi:B,No:y};};w.prototype.reset=function(){this.Pp=this.track=void 0;};w.prototype.ysa=function(y){var x,z;this.track=y.track;this.mediaType === m.u.Y?this.Gua=new u.UDa(this.console,this.config,y.profile):y.lTb && (this.Gua=new v.RRa(this.console,this.config));this.Pp=[];if(this.mediaType === m.u.Y){this.config.kP && this.Pp.push(new f.VPa(this.config,y.track,this.console));z=this.Rla(y);z.equal(c.K.Ba)?this.config.Rm && y.Rf && this.Bsa(y.ca.J) && this.Pp.push(new l.wJa(this.config)):this.Pp.push(new k.iha(z));this.config.b$ || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.ob(),", ") + ("").concat(null === (x=y.Rf) || void 0 === x?void 0:x.ob())),this.Pp.push(new n.VLa(this.config,y,this.console)));this.ITb()?(this.config.Bk || this.Pp.push(new p.TDa(y,this.config,this.Af,this.console)),this.config.kP && this.Pp.push(new t.$da(this.console)),this.Pp.push(new d.jMa(this.config,y,this.console)),this.p8b(y) && ((0,g.assert)(y.xa),this.Pp.push(this.OCb(y.Rf || c.K.Ba,y.xa,z)))):(this.Pp.push(new q.VDa(this.console)),this.config.kP && this.Pp.push(new t.$da(this.console)));}};w.prototype.Bsa=function(y){return this.config.Bsa || this.config.u6a && -1 !== this.config.u6a.indexOf(y);};w.prototype.Rla=function(y){return k.iha.Rla(this.config,y.Rf,this.Af,this.console);};w.prototype.ITb=function(){return !this.config.$O;};w.prototype.p8b=function(y){return this.config.Eac && this.config.Rm && !!y.Rf;};w.prototype.OCb=function(y,x,z){return new h.ARa(y.qa(z),x,this.console);};return w;})();b.yLa=r;},25073:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VLa=void 0;c=a(91176);m=a(52571);g=a(48170);r=(function(){function k(d,f,n){var h;this.console=n;this.SY=!1;(0,m.assert)(f.xa,"NegativePtsGuard: stream.frameDuration must exist.");this.xa=f.xa;this.Rm=d.Rm;this.Rf=null !== (h=f.Rf) && void 0 !== h?h:c.K.Ba;}k.prototype.append=function(d){var f,n,h,l,p;if(this.SY || d.ki)return d;f=d.La;n=d.offset;h=d.tf;d=d.yi;if(f.Ha){l=f.Ia.qa(this.Rm?this.Rf:c.K.Ba).add(n);if(l.lessThan(c.K.Ba)){p=Math.ceil(l.hm(-1).Hg(this.xa));g.L && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Rf.ob(),", ") + ("request content start ").concat(f.Ia.ob(),", ") + ("current timestamp offset ").concat(n.ob()," => ") + ("firstPlatformTimestamp ").concat(l.ob(),"."));f.eoa(p);}}this.SY=!0;return {La:f,offset:n,tf:h,ki:!1,yi:d};};return k;})();b.VLa=r;},77970:function(r,b,a){var m,g,k,d;function c(f){return ("").concat(f.ob()," (nrdp: ").concat(f.DI,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.jMa=void 0;m=a(91176);g=a(78647);k=a(48170);d=a(52571);r=(function(){function f(n,h,l){this.console=l;this.offset=m.K.Ba;this.Rf=n.Rm?h.Rf || m.K.Ba:m.K.Ba;this.ws=h.ws || m.K.Ba;(0,d.assert)(h.xa);this.xa=h.xa;}f.prototype.append=function(n){var h,l,p,q;if(n.ki)return n;h=n.La;l=n.offset;p=n.tf;q=n.yi;void 0 !== this.L7a && ((0,d.assert)(void 0 !== this.qta),h.Ia.add(n.offset).equal(this.L7a)?(n=this.GAb(h,l.add(this.offset)).v - this.qta,0 > n?this.offset=this.offset.add(m.K.Ez):0 === n?this.offset.lessThan(m.K.Ba) && (this.offset=this.offset.add(m.K.Ez)):1 === n?this.offset.greaterThan(m.K.Ba) && (this.offset=this.offset.qa(m.K.Ez)):this.offset=this.offset.qa(m.K.Ez)):this.offset=m.K.Ba);this.qta=this.FAb(h,l.add(this.offset)).v;this.L7a=h.Ua.add(l);return {La:h,offset:l.add(this.offset),tf:p,ki:!1,yi:q};};f.prototype.GAb=function(n,h){var l,p;n=this.DVa(n.Ia);h=h.qa(this.ws);l=(0,g.su)(n).add((0,g.su)(h));p=n.add(h).qa(l);k.L && this.console.trace("NrdpRounding: content start " + c(n) + ", adjusted offset: " + c(h) + ", start rounding error: " + (0,g.su)(n).toString() + ", adjusted offset rounding error: " + (0,g.su)(h).toString() + ", total error: " + l.toString() + ", expected nrdp value:" + p.ob() + ", (" + n.DI + h.DI + "ms), last fragment end nrdp: " + this.qta);return p;};f.prototype.FAb=function(n,h){var l,p,q;l=this.xa;n=this.DVa(n.Ua);h=h.qa(this.ws);p=(0,g.su)(n.qa(l)).add((0,g.su)(l)).add((0,g.su)(h));q=n.add(h).qa(p);k.L && this.console.trace("NrdpRounding: content end: start of last frame:" + c(n.qa(l)) + ", frame duration: " + c(l) + ", adjusted offset: " + c(h) + ", timestamp rounding error: " + (0,g.su)(n.qa(l)).toString() + ", frame duration rouding error: " + (0,g.su)(l).toString() + ", adjusted offset rounding error: " + (0,g.su)(h).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.ob() + ", (" + n.qa(l).DI + l.DI + h.DI + "ms)");return q;};f.prototype.DVa=function(n){return n.add(this.ws).qa(this.Rf);};return f;})();b.jMa=r;},15033:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.iha=void 0;c=a(91176);m=a(48170);r=(function(){function g(k){this.Rf=k;}g.Rla=function(k,d,f,n){var h;h=c.K.Ba;d && !d.equal(c.K.Ba) && (f=null === f || void 0 === f?void 0:f.nkc,k.Xbc && void 0 !== f && 0 <= f?(k=new c.K(f,48E3),h=d.add(k),m.L && n.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(k) + (" for ASE applied offset of ").concat(h,"."))):k.LT && (h=d));return h;};g.prototype.append=function(k){var d,f,n;d=k.tf;f=k.ki;n=k.yi;return {La:k.La,offset:k.offset.add(this.Rf),tf:d,ki:f,yi:n};};return g;})();b.iha=r;},93883:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VPa=void 0;c=a(91176);m=a(52571);g=a(48170);r=(function(){function k(d,f,n){this.config=d;this.console=n;this.Pv=c.K.Ba;(0,m.assert)(f.xa);this.xa=f.xa;f=f.ie[0].profile;this.l$=this.MOb(f,this.xa);this.U9=this.HOb(f,this.xa);this.g8=-1 !== d.tWa.indexOf(f);}k.prototype.append=function(d,f){var n,h,l,p,q;if(d.ki)return d;n=d.La;h=d.offset;l=d.yi;l=void 0 === l?[]:l;d=d.tf;p=f.RN;f=f.fva;if(this.Hwa){q=this.lYb(n,this.Hwa);n.Ha && !this.g8 && this.ila(q)?(g.L && this.console.trace("SeamlessAudio: dropping first frame"),n.eoa(1),this.Pv=q):(this.Pv=q.add(this.xa),this.CWa(this.Pv) || (g.L && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + n.Db.ob() + " error would be " + this.Pv.ob() + " (editing " + (n.Ha?"":"not ") + "allowed)"),l.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:n.Vb,pts:n.Ia.v}}}}),this.Pv=c.K.Ba,d=!1));this.Hwa=void 0;}if(n.fl || n.ou)((0,m.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!n.Ha || !f && n.ou || (q=this.mYb(n,p,f),f && this.g8 && q.Jg(this.xa)?(g.L && this.console.trace("SeamlessAudio: dropping last two frames"),n.n6(2)):q.Jg(c.K.Ba) && (g.L && this.console.trace("SeamlessAudio: dropping last frame"),n.n6(1))),this.Hwa=p);(0,m.assert)(this.CWa(this.Pv));this.AN=n.Hb;return {La:n,offset:h.add(this.Pv),tf:d,ki:0 === n.Rya,yi:l.length?l:void 0};};k.prototype.mYb=function(d,f,n){var h;if(n)h=this.Pv.add(d.Hb.qa(n)).qa(this.xa);else (h=d.Hb.qa(f),h=this.Pv.add(h).qa(this.xa));g.L && this.console.trace("SeamlessAudio: fragment end: " + d.Hb.ob() + ", splice " + f.ob() + ", next start " + (null === n || void 0 === n?void 0:n.ob()) + ", error " + h.add(this.xa).ob() + ", error with frame drop " + h.ob() + ", is" + (this.ila(h)?"":" not") + " within bounds of [" + this.l$.ob() + " and " + this.U9.ob() + ")");return h;};k.prototype.lYb=function(d,f){var n;(0,m.assert)(this.AN);n=this.Pv.add(this.AN.qa(d.Db)).qa(this.xa);g.L && this.console.trace("SeamlessAudio: fragment start: " + d.Db.ob() + ", splice " + f.ob() + ", last fragment end: " + this.AN.ob() + ", error " + n.add(this.xa).ob() + ", error with frame drop " + n.ob() + ", is" + (this.ila(n)?"":" not") + " within bounds of [" + this.l$.ob() + " and " + this.U9.ob() + ")");return n;};k.prototype.ila=function(d){return d.lessThan(this.U9) && d.Jg(this.l$);};k.prototype.CWa=function(d){return d.lessThan(this.U9.add(c.K.Ez)) && d.Jg(this.l$.qa(c.K.Ez));};k.prototype.HOb=function(d,f){return "object" === typeof this.config.hza && void 0 !== this.config.hza[d]?(d=new c.K(this.config.hza[d],1E3).jd(f.N).add(new c.K(1,f.N)),c.K.min(f,d)):f;};k.prototype.MOb=function(d,f){var n;if("object" === typeof this.config.iza && void 0 !== this.config.iza[d]){n=f.Hg(-2);d=new c.K(this.config.iza[d],1E3).jd(f.N).qa(new c.K(1,f.N));return c.K.max(n,d);}return new c.K(-12,1E3);};return k;})();b.VPa=r;},83083:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ARa=void 0;c=a(91176);m=a(48170);r=(function(){function g(k,d,f){this.Rf=k;this.xa=d;this.console=f;}g.prototype.append=function(k,d){var f,n,h,l,p,q;f=k.La;n=k.offset;h=k.tf;l=k.yi;k=k.ki;if(!k){p=d.endOfStream;d=d.RN;if(p && d){p=f.Ia.qa(this.Rf).add(n);q=f.Ua.qa(this.Rf).add(n);d=d.qa(c.K.Ez);m.L && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.ob() + "-" + q.ob() + " vs media splice point at " + d.ob());p.add(this.xa).Jg(d)?(m.L && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),k=!0):q.Jg(d) && (d=Math.ceil(q.qa(d).Hg(this.xa)),f.Ha?(m.L && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),f.n6(d)):(m.L && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),k=!0));}else p && m.L && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {La:f,offset:n,tf:h,ki:k,yi:l};};return g;})();b.ARa=r;},31469:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.RRa=void 0;c=a(5163);m=a(91562);g=a(52571);k=a(69575);d=a(51440);f=a(45247);r=(function(n){function h(l,p){var q;q=n.call(this,l,f.u.X) || this;q.console=l;q.config=p;return q;}c.__extends(h,n);h.prototype.Ha=function(l){var p,q,u,t,v,w,y;if(!(l.Ha && l instanceof d.Zda))return {pa:!0};p=l.No;if(!(p[0] instanceof ArrayBuffer))return {pa:!0};q=p[0];u=q.slice(0,q.byteLength - 8);t=new DataView(q);q=t.getUint32(u.byteLength);(0,g.assert)("mdat" === (0,m.Ux)(t.getUint32(u.byteLength + 4)));v=0 < l.Ha.start;t=l.Ha.end < l.Vt;if(!v && !t)return {pa:!0};if(v){v=new m.Xs(this.r$,l.stream,u);w=v.ydb(l.Ha.start,l.N);}if(t && !1 !== w){v=new m.Xs(this.r$,l.stream,w?(0,k.IL)(w.La):u);y=v.Fdb(l.Ha.end - l.Ha.start,l.N);}u=(l=t?y:w)?l.La:[u];q=this.rxb(w,y,q);u.push((0,m.LC)(q - 8));1 < p.length && (u=u.concat(p.slice(1)));return {pa:!0,No:u};};h.prototype.rxb=function(l,p,q){l && ((0,g.assert)(void 0 !== l.Aq),(0,g.assert)(void 0 !== l.UO),q-=l.Aq);p && ((0,g.assert)(void 0 !== p.Aq),(0,g.assert)(void 0 !== p.UO),q-=p.Aq,l && (0,g.assert)(void 0 !== l.Aq));return q;};return h;})(a(87574).bga);b.RRa=r;},27255:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.HHa=void 0;c=a(52571);m=a(16146);r=(function(){function g(){this.global=new m.FR();this.iI={};}g.prototype.add=function(k,d){(0,c.assert)(void 0 === this.iI[k],"Cannot add new memory object for playgraph");this.iI[k]=d;this.global.add(d.Ar);this.global.add(d.IU);};return g;})();b.HHa=r;},16146:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FR=void 0;c=a(65161);r=(function(){function m(){this[c.u.Y]=0;this[c.u.X]=0;this[c.u.Da]=0;}Object.defineProperties(m.prototype,{total:{get:function(){return this[c.u.Y] + this[c.u.X] + this[c.u.Da];},enumerable:!1,configurable:!0}});m.prototype.add=function(g){this[c.u.Y]+=Math.max(g[c.u.Y] || 0,0);this[c.u.X]+=Math.max(g[c.u.X] || 0,0);this[c.u.Da]+=Math.max(g[c.u.Da] || 0,0);};m.prototype.nka=function(g,k){this[g]+=Math.max(k || 0,0);};return m;})();b.FR=r;c.u.Y;c.u.X;c.u.Da;},59839:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HOa=void 0;c=a(16146);r=(function(){function m(){this.Ar=new c.FR();this.IU=new c.FR();}Object.defineProperties(m.prototype,{total:{get:function(){var g;g=new c.FR();g.add(this.Ar);g.add(this.IU);return g;},enumerable:!1,configurable:!0}});m.prototype.add=function(g){this.Ar.add(g.Ar);this.IU.add(g.IU);};m.prototype.nka=function(g,k,d){(d?this.IU:this.Ar).nka(g,k);};return m;})();b.HOa=r;},3033:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.gE=void 0;r=a(5163);c=a(66164);m=a(45550);g=r.__importDefault(a(32838));k=r.__importDefault(a(95880));d=r.__importDefault(a(40497));f=a(52571);n=a(27977);a=(function(){function l(p,q,u){var t;t=this;this.Gj=new g.default(p,u);this.KX=new k.default(p);this.Hc=new d.default(this.KX,this.Gj,p);this.BZ=new n.DQa(c.platform.M5,q);m.cE.GCb(p);p.uaa && (this.A5a=setInterval(function(){t.Gj.save();t.KX.save();},p.uaa));}l.G7=function(p,q,u){void 0 === h?(l.config=p,l.ZAa=u,h=new l(p,q,u)):((0,f.assert)(l.config === p),(0,f.assert)(l.ZAa === u));return h;};l.instance=function(){(0,f.assert)(h,"CommonGlobals accessed too early");return h;};l.reset=function(){l.config=void 0;l.ZAa=void 0;null === h || void 0 === h?void 0:h.reset();h=void 0;};l.prototype.reset=function(){this.Hc.reset();this.A5a && clearInterval(this.A5a);};return l;})();b.gE=a;},29340:function(r,b){function a(c,m){var g;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,m);Object.getOwnPropertyNames(c).forEach(function(k){g=Object.getOwnPropertyDescriptor(c,k);void 0 !== g && Object.defineProperty(m,k,g);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},10561:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(58982),b);r.__exportStar(a(6152),b);r.__exportStar(a(85886),b);r.__exportStar(a(33421),b);r.__exportStar(a(76829),b);r.__exportStar(a(11528),b);r.__exportStar(a(65427),b);r.__exportStar(a(41535),b);r.__exportStar(a(41756),b);r.__exportStar(a(13520),b);r.__exportStar(a(67592),b);r.__exportStar(a(32984),b);r.__exportStar(a(57141),b);r.__exportStar(a(90206),b);r.__exportStar(a(6198),b);r.__exportStar(a(56368),b);r.__exportStar(a(87959),b);r.__exportStar(a(84819),b);r.__exportStar(a(17479),b);r.__exportStar(a(38702),b);r.__exportStar(a(15065),b);r.__exportStar(a(80426),b);r.__exportStar(a(52741),b);r.__exportStar(a(2023),b);r.__exportStar(a(48244),b);r.__exportStar(a(9612),b);r.__exportStar(a(30030),b);r.__exportStar(a(60223),b);r.__exportStar(a(23530),b);r.__exportStar(a(77856),b);r.__exportStar(a(55025),b);r.__exportStar(a(49961),b);r.__exportStar(a(78909),b);r.__exportStar(a(34439),b);r.__exportStar(a(43102),b);r.__exportStar(a(53894),b);r.__exportStar(a(9273),b);r.__exportStar(a(66581),b);r.__exportStar(a(15869),b);r.__exportStar(a(44972),b);r.__exportStar(a(24109),b);r.__exportStar(a(6401),b);},6152:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85886:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33421:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},76829:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},58982:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},11528:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Yc=b.pn=void 0;(function(c){c[c.$s=0]="STOPPED";c[c.me=1]="BUFFERING";c[c.Zj=2]="REBUFFERING";c[c.Gl=3]="STREAMING";c[c.F2=4]="TRACK_SWITCH";})(a || (a={}));b.Yc=a;b.pn=function(c){return c === a.me || c === a.Zj || c === a.F2;};},65427:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},41535:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},78909:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zA=void 0;r=b.zA || (b.zA={});r[r.XI=0]="skipped";r[r.wxb=1]="adjustment";},41756:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},13520:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},32984:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},24109:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},15869:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65161:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(10561),b);},57141:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.A9b=b.adb=b.Xxa=void 0;b.Xxa=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.adb=a;b.A9b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.qf)," sp:").concat(c.Dq," ") + ("pssp:").concat(c.Kz," ") + ("state:").concat(c.Xd," path-complete:").concat(c.Io," ") + ("streaming:").concat(c.Ck," current:").concat(c.Uk);};},90206:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},56368:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6198:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KH=b.c$=b.ER=b.u=void 0;c=a(26388);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});b.ER=[c.u.Y,c.u.X,c.u.Da];b.c$=function(m,g,k){m=m || g?g?[c.u.X]:[c.u.Y]:[c.u.Y,c.u.X];k && m.push(c.u.Da);return m;};b.KH=function(m){return m === c.u.Y?"audio":m === c.u.X?"video":m === c.u.Da?"text":"unknown";};},87959:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},84819:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},17479:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jx=void 0;r=b.Jx || (b.Jx={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.ZJ=1]="HAVE_SOMETHING";r[r.YJ=2]="HAVE_MINIMUM";r[r.$Q=3]="HAVE_ENOUGH";},38702:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},15065:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},80426:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Fb=b.hI=void 0;c=a(11528);(function(g){g[g.Pn=0]="STARTING";g[g.me=1]="BUFFERING";g[g.Zj=2]="REBUFFERING";g[g.Ie=3]="PLAYING";g[g.u2=4]="STOPPING";g[g.$s=5]="STOPPED";g[g.Sg=6]="PAUSED";})(m || (m={}));b.Fb=m;b.hI=function(g){return g === c.Yc.me?m.me:g === c.Yc.Zj?m.Zj:g === c.Yc.F2?m.me:g === c.Yc.Gl?m.Ie:m.Pn;};},34439:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(58457),b);r.__exportStar(a(27066),b);r.__exportStar(a(92251),b);r.__exportStar(a(80094),b);r.__exportStar(a(87519),b);r.__exportStar(a(81451),b);r.__exportStar(a(60248),b);r.__exportStar(a(59638),b);},58457:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},60248:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81451:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27066:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87519:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},92251:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},59638:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},80094:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52741:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},2023:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9612:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48244:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30030:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},60223:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67592:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},23530:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},77856:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6401:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},44972:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55025:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49961:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9273:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yq=void 0;r=b.Yq || (b.Yq={});r[r.vqb=0]="PLAYGRAPH_CHANGED";r[r.wqb=1]="PLAYGRAPH_UNCHANGED";r[r.Fpb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.wrb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Jnb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Inb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.xrb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Ikb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.Wob=8]="LOSS_OF_POSITION";},43102:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(85892),b);r.__exportStar(a(61555),b);},61555:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.H8=b.wW=void 0;b.wW=function(a){return void 0 !== a.Bib;};b.H8=function(a){return void 0 !== a.xml && void 0 !== a.images;};},85892:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66581:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},53894:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},37268:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Xs=b.Hx=b.Rq=b.LC=b.A2=void 0;c=a(5163);m=a(66164);g=a(91562);Object.defineProperties(b,{Hx:{enumerable:!0,get:function(){return g.Hx;}}});Object.defineProperties(b,{Xs:{enumerable:!0,get:function(){return g.Xs;}}});Object.defineProperties(b,{LC:{enumerable:!0,get:function(){return g.LC;}}});Object.defineProperties(b,{A2:{enumerable:!0,get:function(){return g.A2;}}});r=(function(k){function d(f,n,h,l,p){return k.call(this,d.console,f,n,h,l,p) || this;}c.__extends(d,k);Object.defineProperties(d,{console:{get:function(){return this.S || (this.S=new m.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(g.Rq);b.Rq=r;},64772:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Rea=void 0;r=a(66164);c=a(56089);m=a(65161);new r.platform.Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var W2n;W2n=2;for(;W2n !== 7;){switch(W2n){case 8:return g;break;case 2:g.prototype.reset=function(){var C_H;C_H=2;for(;C_H !== 1;){switch(C_H){case 2:this.GD=new c.dFa();C_H=1;break;}}};g.prototype.Xw=function(k,d){var M$y;M$y=2;for(;M$y !== 1;){switch(M$y){case 2:d.Ej && (this.hsa?this.GD.start(k,d.Ej,d.Lg):d.type === m.u.X && (this.Ly[d.Ej]?this.Ly[d.Ej].w_+=1:this.Ly[d.Ej]={Ej:d.Ej,Lg:d.Lg,w_:1,L6:!1},this.Sib(k)));M$y=1;break;}}};g.prototype.Zw=function(k,d){var D0d,f;D0d=2;for(;D0d !== 9;){switch(D0d){case 4:f=this.Ly[d.Ej];d.type === m.u.X && f && (--f.w_,0 === f.w_ && (f.L6 && this.GD.stop(k,d.Ej,d.Lg),f.L6=!1,delete this.Ly[d.Ej]),this.Sib(k));D0d=9;break;case 2:D0d=d.Ej?1:9;break;case 1:D0d=this.hsa?5:4;break;case 6:D0d=this.hsa?9:0;break;case 5:this.GD.stop(k,d.Ej,d.Lg);D0d=9;break;}}};g.prototype.iL=function(k,d,f,n){var F7K;F7K=2;for(;F7K !== 1;){switch(F7K){case 2:n.Ej && (this.hsa?this.GD.add(k,d,f,n.Ej,n.Lg):this.rT === n.Ej && this.GD.add(k,d,f,n.Ej,n.Lg));F7K=1;break;}}};g.prototype.jn=function(){var H$I;H$I=2;for(;H$I !== 1;){switch(H$I){case 2:return this.GD.get();break;}}};g.prototype.Sib=function(k){var F73,d,f;F73=2;for(;F73 !== 5;){switch(F73){case 2:(d=Object.keys(this.Ly).map(function(n){var I$A;I$A=2;for(;I$A !== 1;){switch(I$A){case 4:return parseInt(n);break;case 2:return parseInt(n);break;}}}),f=this.Ly[d[0]]);1 === d.length && !1 === f.L6?(this.GD.start(k,f.Ej,f.Lg),this.rT=f.Ej):1 < d.length && this.rT && (d=this.Ly[this.rT],this.GD.stop(k,this.rT,d.Lg),d.L6=!1,this.rT=void 0);F73=5;break;}}};W2n=8;break;}}function g(k){var N9g;N9g=2;for(;N9g !== 4;){switch(N9g){case 2:var x9A="1SIYbZ";x9A+="rNJ";x9A+="Cp9";this.hsa=k;this.Ly={};x9A;N9g=4;break;}}}})();b.Rea=a;},21506:function(r,b,a){var m;function c(){this.Gm=void 0;this.hB=0;}m=a(17267);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.hB && this.Gm?{p25:this.Gm.mq,p50:this.Gm.wn,p75:this.Gm.nq,c:this.hB}:null;};c.prototype.Tf=function(g){if(!(!m.xc(g) && m.has(g,"p25") && m.has(g,"p50") && m.has(g,"p75") && m.has(g,"c") && m.isFinite(g.p25) && m.isFinite(g.p50) && m.isFinite(g.p75) && m.isFinite(g.c)))return (this.Gm=void 0,this.hB=0,!1);this.Gm={mq:g.p25,wn:g.p50,nq:g.p75};this.hB=g.c;};c.prototype.get=function(){return {Jwa:this.Gm,Qj:this.hB};};c.prototype.set=function(g,k){this.Gm=g;this.hB=k;};c.prototype.reset=function(){this.Gm=void 0;this.hB=0;};c.prototype.toString=function(){return "IQRHist(" + this.Gm + "," + this.hB + ")";};r.exports=c;},32838:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q,u,t){return m.has(q,u)?q[u]:q[u]=t;}Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);m=r.__importStar(a(17267));g=a(66164);k=r.__importStar(a(69575));d=r.__importDefault(a(14282));f=r.__importDefault(a(97315));n=k.FHa;new g.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");h={confidence:d.default.Cl.HAVE_NOTHING};l=(function(){function q(u){var t;this.config=u;t=u.Gia;this.confidence=d.default.Cl.HAVE_NOTHING;this.l_a=u.GSa;u=new f.default(u);this.cb=u.create("throughput-location-history",t);this.gu=u.create("throughput-location-history",t);this.Hca=u.create("throughput-location-history",t);this.Ica=u.create("throughput-location-history",t);this.Gca=u.create("throughput-location-history",t);this.xh=u.create("respconn-location-history",t);this.ow=u.create("respconn-location-history",t);this.Eca=u.create("throughput-tdigest-history",t);this.E8=u.create("throughput-iqr-history",t);this.W5=u.create("throughput-location-history",t);this.Y5=u.create("throughput-location-history",t);this.X5=u.create("throughput-location-history",t);this.Z5=u.create("throughput-location-history",t);this.time=null;}q.prototype.HF=function(u,t){this.confidence=t;this.cb.add(u);this.Eca.add(u);this.time=g.platform.time.sa();};q.prototype.EF=function(u){this.gu.add(u);};q.prototype.IF=function(u){this.Hca.add(u.initial);this.Ica.add(u.low);this.Gca.add(u.high);};q.prototype.BJ=function(u,t){this.E8.set(u,t);};q.prototype.uB=function(u){this.xh.add(u);};q.prototype.tB=function(u){this.ow.add(u);};q.prototype.jL=function(u){this.W5.add(u.Aa);this.Y5.add(u.Te);this.X5.add(u.rL);this.Z5.add(u.gQ);};q.prototype.getState=function(){var u;u={c:this.confidence,t:m.xc(this.time)?null:g.platform.time.p$(this.time),tp:this.cb.getState(),itp:this.gu.getState(),tcii:this.Hca.getState(),tcil:this.Ica.getState(),tcih:this.Gca.getState(),rt:this.xh.getState(),hrt:this.ow.getState(),iqr:this.E8.getState(),td:this.Eca.getState(),dta:this.W5.getState(),dtv:this.Y5.getState(),dtta:this.X5.getState(),dttv:this.Z5.getState()};return m.xc(u.tp) && m.xc(u.rt) && m.xc(u.hrt)?null:u;};q.prototype.Tf=function(u){var t;t=g.platform.time.now();if(!u || m.xc(u.c) || m.xc(u.c) || m.xc(u.tp) || !m.isFinite(u.c) || !m.isFinite(u.t) || m.xc(u.t) || 0 > u.c || u.c > d.default.Cl.$Q || u.t > t || !this.cb.Tf(u.tp))return (this.confidence=d.default.Cl.HAVE_NOTHING,this.dw=this.time=null,this.cb.Tf(null),this.xh.Tf(null),this.ow.Tf(null),!1);this.confidence=u.c;this.time=g.platform.time.O$(u.t);this.xh.Tf(u.rt);this.ow.Tf(u.hrt);this.gu.Tf(u.itp);this.Hca.Tf(u.tcii);this.Ica.Tf(u.tcil);this.Gca.Tf(u.tcih);this.W5.Tf(u.dta);this.Y5.Tf(u.dtv);this.X5.Tf(u.dtta);this.Z5.Tf(u.dttv);m.xc(u.iqr) || this.E8.Tf(u.iqr);m.xc(u.td) || this.Eca.Tf(u.td);return !0;};q.prototype.get=function(){var u,t,v,w,y,x,z,A,B,D,C;u=this.config;if(m.xc(this.time))return h;t=(g.platform.time.sa() - this.time) / 1E3;t > u.Ntb?this.confidence=d.default.Cl.HAVE_NOTHING:t > u.qtb && (this.confidence=Math.min(this.confidence,d.default.Cl.ZJ));v=this.cb.get();w=this.gu.get();u=this.Hca.get().Aa;y=this.Ica.get().Aa;x=this.Gca.get().Aa;z=this.xh.get();A=this.ow.get();B=this.E8.get();D=this.Eca.get();C={Aa:this.W5.Vqa().Aa,Te:this.Y5.Vqa().Aa,rL:this.X5.get().Aa,gQ:this.Z5.get().Aa};t={FT:t,confidence:this.confidence,cb:v,gu:w,xh:z,ow:A,yC:B,Ii:D,Ym:C,Boc:v?n.prototype.Nw.bind(v):void 0,Fnc:z?n.prototype.Nw.bind(z):void 0,Blc:A?n.prototype.Nw.bind(A):void 0,Ir:!1};t["throughput-ci"]={initial:u,low:y,high:x};return t;};q.prototype.debug=function(){this.get();m.xc(this.time) || g.platform.time.sa();};return q;})();p=(function(){function q(u,t,v,w,y){this.config=y;this.global=new l(y);this.Gn=[];this.QXb=g.platform.time.sa() - Date.now() % 864E5;for(u=0;u < w;++u)this.Gn.push(new l(y));}q.prototype.index=function(){return ((g.platform.time.sa() - this.QXb) / 1E3 / 3600 / (24 / this.Gn.length) | 0) % this.Gn.length;};q.prototype.getState=function(){return {f:m.wo(this.dw)?void 0:g.platform.time.p$(this.dw),g:this.global.getState(),h:this.Gn.map(function(u){return u.getState();})};};q.prototype.Tf=function(u){var t,v;if(!this.global.Tf(u.g))return !1;t=this.Gn.length;v=!1;this.Gn.forEach(function(w,y){v=!w.Tf(u.h[y * u.h.length / t | 0]) || v;});this.dw=m.wo(u.f)?void 0:g.platform.time.O$(u.f);return v;};q.prototype.HF=function(u,t){this.global.HF(u,t);this.Gn[this.index()].HF(u,t);this.dw=void 0;};q.prototype.EF=function(u){this.global.EF(u);this.Gn[this.index()].EF(u);this.dw=void 0;};q.prototype.IF=function(u){this.global.IF(u);this.Gn[this.index()].IF(u);this.dw=void 0;};q.prototype.BJ=function(u,t){this.global.BJ(u,t);this.Gn[this.index()].BJ(u,t);};q.prototype.uB=function(u){this.global.uB(u);this.Gn[this.index()].uB(u);};q.prototype.tB=function(u){this.global.tB(u);this.Gn[this.index()].tB(u);};q.prototype.jL=function(u){this.global.jL(u);this.Gn[this.index()].jL(u);};q.prototype.fail=function(u){this.dw=u;};q.prototype.get=function(){var u,t;if(!m.wo(this.dw)){if((g.platform.time.sa() - this.dw) / 1E3 < this.config.ptb)return {confidence:d.default.Cl.HAVE_NOTHING,Ir:!0};this.dw=void 0;}u=this.Gn[this.index()].get();t=this.global.get();u=u.confidence >= t.confidence?u:t;u.Ir=!1;return u;};q.prototype.time=function(){return this.global.time;};q.prototype.debug=function(u){this.global.debug(u + ": global");this.Gn.forEach(function(t,v,w){m.xc(t.time) || (v=24 * v / w.length,t.debug(u + ":  " + ((10 > v?"0":"") + v + "00h")));});};return q;})();a=(function(){function q(u,t){var v;this.config=u;this.ZAa=t;this.SJb();this.cN=new l(this.config);this.load();if(u=u.Ana){v={confidence:d.default.Cl.$Q,cb:{Aa:u,Te:0},xh:{Aa:0,Te:0},ow:{Aa:0,Te:0}};this.get=function(){return v;};}}q.prototype.y7=function(u,t){var v;v=this.config;u=c(this.history,null !== u && void 0 !== u?u:"",{});return c(u,t?t:"",new p(v.iTa || 14400,v.hTa || 100,v.gTa || 100,v.TTa || 4,v));};q.prototype.load=function(){var u,t;u=g.platform.storage.get("lh");t=g.platform.storage.get("gh");u && this.Tf(u);t && this.i7b(t);};q.prototype.getState=function(){var u;u={};m.Tp(this.history,function(t,v){m.Tp(t,function(w,y){c(u,v,{})[y]=w.getState();},this);},this);return u;};q.prototype.i7b=function(u){this.cN.Tf(u);};q.prototype.Tf=function(u){var t,v,w;t=this;v=!0;w=this.config;m.Tp(u,function(y,x){m.Tp(y,function(z,A){var B;B=new p(w.iTa || 14400,w.hTa || 100,w.gTa || 100,w.TTa || 4,w);B.Tf(z)?(c(t.history,x,{})[A]=B,v=!0):m.xc(v) && (v=!1);},t);},this);return v;};q.prototype.save=function(){var u;u=this.getState();g.platform.storage.set("lh",u);g.platform.storage.set("gh",this.cN.getState());};q.prototype.SJb=function(){this.history={};this.QL=this.RZa="";this.Gj=null;};q.prototype.Vba=function(u){this.RZa=u;this.Gj=null;};q.prototype.lfb=function(u){this.QL=u;this.Gj=null;};q.prototype.Sy=function(){m.xc(this.Gj) && (this.Gj=this.y7(this.RZa,this.QL));return this.Gj;};q.prototype.HF=function(u,t){this.Sy().HF(u,t);this.cN.HF(u,t);};q.prototype.EF=function(u){this.Sy().EF(u);this.cN.EF(u);};q.prototype.IF=function(u){this.Sy().IF(u);this.cN.IF(u);};q.prototype.BJ=function(u,t){u && u.mq && u.wn && u.nq && (this.Sy().BJ(u,t),this.cN.BJ(u,t));};q.prototype.uB=function(u){this.Sy().uB(u);};q.prototype.tB=function(u){this.Sy().tB(u);};q.prototype.jL=function(u){this.Sy().jL(u);};q.prototype.fail=function(u,t){this.y7(u,this.QL).fail(t);};q.prototype.get=function(u){var t,v,w,y,x;t=this;u=(u=this.history[u])?u[this.QL]:null;v=null;if(u && (v=u.get(),v.confidence > d.default.Cl.HAVE_NOTHING))return v;v=null;y=!1;m.Tp(this.history,function(z){m.Tp(z,function(A,B){var D;B=B.toString();if(!y || B === t.QL){D=A.get();D && (!w || w <= D.confidence) && (A=A.time(),!x || !m.xc(w) && w < D.confidence || !m.xc(A) && x < A) && (w=D.confidence,y=B === t.QL,x=A,v=D);}},t);},this);return v || h;};q.prototype.debug=function(){m.Tp(this.history,function(u,t){m.Tp(u,function(v,w){v.debug(t + ":" + w);});});};return q;})();b["default"]=a;},95880:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163).__importStar(a(17267));m=a(66164);new m.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");r=(function(){function g(k){this.config=k;this.load();}g.prototype.save=function(){var k;k=this.getState();m.platform.storage.set("nh",k);};g.prototype.z6a=function(k,d){this.DD && (d > this.RO && (this.cJ+=d - this.RO,this.RO=d),-1 === this.o9 || k > this.o9) && (k=d - k,this.nN.push([this.cJ - k,k]),this.trim(),this.o9=d);};g.prototype.trim=function(){var k;k=this.cJ - this.config.GYb;this.nN=this.nN.filter(function(d){return d[0] > k;});};g.prototype.load=function(){var k;k=m.platform.storage.get("nh");this.Tf(k) || (this.RO=m.platform.time.sa(),this.cJ=0,this.DD=!1,this.o9=-1,this.nN=[]);};g.prototype.Tf=function(k){if(!(k && c.has(k,"t") && c.has(k,"s") && c.has(k,"i") && c.Tb(k.t) && c.Tb(k.s) && c.isArray(k.i)))return !1;this.RO=m.platform.time.O$(1E3 * k.t);this.cJ=1E3 * k.s;this.DD=!1;this.nN=k.i.map(function(d){return [1E3 * d[0],d[1]];});this.o9=-1;return !0;};g.prototype.getState=function(){return this.DD?{t:m.platform.time.now() / 1E3 | 0,s:(this.cJ + (m.platform.time.sa() - this.RO)) / 1E3 | 0,i:this.nN.map(function(k){return [k[0] / 1E3 | 0,k[1]];})}:{t:m.platform.time.p$(this.RO) / 1E3 | 0,s:this.cJ / 1E3 | 0,i:this.nN.map(function(k){return [k[0] / 1E3 | 0,k[1]];})};};return g;})();b["default"]=r;},40497:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=c.__importStar(a(17267));r=a(90745);g=c.__importDefault(a(68963));k=c.__importDefault(a(97315));d=a(96965);f=a(66917);n=a(64772);h=a(75640);l=a(66164).platform;p=new l.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(v,w,y){var x;x=u.call(this) || this;x.zp={};x.ZS=0;x.dB=0;x.kS=[];x.wf=0;x.Tic=!1;x.T=y;x.OSa=new k.default(y);x.zS=new n.Rea(!0);x.jS=new n.Rea(!1);y.hJb && (x.ZK=new h.MMa(x.T));x.reset();x.KTa=v;x.ut=w;x.jTa=l.ll.name();x.ut.lfb(x.jTa);l.events.on("networkchange",x.h_b.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.h_b=function(v){this.jTa=v;this.ut.lfb(v);};Object.defineProperties(t.prototype,{Gj:{get:function(){return this.ut;},enumerable:!1,configurable:!0}});t.prototype.Yib=function(){var v;if(!this.Rja){v=this.H4a();this.ut.HF(v.default.Aa,this.confidence);v["initial-throughput-ewma"] && v["initial-throughput-ewma"].Aa && this.ut.EF(v["initial-throughput-ewma"].Aa);v["throughput-ci"] && this.ut.IF(v["throughput-ci"]);v.deliverytime && this.ut.jL(v.deliverytime);this.ut.BJ(v.yC?v.yC.Jwa:void 0,v.yC?v.yC.R5b:void 0);m.xc(this.Jc) || (this.Rja=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.zp.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fi:{get:function(){return this.$q;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{twb:{get:function(){return this.kS;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{IUb:{get:function(){return this.mTa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.eF;},enumerable:!1,configurable:!0}});t.prototype.Vsb=function(){var v,w,y,x;v=this.T;w=v.gtb.concat(v.ntb);y=v.Gia;x=this.OSa;w=w.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});w.confidence=new f.Cga(v,new d.WLa(v,this.X$.bind(this)));return w;};t.prototype.reset=function(){var v,w,y,x;v=this.T.Gia;w=this.OSa;y=this.T;this.eF=null;this.zp=this.Vsb();if(this.T.C0a){x=this.T.Jhb;this.zp.O$b=new g.default(x.numB * x.bSizeMs,x.bSizeMs);}this.zS.reset();this.jS.reset();this.Eja=w.create("respconn-ewma",v);this.Ria=w.create("respconn-ewma",v);this.ZK && this.ZK.reset();this.Tvb=this.Yib.bind(this);m.wo(this.cL) || (clearInterval(this.cL),this.cL=void 0);this.Yx=this.Jc=this.rg=null;this.L3=0;y.aeb && (this.dB=this.ZS=this.$q=0,this.kS=[]);};t.prototype.Vba=function(v){var w;w=this.zp;if(v !== this.eF){m.wo(this.cL) || (clearInterval(this.cL),this.cL=void 0);m.xc(this.eF) && (this.L3=0,this.rg=null);if(!m.xc(v)){for(var y in w)w[y] && w[y].reset && w[y].reset();this.Eja.reset();this.Ria.reset();}m.xc(this.rg) || (this.L3+=(m.xc(this.Jc)?l.time.sa():this.Jc) - this.rg);this.Jc=this.rg=null;this.eF=v;this.ut.Vba(v);}};t.prototype.iL=function(v,w,y,x){var z,A;this.mTa=Math.max(this.mTa || 0,y);this.dB-=v;z=this.T;A=this.zp;if(!0 === x.oQ)(x=A["throughput-wssl"]) && x.add(v,w,y,!0);else if(m.wo(w))p.warn("addDataReceived called with undefined start time");else {this.ZK && this.ZK.iL(v,w,y,x);z.mtb && 10 > y - w?w=y - 10:0 === y - w && (w=y - 1);this.zS.iL(v,w,y,x);this.jS.iL(v,w,y,x);for(var B in A)A[B] && A[B].add && A[B].add(v,w,y,x);m.xc(this.rg) && (this.rg=w,this.Jc=null,this.Rja=!1);m.xc(this.Jc) || (w > this.Jc && (this.rg+=w - this.Jc),this.Jc=null,this.Rja=!1);m.xc(this.Yx) || (w - this.Yx > z.LTa?this.KTa.z6a(this.Yx,w):y - w > z.LTa && this.KTa.z6a(w,y));this.Yx=this.Yx?Math.max(y,this.Yx):y;}};t.prototype.uB=function(v){this.Eja.add(v);this.ut.uB(v);};t.prototype.tB=function(v){this.Ria.add(v);this.ut.tB(v);};t.prototype.start=function(v,w){var y;m.xc(this.Yx) && !m.xc(this.Jc) && (this.Yx=v);y=this.zp;if(this.T.qAa)for(var x in y)y[x] && y[x].start && y[x].start(v,w);};t.prototype.stop=function(v,w){var y,x;y=this.zp;for(x in y)y[x] && y[x].stop && y[x].stop(v,w);this.Jc=m.xc(this.Jc)?v:Math.min(this.Jc,v);this.Yx=null;};t.prototype.flush=function(){var v,w;v=this.zp;for(w in v)v[w] && v[w].flush && v[w].flush();};t.prototype.MNb=function(){var v,w;v=this.zp.Fkc;if(v){w=v.qAb();v.reset();}return w;};t.prototype.H4a=function(){var v,w,y,x,z,A,B,D;v=l.time.sa();w=this.zp;y=this.T;x=y.atb;z=y.btb;A=y.zvb;B={};for(D in w)w[D] && w[D].get && (B[D]=w[D].get(v,this.dB),"iqr" === w[D].type && (B.yC=B[D]),"tdigest" === w[D].type && (B.Ii=B[D]),"wssl" === w[D].type && (B.oQ=B[D]));B.cdnavtp=this.zS.jn();B.activecdnavtp=this.jS.jn();B.default=x && B[x] && z && void 0 !== B[x][z]?{Aa:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.jza && "none" !== A && (B.Keb=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.Lqa=function(){return this.ZK?this.ZK.Lqa():void 0;};t.prototype.get=function(){var v,w,y,x,z,A;v=this.H4a();w=v.default;y=this.Eja.get();x=this.Ria.get();z=this.T;if(v.Keb){A=v.Keb;w=m.Tb(w.Aa) && m.Tb(A.Aa) && w.Aa > A.Aa && 0 < A.Aa?A:w;}v.cb=w;v.gu=v["initial-throughput-ewma"];!z.tJb || !w || m.xc(w.Aa) || isNaN(w.Aa) || !v.oQ || m.xc(v.oQ.Aa) || isNaN(v.oQ.Aa) || ("max" === z.skb?v.cb.Aa=Math.max(v.oQ.Aa,w.Aa):"sum" === z.skb && (v.cb.Aa+=v.oQ.Aa));v.xh=y;v.ow=x;this.T.C0a && (w=this.T.Jhb,v.Goc=this.zp.O$b.get(w.fillS,w.fillHl));w=this.L3 + (m.xc(this.rg)?0:(m.xc(this.Jc)?l.time.sa():this.Jc) - this.rg);v.time=w;return v;};t.prototype.kQb=function(){var v,w,y;v={};w=this.get();if(w.confidence && w["throughput-ewma"]){v.aseavtp=Number(w["throughput-ewma"].Aa).toFixed(2);v.asevartp=Number(w["throughput-ewma"].Te).toFixed(2);if(w.yC){y=w.yC.Jwa;!y || void 0 === y.nq || void 0 === y.mq || void 0 === y.wn || isNaN(y.nq || 0) || isNaN(y.mq) || isNaN(y.wn) || (v.aseniqr=0 < y.wn?Number((y.nq - y.mq) / y.wn).toFixed(2):-1,v.aseiqr=Number(y.nq - y.mq).toFixed(2),v.asemedtp=Number(y.wn).toFixed(2));v.iqrsamples=w.yC.R5b;}w.Ii && w.Ii.SM && (v.tdigest=w.Ii.SM());}return v;};t.prototype.Xw=function(v,w){var y,x,z;y=w.requestId;1 === ++this.$q && this.emit("active",v);if(this.T.m0a){x=this.zp;for(z in x)x[z] && x[z].Xw && x[z].Xw(v,w);}this.T.rca && this.start(v,w);y && (this.T.rca || this.start(v,w),this.kS.push(y));this.dB+=w.ta || 0;this.zS.Xw(v,w);this.jS.Xw(v,w);};t.prototype.Z4b=function(){++this.ZS;};t.prototype.Zw=function(v,w,y){var x,z,A;x=y.requestId;w && --this.ZS;--this.$q;this.dB=Math.max((this.dB || 0) - ((y.ta || 0) - (y.bytesReceived || 0)),0);this.T.aeb && (this.$q=Math.max(this.$q,0),this.ZS=Math.max(this.ZS,0));if(this.T.m0a){z=this.zp;for(A in z)z[A] && z[A].Zw && z[A].Zw(v,w,y);}this.T.rca && this.stop(v,y);0 === this.$q && (this.T.rca || this.stop(v,y),this.emit("inactive",v));x && (w=this.kS.indexOf(x),0 <= w && this.kS.splice(w,1));this.zS.Zw(v,y);this.jS.Zw(v,y);};t.prototype.X$=function(){this.Yib();this.cL=setInterval(this.Tvb,this.T.bub);};return t;})(r.EventEmitter);b["default"]=a;},75539:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.bMa=b.Rg=void 0;r=a(5163);c=a(90745);m=a(66164);g=a(52571);k=a(45550);d=a(65161);f=r.__importDefault(a(40497));(function(h){h[h.dv=0]="CREATED";h[h.OPENED=1]="OPENED";h[h.tQ=2]="ACTIVE";h[h.Fl=3]="RECEIVING";h[h.Am=4]="COMPLETE";h[h.Ns=5]="ABORTED";})(n=b.Rg || (b.Rg={}));a=(function(){function h(l,p,q,u,t,v,w,y,x,z){this.stream=l;this.ff=p;this.properties=t;this.listener=w;this.I=y;this.config=x;this.console=z;this.TE=0;this.Wa=n.dv;this.request=new m.platform.ep(q,u,this.EPb(t,y));this.offset=v.offset;this.kc=v.ta;this.id=this.dOb();this.egb=t.SI;this.AI=t.AI;this.Cs=t.Cs;this.responseType=void 0 === t.responseType?m.platform.ep.Af && !m.platform.ep.Af.Kya.vha?0:1:t.responseType;this.il=this.xyb();this.mediaType === d.u.Da || !x.kka && t.Ee || (this.Hc=f.default.instance());}Object.defineProperties(h.prototype,{url:{get:function(){return this.ff;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ta:{get:function(){return this.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.TE;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{th:{get:function(){return this.request.th;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xg:{get:function(){return this.request.xg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cC:{get:function(){return this.request.cC;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ej:{get:function(){return this.request.ej;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ZL:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{faa:{get:function(){return this.Wa >= n.OPENED && this.Wa < n.Am;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Wa >= n.tQ && this.Wa < n.Am;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$xa:{get:function(){return this.Wa === n.Fl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Wa === n.Am;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.Wa === n.Ns;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{state:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});h.prototype.open=function(){if(this.Wa !== n.dv || !this.request.open(this.ff,{start:this.offset,end:this.offset + this.kc - 1},this.responseType,{},void 0,void 0,this.egb,this.stream.Ds,this.stream.Z?this.stream.ca.AH.lM:void 0))return !1;this.Wa=n.OPENED;return !0;};h.prototype.LP=function(l){if(this.state < n.OPENED || this.state >= n.Am)return (this.ff=l,!0);if(this.ff === l)return this.f6b();this.vma();this.ff=l;return this.request.LP(l);};h.prototype.f6b=function(){var l,p;l=this;if(void 0 === this.aZ){p=this.request.th?m.platform.time.sa() - this.request.th:0;this.aZ=setTimeout(function(){l.aZ=void 0;l.request.LP(l.ff) || l.listener.WH(l);},Math.max(0,this.config.HYb - p));}return !0;};h.prototype.abort=function(){var l;if(this.aborted)return !0;this.active && (null === (l=this.Hc) || void 0 === l?void 0:l.Zw(m.platform.time.sa(),this.$xa,this.QV()));this.Wa=n.Ns;this.vma();this.request.abort();return !0;};h.prototype.Ce=function(){var l,p,q;if(7 !== this.request.readyState && 5 !== this.request.readyState){p=this.faa;q=this.active;this.abort();this.listener.aY(this,q,p);}this.vma();null === (l=this.il) || void 0 === l?void 0:l.clear();this.request.Ce();};h.prototype.getResponseHeader=function(l,p){return this.request.getResponseHeader(l,p);};h.prototype.getAllResponseHeaders=function(l){return this.request.getAllResponseHeaders(l);};h.prototype.nNb=function(){var l,p;l=this.getResponseHeader("content-range",!1);if(l){p=l.indexOf("/");(0,g.assert)(-1 !== p,"unable to parse content-range: " + l);p=l.slice(p + 1);p=parseInt(p);(0,g.assert)(0 < p,"unable to parse content-range: " + l);return p;}};h.prototype.SO=function(){this.request.SO();};h.prototype.ri=function(){return this.request.ri();};h.prototype.iO=function(){var l,p;if(this.Wa === n.OPENED){this.Wa=n.tQ;p=this.request.th || this.request.loadTime;k.cE.instance().push(m.platform.time.sa() - p);!this.config.Z8a && (null === (l=this.Hc) || void 0 === l?void 0:l.Xw(p,this.QV()));this.listener.oO(this);this.timestamp=p;}};h.prototype.Y$=function(){var l,p,q,u,t;if(!(this.Wa >= n.Fl)){this.Wa=n.Fl;t=this.request.th || this.request.qpa;k.cE.instance().push(m.platform.time.sa() - t);this.config.Z8a && (null === (l=this.Hc) || void 0 === l?void 0:l.Xw(t,this.QV()));null === (p=this.Hc) || void 0 === p?void 0:p.Z4b();l=this.request.XY;this.request.connect && l.length && (null === (q=this.Hc) || void 0 === q?void 0:q.uB(l[0]));this.timestamp=t;this.listener.nO(this);0 === this.kc && this.Ebc(this.request.um);this.I2b(null !== (u=null === l || void 0 === l?void 0:l[0]) && void 0 !== u?u:-1);}};h.prototype.VH=function(){var l;if(!(this.Wa > n.Fl)){this.Wa=n.Fl;l=this.request.th;k.cE.instance().push(m.platform.time.sa() - l);l=this.Fva(!0);this.listener.pO(this,l);}};h.prototype.hO=function(){var l,p,q;if(!this.aborted){p=this.request.th;k.cE.instance().push(m.platform.time.sa() - p);q=this.Fva(!0);null === (l=this.Hc) || void 0 === l?void 0:l.Zw(p,this.$xa,this.QV());this.Wa=n.Am;this.listener.ns(this,q);this.Ce();}};h.prototype.TZb=function(){this.listener.bwa(this);};h.prototype.ls=function(){var l;if(!this.complete && !this.aborted && "number" === typeof this.request.xg){l=this.request.th;k.cE.instance().push(m.platform.time.sa() - l);this.Fva(this.config.sya && void 0 === this.request.status);this.listener.WH(this);}};h.prototype.Fva=function(l){var p,q,u,t;p=this;u=this.request.th;t=this.request.bytesReceived - this.TE;l && this.Hc && (void 0 !== this.timestamp && 0 < t && this.Hc.iL(t,this.timestamp,u,this.QV()),null === (q=this.request.XY) || void 0 === q?void 0:q.forEach(function(v){return p.Hc.tB(v);}));this.timestamp=u;this.TE=this.request.bytesReceived;return t;};h.prototype.Ebc=function(l){var p;p=this.kc;this.kc=l;this.listener.bY(this,this.kc,p);};h.prototype.I2b=function(l){var p,q;if(this.stream.Z){q=this.request.getResponseHeader("X-TCP-Info",!0);null === (p=this.stream.ca.y9) || void 0 === p?void 0:p.p0b(this.stream,this.I,this.url,this.mediaType,q,l);}else this.request.getAllResponseHeaders(!0);};h.prototype.QV=function(){var l;return {requestId:this.id,Ej:this.stream.Ub,Lg:null === (l=this.stream.ca.W.Sv) || void 0 === l?void 0:l.Lg,type:this.mediaType,AI:this.AI,ta:this.kc,bytesReceived:this.request.bytesReceived,Cs:this.Cs};};h.prototype.dOb=function(){var l;l=(l=this.stream)?l.toString():this.url;this.kc && (l+=",range " + this.offset + "-" + (this.offset + this.kc - 1));return l;};h.prototype.xyb=function(){var l,p,q;l=this;p=new c.Ge();q=m.platform.ep.Kk;p.on(this.request,q.mMa,function(){return l.iO();});p.on(this.request,q.lMa,function(){return l.Y$();});p.on(this.request,q.nMa,function(){return l.VH();});p.on(this.request,q.LR,function(){return l.hO();});p.on(this.request,q.ihc,function(){return l.TZb();});p.on(this.request,q.JA,function(){return l.ls();});return p;};h.prototype.EPb=function(l,p){return {mediaType:this.mediaType,Vb:this.stream.Vb,bitrate:this.stream.bitrate,Wc:this.stream.Ub,iu:!l.Ee,H:p.id,config:this.config};};h.prototype.vma=function(){void 0 !== this.aZ && (clearTimeout(this.aZ),this.aZ=void 0);};h.prototype.toString=function(){return "ID: " + this.request.ri() + " " + this.id;};h.prototype.toJSON=function(){return {requestId:this.request.ri(),id:this.id};};return h;})();b.bMa=a;},75640:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.MMa=void 0;c=a(65161);m=a(43276);r=(function(){var H$h;H$h=2;for(;H$h !== 3;){switch(H$h){case 2:g.prototype.reset=function(){var o$t;o$t=2;for(;o$t !== 4;){switch(o$t){case 2:this.TY=[0,0];this.um=[0,0];this.fY=[0,0];o$t=4;break;}}};g.prototype.iL=function(k,d,f,n){var l4n,h,l;l4n=2;for(;l4n !== 8;){switch(l4n){case 2:this.um[n.type]+=k;l4n=5;break;case 5:l4n=(null === (h=n.AI) || void 0 === h?0:h.T8())?4:3;break;case 9:this.fY[n.type]+=k;l4n=8;break;case 4:(this.TY[n.type]+=k,this.Uab.add(k,d,f),this.owa[n.type].add(k,d,f));l4n=3;break;case 3:l4n=(null === (l=n.AI) || void 0 === l?0:l.sua(k,d,f,this.gY))?9:8;break;}}};g.prototype.Lqa=function(){var w$F;w$F=2;for(;w$F !== 1;){switch(w$F){case 2:return {bytesRequestedPacingVideo:this.TY[c.u.X],bytesRequestedPacingAudio:this.TY[c.u.Y],estimatedBytesPacedVideo:this.fY[c.u.X],estimatedBytesPacedAudio:this.fY[c.u.Y],bytestotalVideo:this.um[c.u.X],bytestotalAudio:this.um[c.u.Y],pacedAvtpVideo:this.owa[c.u.X].get().Aa,pacedAvtpAudio:this.owa[c.u.Y].get().Aa,pacedAvtp:this.Uab.get().Aa};break;}}};return g;break;}}function g(k){var s60;s60=2;for(;s60 !== 7;){switch(s60){case 8:this.Uab=new m.$D();s60=7;break;case 4:var g5V="1SIYbZr";g5V+="NJ";g5V+="Cp9";g5V;this.gY=k.gY;this.owa=[new m.$D(),new m.$D()];s60=8;break;case 2:this.TY=[0,0];this.um=[0,0];this.fY=[0,0];s60=4;break;}}}})();b.MMa=r;},88318:function(r,b,a){var m,g;function c(k){this.T={rX:k.maxc || 25,Jma:k.c || .5,D3b:k.rc || "none",aH:k.hl || 7200};this.eT();this.nvb=this.T.D3b;this.DS=this.T.aH;this.dia=Math.exp(Math.log(2) / this.DS);this.dia=Math.max(this.dia,1);this.Y2=1;}m=a(17267);g=a(15913).TDigest;new (a(66164).platform.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var k;if(0 === this.$e.size())return null;k=this.$e.Bi([.25,.75]);if(k[0] === k[1])return null;this.$e.size() > this.T.rX && this.$e.yr();k=this.$e.Ek(!1).reduce((function(d,f){m.Tb(f.Qf) && m.Tb(f.n) && d.push({mean:f.Qf,n:f.n / this.Y2});return d;}).bind(this),[]);return {tdigest:JSON.stringify(k)};};c.prototype.Tf=function(k){var d;if(m.xc(k) || !m.has(k,"tdigest") || !m.zg(k.tdigest))return !1;try{d=JSON.parse(k.tdigest);}catch(f){return !1;}d.forEach(function(f){m.isFinite(f.n) || (f.n=1);});k=d.map(function(f){return {Qf:f.mean,n:f.n};});this.Y2=1;this.$e.Pxa(k);void 0 === this.$e.Bi(0) && this.eT();};c.prototype.get=function(){var k,d;k=this.$e;d=k.Bi([0,.1,.25,.5,.75,.9,1]);return {min:d[0],mwa:d[1],mq:d[2],wn:d[3],nq:d[4],nwa:d[5],max:d[6],Aj:k.Ek(!1)};};c.hPb=function(k){var d;d=new c({});m.xc(k) || m.wo(k) || !m.isArray(k.Aj) || (d.$e.Pxa(k.Aj),void 0 === d.$e.Bi(0) && d.eT());k=d.$e.Bi([.25,.75]);return k[0] === k[1]?null:function(f){return d.$e.Bi(f);};};c.prototype.add=function(k){var d;d=1;"ewma" === this.nvb && (this.Y2=d=this.Y2 * this.dia);this.$e.push(k,d);};c.prototype.toString=function(){return "TDigestHist(" + this.$e.summary() + ")";};c.prototype.eT=function(){this.$e=new g(this.T.Jma,this.T.rX);};r.exports={$Qa:c};},36974:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.vHa=void 0;c=a(95316);m=a(91176);r=(function(){function g(){}g.prototype.Ueb=function(k){var d,f,n,h;f=k.profile;n=k.frameRate;k=null !== (d=(0,m.mc)(c.mA,function(l){return -1 !== f.indexOf(l);})) && void 0 !== d?d:"h264hpl";d=c.UD[k].some(function(l){return (0,c.a7)(n,c.pV[l]);})?n:null;if(!d){h={ja:n.ja / 2,N:n.N};d=c.UD[k].some(function(l){return (0,c.a7)(h,c.pV[l]);})?h:null;}d || (d=c.pV[c.UD[k][0]]);return {profile:k,frameRate:d};};return g;})();b.vHa=r;},27259:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PMa=void 0;c=a(52571);m=a(36974);g=a(603);r=(function(){function k(d){this.config=d;}k.prototype.create=function(){switch(this.config.qO){case "strict":return new g.MQa();case "flexible":return new m.vHa();default:(0,c.assert)(!1,("Invalid padding codec selector: ").concat(this.config.qO));}};return k;})();b.PMa=r;},27977:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u){return function(){return ("[").concat(u,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.DQa=b.bqa=void 0;m=a(95316);g=a(91176);k=a(26388);d=a(52571);f=a(48170);n=a(26279);h=a(79459);l=a(444);p=a(52629);b.bqa=function(u){return -1 !== u.indexOf("heaac")?"heaac":"ddp";};r=(function(){function u(t,v){q=new m.CQa(t,v);}u.Jla=function(){(0,d.assert)(q,"expected StaticMediaCache to exist");return q;};u.prototype.zcb=function(t,v,w,y,x,z,A,B,D,C){var E,G,F,I,P,M,L,Q,J;E=[];w=u.Jla().UPb(w,y,x);y=new g.K(w.duration);G=new g.K(w.xa);F=G.N;I=w.profile;P={E6a:!0,mediaType:k.u.Y,wd:I,profile:I,N:F,Ph:[{Sd:0,data:w.Eb}],Oh:!0,xa:G,Rf:v,ca:t,bitrate:w.bitrate,Vb:"-1",track:{trackId:"1",mediaType:k.u.Y,am:!1,xa:G,ca:t,channels:w.channels,sampleRate:48E3,profile:I,ie:[],Go:x,toString:c(k.u.Y)},toJSON:function(){return {mediaType:P.mediaType,Vb:P.Vb,bitrate:P.bitrate};}};P.hn=P.track.hn=n.QJ.prototype.hn.bind(P.track);P.track.ie.push(P);t=new g.K(w.xa);x=D.Rm?v:g.K.Ba;I=x.add(y);f.L && C.trace(("StaticMedia: audio target duration is ").concat(z.ob()));M=g.K.Ba;v=D.Rm?-Math.ceil(v.Hg(G)):0;D=x;for(G=!0;D.lessThan(z);){D=D.add(y);D.greaterThan(z) && (L=y.Hg(t) - Math.floor(D.qa(z).Hg(t)));Q=D.Jg(z);J=G?0:Q?z.v:void 0;G=new h.Uda(w.Eb,w.La,P,F,x.jd(F).ja,I.jd(F).ja,t,C,A,B.bind(void 0,F,M),J,G,Q);G.Fi({start:v,end:L});f.L && C.log(("PaddingBranch: enqueing request ").concat(G,", edit: ").concat(JSON.stringify({start:v,end:L}),", ") + ("offset ").concat(M.ob()));E.push(G);M=M.add(y);v=void 0;G=!1;}return E;};u.prototype.Bcb=function(t,v,w,y,x,z,A,B,D,C){var E,G,F,I,P,M,L,Q,J;E=[];v=u.Jla().WPb(v,w,y,x,z);w=new g.K(v.duration);G=v.profile;F=v.bitrate;I=v.width;P=v.height;M=v.twa;L=v.uwa;y=v.xa.N;x=new g.K(v.xa);Q=new l.RA(y,v.xa.ja);J={E6a:!0,mediaType:k.u.X,wd:G,profile:G,N:y,Ph:[{Sd:0,data:v.Eb}],Oh:!0,Vb:"-1",xa:x,ca:t,bitrate:F,track:{trackId:"1",mediaType:k.u.X,am:!1,xa:x,frameRate:Q,P9:Q,vk:new p.BK({w:I,Rr:P},{w:M,Rr:L}),ca:t,profile:G,ie:[],Go:z,toString:c(k.u.X)},toJSON:function(){return {mediaType:J.mediaType,Vb:J.Vb,bitrate:J.bitrate};}};J.hn=J.track.hn=n.QJ.prototype.hn.bind(J.track);f.L && C.trace(("StaticMedia {").concat(B.id,"}: video queue"),J);J.track.ie.push(J);G=Math.ceil(A.Hg(w));A=w.hm(G);t=g.K.Ba.jd(y);z=t.add(A).jd(y);f.L && C.trace(("PaddingBranch: ").concat(G," fragments of ").concat(w.ob(),", ") + ("duration ").concat(A.ob(),", ") + ("c: ").concat(t.ob(),"-").concat(z.ob(),", "));for(F=g.K.Ba;F.lessThan(A);)(G=F.add(w),F=new h.Uda(v.Eb,v.La,J,y,0,w.jd(y).ja,x,C,B,D.bind(void 0,y,F),void 0,F.equal(g.K.Ba),G.Jg(A)),f.L && C.trace(("PaddingBranch: appended ").concat(F)),E.push(F),F=G);return {Ia:t,Ua:z,duration:A,Ga:E};};u.prototype.Y2b=function(){return u.Jla().VPb();};return u;})();b.DQa=r;},603:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MQa=void 0;r=(function(){function a(){}a.prototype.Ueb=function(c){return c;};return a;})();b.MQa=r;},31729:function(r,b,a){var g,k,d,f,n;function c(h,l,p,q,u){p=l.cf || l.track.Jr(h,p.v,void 0,u);h=l.lf || l.track.dC(h,null === q || void 0 === q?void 0:q.v,l.Bk);return [!l.Df(),p,h];}function m(h,l){var C,E;for(var p=[],q=0,u=h[q],t=null === u || void 0 === u?void 0:u[0],v=null === u || void 0 === u?void 0:u[1],w=l.lf.index,y=l.track.In,x=0,z=l.cf.Ia,A=l.cf.Ua.v > u[0],B=A,D=l.cf.index;D <= w;++D){C=!1;if(u){E=y.get(D);A && (E.Ia.v >= v?(A=!1,++q >= h.length?v=t=u=void 0:(u=h[q],t=null === u || void 0 === u?void 0:u[0],v=null === u || void 0 === u?void 0:u[1])):B?B=!1:(p.push(new d.q2(x,z,E.Ia)),z=E.Ia,C=!0));!A && u && E.Ua.v > t && (A=!0,C=E.Ia,(E=l.track.fu.po(D).F1a(t)) && 0 !== E.Pj && (C=k.K.Na(E.Fe)),p.push(new d.q2(x,z,C)),z=C,C=!0);}C && ++x;}p.push(new d.q2(x,z,l.lf.Ua));return p;}Object.defineProperties(b,{__esModule:{value:!0}});b.cO=b.OX=b.MWb=b.Y8a=b.O$a=b.L$a=b.oya=void 0;g=a(5163);k=a(91176);d=a(79048);f=a(65161);n=a(52571);b.oya=function(h,l,p){var q,u,t,v,w,y,x,z;x=l.get(f.u.Y);z=l.get(f.u.X);l=l.get(f.u.Da);z=null === z || void 0 === z?void 0:z.track.dC(h,null === p || void 0 === p?void 0:p.v,z.Bk);x=null === x || void 0 === x?void 0:x.track.dC(h,null !== (u=null === (q=null === z || void 0 === z?void 0:z.Ua) || void 0 === q?void 0:q.v) && void 0 !== u?u:null === p || void 0 === p?void 0:p.v,x.Bk);h=null === l || void 0 === l?void 0:l.track.dC(h,null !== (y=null !== (v=null === (t=null === z || void 0 === z?void 0:z.Ua) || void 0 === t?void 0:t.v) && void 0 !== v?v:null === (w=null === x || void 0 === x?void 0:x.Ua) || void 0 === w?void 0:w.v) && void 0 !== y?y:null === p || void 0 === p?void 0:p.v,l.Bk);return [x,z,h];};b.L$a=function(h,l,p,q,u){var t,v,w,y,x,z,A,B;t=l.get(f.u.Y);v=l.get(f.u.X);l=l.get(f.u.Da);w=g.__read(v?c(h,v,p,q,u):[!1],3);y=w[0];x=w[1];w=w[2];z=g.__read(t?c(h,t,y && void 0 !== (null === x || void 0 === x?void 0:x.Ia)?x.Ia:p,void 0 !== (null === w || void 0 === w?void 0:w.Ua)?w.Ua:q,u):[!1],3);A=z[0];B=z[1];z=z[2];q=g.__read(l?c(h,l,p,q,u):[!1],3);h=q[0];p=q[1];q=q[2];A && (null === t || void 0 === t?void 0:t.rW(B,z));y && (null === v || void 0 === v?void 0:v.rW(x,w));h && (null === l || void 0 === l?void 0:l.rW(p,q));return [A,y,h];};b.O$a=function(h,l,p){(0,n.assert)(l,"missing pipeline");return l.track.Jr(h,p.v,void 0,!0).Ia;};b.Y8a=function(h,l,p){if(!l.Xk || 0 === l.Xk.length)return [];h=l.Xk.map(function(q){return [l.hb + q[0],l.hb + q[1]];});return m(h,p.sxa);};b.MWb=m;b.OX=function(h,l,p,q){h=q;return void 0 === p.UI?k.K.min(h,l):h;};b.cO=function(h,l,p,q,u){var t,v,w,y;(0,n.assert)(q.W && q.FN,"Unexpected normalizeLiveEndTimestamp.");v=q.W.Sh;w=null === v || void 0 === v?void 0:v.C6;if(w)y=new Date(w).getTime();else if(w=q.FN.endTime)(y=new Date(w).getTime() + l.tVb,u=k.K.Fj);(null === u || void 0 === u?0:u.equal(k.K.Fj)) && void 0 !== y && (l=null !== (t=null === v || void 0 === v?void 0:v.B6) && void 0 !== t?t:0,p=y - p + l,0 > p && h.error("PipelineNormalizer.normalizeLiveEndTimestamp negative pts. ","liveMetadata:",JSON.stringify(v),"eventEndTime:",q.FN.endTime),(0,n.assert)(0 <= p,"endPts is negative"),u=k.K.Na(p));return u;};},49522:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.LNa=void 0;c=a(5163);m=a(91176);g=a(65161);k=a(31729);d=a(52571);r=(function(){function f(n){var h,l,p,q,u,t,v;h=n.console;l=n.config;p=n.ca;q=n.pq;u=n.I;t=n.Ia;v=n.Ua;n=n.splice;this.pW=this.GL=!1;this.console=h;this.config=l;this.pq=q;this.ca=p;this.I=u;this.Ia=t;this.Ua=v;this.splice=n;this.rSb();this.console.trace("PipelineNormalizer ctor:",this.pq.map(function(w){return w.mediaType;}));}f.prototype.Eb=function(n){if(this.GL)throw Error("Cannot call init() after cleanup");if(this.pW)throw Error("Cannot call init() twice");this.pW=!0;this.sab=n;this.ca.events.addListener("onHeaderFragments",this.LXa);this.Bka() && this.nva();};f.prototype.normalize=function(){if(this.GL)throw Error("Cannot call normalize() after cleanup");if(this.pW)throw Error("Cannot call init() / normalize() twice");this.pW=!0;(0,d.assert)(this.Bka());return this.nva();};f.prototype.WO=function(n,h){(0,d.assert)(this.pW,"expected to be called init() before renormalize");this.I=n;this.ca.Z && (h=(0,k.cO)(this.console,this.config,Math.min.apply(Math,c.__spreadArray([],c.__read(this.pq.map(function(l){return l.track.GV();})),!1)),this.ca,h) || h);this.Ua=h;n=(0,k.oya)(this.config,this.pq,this.Ua);this.N$a();return n;};f.prototype.Ce=function(){this.GL || (this.GL=!0,this.sab=void 0,this.ca.events.removeListener("onHeaderFragments",this.LXa));};f.prototype.rSb=function(){var n;n=this;this.LXa=function(){n.GL || n.Bka() && n.nva();};};f.prototype.nva=function(){var n,h,l;if(this.GL)return {HU:!1,TB:!1};h=this.WYb();l=!1;this.I && !this.I.yq && (l=this.N$a());null === (n=this.sab) || void 0 === n?void 0:n.call(this,h,l);this.Ce();return {HU:h,TB:l};};f.prototype.Bka=function(){return this.pq.every(function(n){return n.track.Oh;});};f.prototype.WYb=function(){var n,h;this.ca.Z && (this.config.sP && void 0 !== this.ca.FN.endTime && (this.ca.UI={AB:this.ca.Iu - this.config.YW - this.config.HC - this.Ia.v}),this.Ia=(0,k.OX)(this.console,m.K.min.apply(m.K,c.__spreadArray([],c.__read(this.pq.map(function(l){return l.track.Ry();})),!1)),this.ca,this.Ia),this.Ua=(0,k.cO)(this.console,this.config,Math.min.apply(Math,c.__spreadArray([],c.__read(this.pq.map(function(l){return l.track.GV();})),!1)),this.ca,this.Ua));n=c.__read((0,k.L$a)(this.config,this.pq,this.Ia,this.Ua,this.splice,this.console),2);h=n[0];return n[1] || void 0 === this.pq.get(g.u.X) && h;};f.prototype.N$a=function(){var n,h;(0,d.assert)(this.I,"missing segment");n=this.pq.sxa;h=this.I.uc;this.ca.Z && (h=(0,k.OX)(this.console,m.K.min.apply(m.K,c.__spreadArray([],c.__read(this.pq.map(function(l){return l.track.Ry();})),!1)),this.ca,h));h=(0,k.O$a)(this.config,n,h);if(void 0 === h || void 0 === n.Ua)return !1;n=this.config.YBa && "lazy" === this.I.Cd?(0,k.Y8a)(this.console,this.I,this.pq):[];this.I.Gfb(n);return !0;};return f;})();b.LNa=r;},95407:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Tga=void 0;c=a(5163);r=(function(m){function g(k,d){k=m.call(this,k) || this;k.Eoa=d;k.name="PlaybackError";return k;}c.__extends(g,m);g.LTb=function(k){return k && k.message && k.stack && k.Eoa?"PlaybackError" === (null === k || void 0 === k?void 0:k.name):!1;};return g;})(Error);b.Tga=r;},34434:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Vda=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(91176);d=a(69575);f=a(52571);n=a(40666);r=a(75393);h=a(26012);l=a(97757);p=a(74504);q=a(82867);u=a(90111);t=a(85030);v=r.Mw.Gna;a=(function(w){function y(x,z,A){var B;B=w.call(this) || this;B.ba=x;B.Kg=z;B.up=A;B.MU=[];B.ze=void 0;B.AS=new m.Ge();B.$A=void 0;B.eB=void 0;B.bja=void 0;B.AS.on(B.ba,"underflow",B.vh.bind(B));B.rS=new u.qOa(x);B.AS.on(B.ba,"skipped",B.XX.bind(B));B.AS.on(B.ba,"playing",B.Pva.bind(B));B.AS.on(B.ba,"playbackEnding",B.Ova.bind(B));B.xt=new n.aS(B.rS,B.S,"player");B.oCa=new d.jg();x.xXa && x.sf && (B.Tz=new t.WPa(B,x,B.S));return B;}c.__extends(y,w);Object.defineProperties(y.prototype,{zl:{get:function(){var x;return null === (x=this.ze) || void 0 === x?void 0:x.zl;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qw:{get:function(){var x;return (null === (x=this.ze) || void 0 === x?void 0:x.Qw) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Xa:{get:function(){var x;return (null === (x=this.ze) || void 0 === x?void 0:x.Yp()) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{P7a:{get:function(){return this.bja;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fa:{get:function(){var x;return null === (x=this.ze) || void 0 === x?void 0:x.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{va:{get:function(){return this.rS;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{YVa:{get:function(){var x,z;return !!((null === (x=this.ze) || void 0 === x?0:x.TI) && (null === (z=this.Xr) || void 0 === z?0:z.hi));},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{TI:{get:function(){var x,z;return null !== (z=null === (x=this.ze) || void 0 === x?void 0:x.TI) && void 0 !== z?z:!1;},enumerable:!1,configurable:!0}});y.prototype.Pva=function(x){this.bja=this.ql(x.Fe || this.ba.Tc);(0,f.assert)(this.bja,"Should have a location");};y.prototype.Ova=function(x){var z;if(this.Td){x=this.ql(x.Fe || this.ba.Tc,!0);(0,f.assert)(x,"Playback ending at position outside playgraph");z=this.oC(x);(0,f.assert)(z,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:z,position:x});}else this.console.warn(("Unexpected playback ending event at ").concat(x.Fe));};y.prototype.qfb=function(x){-1 === this.MU.indexOf(x) && this.MU.push(x);this.ze && this.ze.VX(x);this.events.emit("drmReady",{viewableId:x});};y.prototype.pfb=function(x){x=this.MU.indexOf(x);-1 !== x && this.MU.splice(x,1);};y.prototype.zW=function(x){var z;return -1 !== this.MU.indexOf(x) || !(null === (z=(0,k.mc)(this.Xa,function(A){return A.kn && A.ca.J === x;})) || void 0 === z || !z.ca.Vv);};y.prototype.zD=function(x){var z;null === (z=this.ze) || void 0 === z?void 0:z.zD(x);};y.prototype.m_=function(x){var z;null === (z=this.ze) || void 0 === z?void 0:z.m_(x);};y.prototype.reset=function(){var x,z;this.oCa=new d.jg();w.prototype.reset.call(this);this.eB=void 0;null === (x=this.ze) || void 0 === x?void 0:x.reset();null === (z=this.Tz) || void 0 === z?void 0:z.reset();};y.prototype.Hya=function(x){this.aP([x]);};y.prototype.aP=function(x){var z,A;z=this;x.forEach(function(B){var D;w.prototype.Hya.call(z,B);null === (D=z.Tz) || void 0 === D?void 0:D.j5b(B);});null === (A=this.ze) || void 0 === A?void 0:A.aP(x);};y.prototype.HB=function(){var x;null === (x=this.ze) || void 0 === x?void 0:x.HB();};y.prototype.pause=function(x){this.aJ(x);w.prototype.pause.call(this,x || this.Kg);};y.prototype.resume=function(x){var z;null === (z=this.ze) || void 0 === z?void 0:z.resume(x);w.prototype.resume.call(this,x || this.Kg);};y.prototype.Ma=function(){this.$A=this.i8()?this.ro():void 0;this.ze && this.Qna(this.ze.Fa);this.rS.Ma();this.xt.Ma();this.AS.clear();w.prototype.Ma.call(this);};y.prototype.MG=function(){var x,z;if(null === (x=this.ze) || void 0 === x?0:x.o2b){x=this.ba.Tc;if(this.va.ti){if(this.eB){if(this.eB.greaterThan(x))return (x=this.eB.qa(x),this.oCa.push(x.v),this.eB);if(this.Xa.length){z=this.ze.QUb;if(z && z.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",zc:{clockdrift:{type:"count"}}}),this.eB);}}this.eB=x;}return x;}return w.prototype.MG.call(this);};y.prototype.WM=function(){var x;x=this.ba.playbackRate;void 0 === x && (x=w.prototype.WM.call(this));return x;};y.prototype.i8=function(){return !!this.$A || w.prototype.i8.call(this);};y.prototype.ro=function(){return this.$A?this.$A:w.prototype.ro.call(this);};y.prototype.QG=function(){var x;return null === (x=this.ze) || void 0 === x?void 0:x.O7a;};y.prototype.Qna=function(x){var z;(0,f.assert)(x === this.Fa);null === (z=this.ze) || void 0 === z?void 0:z.Ma();this.ze=void 0;};y.prototype.x4=function(x,z){var A,B;this.$A=void 0;A=w.prototype.x4.call(this,x,z);if(A){B=new p.SDa(x,this,this.S,x.config,this.up,this.events,this.Kg,this.xt,this.Tz,this.bB,this.ZA,this.MK,null === z || void 0 === z?void 0:z.zl,null === z || void 0 === z?void 0:z.Qw);null === z || void 0 === z?void 0:z.mO();this.ze=B;this.aJ(this.tO);this.Tz && (z=x.As.CPb(h.xha),z || (z=new h.xha(),x.Jd(z)),this.Tz.h4b(z));}return A;};y.prototype.mO=function(){var x;null === (x=this.ze) || void 0 === x?void 0:x.mO();};y.prototype.Aoa=function(){var A;for(var x=[],z=0;z < arguments.length;z++)x[z]=arguments[z];A=this.ze;(0,f.assert)(A);x.forEach(function(B){return A.HJb(B);});};y.prototype.tZ=function(){var x;null === (x=this.ze) || void 0 === x?void 0:x.tZ();};y.prototype.d9b=function(x,z,A){var B;null === (B=this.Fa) || void 0 === B?void 0:B.oBa(x.to,x.from,z,A);};y.prototype.ji=function(x){var z,A,B;if(!this.ze)return !1;z=this.tV(x);if(!z)return !1;A=z.I;B=g.K.Na(this.up.m$);return A.fd.qa(B).lessThan(x) || !z.JL(x)?!1:this.ze.ji(x);};y.prototype.vh=function(){var x,z,A;if(null === (x=this.Fa) || void 0 === x?0:x.el)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {A=this.Rd;(0,f.assert)(this.Fa);x=this.ql(A,!0);(0,f.assert)(x);null === (z=this.ze) || void 0 === z?void 0:z.vh(x);z=this.tV(A);null === z || void 0 === z?void 0:z.ca.vh();this.Fa.vh(x);}};y.prototype.XX=function(){this.eB=void 0;};y.prototype.Rpa=function(){var x;return null === (x=this.ze) || void 0 === x?void 0:x.Rpa();};y.prototype.aJ=function(x){var z;null === (z=this.ze) || void 0 === z?void 0:z.aJ(x);};y.prototype.qBa=function(x){(0,f.assert)(this.Fa && this.ze);return w.prototype.qBa.call(this,x);};y.prototype.Uaa=function(){(0,f.assert)(this.ze);this.ze.Uaa();};c.__decorate([v.return.vla(),v.return.qm],y.prototype,"ro",null);c.__decorate([v.return.vla(),v.return.P$],y.prototype,"QG",null);return y=c.__decorate([l.DM],y);})(q.Zga);b.Vda=a;},74504:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y;Object.defineProperties(b,{__esModule:{value:!0}});b.SDa=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(91176);d=a(66164);f=a(74418);n=a(62614);h=a(89645);l=a(65161);p=a(78647);q=a(69575);u=a(40666);t=a(52571);v=a(67181);w=a(16290);y=a(89527);r=(function(){function x(z,A,B,D,C,E,G,F,I,P,M,L,Q,J){var H;H=this;this.Fa=z;this.ba=A;this.S=B;this.T=D;this.up=C;this.lb=E;this.Kg=G;this.Hd=F;this.Tz=I;this.bB=P;this.ZA=M;this.MK=L;this.US=J;this.S2=!1;this.RSa=new q.lQa();this.lja=this.NZb.bind(this);this.nja=this.s_b.bind(this);this.ht=new h.ZD(this.S);this.kT=Q || new w.Oha(this.S,z);this.zFb();this.ci && (this.evb=this.f7(this.rPb()),this.DSa());this.wp=F.By(function(){return H.Izb();},"branchPruner");this.Un=new m.Ge();this.Un.on(this.lb,"segmentPresenting",function(){return c.__awaiter(H,void 0,void 0,function(){var K;return c.__generator(this,function(O){switch(O.label){case 0:return (this.Ztb=this.ba.ro(),null !== (K=this.T.mWa) && void 0 !== K && K.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(O.Ja(),this.lb.emit("requestGarbageCollection",{time:d.platform.time.sa(),type:"requestGarbageCollection"}),O.label=2);case 2:return [2];}});});});}Object.defineProperties(x.prototype,{zl:{get:function(){return this.kT;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Qw:{get:function(){var z;z=new Map();this.ci.forEach(function(A){z.set(A.mediaType,A.gD);});return z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{O7a:{get:function(){return this.Ztb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{TI:{get:function(){return this.ci.every(function(z){return z.TI;});},enumerable:!1,configurable:!0}});x.prototype.Izb=function(){var z,A,B,D,C,E;return c.__generator(this,function(G){switch(G.label){case 0:if(!this.ht.HYa)return [3,2];z=c.__read(this.ht.c_(),1);A=z[0];B="content" === A.I.type && (null === (E=this.up.tP) || void 0 === E?void 0:E.v) || 0;D=A.t9 || A.Hb;C=D.add(g.K.Na(B + 1E3));return [4,u.Tg.Wu(C)];case 1:return (G.Ja(),this.Dcb(A),[3,0]);case 2:return [2];}});};Object.defineProperties(x.prototype,{o2b:{get:function(){var z;return !(null === (z=this.evb) || void 0 === z || !z.js.value);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{QUb:{get:function(){return this.S2?g.K.max.apply(g.K,c.__spreadArray([],c.__read(this.ci.map(function(z){var A;return null === (A=z.Eyb) || void 0 === A?void 0:A.N7a;}).filter(k.ova)),!1)):void 0;},enumerable:!1,configurable:!0}});x.prototype.zD=function(z){this.ci.forEach(function(A){A.zD(z);});};x.prototype.NZb=function(){var z;this.wp.sf();z=this.ci.filter(function(A){return A.ZSb;}).map(function(A){return A.mediaType;});this.aJ(z);this.resume(z);};x.prototype.s_b=function(z){var A,B,D;z=z.Ra;A=this.Yp();B=A.indexOf(z);if(-1 !== B && !A.slice(0,B).some(function(C){return !C.hi;})){D=z.fk;D && D.greaterThan(this.MK.value) && (z.hi && B < A.length - 1 && (D=g.K.max(D,A[B + 1].fk || g.K.jYb)),this.MK.set(D));}};x.prototype.HJb=function(z){(0,t.assert)(-1 === this.ht.c_().indexOf(z),("Branch ").concat(z.I.id," is already in the collection, cannot re-queue"));z.events.on("branchEdited",this.lja);z.events.on("requestComplete",this.nja);z.fk && this.Yp().every(function(A){return A.hi;}) && this.MK.set(z.fk);this.ht.enqueue(z);this.wp.state === u.Mk.complete && this.wp.sf();z.I.RZ && this.ht.tG();this.S2 || this.yLb(z);};x.prototype.VX=function(z){this.ci.forEach(function(A){A.VX(z);});};x.prototype.m_=function(z){var A,B,D,C;A=this;B=!1;D=this.ci.map(function(E){return E.mediaType;});this.Fa.ura().some(function(E){return E.Z;}) || (D=D.filter(function(E){return E !== l.u.Da;}));C=(0,k.Nl)(D,z);C.forEach(function(E){var G;G=A.qg.sourceBuffers;G=(0,k.mc)(G,function(F){return F.mediaType === E;});(0,t.assert)(G);A.qg.removeSourceBuffer(G);G=A.f7(E);(0,t.assert)(G);G.reset();G.Ma();(0,k.o4)(A.ci,G);(0,k.o4)(C,E);B=!0;});z=(0,k.Nl)(z,D);if(!this.BT(this.qg,z))throw (this.oF("error creating source buffers","NFErr_MC_StreamingInitFailure"),this.qg.error);z.forEach(function(E){var G;G=A.qg.sourceBuffers;G=(0,k.mc)(G,function(F){return F.mediaType === E;});(0,t.assert)(G);G=A.tZa(A.qg,G);A.ci.push(G);B=!0;});B && this.DSa();};x.prototype.reset=function(){this.ci.forEach(function(z){z.reset();});this.S2=!1;this.RSa.removeAllListeners();this.HB();};x.prototype.Hya=function(z){this.aP([z]);};x.prototype.aP=function(z){var A;A=this;z.forEach(function(B){B=A.f7(B);null === B || void 0 === B?void 0:B.reset(!1,z);});};x.prototype.HB=function(){var z;z=this;this.ht.c_().forEach(function(A){A.events.ks("branchEdited",z.lja);A.events.ks("requestComplete",z.nja);});this.ht.clear();this.wp.sf();};x.prototype.Uaa=function(){var z;z=this;this.ht.c_().filter(function(A){return A.mL;}).forEach(function(A){return z.Dcb(A);});};x.prototype.resume=function(z){this.ci.forEach(function(A){void 0 !== z && -1 === z.indexOf(A.mediaType) || A.resume();});};x.prototype.aJ=function(z){this.ci.forEach(function(A){return (void 0 === z || -1 !== z.indexOf(A.mediaType)) && A.stop();});};x.prototype.tZ=function(){this.ci.forEach(function(z){return z.tZ();});};x.prototype.vh=function(z){var A,B,D;this.S.trace("attached-player: onUnderflow");A=this.O7a;if(this.up.hM && A.kn && A.ca.Z){B=A.Nr();if(B && 0 < B.length && (B=B.reduce(function(C,E){(E=E.TOb()) && C.push(E);return C;},[]),B.length)){B=g.K.max.apply(g.K,c.__spreadArray([],c.__read(B),!1));D=(0,n.G3a)(A.ca.W);B=B.add(g.K.Na(D));z=this.Fa.ZG(z);(0,t.assert)(z.Ul.v <= B.v);A=this.Fa.Qp({J:A.ca.J,Ul:B});(0,t.assert)(A);A={type:"fragmentsMissing",y$a:A,Xmc:B};this.lb.emit(A.type,A);}}};x.prototype.MPb=function(){return this.ht.getIterator();};x.prototype.gOb=function(){return this.Yp()[0];};x.prototype.Yp=function(){return this.ht.c_();};x.prototype.BT=function(z,A){var B,D;B=!0;D=z.sourceBuffers;A.forEach(function(C){(0,k.mc)(D,function(E){return E.mediaType === C;}) || z.addSourceBuffer(C) || (B=!1);});B || this.S.warn("Error adding sourceBuffer:",z.error);return B;};x.prototype.zFb=function(){var z,A;z=this;this.XK("createMediaSourceStart");if(this.up.Cqa)A=this.up.Cqa();else (A=new d.platform.MediaSource(this.ba.ba),A.Af || (A.Af=d.platform.MediaSource.Af));if(1 !== A.readyState)this.oF("exception in init","NFErr_MC_StreamingInitFailure");else {this.XK("createMediaSourceEnd");this.qg=A;if(!this.BT(A,this.Kg))throw (this.oF("error creating source buffers","NFErr_MC_StreamingInitFailure"),A.error);this.ASa={};this.Fa.Jd(new v.eFa(this.ASa,this.T));this.ci=A.sourceBuffers.filter(function(B){return 0 <= z.Kg.indexOf(B.mediaType);}).map(function(B){return z.tZa(A,B);});}};x.prototype.tZa=function(z,A){var B,D,C,E;B=this;z=new p.CEa(A.mediaType,z,A,this.T,this.ba,this.Hd);z.addListener("error",function(G){return B.oF(G.errorstr);});z.addListener("logdata",function(G){return B.lb.emit("logdata",G);});z.addListener("managerdebugevent",function(G){B.lb.emit("managerdebugevent",G);});E=null === (D=this.US) || void 0 === D?void 0:D.get(A.mediaType);D=new f.DDa(z,A.mediaType,this,this.T,this.S,this.ba,this.up,this.Hd,this.zl,this.Tz,E);if(A.mediaType === l.u.X)D.on("drmNeeded",function(G){return B.lb.emit("drmNeeded",G);});E || (null === (C=D.gD) || void 0 === C?void 0:C.gxb(new y.pea(this.ASa[A.mediaType]={},this.S,this.ba,z,this.ba.events,this.up,this.Hd)));return D;};x.prototype.Dcb=function(z){var A;(0,t.assert)(z.mL,"Attempted to prune branch that has not been fully appended");this.ht.remove(z);z.events.removeListener("branchEdited",this.lja);z.events.removeListener("requestComplete",this.nja);z.Lf("pruned");(null === (A=this.T.mWa) || void 0 === A?0:A.branchPruned) && this.lb.emit("requestGarbageCollection",{time:d.platform.time.sa(),type:"requestGarbageCollection"});};x.prototype.Ma=function(){this.hja.clear();this.gia.clear();this.ci.forEach(function(z){return z.Ma();});this.up.Cqa || this.qg.Sp();this.HB();this.wp.Ma();this.Un.clear();};x.prototype.ji=function(z){return this.ci.every(function(A){return A.ji(z);});};x.prototype.mO=function(){this.ci.forEach(function(z){return z.oZa();});this.kT=new w.Oha(this.S,this.Fa);};x.prototype.Rpa=function(){return {k3b:this.Yp(),f1b:this.ci};};x.prototype.yLb=function(z){var A;A=this;this.S2=!0;z.Xc.forEach(function(B){var D;D=A.f7(B.mediaType);if(void 0 !== D)A.RSa.once(B.upa,function(C){return D.ALb(C);});});if(z.Ia)this.j0a();else z.events.once("branchNormalized",function(){return A.j0a();});};x.prototype.j0a=function(){var z;z=this.gOb();z && ((0,t.assert)(z.Db),this.lb.emit("ptsChanged",{initialTimestamp:z.Db,forcedTimestamp:void 0}));};x.prototype.f7=function(z){return (0,k.mc)(this.ci,function(A){return A.mediaType === z;});};x.prototype.rPb=function(){return -1 !== this.Kg.indexOf(l.u.X)?l.u.X:l.u.Y;};x.prototype.XK=function(z){z={type:"startEvent",event:z,time:d.platform.time.sa()};this.lb.emit(z.type,z);};x.prototype.oF=function(z,A){this.Fa.rf(z,void 0,A);};x.prototype.DSa=function(){var z;z=this;this.hja && this.hja.clear();this.hja=g.Sq.ikb(this.ci.map(function(A){return A.js;}),function(A){return A.every(function(B){return B;});},function(A){return z.bB.set(A);});this.gia && this.gia.clear();this.gia=new g.nga(this.ci.map(function(A){return A.l9;}),function(A){return g.K.min.apply(g.K,c.__spreadArray([],c.__read(A),!1));},function(A){z.ZA.set(A);},g.K.Na(-Infinity));};return x;})();b.SDa=r;},89527:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pea=void 0;c=a(5163);m=a(90745);g=a(52571);k=a(48170);d=0;r=(function(f){function n(h,l,p,q,u,t,v,w){l=f.call(this,("cdnList").concat(d++),l,p,q,u,t,v,"cdnList",w) || this;l.tg=h;l.Eb();return l;}c.__extends(n,f);n.prototype.Eb=function(){var h;h=this;this.SS=new m.Ge();this.SS.on(this.xb.ba,"skipped",function(l){h.Ev && ((null === l || void 0 === l?0:l.k2b) && h.nU(l.k2b),h.Ev=void 0);});this.SS.on(this.xb.ba,"paused",function(){h.Ev && h.xb.Td && h.nU(h.xb.Rd);});this.SS.on(this.xb.ba,"underflow",function(){h.Ev && h.xb.Td && h.nU(h.xb.Rd);});};n.prototype.Nv=function(h,l,p){this.SS.clear();f.prototype.Nv.call(this,h,l,p);this.Eb();};n.prototype.close=function(){k.L && this.console.trace("close");f.prototype.close.call(this);this.SS.clear();};n.prototype.L8b=function(h,l){var p;p=this;this.Ev && this.nU(h);return this.z1a(l).map(function(q){return p.tg[q];});};n.prototype.udb=function(h){var l;l=this;this.z1a(h).forEach(function(p){delete l.tg[p];});};n.prototype.z1a=function(h){var l;l=this;return Object.keys(this.tg).filter(function(p){return l.tg[p].O === ("").concat(h);});};n.prototype.js=function(h){var l,p,q;l=h.stream;p=h.Wc;q=h.Db;h=h.Hb;(0,g.assert)(void 0 !== q);(0,g.assert)(void 0 !== h);k.L && this.console.trace(("Media appended ").concat(q.ob(),"-").concat(h.ob()));this.oka({stream:l,Wc:p},q,h);};n.prototype.a9=function(h,l){return h.stream === l.stream && h.Wc === l.Wc;};n.prototype.YNb=function(h){var l,p;p=h.Vo;h=p.Wc;p=null === (l=p.stream.ca.W.Sv) || void 0 === l?void 0:l.Lg;return ("").concat(h,"::").concat(p);};n.prototype.moa=function(h,l){k.L && this.console.trace(("Presenting event for ( ").concat(h.Vo.stream.id,", ").concat(h.Vo.Wc," )") + (" at ").concat(l.ob()));this.Ev?this.nU(l):this.tS=l;this.Ev=h;};n.prototype.nU=function(h){var l,p,q,u,t,v,w,y,x;(0,g.assert)(this.Ev);if(null === (l=this.pna) || void 0 === l?0:l.lessThan(h))h=this.pna;t=this.Ev;l=this.tg;v=t.Vo;w=v.stream;v=v.Wc;y=null === (p=w.lX) || void 0 === p?void 0:p.$m;p=h.qa(this.tS || t.timestamp).v;if(void 0 !== v && void 0 !== y){x=null === (q=w.ca.W.Sv) || void 0 === q?void 0:q.Lg;q=w.track.O;t=this.YNb(t);l=(u=(l[t] || (l[t]={Tm:v,Lg:x,O:q,oG:{}})).oG)[y] || (u[y]={bitrate:w.bitrate,Wb:y,mediaType:w.mediaType,totalTime:0,ub:w.ub});l.totalTime=Math.max(l.totalTime + p,0);}this.tS=h;};n.prototype.clone=function(h,l){l=void 0 === l?{}:l;h=new (l.poc || n)(h,this.H_b,this.xb,this.l4,this.events,this.up,this.vc,l.priority);this.gCb(h);h.Ev=this.Ev;h.tS=this.tS;k.L && h.console.trace("Cloning",{hjc:h.Hj.length});return h;};n.prototype.reset=function(){f.prototype.reset.call(this);this.tS=void 0;};n.prototype.b9=function(h){return ("(").concat(h.stream.Vb,", ").concat(h.Wc,")");};return n;})(a(546).f2);b.pea=r;},63002:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mHa=void 0;c=a(5163);m=a(48170);g=a(40666);r=(function(){function k(d,f,n){this.vc=d;this.SXb=f;this.S=n;}Object.defineProperties(k.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});k.prototype.waitUntil=function(d){var f;d=(0,g.tda)(this.vc,d,!0);f=d.promise;this.cwb=d.Wf;return f;};k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,n;return c.__generator(this,function(h){switch(h.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.wpa)return [3,2];n=f.Db.qa(this.SXb);m.L && this.S.trace(("[").concat(f.mediaType,"] JIT: waiting until playertime >= ").concat(n.v),("to append next request ").concat(f.toString()));return [4,this.waitUntil(n)];case 1:(h.Ja(),m.L && this.S.trace(("[").concat(f.mediaType,"] JIT: now appending request ").concat(f.toString())),h.label=2);case 2:return [2,d];}});});};k.prototype.reset=function(){var d;null === (d=this.cwb) || void 0 === d?void 0:d.Ma();};return k;})();b.mHa=r;},54540:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dKa=void 0;c=a(5163);m=a(91562);g=a(91176);r=(function(){function k(d){this.S=d;}Object.defineProperties(k.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,n,h,l,p,q,u,t,v,w,y,x,z,A;return c.__generator(this,function(){d.done || (f=d.value.value,f.stream.Z && (n=f.HPb(),n instanceof ArrayBuffer && (h=new m.Rq(this.S,f.stream,n,["moof"],!0,{zwa:!0}),l=h.parse(),l.Jw && (p=h.dn("moof"),q=p.dn("traf"),u=q.dn("trun"),t=q.dn("tfdt"),v=f.stream.ws,w=u.Bd,y=t.QF,x=l.Ga.N,z=new g.K(y,x),A=this.fr?z.qa(this.fr.rzb):void 0,this.S.trace(("Live Request Logger: processing request [").concat(f.mediaType,"]"),{baseMediaDecodeTime:y,timescale:x,baseMediaDecodeMs:z.v,ptsOffsetMs:v.v,mediaTimestampMs:z.qa(v).v,offsetFromPriorMs:null === A || void 0 === A?void 0:A.v,sampleCount:w,url:f.url}),this.fr={rzb:z}))));return [2,d];});});};k.prototype.reset=function(){this.fr=void 0;};return k;})();b.dKa=r;},85030:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.WPa=void 0;c=a(5163);m=a(91176);g=a(90745);k=a(66164);d=a(48170);f=a(65161);n=a(69575);h=a(52571);r=(function(){function l(p,q,u){var t;t=this;this.xb=p;this.ba=q;this.pending=new Map();this.listeners=new g.Ge();this.mva=!1;this.UQb=function(v){t.jeb(!0,function(){d.L && t.S.debug("cancelling playback ending");v.cancel();});};this.listeners.addListener(q,"playbackEnding",this.UQb);this.S=(0,n.Pf)(k.platform,u,"SEAMLESSMANAGER");d.L && this.S.debug("construct");}l.prototype.Ma=function(){d.L && this.S.debug("destruct");this.pending.clear();this.listeners.clear();};l.prototype.h4b=function(p){this.Heb=p;};l.prototype.$cc=function(p){var q;0 === this.pending.size && ((0,h.assert)(void 0 === this.Xm,"SeamlessManager: No pending transitions, but a wait is deferred"),this.Xm=new m.ev());(0,h.assert)(this.Xm,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(p.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + p.mediaType);this.pending.set(p.mediaType,p);d.L && this.S.trace(("got new transition [").concat(p.mediaType,"] --\x3e ").concat(p.to.stream.id));if(this.pending.size === this.xb.Kg.length && !this.mva){q=this.RTb();if(q.gxa)return (d.L && this.S.trace(("seamless transition possible at ").concat(p.timestamp.ob())),this.Xm.resolve(),this.reset(),Promise.resolve());d.L && this.S.trace(("starting non-seamless transition at ").concat(p.timestamp.ob()));this.c9b(q.info);}return this.Xm.promise;};l.prototype.j5b=function(p){d.L && this.S.trace(("reset media [").concat(p,"]"));this.pending.delete(p);0 === this.pending.size && this.reset();};l.prototype.reset=function(){d.L && this.S.debug("resetting");this.mva=!1;this.Xm=void 0;this.pending.clear();};l.prototype.RTb=function(){var p,q,u,t,y,x,z,A,B,D,C,E,G,F,I;t={gxa:!0};try{for(var v=c.__values(this.pending.entries()),w=v.next();!w.done;w=v.next()){y=c.__read(w.value,2);x=y[0];z=y[1];if(z.from){A=z.from.stream;B=z.to.stream;if(A.track === B.track)d.L && this.S.debug("Seamless deemed possible due to same track",{mediaType:x});else {D=A.hn();C=B.hn();E=void 0;G=this.xb.ql(z.timestamp);E=z.from.H && 0 > this.xb.l9.value.v?{H:z.from.H,offset:m.K.Na(0)}:this.xb.ql(z.hcb);F=this.ba.xXa({mediaType:x,L1a:z.L1a,from:D,to:C,lMb:E,gac:G});if(F.xXa)d.L && this.S.debug("Seamless deemed possible",{mediaType:x,from:D,to:C,lMb:E,gac:G});else {d.L && this.S.debug("Non-seamless transition; details:",{reason:F.reason,mediaType:x,from:D,to:C});I=t.gxa?[]:t.info.bdb;F.reason && (z.reason="string" !== typeof F.reason?F.reason:void 0,I.push(F.reason));t={gxa:!1,info:{wHb:null !== (q=z.to.H) && void 0 !== q?q:"unk",T8b:null !== (u=z.from.H) && void 0 !== u?u:"unk",n1b:z.timestamp,bdb:I}};}}}}}catch(M){var P;P={error:M};}finally{try{w && !w.done && (p=v.return) && p.call(v);}finally{if(P)throw P.error;}}return t;};l.prototype.c9b=function(p){var q;null === (q=this.Heb) || void 0 === q?void 0:q.bxb(p);this.mva=!0;this.xb.js.value?(d.L && this.S.trace("Signaling EOS for upcoming restart"),this.xb.tZ()):(d.L && this.S.trace("Signaling immediate restart"),this.jeb(!1));};l.prototype.jeb=function(p,q){var u,t,v,w,y,x,B,D,C;v=this;if(this.pending.size){d.L && this.S.trace("playback ending, restarting player");w={};y=(u={},u[f.u.Y]=void 0,u[f.u.X]=void 0,u[f.u.Da]=void 0,u);u=void 0;x=[];try{for(var z=c.__values(this.pending.entries()),A=z.next();!A.done;A=z.next()){B=c.__read(A.value,2);D=B[0];C=B[1];w[D]=C.to.stream.hn();u={to:{H:C.to.H,offset:C.timestamp}};C.reason && x.push(C.reason);C.from.H && (y[D]=C.from.H,u.from={H:C.from.H,offset:C.hcb});}}catch(G){var E;E={error:G};}finally{try{A && !A.done && (t=z.return) && t.call(z);}finally{if(E)throw E.error;}}null === q || void 0 === q?void 0:q();this.xb.d9b(u,p,x);d.L && this.S.debug("Restarting player",w);this.ba.sf(w,y).then(function(){var G,F;null === (G=v.Xm) || void 0 === G?void 0:G.resolve();d.L && v.S.debug("Restart completed");null === (F=v.Heb) || void 0 === F?void 0:F.cxb();v.reset();});}};return l;})();b.WPa=r;},33604:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.XPa=void 0;c=a(5163);m=a(48170);r=(function(){function g(k,d,f){this.Tz=k;this.we=d;this.S=f;this.p3=!0;}Object.defineProperties(g.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});g.prototype.process=function(k){var d;return c.__awaiter(this,void 0,void 0,function(){var f;return c.__generator(this,function(n){switch(n.label){case 0:if(k.done)return [3,3];f=k.value.value;if(!this.fr || !f.fw || f.stream.ca === this.fr.stream.ca || this.fr.Db === f.Db && this.fr.W4b === f.index)return [3,2];m.L && this.S.trace(("Seamless Throttler: Waiting on request [").concat(f.mediaType,"]"),f.index,"in",f.I.id);return [4,this.Tz.$cc({mediaType:f.mediaType,L1a:this.p3,to:{stream:f.stream,H:f.I.id},from:{stream:this.fr.stream,H:this.fr.H},timestamp:f.Db,hcb:null === (d=this.fr) || void 0 === d?void 0:d.Db})];case 1:(n.Ja(),n.label=2);case 2:(this.p3=!1,this.fr={W4b:f.index,stream:f.stream,Db:f.Db,H:f.I.id},n.label=3);case 3:return [2,k];}});});};g.prototype.g_b=function(k,d){void 0 === k && (k=[]);void 0 === d && (d=[]);m.L && this.S.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.p3 || (this.p3=-1 !== d.indexOf(this.we));(null === k || void 0 === k?0:k.length) && k.length !== d.length && (this.fr=void 0);};g.prototype.reset=function(){};return g;})();b.XPa=r;},53693:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NMa=void 0;c=a(5163);m=a(48170);g=a(52571);k=a(40666);r=(function(){function d(f,n,h,l){var p;p=this;this.vc=f;this.a0b=n;this.pwa=h;this.S=l;f.va.on("stopStart",function(){return p.fCb();});m.L && this.S.trace(("PacingThrottler: pacingFactory=").concat(n,", pacingThreshold=").concat(h.ob()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.fCb=function(){var f,n;n=this.vc.va;this.HL=n.ti?n.currentTime:void 0;this.JT=this.hV=void 0;m.L && this.S.trace(("PacingThrottler: clock reset ").concat(null === (f=this.HL) || void 0 === f?void 0:f.v));};d.prototype.waitUntil=function(f){var n;f=(0,k.tda)(this.vc,f,!0);n=f.promise;this.Zcc=f.Wf;return n;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var n,h,l,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];n=f.value.value;(0,g.assert)(n.Db);h=this.vc.va;if(!this.hV || !this.JT)return [3,10];if(!this.JT.greaterThan(this.pwa))return [3,8];if(!this.HL)return [3,5];l=n.Db.qa(this.HL).qa(this.pwa);p=this.HL.add(l.Hg(this.a0b));if(!p.lessThan(n.Db))return [3,3];if(!p.greaterThan(h.currentTime))return [3,2];m.L && this.S.trace(("PacingThrottler: waiting until ").concat(p.ob()," for mediaRequest @") + ("").concat(n.Db.ob(),", ") + ("current time ").concat(h.currentTime.ob(),", ") + ("clock start time ").concat(this.HL.ob(),", ") + ("distance ").concat(l.ob()));return [4,this.waitUntil(p)];case 1:(q.Ja(),q.label=2);case 2:return [3,4];case 3:(m.L && this.S.warn("PacingThrottler: invalid schedule time " + ("").concat(p.ob()," for mediaRequest ") + ("@").concat(n.Db.ob(),", ") + ("current time ").concat(h.currentTime.ob(),", ") + ("clock start time ").concat(this.HL.ob(),", ") + ("distance ").concat(l.ob())),q.label=4);case 4:return [3,7];case 5:l=n.Db.qa(this.hV);if(!l.greaterThan(this.pwa))return [3,7];m.L && this.S.trace(("PacingThrottler: (buffering) waiting until ").concat(this.hV.v,"ms") + (" for mediaRequest @").concat(n.Db.v,"ms, ") + ("current time ").concat(h.currentTime.v));return [4,this.waitUntil(this.hV)];case 6:(q.Ja(),q.label=7);case 7:return [3,9];case 8:(this.JT=this.JT.add(n.Bb),q.label=9);case 9:return [3,11];case 10:(this.hV=n.Db,this.JT=n.Bb,q.label=11);case 11:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.Zcc) || void 0 === f?void 0:f.Ma();};return d;})();b.NMa=r;},61651:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Jga=void 0;c=a(5163);m=a(91176);g=a(52571);k=a(48170);d=a(17122);r=(function(f){function n(h){var l;l=f.call(this) || this;l.Fa=h;l.US=new Map();l.Xa=[];l.rS=new d.B2({ti:!1,currentTime:function(){return l.Td?l.Rd:m.K.Fj;},speed:1});return l;}c.__extends(n,f);Object.defineProperties(n.prototype,{va:{get:function(){return this.rS;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Hd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zl:{get:function(){return this.kT;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Qw:{get:function(){return this.US;},enumerable:!1,configurable:!0}});n.prototype.x4=function(h,l){var p;p=!this.Fa;p && (this.Fa=h,this.tia=(null === l || void 0 === l?0:l.Td)?l.Rd:void 0,this.kT=null === l || void 0 === l?void 0:l.zl,this.US=l?l.Qw:new Map(),null === l || void 0 === l?void 0:l.mO());return p;};n.prototype.mO=function(){this.US=this.kT=void 0;};n.prototype.HB=function(){this.Xa=[];this.tia=void 0;};n.prototype.Qna=function(h){k.L && (0,g.assert)(this.Fa === h);this.Fa=void 0;this.HB();};n.prototype.Aoa=function(){for(var h,l=[],p=0;p < arguments.length;p++)l[p]=arguments[p];(h=this.Xa).push.apply(h,c.__spreadArray([],c.__read(l),!1));};n.prototype.MG=function(){return this.tia?this.tia:f.prototype.MG.call(this);};n.prototype.zW=function(){return !1;};n.prototype.zD=function(){};n.prototype.aJ=function(){};n.prototype.Uaa=function(){this.Xa=this.Xa.filter(function(h){return h.mL?(h.Lf("pruned"),!1):!0;});};n.prototype.Ma=function(){f.prototype.Ma.call(this);this.Qw.forEach(function(h){return h.close();});};return n;})(a(82867).Zga);b.Jga=r;},82867:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Zga=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(66164);d=a(52571);f=a(65161);r=a(75393);n=a(48170);h=a(69575);l=r.Mw.Gna;a=(function(){function p(){this.tO=[];this.bB=new g.Sq(!1);this.ZA=new g.Sq(g.K.Na(-Infinity));this.MK=new g.Sq(g.K.Na(-Infinity));this.events=new m.EventEmitter();this.S=new k.platform.Console("ASEJS","media|asejs");}Object.defineProperties(p.prototype,{console:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hd:{get:function(){return this.xt;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{P7a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zl:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Qw:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{playbackRate:{get:function(){return this.WM();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{YVa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{js:{get:function(){return this.bB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{l9:{get:function(){return this.ZA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fk:{get:function(){return this.MK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Td:{get:function(){return this.aq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Rd:{get:function(){return this.MG();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Fg:{get:function(){var q,u;q=this.Rd;u=this.ql(q,!1);n.L && (0,d.assert)(u,("Could not find current branch for ").concat(q.v));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zSb:{get:function(){return this.Xa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xr:{get:function(){return this.aq?this.Xa[this.Xa.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jz:{get:function(){var q,u;q=this.Rd;u=this.tV(q);(0,d.assert)(u,("Could not find presenting branch for ").concat(q.v));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{aq:{get:function(){return 0 < this.Xa.length;},enumerable:!1,configurable:!0}});p.prototype.qfb=function(){};p.prototype.pfb=function(){};p.prototype.ji=function(){return !1;};p.prototype.i8=function(){return 0 < this.Xa.length;};p.prototype.ro=function(){(0,d.assert)(0 < this.Xa.length,"Could not find presenting branch. Player has no branches.");return this.Jz;};p.prototype.X4a=function(q){return -1 !== this.Xa.indexOf(q);};p.prototype.x4=function(){return void 0 !== this.Fa?!1:!0;};p.prototype.mO=function(){};p.prototype.Ma=function(){};p.prototype.oC=function(q){var u,t,v;u=this.Xa.filter(function(w){return w.I.id === q.H;});if(0 !== u.length){t=this.MG();v=new g.K(Infinity,1);u.forEach(function(w){w=w.rs.add(q.offset);t.VL(w).lessThan(t.VL(v)) && (v=w);});return v;}};p.prototype.bW=function(q){var u,t,v,w,y,x,z,A,B,D;return c.__generator(this,function(C){switch(C.label){case 0:u=this.Xa.filter(function(E){return E.I.id === q.H;});if(0 === u.length)return [2,void 0];t=this.MG();C.label=1;case 1:(C.Gf.push([1,6,7,8]),v=c.__values(u),w=v.next(),C.label=2);case 2:if(w.done)return [3,5];y=w.value;x=y.rs.add(q.offset);z=t.VL(x);return [4,{uq:x,VL:z}];case 3:(C.Ja(),C.label=4);case 4:return (w=v.next(),[3,2]);case 5:return [3,8];case 6:return (A=C.Ja(),B={error:A},[3,8]);case 7:try{w && !w.done && (D=v.return) && D.call(v);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};p.prototype.ql=function(q,u){var t,v,w;void 0 === u && (u=!1);t=this.tV(q,u);if(t){v=t.I;u=v.id;w=v.Bb;q=g.K.min(q.qa(v.uc.add(t.Kd)),w);return {H:u,offset:q};}};p.prototype.m_=function(){};p.prototype.reset=function(){this.HB();};p.prototype.Hya=function(){};p.prototype.aP=function(){};Object.defineProperties(p.prototype,{TI:{get:function(){return !1;},enumerable:!1,configurable:!0}});p.prototype.pause=function(q){void 0 === q && (q=f.ER);this.tO=null === q || void 0 === q?void 0:q.reduce(function(u,t){-1 === u.indexOf(t) && u.push(t);return u;},this.tO);};p.prototype.resume=function(q){var u;u=this;void 0 === q && (q=f.ER);q.forEach(function(t){t=u.tO.indexOf(t);-1 !== t && u.tO.splice(t,1);});};p.prototype.qBa=function(q){var u;(0,d.assert)(this.Fa);(0,d.assert)(q !== this);this.aJ();u=q.x4(this.Fa,this);u && (this.Uaa(),q.pause(this.tO),q.Aoa.apply(q,c.__spreadArray([],c.__read(this.Xa),!1)),this.Qna(this.Fa));return u;};p.prototype.MG=function(){return this.q3a();};p.prototype.q3a=function(){var q,u;n.L && (0,d.assert)(this.aq,"Attempted to get initial time before any branches were queued");u=c.__read(this.Xa,1)[0];n.L && (0,d.assert)(u);return null !== (q=u.Db) && void 0 !== q?q:u.ez;};p.prototype.WM=function(){return 1;};p.prototype.QG=function(){};p.prototype.tV=function(q,u){var t;void 0 === u && (u=!1);if(this.aq){t=this.q3a();return q.lessThan(t)?this.Xa[0]:(0,h.npa)(this.Xa,q) || (u?this.Xr:void 0);}};p.prototype.oNb=function(){var q,u,w,y,x,z,A,B;u={};try{for(var t=c.__values(this.Xa),v=t.next();!v.done;v=t.next()){w=v.value;y=void 0;x=void 0;z=w.FM();for(y in z){A=y;B=z[A];B && (u[A]=(null !== (x=u[A]) && void 0 !== x?x:0) + B);}if(!w.hi)break;}}catch(C){var D;D={error:C};}finally{try{v && !v.done && (q=t.return) && q.call(t);}finally{if(D)throw D.error;}}return u;};c.__decorate([l.return.$g(),l.return.P$],p.prototype,"P7a",null);c.__decorate([l.return.$g()],p.prototype,"Fg",null);c.__decorate([l.return.vla(),l.return.qm],p.prototype,"ro",null);c.__decorate([c.__param(0,l.$g())],p.prototype,"oC",null);c.__decorate([c.__param(0,l.$g())],p.prototype,"bW",null);c.__decorate([l.return.$g()],p.prototype,"ql",null);return p;})();b.Zga=a;},90111:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qOa=void 0;c=a(90745);m=a(91176);g=a(65161);r=a(85254);a=(function(){function k(d){this.ba=d;this.Zia=!1;this.JTa=new c.Ge();this.e4b();}k.prototype.e4b=function(){var d,f;d=this;f=this.JTa;f.on(this.ba,"paused",function(){return d.caa();});f.on(this.ba,"playing",function(){return d.caa(!0);});f.on(this.ba,"underflow",function(){return d.caa();});f.on(this.ba,"skipped",function(){return d.XX();});f.on(this.ba,"clockAdjusted",function(){return d.UX();});f.on(this.ba,"playbackRateChanged",function(){return d.m_b();});};Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.BUa || this.ba.Tc || m.K.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ti:{get:function(){return this.Zia;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){var d;return null !== (d=this.ba.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});k.prototype.caa=function(d){void 0 === d && (d=!1);d !== this.Zia && (this.BUa=(this.Zia=d)?void 0:this.ba.Tc);this.emit("stopStart",{type:"stopStart"});};k.prototype.XX=function(){this.BUa=void 0;this.UX(g.zA.XI);};k.prototype.UX=function(d){void 0 === d && (d=g.zA.wxb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};k.prototype.m_b=function(){this.emit("speedChanged",{type:"speedChanged"});};k.prototype.Ma=function(){this.caa();this.JTa.clear();};return k;})();b.qOa=a;(0,r.Fk)(c.EventEmitter,a);},546:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.f2=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(66164);d=a(69575);f=a(48170);n=a(40666);h=g.K.Na(1E3);r=(function(){function l(p,q,u,t,v,w,y,x,z,A){var B,D;this.eMb=p;this.H_b=q;this.l4=t;this.events=v;this.up=w;this.jib=x;this.priority=z;this.Hj=[];this.console=(0,d.Pf)(k.platform,q,("PresentationTracker [").concat(this.eMb,"] [").concat(this.jib,"]"));this.Bwa=h.add(g.K.Na(null !== (D=null === (B=w.tP) || void 0 === B?void 0:B.v) && void 0 !== D?D:0));this.listeners=new m.Ge();this.Xwa=new m.Ge();this.ey=!0;this.bT=!A;this.JFb(y);this.zfb(u,y,t);}l.prototype.zfb=function(p,q,u){var t;t=this;this.l4=u;this.listeners.clear();this.Xwa.clear();this.xb=p;this.vc=q;this.Xwa.on(p.ba,"skipped",this.XX.bind(this));this.listeners.on(u,"requestAppended",function(v){return t.js(v.request);});this.events=p.events;this.cM.IXa(q);this.zY.IXa(q);};l.prototype.JFb=function(p){var q;q=this;this.cM=p.By(function(){return q.DIb();},"Presentation Emit",this.priority);this.zY=p.By(function(){return q.$2b();},"Presentation Prune");};l.prototype.XX=function(){this.trace(("skipped, scheduler clock ").concat(this.vc.va.currentTime.ob()));this.bT=this.ey=!0;this.cM.sf();};l.prototype.DIb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:(f.L && this.console.trace("Starting emit job",this.ey),this.lI=this.PYb(this.ey),p=this.A$a(),t.label=1);case 1:if(!p)return [3,3];this.trace(("queuing task for ").concat(this.b9(p.Vo)) + (" at player time ").concat(p.timestamp.ob()) + (" scheduler clock is ").concat(this.vc.va.currentTime.ob()));return [4,n.Tg.Wu(p.timestamp)];case 2:t.Ja();this.trace(("executing task for ").concat(this.b9(p.Vo)) + (" for player time ").concat(p.timestamp.ob()) + (", scheduler clock: ").concat(this.vc.va.currentTime.ob()) + (", actual player time: ").concat(this.xb.Rd) + (", first item: ").concat(this.ey));q=this.bT?this.xb.Rd:p.timestamp;u=this.ey;this.bT=this.ey=!1;this.SZa=p;this.lI++;this.pna=(p=this.A$a())?p.timestamp:this.sH;try{this.moa(this.SZa,q,u);}catch(v){this.console.error(("Error in ").concat(this.jib," emit, continuing"),v);}q=null === p || void 0 === p?void 0:p.timestamp;return [3,1];case 3:return (f.L && this.console.trace("Ending emit job"),[2]);}});};l.prototype.Yva=function(){this.ey=!0;};l.prototype.A$a=function(){if(void 0 !== this.lI)return this.Hj[this.lI];};l.prototype.PYb=function(p){var q,u,v;void 0 === p && (p=!1);for(var t=p?0:null !== (q=this.lI) && void 0 !== q?q:0;t < this.Hj.length;t++){q=this.Hj[t];v=g.K.Na(null !== (u=this.up.l1b) && void 0 !== u?u:0);if(q.timestamp.greaterThan(this.xb.Rd.add(v)))return p && 0 < t?t - 1:t;}return Math.max(this.Hj.length - 1,0);};l.prototype.$2b=function(){var p,q;return c.__generator(this,function(u){switch(u.label){case 0:if(!(1 < this.Hj.length))return [3,2];p=c.__read(this.Hj,2);q=p[1];this.trace(("queuing pruning task for ").concat(q.Vo) + (" at player time ").concat(this.Bwa.add(q.timestamp).ob()) + (" scheduler clock is ").concat(this.vc.va.currentTime.ob()));return [4,n.Tg.Wu(this.Bwa.add(q.timestamp))];case 1:return (u.Ja(),this.trace(("executing pruning task for ").concat(q.Vo) + (" at player time ").concat(this.Bwa.add(q.timestamp).ob()) + (" scheduler clock is ").concat(this.vc.va.currentTime.ob())),this.Hj.shift(),this.lI && this.lI--,[3,0]);case 2:return [2];}});};l.prototype.Nv=function(p,q,u){this.zfb(p,q,u);};l.prototype.reset=function(){this.Hj=[];f.L && this.trace("reset");this.bT=this.ey=!0;this.sH=void 0;this.lI=0;this.zY.sf();this.cM.sf();};l.prototype.close=function(){f.L && this.trace("close()");this.bT=this.ey=!0;this.Xwa.clear();this.cM.Ma();this.zY.Ma();this.listeners.clear();this.Hj=[];};l.prototype.ji=function(p){var q;f.L && this.trace(("canSkip() ").concat(p));if(0 === this.Hj.length)return (f.L && this.trace("canSkip false, no media sequence"),!1);q=this.Hj[0];return q.timestamp.greaterThan(p)?(f.L && this.trace(("canSkip false, before earliest item at ").concat(q.timestamp)),!1):void 0 === this.sH || this.sH.lessThan(p)?(f.L && this.trace(("canSkip false, later than last appended at ").concat(this.sH)),!1):!0;};l.prototype.trace=function(p){f.L && this.console.trace(p);};l.prototype.oka=function(p,q,u){var t;u && (this.sH=u);t=this.Hj.length?this.Hj[this.Hj.length - 1]:void 0;if(void 0 === t || !this.a9(t.Vo,p))return (this.Hj.push({Vo:p,timestamp:q}),this.cM.state === n.Mk.complete && this.cM.sf(),this.zY.state === n.Mk.complete && this.zY.sf(),!0);t === this.SZa && (this.pna=u);return !1;};l.prototype.a9=function(p,q){return p === q;};l.prototype.gCb=function(p){p.Hj=c.__spreadArray([],c.__read(this.Hj),!1);p.sH=this.sH;};l.prototype.h4a=function(){var p,q,u,w;if(this.xb.Td){q=this.xb.Rd;u=void 0;try{for(var t=c.__values(this.Hj),v=t.next();!v.done;v=t.next()){w=v.value;if(w.timestamp.Ao(q))u=w;else break;}}catch(x){var y;y={error:x};}finally{try{v && !v.done && (p=t.return) && p.call(t);}finally{if(y)throw y.error;}}return null === u || void 0 === u?void 0:u.Vo;}};return l;})();b.f2=r;},55024:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.cPa=void 0;c=a(5163);m=a(91176);g=a(65161);k=a(6832);d=a(36640);r=(function(){function f(n,h,l,p,q,u,t,v){this.mediaType=n;this.console=h;this.xb=l;this.l4=p;this.ko=q;this.Vwa=u;this.vc=t;this.mB=[];this.mediaType === g.u.X && this.mB.push(new d.gQa(n,h,l,p,q,u,t,v,2));this.mB.push(new k.D2(n,h,l,p,q,u,t,"stream",1,null === v || void 0 === v?void 0:v.O5a()));}f.prototype.Nv=function(n,h,l){this.xb=n;this.vc=h;this.l4=l;this.MD.forEach(function(p){return p.Nv(n,h,l);});};f.prototype.gxb=function(n){this.mB.push(n);};f.prototype.mpa=function(n){return (0,m.mc)(this.mB,function(h){return h instanceof n;});};f.prototype.reset=function(){this.mB.forEach(function(n){return n.reset();});};f.prototype.close=function(){this.mB.forEach(function(n){return n.close();});};f.prototype.ji=function(n){return c.__read(this.mB,1)[0].ji(n);};Object.defineProperties(f.prototype,{MD:{get:function(){return this.mB;},enumerable:!1,configurable:!0}});f.prototype.Yva=function(){this.MD.forEach(function(n){return n.Yva();});};return f;})();b.cPa=r;},36640:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gQa=void 0;c=a(5163);m=a(91176);g=a(48170);k=a(52571);r=(function(d){function f(n,h,l,p,q,u,t,v,w){n=d.call(this,n,h,l,p,q,u,t,"segment",w,null === v || void 0 === v?void 0:v.O5a()) || this;n.zl=v;return n;}c.__extends(f,d);f.prototype.js=function(n){var h,l,p,q,u,t,v,w,y,x;u=n.Db;t=n.Hb;v=n.Ia;w=n.bitrate;y=n.ub;(0,k.assert)(void 0 !== u);x=null === (h=this.xb.ql(u)) || void 0 === h?void 0:h.H;(0,k.assert)(x,"missing segment id");this.r9=n={H:x,BLb:n.fw,Ia:v,Ljb:w,ub:y,m2b:null === (l=this.r9) || void 0 === l?void 0:l.Ljb,n2b:null === (p=this.r9) || void 0 === p?void 0:p.ub,Ad:null === (q=n.stream.ca.W) || void 0 === q?void 0:q.Ad};this.oka(n,u,t) && g.L && this.trace(("segment ").concat(x," @ ").concat(u.v,"ms"));};f.prototype.a9=function(n,h){return n.H === h.H && !h.BLb;};f.prototype.moa=function(n,h,l){var p,q,u,t,v,w;p=n.Vo;q=p.H;u=p.Ljb;t=p.m2b;v=p.ub;p=p.n2b;w=this.xb.ql(h);(0,k.assert)(void 0 !== w);g.L && this.trace(("emitSegmentPresentingEvent @ ").concat(n.timestamp.v,"ms for segment ").concat(q));w.H !== q && (g.L && this.console.warn("player position:",w,"not equal to trackedElement:",q),w={H:q,offset:m.K.Ba});n={type:"segmentPresenting",playerTimestamp:h,position:w,seek:l,playbackContextId:n.Vo.Ad};if(this.zl){if(q=this.zl.Eqa(q))(q.destvbitrate=u,q.destvmaf=v,q.srcvbitrate=t,q.srcvmaf=p);n.metrics=q;}g.L && this.trace(("segmentPresenting: ").concat(JSON.stringify(n)));this.events.emit(n.type,n);};f.prototype.reset=function(){d.prototype.reset.call(this);this.r9=void 0;};f.prototype.close=function(){d.prototype.close.call(this);this.r9=void 0;};f.prototype.b9=function(n){return n.H;};return f;})(a(546).f2);b.gQa=r;},6832:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.D2=void 0;c=a(5163);m=a(48170);g=a(52571);r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.js=function(f){var n,h,l;n=f.stream;h=f.Db;l=f.Hb;f=f.Ia;(0,g.assert)(void 0 !== h,"playerStartTimestamp undefined at media append");(0,g.assert)(void 0 !== f,"contentStartTimestamp undefined at media append");this.oka({stream:n,Ia:f},h,l) && m.L && this.trace(("stream ").concat(n.id,", ").concat(n.bitrate,"kbit/s @ ").concat(h.v,"ms"));};d.prototype.a9=function(f,n){return f.stream === n.stream;};d.prototype.moa=function(f,n){var h,l,p,q;p=f.Vo.stream;q=this.xb.ql(n);(0,g.assert)(void 0 !== q);m.L && this.trace(("emitStreamPresentingEvent @ ").concat(f.timestamp.v,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:n,position:q,trackIndex:null === (h=null === p || void 0 === p?void 0:p.track) || void 0 === h?void 0:h.CF,streamIndex:null === p || void 0 === p?void 0:p.ex,stream:p,manifest:null === (l=p.ca) || void 0 === l?void 0:l.W,contentStartTimestamp:f.Vo.Ia});};d.prototype.b9=function(f){return ("").concat(f.stream.Vb,"@").concat(f.Ia.ob());};return d;})(a(546).f2);b.D2=r;},16290:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Oha=void 0;c=a(91176);m=a(66164);g=a(65161);r=(function(){function k(d,f){this.S=d;this.jF=f;}k.prototype.pca=function(d,f,n,h,l,p){var q,u;void 0 === l && (l=!1);void 0 === p && (p=void 0);q=d.I;u=this.xtb(q);this.xF={startTime:m.platform.time.sa(),V8b:d,U8b:n.v,o6:f,Cd:this.uOb(h,f),tac:this.nQb(h,l),x3b:p,$Gb:l,tf:h,WXa:u,NYb:this.UOb(q,n)};};k.prototype.O5a=function(){return !!this.xF;};Object.defineProperties(k.prototype,{o6:{get:function(){var d;return null === (d=this.xF) || void 0 === d?void 0:d.o6;},enumerable:!1,configurable:!0}});k.prototype.Eqa=function(d){var f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P;if(this.xF && 0 !== Object.keys(this.xF.WXa).length && d === this.xF.o6){v=this.xF;w=v.WXa;y=v.NYb;x=v.$Gb;z=v.tf;A=v.V8b;B=v.U8b;D=v.startTime;C=v.Cd;E=v.tac;v=v.x3b;this.xF=void 0;G=this.Lia(d).yla;F=this.LMb(A.I.id,d,w);G=this.yTa(F.weight,G);I={};for(P in w)P !== d && (I[P]=w[P].details);w=m.platform.time.sa() - D;D=z?0:w;P={offset:this.RPb(A,B,z,x),H:A.I.id};B={offset:c.K.Na(B),H:A.I.id};y={segment:d,destPosition:{H:d,offset:c.K.Ba},srcsegment:A.I.id,srcTransitionPosition:P,srcStartPosition:B,srcsegmentduration:A.e_.v,srcoffset:P.offset.v,seamlessRequested:z,atRequest:F,atTransition:G,discard:I,transitionType:C,transitionTypeAtRequest:E,delayToTransition:this.vNb(w,z,x),durationOfTransition:D,nextExitPositionAtRequest:y};v && (y.reasonCodes=v);x=null !== (n=null === (f=this.jF.$.aa[d]) || void 0 === f?void 0:f.type) && void 0 !== n?n:"content";f=null !== (l=null === (h=this.jF.$.aa[A.I.id]) || void 0 === h?void 0:h.type) && void 0 !== l?l:"content";d=null !== (q=null === (p=this.jF.$.aa[d]) || void 0 === p?void 0:p.J) && void 0 !== q?q:void 0;p=null !== (t=null === (u=this.jF.$.aa[A.I.id]) || void 0 === u?void 0:u.J) && void 0 !== t?t:void 0;d && p && d !== p && (y.auxMidType=x,y.auxSrcmidType=f,y.auxMid=d,y.auxSrcmid=p);return y;}};k.prototype.LMb=function(d,f,n){var h,l,p;p={};(n=n[f])?p=n.details:((0,c.assert)(this.jF),p.weight=null === (l=null === (h=this.jF.$.aa[d].next) || void 0 === h?void 0:h[f]) || void 0 === l?void 0:l.weight);return p;};k.prototype.vNb=function(d,f,n){var h;n || (h=f?d:0);return h;};k.prototype.UOb=function(d,f){var n,h,l;h=d.uc.add(f);null === (n=d.yq) || void 0 === n?void 0:n.some(function(p){h.lessThan(p.Ia) && (l=p.Ia.v);});return l;};k.prototype.RPb=function(d,f,n,h){return n || h?d.e_:c.K.Na(f);};k.prototype.uOb=function(d,f){return d?"seamless":this.Lia(f).Y4a?"reset":"long";};k.prototype.nQb=function(d,f){return d || f?"lazy":"immediate";};k.prototype.xtb=function(d){var f,n;f=this;n={};d.Dw.forEach(function(h){var l,p;l=d.QYb[h];p=f.Lia(h).yla;n[h]={details:f.yTa(l,p)};});return n;};k.prototype.Lia=function(d){var f,n;d=this.jF.uV(d);f=0 < d.length?d[0]:void 0;d=null === f || void 0 === f?void 0:f.FM();if(!f || !d)return {Y4a:!1,yla:{gda:0,Q3:0,s_:0,qT:0}};n=f.f8(g.u.Y) && !d.Q3;f=f.f8(g.u.X) && !d.gda;return {Y4a:!n && !f,yla:d};};k.prototype.yTa=function(d,f){return {weight:d,vbuflmsec:f.gda,abuflmsec:f.Q3,vbuflbytes:f.s_,abuflbytes:f.qT};};return k;})();b.Oha=r;},62819:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va,S,ma,Ja,Na,Za,V,la;function c(ra){var N;N={};ra.forEach(function(ha){ha.mediaType !== q.u.Da && (N[ha.mediaType]=ha.hn());});return N;}Object.defineProperties(b,{__esModule:{value:!0}});b.Wda=void 0;m=a(5163);g=a(90745);k=a(79048);d=a(91176);f=a(91176);n=a(66164);h=a(79048);l=a(91176);p=a(20271);q=a(65161);u=a(26286);t=a(70842);v=a(31485);w=a(52571);y=a(61651);x=a(40666);z=a(63576);A=a(91967);B=a(5653);D=a(17122);C=a(54366);E=a(63172);G=a(61996);F=m.__importDefault(a(40497));I=a(46759);P=a(60028);M=a(27288);L=a(73036);Q=a(69575);J=a(6783);H=a(31729);K=a(94328);O=a(28696);R=a(19455);ca=a(25317);oa=a(86451);ta=a(88874);Fa=a(25510);ua=a(78538);ya=a(36472);Ca=a(54775);Va=a(4489);S=a(35879);ma=a(56879);Ja=a(23895);Na=a(70494);Za=a(31509);r=a(75393);V=a(46262);la=r.Mw.Gna;a=(function(){function ra(N,ha,xa,$a,ab,db,ub,Ma,cb){this.MUa=ha;this.config=xa;this.id=$a;this.zt=db;this.Vi=ub;this.PBb=Ma;this.yia=!1;this.CK=void 0;this.Joa=[];this.Bj=this.Oa=this.er=void 0;this.Oxb="2.0";this.h6a=this.C3=this.Im=this.eja=void 0;this.Wa=p.zm.CLOSED;this.Jia=!0;this.q4=!1;this.kJ=this.A_=this.NF=void 0;this.VWa=new g.Ge();this.VB=0;this.yca=!1;this.tSb();this.console=new n.platform.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Se=new G.Xq({uh:10,nl:this,source:"AsePlaygraph",console:this.console});this.events=new g.EventEmitter();this.Ft=k.Sx.create(N);this.Bfb(this.Ft);this.Xa=new ta.zOa();this.vg=new Na.BOa(this.console);this.RUb=new O.JHa(this.config,d.K.Na(this.config.JH),{parent:function(kb){return kb.VM();},next:this.P3a.bind(this)},this.events,this.console);this.oUb=new R.IHa(this.config,d.K.Na(this.config.JH),{parent:function(kb){return kb.VM();},next:this.P3a.bind(this)},this.events,this.console);this.zca=new v.LQa(this.console,this.events);this.$T={$y:xa.sX || Infinity};this.ba=new y.Jga(this);this.Hd=new x.aS(this.ba.va,this.console,"playgraph",1);this.xSb();this.bf=new Fa.EEa(this.console,xa,ab,this.events,this,this.Iq);this.M4=new Ca.rEa(this.Hd,this.Iq,this.config,this.Sj.bind(this),this.Xd,this.console);this.V$=this.bf.V$.bind(this.bf);this.YX=this.bf.YX.bind(this.bf);this.daa=this.bf.daa.bind(this.bf);this.N$=this.N$.bind(this);this.K$=this.K$.bind(this);this.L$=this.L$.bind(this);this.KI=this.KI.bind(this);this.As=new A.nha(xa);this.pSb();this.As.Jd(new C.et(this.bf.Se));this.As.Jd(new E.NNa(this.iPb.bind(this)));this.As.Jd(new C.et(this.Se));this.As.Jd(new I.yOa(this.Xa,this));this.As.Jd(new M.cKa(this));this.As.Jd(new L.ZQa(this.Hd));this.Vgb=new Ja.KQa(this,this.console,cb);this.G9=new P.AKa(this.Iq,this.console,this.events);this.co=new Za.DOa(this.dba.bind(this));this.Oza((0,z.KL)(),(0,z.LL)(this.console,this.config));}Object.defineProperties(ra.prototype,{parent:{get:function(){return this.er;},set:function(N){this.er=N;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{state:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{cq:{get:function(){return !(this.ba instanceof y.Jga);},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Zc:{get:function(){return this.CK;},set:function(N){this.CK=N;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Pb:{get:function(){return this.Ft;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{HSb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{$:{get:function(){return this.Ft.$;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{weight:{get:function(){return this.MUa;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Ah:{get:function(){(0,w.assert)(this.Sr,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Im.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Leb:{get:function(){(0,w.assert)(this.Sr,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.ZG(this.Ah).Ul;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Xd:{get:function(){return this.bf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{el:{get:function(){return this.bf.el;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Sr:{get:function(){return void 0 !== this.Im;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Fg:{get:function(){return this.ba.Td?this.ba.Fg:this.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Rd:{get:function(){var N;return this.ba.Td?this.ba.Rd:(null === (N=this.Im) || void 0 === N?void 0:N.uq) || this.Leb;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Uyb:{get:function(){return this.Asb;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{oda:{get:function(){return this.Yvb;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{yra:{get:function(){return this.pZ()?this.oUb:this.RUb;},enumerable:!1,configurable:!0}});ra.prototype.xSb=function(){this.Iq=new x.aS(new D.B2({ti:!0,currentTime:function(){return d.K.Na(n.platform.time.sa());},speed:1}),this.console,"wallclock");};ra.prototype.pSb=function(){var N;N=this;(0,ma.fZa)({bf:this.bf,Iq:this.Iq},x.Tg.WD(d.K.Na(this.config.rY)),function(){N.ba.Td && N.ba.Jz && (N.bf.state.value === q.Yc.Zj || N.bf.state.value === q.Yc.me) && N.cB(N.ba.Jz);},"buffering");};ra.prototype.tSb=function(){var N;N=this;this.Iw=function(ha){var xa,$a,ab,db;$a=N.Pb.get(ha.position.H);(0,w.assert)($a,"segment must exsts in workingPlaygraph");ab=N.Hqa($a);if(ab && N.ba.Td){db=(0,Q.npa)(N.ba.Xa.filter(function(ub){return ub.I.id === ha.position.H;}),ha.playerTimestamp,{EYa:!0});db && (null === (xa=N.ba.zl) || void 0 === xa?void 0:xa.pca({I:$a,get e_() {return db.Ua.qa($a.uc);}},ab,N.Fg.offset,!0,!1,void 0));}N.co.start();};this.VX=function(){N.Vi("onDrmReady");};this.f_b=function(ha){ha=ha.newValue;N.yia || (N.yia=ha);};};ra.prototype.open=function(){this.Jia=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Wa !== p.zm.CLOSED)return !1;this.Wa=p.zm.OPEN;return !0;};ra.prototype.Ma=function(){this.Iq.Ma();this.Hd.Ma();this.Wa !== p.zm.CLOSED && (this.Lf(),this.co.Ma(),this.bf.stop(),this.Wa=p.zm.CLOSED,this.cq || this.ba.Ma(),this.G9.Ma());};ra.prototype.sBb=function(N,ha,xa){N=(0,ua.Ioa)(this.Xa,this.KI.bind(this),N,ha,xa).JXa;return this.wXa(N);};ra.prototype.Zz=function(N,ha,xa){var $a,ab,db,ub,Ma,cb,kb;$a=this;ab=this.NF;db=this.A_;ub=this.kJ;this.NF=N;this.A_=ha;this.kJ=xa;ha=(0,ua.Ioa)(this.Xa,this.KI.bind(this));Ma=ha.JXa;N=ha.Jzb;ha=ha.zxb;if(0 === Ma.length)return !0;if(!this.wXa(Ma))return (this.NF=ab,this.A_=db,this.kJ=ub,!1);cb=this.Fg;this.ba.aP(Ma);this.ba.m_(ha);kb=this.ZG(cb).Ul;N.forEach(function(sb){var pb;pb=sb.Ra;pb.Zz(sb.Xc,cb.H === pb.I.id?kb:void 0,void 0 !== $a.Xa.J7(pb),Ma);});this.bf.B_b(cb,N[0].Xc);return !0;};ra.prototype.KL=function(N){return (0,z.KL)(this.config,N);};ra.prototype.LL=function(N){return (0,z.LL)(this.console,this.config,N);};ra.prototype.KV=function(N,ha){var xa,$a;xa=this.Pb.get(N);$a=this.Pb.get(ha);(0,w.assert)(xa,"currentSement must exist in workingPlaygraph");(0,w.assert)($a,"currentSement must exist in workingPlaygraph");return {ncc:xa.jRb(ha),aU:ha !== N && this.Xa.has(ha) && this.Xa.Yp(ha)[0].Df,w5:$a.uc.v,jva:this.Hqa(xa)};};ra.prototype.Sj=function(N,ha,xa,$a){var ab,db,ub,Ma;ab=this;void 0 === $a && ($a=!0);if(!ha)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if($a && this.vg.get(N))xa || this.vg.set(N,ha);else {ub=this.uV(N)[0];Ma=this.Pb.get(N);(0,w.assert)(Ma,"currentSegment must exist in workingPlaygraph");this.Fg.H === N && ub && (null === (db=this.ba.zl) || void 0 === db?void 0:db.pca({I:ub.I,get e_() {return ub.Ua.qa(ub.I.uc);}},ha,this.Fg.offset,$a,xa,void 0));$a || (N={offset:d.K.Ba,H:ha},this.Im={position:N,Df:!0,Mib:N});xa?this.vg.c7b(Ma.id,ha):this.vg.set(Ma.id,ha);this.co.start();$a && Ma.yq && 0 < Ma.yq.length && ((0,w.assert)(ub),ub.Sca(Ma.yq) && this.uV(ha).forEach(function(cb){return ab.jx(ub,cb);}));$a || this.bf.baa(this.Ah);}};ra.prototype.wXa=function(N){var ha,xa;if(0 === N.length)return !0;if(this.ba.TI && this.ba.l9.value.qa(this.ba.Rd).lessThan(d.K.Na(5E3)))return !1;N=this.ba.Xa;if(!N.length)return !0;xa=null === (ha=N[0]) || void 0 === ha?void 0:ha.ca.J;return !N.some(function($a){return $a.ca.J !== xa;});};ra.prototype.jx=function(N,ha){var xa;xa=this;N=N.Hb.qa(ha.I.uc);ha.jx(N);this.Xa.iNb(ha).forEach(function($a){return xa.jx(ha,$a);});};ra.prototype.Ji=function(N){var ha;ha=this;Object.keys(N).forEach(function(xa){return ha.Pb.Ji(xa,N[xa]);});this.co.start();};ra.prototype.Oza=function(N,ha){this.Asb=N;this.Yvb=ha;this.state === p.zm.Gl && this.Vi("setStreamFilters");};ra.prototype.Lwb=function(N){(0,w.assert)(-1 === this.Joa.indexOf(N),"Attempted to add the same evaluation hook twice");this.Joa.push(N);};ra.prototype.A7b=function(N){return this.zt.G4b(N);};ra.prototype.vD=function(N,ha){this.Iba(N,ha);};ra.prototype.Iba=function(N,ha,xa){var $a,ab,db,ub,Ma;db=this.$;ub=(0,K.Kjb)(db,N);if(ub.wN){Ma=this.Y5b(db,N,ha);if(void 0 === Ma)this.rf(("Invalid seekPosition after sanitization to ").concat(N.H) + ("(").concat(N.offset.v,"ms)") + (", reason: ").concat(ub.reason),null === ($a=db.aa[N.H]) || void 0 === $a?void 0:$a.J);else if(void 0 === this.NF || void 0 === this.A_)this.rf("No track selectors available");else if(($a=!(this.cq && this.ba.aq) && (0,K.R4a)(null === (ab=this.Im) || void 0 === ab?void 0:ab.Mib,Ma),this.events.emit("seeking",{type:"seeking",position:N,duplicate:$a}),!$a)){this.C3=xa;this.Sr?(this.oBa(Ma),this.iYa(N)):this.Xa.empty && xa && (xa=this.ba.QG()) && (this.oBa(Ma,{H:xa.I.id,offset:xa.Kd}),this.iYa(N));N=this.w3a();try{this.Lf(!0);this.RBb();this.Im={position:Ma,Mib:Ma,Df:!1,uq:ha};this.h6a=ha?ha.qa(this.Leb):d.K.Ba;this.bf.baa();this.Wa=p.zm.Gl;this.co.start();}finally{N.release();}}}else this.rf(("Invalid seekPosition to ").concat(null === N || void 0 === N?void 0:N.H) + ("(").concat(N.offset.v,"ms)") + (", reason: ").concat(ub.reason),null === (Ma=db.aa[N.H]) || void 0 === Ma?void 0:Ma.J);};ra.prototype.oBa=function(N,ha,xa,$a){var ab,db;void 0 === xa && (xa=!1);db=this.Pb.get((null === ha || void 0 === ha?void 0:ha.H) || this.Fg.H);(0,w.assert)(db,"currentSegment must exist in workingPlaygraph");null === (ab=this.ba.zl) || void 0 === ab?void 0:ab.pca({I:db,e_:db.Bb},N.H,ha?ha.offset:this.Fg.offset,!1,xa,$a);};ra.prototype.iYa=function(N){var ha,xa;if((null === (ha=this.ba.QG()) || void 0 === ha?void 0:ha.I.id) === N.H){if((this.vg.SBb(N.H),!this.vg.get(N.H) && this.ba.aq)){N=this.ba.Xa;xa=this.ba.QG();xa && (N=(0,f.mc)(N,function($a){return $a.parent === xa;})) && this.vg.set(xa.I.id,null === N || void 0 === N?void 0:N.I.id);}}else this.vg.qma();};ra.prototype.w3a=function(){var N,ha;N=this;ha=this.Xa.filter(function(xa){return xa.I.J !== k.Tq;}).map(function(xa){return N.zt.Mo(xa.I.J).zo;});return new l.dK({name:"playgraphLeases",YC:function(){ha.forEach(function(xa){return xa.release();});},console:this.console}).Cp();};ra.prototype.Lf=function(N){var ha,xa,$a;$a=this.ura();this.Xa.reset();if(!N && (this.vg.qma(),$a.length))try{for(var ab=m.__values($a),db=ab.next();!db.done;db=ab.next())db.value.sdb();}catch(Ma){var ub;ub={error:Ma};}finally{try{db && !db.done && (ha=ab.return) && ha.call(ab);}finally{if(ub)throw ub.error;}}this.Hd.sf();this.ba.reset();this.Im=void 0;this.M4.reset();null === (xa=this.VWa) || void 0 === xa?void 0:xa.clear();this.Wa === p.zm.Gl && (this.Wa=p.zm.OPEN);};ra.prototype.uV=function(N){return this.Xa.Yp(N);};ra.prototype.vh=function(N){this.bf.vh(N);(0,w.assert)(this.ba.Xr,"Must have an appended branch on underflow");this.ba.YVa && this.bf.el && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),N=this.oo(this.Rd),this.bf.dk("complete",N.UP,N.VP));this.M4.lBa(this.ba.Xr,this.Rd);this.Vi("onUnderflow");this.events.emit("underflow");};ra.prototype.Jd=function(N){this.As.Jd(N);};ra.prototype.Nv=function(N){this.Jd(new B.BPa(N));this.bf.o_b();return this.Cyb(N);};ra.prototype.Cyb=function(N){var ha;ha=this.ba;if(!this.ba.qBa(N))return (this.rf("player in use"),!1);this.ba=N;this.Hd.v4(this.ba.va);this.ba.events.on("segmentPresenting",this.Iw);this.ba.events.on("drmReady",this.VX);this.ba.js.addListener(this.f_b);N=this.KOb();0 < N.length && this.ba.m_(N);this.events.emit("playerChanged",{type:"playerChanged",old:ha,"new":this.ba});return !0;};ra.prototype.ZG=function(N){var ha,xa;ha=N.offset;xa=this.Pb.get(N.H);(0,w.assert)(xa,"segment must exist in workingPlaygraph");N=xa.J;ha=xa.uc.add(ha);return {J:N,Ul:ha};};ra.prototype.ql=function(N,ha){var xa,$a,ab;ab=this.ba.ql(N);if(void 0 !== ab)return ab;if(null === ($a=null === (xa=this.Im) || void 0 === xa?void 0:xa.uq) || void 0 === $a?0:$a.equal(N))return this.C3 || this.Ah;xa=this.ba.Xr;return (0,K.ql)(N,{Fa:this,ASb:xa && ({id:xa.I.id,t6b:xa.rs})},ha);};ra.prototype.oC=function(N,ha){void 0 === ha && (ha=!1);N=this.bW(N,ha).next();if(!N.done)return (N=N.value,null === N || void 0 === N?void 0:N.uq);};ra.prototype.bW=function(N,ha){var xa,$a,ab,db,ub,Ma,cb,kb,sb,pb,Ab,Eb,Kb,Nb;void 0 === ha && (ha=!1);return m.__generator(this,function(Qb){switch(Qb.label){case 0:(xa=this.ba.bW(N),$a=xa.next(),Qb.label=1);case 1:return $a.done?[3,3]:[4,$a.value];case 2:return (Qb.Ja(),$a=xa.next(),[3,1]);case 3:if(!ha)return [2];ab={};db=this.Fg;this.cq && this.ba.Td && (cb=this.ba.Xr) && (db={offset:d.K.Ba,H:cb.I.id},ub=cb.Hb.qa(this.ba.Rd),Ma=cb.I);ub || (Ma=this.Pb.get(db.H),(0,w.assert)(Ma,"currentSegment must exist in workingPlaygraph"),ub=Ma.uc.add(db.offset).qa(Ma.fd));(0,w.assert)(Ma,"Current segment should be defined by here");kb=this.Rd;if(Ma.wc && Ma.id !== N.H)return [3,6];if(Ma.id !== N.H)return [3,5];sb=N.offset.qa(db.offset);return [4,{VL:sb,uq:kb.add(sb)}];case 4:(Qb.Ja(),Qb.label=5);case 5:return [2];case 6:(pb=this.Pb.get(Ma.wc),(0,w.assert)(pb,"currentSegment.defaultNext must exist in workingPlaygraph"),Ab=this.Pb,Eb=this.Pb.x7a(function(Ib,Pb){Ib=Ab.get(Pb);(0,w.assert)(Ib,"nextSegment must exist in workingPlaygraph");return Ib.wc;},pb.id),Kb=Eb.next(),Qb.label=7);case 7:if(Kb.done)return [3,11];Nb=Kb.value;if(ab[Nb.id])return [3,11];ab[Nb.id]=!0;if(Nb.id !== N.H)return [3,9];sb=N.offset.add(ub);return [4,{VL:sb,uq:kb.add(sb)}];case 8:return (Qb.Ja(),[2]);case 9:(ub=ub.add(Nb.Bb),Qb.label=10);case 10:return (Kb=Eb.next(),[3,7]);case 11:return [2];}});};ra.prototype.Beb=function(N){return (0,K.Xya)(this.$,N);};ra.prototype.Qp=function(N){return (0,J.Qp)(this.$,N.J,N.Ul);};ra.prototype.Y5b=function(N,ha,xa){var $a,ab;$a=(0,K.Xya)(N,ha);ab=d.K.Na(1E4);if(!$a || !xa || xa.greaterThan(ab))return $a;N=ha.offset.add(d.K.Na(N.aa[ha.H].hb));xa=xa.qa(N);if(xa.Jg(d.K.Ba))return $a;ab=d.K.max(d.K.Ba,N.qa(ab)).add(xa);if(ab.Jg(d.K.Ba))return $a;ab=$a.offset.add(ab);return {H:$a.H,offset:ab};};ra.prototype.Jr=function(N,ha){var xa,$a,ab;N="string" === typeof N?{J:this.$.aa[N].J,Ul:d.K.Na(ha)}:N;if(N.J !== k.Tq){ha=this.zt.Mo(N.J);try{ab=N.Ul;if(null === (xa=ha.ca) || void 0 === xa?0:xa.Z)ab=(0,H.OX)(this.console,d.K.min.apply(d.K,m.__spreadArray([],m.__read(ha.ca.getTracks().map(function(db){return db.Ry();})),!1)),ha.ca,ab);return null === ($a=ha.ca) || void 0 === $a?void 0:$a.Jr(this.config,ab.v);}finally{ha.zo.release();}}};ra.prototype.F7=function(){return (0,Va.y2a)(this.Xa,this.J8.bind(this));};ra.prototype.J8=function(N){N=this.Xa.J7(N);return void 0 === N || N.hi && this.J8(N);};ra.prototype.E7=function(){return this.$T.$y;};ra.prototype.INb=function(N){return (0,S.A4a)(this.Xa,N);};ra.prototype.oo=function(N){var xa,$a,ab,db;function ha(ub){return ub?Math.max(ub - N.v,0):0;}xa=this;this.Xa.BG(function(ub){var Ma,cb,kb;Ma=ub.JM(q.u.Y);cb=ub.JM(q.u.X);kb=ub.JM(q.u.Da);if(ub.I.RZ || !xa.Xa.Dra(ub) || !ub.hi){if(!$a || Ma < $a)$a=Ma;if(!ab || cb < ab)ab=cb;if(!db || kb < db)db=kb;}return ub.hi;});return {UP:ha($a),VP:ha(ab),cib:ha(db)};};ra.prototype.KG=function(){var N,ha,xa,$a;xa=this.Sr?this.oo(this.Rd):{UP:0,VP:0,cib:0};$a=F.default.instance().get();return {totalabuflmsecs:xa.UP,totalvbuflmsecs:xa.VP,totaltbuflmsecs:xa.cib,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (ha=Number(0 < $a.confidence) && (null === (N=$a.cb) || void 0 === N?void 0:N.Aa)) && void 0 !== ha?ha:0};};ra.prototype.$M=function(){var N,ha,xa,$a,ab,db,ub,Ma;N=this;if(this.Vr())return (this.Se.nr({isStreamingFailureReported:!0}),[]);xa=this.Xa.size;this.Se.nr({branchCount:xa});if(!this.Sr || 0 === xa)return [];$a=this.Rd;ab=this.Fg;db=[];xa=this.Pb.get(this.Fg.H);(0,w.assert)(xa,"presentingSegment must exist in workingPlaygraph");ub=xa.Bb;Ma=this.vg.get(xa.id)?1:null !== (ha=xa.Dq) && void 0 !== ha?ha:1;ha=this.Xa.reduce(function(cb,kb,sb){var pb,Ab,Eb,Qb,Ib,Pb,Rb;Eb=kb.D7();try{for(var Kb=m.__values(Eb),Nb=Kb.next();!Nb.done;Nb=Kb.next()){Qb=Nb.value;if(!Qb.qn()){Ib=("p").concat(N.id,"-").concat(sb,"-").concat(null === (Ab=kb.Db) || void 0 === Ab?void 0:Ab.v);Pb=N.$Pb(Qb);Rb=new V.OOa(N,Qb,Ib,Ma,ub.v,Pb.v,$a.v,ab);cb.push(Rb);}!Qb.Ur() && N.Se.enabled && db.push({segmentId:Qb.H,isDoneStreaming:Qb.qn(),isNormalized:Qb.Df(),needsHeaderRequest:Qb.track.JX});}}catch(ic){var Yb;Yb={error:ic};}finally{try{Nb && !Nb.done && (pb=Kb.return) && pb.call(Kb);}finally{if(Yb)throw Yb.error;}}return cb;},[]);this.Se.nr({nonStreamables:db});return ha;};ra.prototype.$Pb=function(N){var ha;ha=N.VM();if(this.config.s6 && ha && (0,h.P8)(ha.Ra.I.S7(N.H)))return N.fk;for(;ha && !ha.Cwa;)(N=ha,ha=ha.VM());return N.fk;};ra.prototype.P3a=function(N){var ha;if(!N.Ra.Qd){ha=N.Ra.I.wc;if(ha)return (ha=m.__read(this.Xa.Yp(ha),1)[0],null === ha || void 0 === ha?void 0:ha.iC(N.mediaType));}};ra.prototype.SZb=function(N){var ha,xa;if(!this.zca.Vr()){ha=void 0;xa=this.ba.Fg;xa && (ha=this.Pb.get(xa.H),(0,w.assert)(ha,"currentPosition segment must exist in workingPlaygraph"),ha=ha.J);this.rf("BufferingStateTracker: Temporary failure while buffering",ha,"NFErr_MC_StreamingFailure",null === N || void 0 === N?void 0:N.xg,null === N || void 0 === N?void 0:N.ln,null === N || void 0 === N?void 0:N.ej);}};ra.prototype.rf=function(N,ha,xa,$a,ab,db,ub){void 0 === ub && (ub=!1);"string" === typeof N?this.zca.rf(N,xa,{networkErrorCode:$a,httpCode:ab,nativeCode:db,viewableId:ha,temporaryFailure:ub}):this.zca.N4b(N);return !0;};ra.prototype.wBa=function(N,ha){ha=this.B7(ha,N);this.events.emit("logdata",{type:"logdata",target:N,fields:ha});};ra.prototype.B7=function(N,ha){void 0 !== N && this.G9.YUb(N);ha=this.As.Mh(N,ha);N === A.jc.mi && (N=this.KG(),ha.vbuflmsec=N.totalvbuflmsecs,ha.abuflmsec=N.totalabuflmsecs,ha.vbuflbytes=N.vbuflbytes,ha.abuflbytes=N.abuflbytes);return ha;};ra.prototype.Tib=function(N){this.$T=N;this.Vi("updateBudget");};ra.prototype.Vr=function(){return this.zca.Vr();};ra.prototype.SBa=function(N){N !== this.weight && (this.MUa=N,this.events.emit("weightUpdated"));};ra.prototype.CJ=function(N){var ha;ha=this.ZAb(N.$);ha.pa && (this.Bfb(N.ET(this.Ft)),this.co.start());return ha;};ra.prototype.QD=function(N){N=k.Sx.update(this.Ft,N);return this.CJ(N);};ra.prototype.ZAb=function(N){var ha,xa,$a,ab,db,ub,kb,sb,pb,Ab,Eb,Kb,Nb,Qb,Ib,Pb;$a=(0,oa.pXa)(this.$,N);ab=$a.Du;db=$a.nBb;ub=$a.Tac;if([$a.DT,ab,db].every(function(Yb){return !Yb.length;}))return {pa:!0,reason:q.Yq.wqb};if(0 === db.length && 0 === ub.length && this.cq && this.ba.Td)return {pa:!1,reason:q.Yq.Fpb};if(this.ba.Xa.some(function(Yb){return -1 < ab.indexOf(Yb.I.id);}))return {pa:!1,reason:q.Yq.wrb};if(this.Sr && !this.ba.Td && -1 < ab.indexOf(this.Ah.H))return {pa:!1,reason:q.Yq.Wob};if(this.Sr)try{for(var Ma=m.__values(db),cb=Ma.next();!cb.done;cb=Ma.next()){kb=cb.value;sb=this.$.aa[kb];pb=sb.hb;Ab=sb.wb;Eb=sb.J;Kb=N.aa[kb];Nb=Kb.wb;Qb=Kb.hb;Ib=Kb.J;if(this.Fg.H === kb && Nb !== Ab){if(!Nb)return {pa:!1,reason:q.Yq.xrb};Pb=d.K.Na(Nb - Qb);if(null === (xa=this.Fg.offset) || void 0 === xa?0:xa.greaterThan(Pb))return {pa:!1,reason:q.Yq.Ikb};}if(pb !== Qb)return {pa:!1,reason:q.Yq.Inb};if(Eb !== Ib)return {pa:!1,reason:q.Yq.Jnb};}}catch(Yb){var Rb;Rb={error:Yb};}finally{try{cb && !cb.done && (ha=Ma.return) && ha.call(Ma);}finally{if(Rb)throw Rb.error;}}return {pa:!0,reason:q.Yq.vqb};};ra.prototype.Ry=function(N){N=this.uV(N);N=0 < N.length?N[0]:void 0;if((N=null === N || void 0 === N?void 0:N.Nr()) && 0 !== N.length)return d.K.min.apply(d.K,m.__spreadArray([],m.__read(N.map(function(ha){return ha.track.Ry();})),!1));};ra.prototype.Bfb=function(N){var ha;ha={type:"playgraphUpdating",IZb:this.Pb.$,IYb:N.$};this.Ft=N;this.Mbc();this.events.emit("playgraphUpdating",ha);};ra.prototype.Mbc=function(){var N,ha,xa,$a,ab;xa=this.ba && this.cq && this.ba.Td?this.Fg:void 0;if(xa){$a=this.Pb.get(xa.H);(0,w.assert)($a,"currentPosition segment must exist in workingPlaygraph");xa=null === (N=this.ba.zl) || void 0 === N?void 0:N.o6;if((N=this.Hqa($a)) && N !== xa && this.ba.aq){ab=this.ba.Jz;null === (ha=this.ba.zl) || void 0 === ha?void 0:ha.pca({I:ab.I,get e_() {return ab.Ua.qa(ab.I.uc);}},N,this.Fg.offset,!0,!1,void 0);}}};ra.prototype.ZX=function(N,ha){this.Gdb(N);N.pM.addListener("criticalNetworkError",this.V$);N.pM.addListener("temporaryNetworkError",this.YX);N.pM.addListener("updatingLastSuccessEvent",this.daa);N.events.addListener("logdata",this.N$);N.events.addListener("liveEventTimesUpdated",this.K$);N.events.addListener("liveLoggingInfoUpdated",this.L$);N.Z && (N.z2b(),N.y9 && N.y9.Jd(this.As));this.Wa === p.zm.Gl && ha && this.Eeb();};ra.prototype.Zva=function(N){0 === this.Xa.filter(function(ha){return ha.kn && ha.ca === N;}).length && this.Gdb(N);};ra.prototype.Gdb=function(N){N.pM.removeListener("criticalNetworkError",this.V$);N.pM.removeListener("temporaryNetworkError",this.YX);N.pM.removeListener("updatingLastSuccessEvent",this.daa);N.events.removeListener("logdata",this.N$);N.events.removeListener("liveEventTimesUpdated",this.K$);N.events.removeListener("liveLoggingInfoUpdated",this.L$);};ra.prototype.cVa=function(N){var ha;(0,w.assert)(N.Df,"expected branch to be normalized on addBranchToPlayer");this.ba.aq || (null === (ha=this.Im) || void 0 === ha?0:ha.Df) || this.xLb(N);this.bf.PBa(N.Xc);this.ba.aq && (ha=this.ba.Xr) && this.vg.clear(ha.I.id);this.ba.Aoa(N);this.M4.lBa(N,this.Rd);};ra.prototype.xLb=function(N){var ha,xa;(0,w.assert)(N.Ia,"Normalized branch should have a defined content start timestamp");(0,w.assert)(this.Im,"AsePlaygraph should have a seek position on first branch normalization");(0,w.assert)(!this.Im.Df,"Seek position should not already be normalized on first branch normalization");ha=N.ca;xa=this.Pb.get(N.I.id);(0,w.assert)(xa,"WorkingSegment for a normalized branch must exist");xa.ml || (ha.Z?this.F$(N):this.Pb.normalize(ha.J,ha.G$.bind(ha)));this.Im=m.__assign(m.__assign({},this.Im),{position:{H:xa.id,offset:N.Ia.qa(xa.uc)},Df:!0});this.bf.W6b(this.Im.position,N.Xc.filter(function($a){return $a.mediaType === q.u.Y;})[0]);};ra.prototype.F$=function(N){var ha,xa;ha=m.__read(N.Xc,1)[0];ha=(0,H.cO)(this.console,this.config,ha.GV(),N.ca,d.K.Fj) || d.K.Fj;xa=(0,H.OX)(this.console,d.K.min.apply(d.K,m.__spreadArray([],m.__read(N.Xc.map(function($a){return $a.Ry();})),!1)),N.ca,d.K.Na(N.I.hb));this.Pb.F$(N.I.id,xa,ha);};ra.prototype.RBb=function(){var N;this.M4.reset();this.ba.HB();this.Im=void 0;null === (N=this.VWa) || void 0 === N?void 0:N.clear();};ra.prototype.X8=function(N,ha,xa){ha=this.Vgb.VAb(ha,N.qk.mediaType,1 > xa || !N.qk.Ra.Qd && !this.J8(N.qk.Ra));1 === xa && "global" === (0,q.Xxa)(ha.reason) && this.bf.$Zb(N.qk.mediaType,this.oo(this.Rd));return ha;};ra.prototype.pH=function(N){var ha,xa,$a,ab,db,ub,Ma,cb,kb,sb,pb,Ab,Eb,Kb;ha=this;db=N.qk;N=db.mediaType;ub=this.yra.Peb(this.Xd.value,this.Rd,db.ED,db.Wgb,this.ba.playbackRate,db,this.Uyb,this.oda,this.q4);Ma=ub.stream;cb=ub.bx;kb=ub.mN;sb=ub.Cs;pb=ub.xn;Ab=ub.reason;Eb=ub.r1a;ub=ub.Seb;if(!Ma)return {Qh:!1,reason:Ab || "selectLocationsAndStream"};if(this.Xd.value === q.Yc.Gl && db.Ra && db.Ra.ca.am && !db.Ra.ca.uX && !this.ba.zW(db.Ra.ca.J)){Ab=db.ED.v - this.Rd.v;if(!db.Ra.ca.Xp && Ab > this.config.d9a)return {Qh:!1,reason:"maxBufferingCompleteBufferInMs"};if(!Ma.si && Ma.mediaType === q.u.X && Ab >= this.config.uua)return {Qh:!1,reason:"maxFastPlayBufferInMs"};}Ab=q.u.X;if(null === (xa=db.Ra) || void 0 === xa?0:xa.Xc.every(function(Nb){return Nb.mediaType === q.u.Y;}))Ab=q.u.Y;this.bf.el && N === Ab && this.bf.k7b(db.So.Web,Ma.bitrate,kb);this.d7b(db.Ra.I,cb);xa=null === ($a=db.Ra.Is) || void 0 === $a?void 0:$a.v;$a=db.xib(Ma,pb,sb);if($a.Qh){this.Jia && (this.XK("firstDriveStreaming"),this.Jia=!1);if(0 < this.VB){Kb=null === (ab=db.Ra.Is) || void 0 === ab?void 0:ab.v;xa && Kb && (this.VB-=xa - Kb,0 >= this.VB && this.Eeb());}this.events.emit("requestIssued",{type:"requestIssued",mediaType:N,result:ub,streamList:Eb});}else "exceedsLiveEdge" === $a.reason && (null === (Kb=this.eja) || void 0 === Kb?void 0:Kb.Ma(),this.eja=this.Iq.NB(x.Tg.WD(Ma.kk().Bb),function(){ha.eja=void 0;ha.Vi("liveEdgeRetry");}));return $a;};ra.prototype.t7b=function(N){this.config.enableCprVideo=N;};ra.prototype.d7b=function(N,ha){var xa;xa=this;ha.forEach(function($a){$a.ca.nfb($a,N,function(){var ab,db;(0,w.assert)(xa.Sr,"Speculative header callback after streaming is cancelled");ab=xa.Rd.v;db=ab + xa.config.CX;return {qf:[],Xd:xa.bf.state.value,Io:db,Ck:db,Uk:ab};});});};ra.prototype.Eeb=function(){var N;N=this;this.co.sda(Za.uE.zx,function(){return N.co.start();});};ra.prototype.dba=function(){var N,ha,xa,$a,ab;N=this;if(this.Wa === p.zm.Gl){ha=this.Fg;xa=this.ba.Xa;$a=this.Xa.sQb();ab=m.__read(xa,1)[0];ha=ab?this.Pb.get(ab.I.id):this.Pb.get(ha.H);(0,w.assert)(ha,"startSegment must exist in workingPlaygraph");xa=xa.map(function(db){return {id:db.I.id,duration:db.Hb.qa(db.Db).v};});$a=(0,ca.dba)(this.console,this.Pb.Q4a,ha,$a,this.vg,xa,d.K.Na(this.config.Hzb),this.config.Wua,d.K.Na(this.config.ula));xa=$a.Eya;this.VB=$a.VB || 0;$a=this.Joa.reduce(function(db,ub){return ub(db);},xa);this.Xa.ibc($a,function(db,ub){var Ma,cb;cb=N.Pb.get(db);(0,w.assert)(cb,"segment must exist in workingPlaygraph");db=db === N.Ah.H?N.Ah.offset:db === (null === (Ma=N.C3) || void 0 === Ma?void 0:Ma.H)?N.C3.offset:d.K.Ba;Ma=cb.uc.add(db);return N.Gac(cb,Ma,ub);}).Du.forEach(function(db){db.Lf("aborted");});this.ndb();this.PXa();this.co.sda(Za.uE.zx,function(){var db;(null === (db=N.Xa.root()) || void 0 === db?0:db.kn) && N.Vi("reevaluateBranches");N.co.AX(Za.uE.SR);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};ra.prototype.ura=function(){return (0,f.Qka)(this.Xa.filter(function(N){return N.kn;}).map(function(N){return N.ca;}));};ra.prototype.ndb=function(){var N,ha;N=this;if(this.Wa === p.zm.Gl){if(!this.ba.Xr){ha=m.__read(this.Xa.Yp(this.Ah.H),1)[0];(null === ha || void 0 === ha?0:ha.Df) && this.cVa(ha);}if(this.ba.Xr)for(;;){ha=this.k3a(this.ba.Xr.I);if(!ha)break;ha=m.__read(this.Xa.Yp(ha).filter(function(xa){return xa.parent === N.ba.Xr;}),1)[0];if(!ha)break;if(null === ha || void 0 === ha || !ha.Df)break;else if(this.ba.X4a(ha))break;this.cVa(ha);}}};ra.prototype.GU=function(){return this.yia;};ra.prototype.Hqa=function(N){var ha,xa,$a,ab;if(this.ba.aq){ha=this.ba.Jz;xa=!1;$a=this.ba.Xa.filter(function(db){xa || (xa=db === ha);return xa;});ab=(0,f.Sk)($a,function(db){return db.I.id === N.id;});if($a=$a[ab + 1])return $a.I.id;}return this.k3a(N);};ra.prototype.k3a=function(N){var ha;ha=this.vg.get(N.id);if(void 0 !== ha)return ha;if(1 === N.eJ)return N.Dw[0];};ra.prototype.PXa=function(){var N;N=this.Xa.empty || 0 !== this.CMb();N || this.yca?N && this.yca && (this.yca=!1):(this.bf.el && (N=this.oo(this.Rd),this.bf.dk("complete",N.UP,N.VP)),this.Dub(),this.yca=!0);};ra.prototype.CMb=function(){return this.Xa.filter(function(N){return !N.hi;}).length;};ra.prototype.cB=function(N){this.J8(N) && this.bf.jma(this.Rd,this.ba.playbackRate,N,{d5:this.yra.d5.bind(this.yra,this.Vgb)});};ra.prototype.PZb=function(N,ha){var xa,$a,ab;xa=this;if(ha.didNormalizeSegment){ha=N.ca;$a=this.Pb.get(N.I.id);(0,w.assert)($a,"WorkingSegment for a normalized branch must exist");ha.Z?this.F$(N):this.Pb.normalize(ha.J,ha.G$.bind(ha));ab=ya.bQa.DQb(N,this.console,this.config);(0,w.assert)(ab,"Segment should be normalized");Promise.resolve().then(function(){return xa.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:$a.id,normalizedStart:$a.uc,normalizedEnd:$a.fd,viewableContentEnd:ab.Wjb,viewableEarliestContentEnd:ab.Xjb,media:c(N.Xc)});});}Promise.resolve().then(function(){xa.ndb();});this.Vi("branchNormalized");};ra.prototype.QZb=function(){this.PXa();};ra.prototype.OZb=function(){this.co.start();};ra.prototype.TFb=function(N,ha){var xa;xa=this;return new u.tEa(N.J,this.zt.Mo.bind(this.zt),function($a,ab,db){xa.state !== p.zm.CLOSED && (xa.ZX(ab,db),xa.co.sda(Za.uE.SR,function(){$a.Qd || xa.Cub($a,ab,ha);}));},this.Zva.bind(this));};ra.prototype.Gac=function(N,ha,xa){var $a,ab;if(this.PBb(N,ha))throw Error("Not implemented");$a=this.TFb(N,!xa);ab=xa?xa.Hb.qa(ha):this.h6a || d.K.Ba;N=(0,t.TYa)({config:this.config,console:this.console,I:N,events:this.events,KI:this.KI,nn:ha,Kd:ab,Xt:this.dGb.bind(this),Xd:this.Xd,Hd:this.Hd,GJ:$a,bxa:this.Xa});this.N9b(N,!!xa);return N;};ra.prototype.dGb=function(){return this.Rd.v;};ra.prototype.N9b=function(N,ha){var xa,$a;xa=this;N.JJ.then(function(){var ab,db;if(!N.Qd){ab=N.ca;db=xa.Pb.get(N.I.id);db && !db.ml && "padding" === db.type && xa.Pb.normalize(ab.J,ab.G$.bind(ab));}});$a=new g.Ge();$a.addListener(N.events,"needsRequest",function(){var ab;ab=xa.Xa.root();ab && !ab.kn || xa.Vi("branchNeedsHeader");});$a.addListener(N.events,"branchNormalized",this.PZb.bind(this,N));$a.addListener(N.events,"lastRequestIssued",this.OZb.bind(this,N));$a.addListener(N.events,"branchStreamingComplete",this.QZb.bind(this,N));$a.addListener(N.events,"checkBufferingProgress",this.cB.bind(this,N));$a.addListener(N.events,"branchDestroyed",function(ab){$a.clear();xa.Xa.contains(N) && (xa.Xa.v4b(N),xa.co.start());"aborted" === ab.reason && (xa.ba.X4a(N) || xa.co.sda(Za.uE.zx,function(){return xa.Bub(N.I.id);}));});$a.addListener(N.events,"liveMissingSegment",function(ab){xa.events.emit("liveMissingSegment",ab);});ha || (this.XK("createDlTracksStart"),N.events.once("requestQueuesCreated",function(){xa.XK("createDlTracksEnd");}));};ra.prototype.iPb=function(N){if(this.ba.Td)return this.ba.Jz.Me(N);};ra.prototype.KI=function(N,ha,xa,$a){ha=[[q.u.Y,ha || this.NF,"audio_tracks"],[q.u.X,xa || this.A_,"video_tracks"]].map(function(ab){var db,ub;db=m.__read(ab,3);ub=db[0];ab=db[1];db=db[2];if(N.W && ((0,w.assert)(ab,("Expected mediaType ").concat(ub," track selector to be defined")),ub=N.W[db],ab=ab.nP(N.W,ub),void 0 !== ab && 0 <= ab && ab < ub.length))return N.getTrackById(ub[ab].YP);}).filter(f.ova);xa=$a || this.kJ;N.W && xa && ($a=N.W.timedtexttracks,xa=xa.nP(N.W,$a),void 0 !== xa && 0 <= xa && xa < $a.length && ($a=N.getTrackById($a[xa].id)) && ha.push($a));return ha;};ra.prototype.KOb=function(){var N;N=new Set();this.Xa.map(function(ha){return ha.Xc;}).forEach(function(ha){return ha.forEach(function(xa){return N.add(xa.mediaType);});});return Array.from(N).sort();};ra.prototype.pZ=function(){return this.config.e9 && this.ura().every(function(N){return !N.Z;});};ra.prototype.N$=function(N){this.events.emit("logdata",N);};ra.prototype.K$=function(N){var ha,xa,$a,ab;ha=this;xa=N.ca;$a=N.startTime;ab=N.endTime;this.Xa.filter(function(db){return db.kn && db.ca === xa;}).forEach(function(db){db={type:"liveEventTimesUpdated",H:db.I.id,startTime:$a,endTime:ab};ha.events.emit(db.type,db);});};ra.prototype.L$=function(N){var ha,xa,$a,ab;ha=this;xa=N.ca;$a=N.mediaType;ab=N.info;this.Xa.filter(function(db){return db.kn && db.ca === xa;}).forEach(function(db){db={type:"liveLoggingInfoUpdated",H:db.I.id,mediaType:$a,info:ab};ha.events.emit(db.type,db);});};ra.prototype.Cub=function(N,ha,xa){(0,w.assert)(N.Xc.length,"Branch should have tracks defined");N={type:"segmentStarting",segmentId:N.I.id,contentOffset:N.Kd.v,maxBitrates:{audio:ha.MN[q.u.Y],video:ha.MN[q.u.X]},media:c(N.Xc),initial:xa};this.events.emit(N.type,N);};ra.prototype.Bub=function(N){N={type:"segmentAborted",segmentId:N};this.events.emit(N.type,N);};ra.prototype.Dub=function(){var N;N={type:"streamerEnd",time:n.platform.time.sa()};this.events.emit(N.type,N);};ra.prototype.XK=function(N){N={type:"startEvent",event:N,time:n.platform.time.sa()};this.events.emit(N.type,N);};m.__decorate([la.return.$g()],ra.prototype,"Ah",null);m.__decorate([(0,G.Ib)({methodName:"checkCanSetTracks",return:!0})],ra.prototype,"sBb",null);m.__decorate([(0,G.Ib)({methodName:"setTracks",return:!0})],ra.prototype,"Zz",null);m.__decorate([(0,G.Ib)({methodName:"setNextSegment",Ep:!0})],ra.prototype,"Sj",null);m.__decorate([(0,G.Ib)({methodName:"seekStreaming"}),m.__param(0,la.$g())],ra.prototype,"vD",null);m.__decorate([(0,G.Ib)({methodName:"seekStreamingWithEntryPoint"}),m.__param(0,la.$g()),m.__param(2,la.$g()),m.__param(2,la.P$)],ra.prototype,"Iba",null);m.__decorate([la.return.Wma(),m.__param(0,la.$g())],ra.prototype,"ZG",null);m.__decorate([la.return.$g()],ra.prototype,"ql",null);m.__decorate([m.__param(0,la.$g())],ra.prototype,"oC",null);m.__decorate([m.__param(0,la.$g())],ra.prototype,"bW",null);m.__decorate([la.return.$g(),m.__param(0,la.$g())],ra.prototype,"Beb",null);m.__decorate([la.return.$g(),m.__param(0,la.Wma())],ra.prototype,"Qp",null);m.__decorate([m.__param(0,la.Wma()),m.__param(0,la.H())],ra.prototype,"Jr",null);m.__decorate([(0,G.Ib)({methodName:"getStreamables",Cj:!0})],ra.prototype,"$M",null);m.__decorate([(0,G.Ib)({methodName:"updateWorkingPlaygraph",return:!0})],ra.prototype,"CJ",null);m.__decorate([(0,G.Ib)({methodName:"updatePlaygraphMap",return:!0})],ra.prototype,"QD",null);return ra;})();b.Wda=a;},31300:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.MCa=b.VUa=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(91176);d=a(91176);f=a(66164);n=a(65161);h=a(6783);l=a(40666);p=a(48170);q=a(69575);b.VUa=["AD_BREAK_UNAVAILABLE"];u=(function(){function t(v,w){this.J=v;this.Sc=w;this.PY=!1;this.P3=new g.AbortController();}t.isEqual=function(v,w){return w.J === v.J && w.Sc === v.Sc;};return t;})();r=(function(){function t(v,w,y,x,z,A){var B;B=this;this.zt=v;this.Fa=y;this.hkb=x;this.config=z;this.console=A;this.items=[];this.events=new m.EventEmitter();w.events.addListener("adBreakComplete",function(){B.Ohb=B.hkb.va.currentTime;});this.console=(0,q.Pf)(f.platform,A,"AdBreakHydrator");}t.prototype.d6b=function(v){c.__awaiter(this,void 0,void 0,function(){var w,y,x,z,A;A=this;return c.__generator(this,function(B){switch(B.label){case 0:w=v.map(function(D){return new u(D.J,D.Sc);});y=(0,d.yYa)(this.items,w,u.isEqual);this.items=y.result;y.jya.forEach(function(D){var C;null === (C=D.P3) || void 0 === C?void 0:C.abort();});p.L && this.console.log("Evaluated schedule",{djc:y.qxb.length,jya:y.jya.length,fcb:y.fcb.length,Umc:y.result.length});x=this.items.filter(function(D){return !D.PY;}).map(function(D){return A.yh(D);});if(!(0,n.pn)(this.Fa.Xd.value))return [3,5];z=this.items.map(function(D){return A.zt.Mo(D.J).zo;});B.label=1;case 1:return (B.Gf.push([1,,3,4]),[4,Promise.race(x)]);case 2:return (B.Ja(),[3,4]);case 3:return (z.forEach(function(D){return D.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(x)];case 6:(B.Ja(),B.label=7);case 7:return [2];}});});};t.prototype.yh=function(v){var w;return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:(p.L && this.console.log("Start scheduling for adbreak",{Voc:v.J,yjc:v.Sc.xj}),null === (w=v.P3) || void 0 === w?void 0:w.abort(),y=new g.AbortController(),v.P3=y,x=(0,h.Qp)(this.Fa.$,v.J,v.Sc.Ew),z=(0,g.Ska)(y.signal),D.label=1);case 1:return (D.Gf.push([1,,5,6]),[4,Promise.race([this.Rva(y.signal).then(function(){return "rebuffer";}),Promise.all([this.Vcc(z),this.Ycc(x,z)]).then(function(){return "gatesPassed";}),z.then(function(){return "cleanup";})])]);case 2:A=D.Ja();p.L && this.console.log("Schedule completed for reason",A);if(y.aborted)return [3,4];p.L && this.console.log("Making Item Fetch",{zjc:v.Sc.xj,$r:v.Sc.Ew.v});v.PY=!0;return [4,this.h3b(v.Sc.kp.oh,v.J,y.signal)];case 3:(D.Ja(),D.label=4);case 4:return [3,6];case 5:return (v.P3 === y && (B=this.items.indexOf(v),-1 !== B && (p.L && this.console.log(("Removing item ").concat(B,", ").concat(this.items.length - 1," left")),this.items.splice(B,1))),[7]);case 6:return [2];}});});};t.prototype.Rva=function(v){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,k.Sq.ddc([this.Fa.Xd],function(w){w=c.__read(w,1)[0];return (0,n.pn)(w);},v)];});});};t.prototype.Vcc=function(v){var w;w=this;return this.Ohb && this.config.G5a?new Promise(function(y){var x,z;x=w.Ohb.add(k.K.Na(w.config.G5a));z=w.hkb.NB(l.Tg.Wu(x),y,"hydratorWaitTask");v.then(function(){return z.Ma();});}):Promise.resolve();};t.prototype.Ycc=function(v,w){var y,x;y=this;if(!this.config.p9a)return Promise.resolve();x=k.K.Na(this.config.p9a);return new Promise(function(z){var A,B;A=y.Fa.oC(v,!0);B=y.Fa.Hd.NB(l.Tg.Wu(A.qa(x)),z,"waitJitHydrateAdBreak");w.then(function(){return B.Ma();});});};t.prototype.h3b=function(v,w,y){var x,z,A,B,D,C;return c.__awaiter(this,void 0,void 0,function(){var E,G,F,I,P,M,L,Q,J,H;return c.__generator(this,function(K){switch(K.label){case 0:(E=this.zt.Mo(w),G=E.zo,K.label=1);case 1:return (K.Gf.push([1,4,5,6]),[4,E.nA]);case 2:return (K.Ja(),[4,this.zt.Yw({oh:v,J:w})]);case 3:return (F=K.Ja(),y.aborted || (I=F.V3,P=F.Wka,p.L && this.console.log("Hydrated response " + ("with ").concat(null === (x=F.V3.Ke) || void 0 === x?void 0:x.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",oh:v,V3:I,Wka:P})),[3,6]);case 4:M=K.Ja();if(!y.aborted){if(L=null === (z=M.Eoa) || void 0 === z?void 0:z.context)if((Q=null !== (A=L.type) && void 0 !== A?A:L.type,J=null !== (B=L.error) && void 0 !== B?B:L.error,"adBreakHydration" === Q && (H=null !== (C=null !== (D=J.edgeCode) && void 0 !== D?D:J.code) && void 0 !== C?C:J.code,-1 !== b.VUa.indexOf(H))))return (p.L && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(H,", ") + ("parentViewableId: ").concat(w,", ") + ("adBreakToken: ").concat(v)),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",oh:v,Gd:w}),[2]);this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",oh:v,error:M});}return [3,6];case 5:return (G.release(),[7]);case 6:return [2];}});});};return t;})();b.MCa=r;},71398:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NCa=void 0;c=a(5163);m=a(66164);g=a(31413);r=(function(){function k(d,f,n,h,l){this.Fa=d;this.Hd=f;this.events=n;this.Sc=h;this.console=l;this.Ap=0;h.E4 && m.platform.ping && m.platform.ping(h.E4);}Object.defineProperties(k.prototype,{FBa:{get:function(){return this.Ap;},enumerable:!1,configurable:!0}});k.prototype.Dva=function(d,f,n,h,l){this.Jv && (this.Jv.Ma(),this.Jv=void 0);this.Jv=new g.pQa(this.Fa,this.Hd,this.events,this.Sc,d,f,n,h,l,this.console);};k.prototype.T$=function(d){this.Jv && (this.Jv.Ma(),this.Jv=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Sc.aka.complete),{$g:d,DF:this.Sc.Su,xj:this.Sc.xj}));this.Sc.j8=!0;}catch(f){this.console.error("Impression error event",f);this.Ap++;}};k.prototype.Zl=function(){var d;return {ad:null === (d=this.Jv) || void 0 === d?void 0:d.Zl(),errors:this.Ap};};return k;})();b.NCa=r;},40345:function(r,b,a){var m,g,k,d,f,n,h,l;function c(p){return null === p || void 0 === p?void 0:p.pe.map(function(q){return q.Ke;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(u){return u.id;});}).reduce(function(q,u){return null === u || void 0 === u?void 0:u.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.OCa=void 0;m=a(5163);g=a(90745);k=a(79048);d=a(91176);f=a(48170);n=a(52571);h=a(54953);l=a(45991);r=(function(){function p(q,u,t,v){this.config=q;this.console=u;this.Oa=t;this.bd=v;this.Kv={};this.q9=!1;this.events=new g.EventEmitter();this.Oa.Lwb(this.$Jb.bind(this));}Object.defineProperties(p.prototype,{p6a:{get:function(){return this.Oa.$;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{pe:{get:function(){return this.ao.uT;},enumerable:!1,configurable:!0}});p.prototype.Eb=function(q,u,t){this.ao=new h.fDa(q,u);this.wT=new l.cDa(this.ao,this.console,this.Oa,this.config);this.fL=t;};p.prototype.dN=function(){var q;q=this;return !!(0,d.mc)(Object.keys(this.pe),function(u){return 0 < q.pe[u].length;});};p.prototype.baa=function(q){var u,t,v,w;u=this.bd.Zg;(0,n.assert)(u,"Could not get graph location service");if(0 < this.ao.TBa){t=this.MB(this.bd.Pb);u=u.Jjb(this.bd.Pb,t);this.ao.reset();}v=null === t || void 0 === t?void 0:t.$;w=this.wT.ZVa(q,u,t);q=w.Ah;u=w.My;this.R7a=w.Haa;f.L && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(q)));v=(v || this.Oa.$).aa[q.H];this.q9=!!v.type && -1 < ["ad","padding"].indexOf(v.type);return {Ah:q,My:u,x$:t};};p.prototype.ZX=function(q,u){var t,v;t=this.p2a(q);v=this.Kv[q.O];this.Kv[q.O]=t;if(v=v !== t && (null === v || void 0 === v?void 0:v.pe.length) !== (null === t || void 0 === t?void 0:t.pe.length)){if(null === t || void 0 === t?0:t.pe)(this.ao.S6b(q.O,t.pe),this.wT.Dfb(),f.L && this.console.trace("Received ad metadata for",{ca:q.O,Dwb:c(t)}));if(u && this.i5a(u)){if(this.$fb(u))return m.__assign({HVa:v},this.cjb(u,"viewableReceived"));f.L && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(u,",\n                        didAppendData: ").concat(this.Oa.GU(),",\n                        enablePrerollForInitialSeek ").concat(this.Oa.config.jM));}}return {HVa:v,$ca:u};};p.prototype.Bva=function(q,u,t){var v;v=this.p2a(q);(0,n.assert)(v,("adMetadata for viewable ").concat(q.J," should exist if an adBreak hydration was requested"));this.Kv[q.O]=v;this.ao.Bva(q.O,u);this.wT.Dfb();f.L && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{ca:q.O,Dwb:c(v)});if(t)return this.cjb(t,"adBreakHydration");};p.prototype.Cva=function(q,u){this.ao.Cva(q,u);};p.prototype.STb=function(){return !this.Oa.ba.aq && this.Oa.el;};p.prototype.cjb=function(q,u){var t,v,w,y,x;f.L && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(q)));t=this.bd.Zg;(0,n.assert)(t,"Could not get graph location service");v=this.MB(this.bd.Pb);t=t.Jjb(this.bd.Pb,v);w=v.$;y=this.wT.ZVa(q,t,v);x=y.Ah;y=y.My;this.q9=!1;(w=w.aa[x.H]) || (w=this.Oa.$.aa[x.H]);this.q9=!!w.type && -1 < ["ad","padding"].indexOf(w.type);t=null === t || void 0 === t?void 0:t.Tu(x);f.L && this.console.trace("ads::updatePendingSeekPosition: should consider preroll on seek",{dnc:q,$ca:t,My:y,GU:this.Oa.GU(),jM:this.Oa.config.jM,reason:u});return {$ca:t,My:y,x$:v};};p.prototype.MB=function(q){var u,t,v,w;u=this;t=q;v=q.$;w=Object.keys(v.aa).map(function(y){return ("").concat(v.aa[y].J);});Object.keys(this.Kv).forEach(function(y){var x,z;if(-1 !== w.indexOf(y)){x=u.Kv[y];if(x){z=x.pe.map(function(A,B){A=u.pe[y][B];return A.bq || A.Ke.reduce(function(D,C,E){return C.DW?m.__spreadArray(m.__spreadArray([],m.__read(D),!1),[E],!1):D;},[]);});x=k.Sx.create((0,k.dZa)(parseInt(y),x,z,u.config.qwa));t=k.Sx.fm(q,x).f$;}}});t.ET(this.Oa.Pb);return t;};p.prototype.i5a=function(q){return !!this.Kv[this.bd.$.aa[q.H].J];};p.prototype.p2a=function(q){if(q.Pm && (q=q.Pm,q.pe.length))return q;};p.prototype.doa=function(q){this.ao.doa(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});};p.prototype.Xza=function(q,u,t){var v;return this.wT.Xza(q,u,t,null === (v=this.p6a) || void 0 === v?void 0:v.Oe);};p.prototype.$Jb=function(q){var u,t,v,w,y,x,z;u=this;if(!this.dN())return q;t=!0;v=[];w=[];x=this.Oa.HSb.Pb;q.BG(function(A,B){var D,C,E,G;if(!(B || !A.I.DTb || u.STb() && u.$fb(u.Oa.Ah)))return (u.console.trace("Hydration: Not checking root segment"),!0);C=x.get(A.I.id);(0,n.assert)(C,"Hydration: Segment must be present in innermost playgraph");E=C.J;if(C.type && -1 < ["ad","padding"].indexOf(C.type))t=!1;else {G=x.LN(C.id);G && (G=u.Oa.Pb.get(G)) && G.J !== C.J && (u.console.trace("Hydration: segment evaluated is a content playgraph modification, get viewableId from equivalent segment. " + ("auxiliary viewableId: ").concat(C.J,", ") + ("main content viewableId: ").concat(G.J)),E=G.J);}if((C=u.ao.o2a(E,C.hb)) && !C.bq)if(C.vXa && !C.dg){if(C.uP)u.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((G=null === (D=null === B || void 0 === B?void 0:B.Ra) || void 0 === D?void 0:D.duration,u.q9 && G && 5E3 > G))u.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {v.push(A);if(t && 0 === w.length || y === B)(w.push({J:E,Sc:C}),y=B);return !1;}}else t=!1;return !0;});v.forEach(function(A){return q.remove(A);});this.fL.d6b(w);if(this.config.l4b && q.root){z=x.get(q.root.I.id);(0,n.assert)(z,"root segment must exist in innermost playgraph");(z=this.ao.o2a(z.J,z.hb)) && z.uP && (z.uP=!1);}return q;};p.prototype.$fb=function(q){var u,t,v;t=this.Oa.GU();(v=0 === q.offset.v) || (t?(t=this.R7a,v=null === (u=this.Oa.ba.QG()) || void 0 === u?void 0:u.I.id,q=t && t.nMb === v && t.to.H === q.H && t.to.offset.v === q.offset.v?this.R7a.aRb:!0):q=this.Oa.config.jM,v=q);return v;};return p;})();b.OCa=r;},13303:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.PCa=void 0;c=a(91176);r=(function(){function m(g,k){this.Gt=g;this.af=k;}m.prototype.Ara=function(g){var k;k=this;return this.Gt.ba.Xa.some(function(d){return d.I.J === g && d.PVa;})?!1:(0,c.mc)(Object.keys(this.af.Kv),function(d){if(d=k.af.Kv[d])return (0,c.mc)(d.pe,function(f){return f.Ke && (0,c.mc)(f.Ke,function(n){return n.id === g;});});})?(this.af.doa(g),!0):!1;};return m;})();b.PCa=r;},53787:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.RCa=void 0;c=a(90745);m=a(91967);r=(function(){function g(k,d,f){var n;n=this;this.af=d;this.Un=new c.Ge();this.un="adHydratorAudit";this.Oc="adHydratorAuditor";this.enabled=!0;this.Un.on(k.events,"adBreakPresenting",function(h){n.state.ZUa.push(h.presentingInfo.Sc.hL.K6b);});this.Un.on(f.events,"adBreakHydrated",function(){n.state.XUa++;});this.Un.on(f.events,"adBreakHydrationFailed",function(){n.state.WUa++;});this.Un.on(f.events,"adBreakHydrationSkipped",function(){n.state.$Ua++;});this.state={XUa:0,WUa:0,$Ua:0,ZUa:[]};}g.prototype.Mh=function(k){k=k.Rh;if(this.af.dN() && k === m.jc.mi)return {adBreaksPresentedSequence:this.state.ZUa,adBreaksHydratedCount:this.state.XUa,adBreaksFailedHydratedCount:this.state.WUa,adBreaksSkippedCount:this.state.$Ua};};g.prototype.Ma=function(){this.Un.clear();};return g;})();b.RCa=r;},60575:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.SCa=void 0;c=a(90745);m=a(91967);r=(function(){function g(k,d,f){var h;function n(l){var p,q;(p=h.state.dka)[q=l.event] || (p[q]=0);h.state.dka[l.event]++;}h=this;this.af=d;this.csa=f;this.Un=new c.Ge();this.un="adImpressionAudit";this.Oc="adImpressionAuditor";this.enabled=!0;this.Un.on(k.events,"adPresenting",function(){return h.state.IVa++;});this.Un.on(k.events,"adBreakPresenting",function(){return h.state.YUa++;});this.Un.on(f.events,"adEvent",n);this.Un.on(f.events,"adBreakEvent",n);this.state={YUa:0,dka:{},IVa:0};}g.prototype.Mh=function(k){k=k.Rh;if(this.af.dN() && k === m.jc.mi)return {presented:{breaks:this.state.YUa,ads:this.state.IVa},events:this.state.dka,logger:this.csa.Zl()};};g.prototype.Ma=function(){this.Un.clear();};return g;})();b.SCa=r;},28143:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VCa=void 0;c=a(90745);m=a(66164);g=a(69575);k=a(52571);d=a(48170);f=a(71398);r=(function(){function n(h,l,p,q){this.Oa=l;this.Hd=p;this.Ap=0;this.events=new c.EventEmitter();this.console=(0,g.Pf)(m.platform,q,"IMPRESSION");h.events.addListener("adBreakPresenting",this.U$.bind(this));h.events.addListener("adBreakComplete",this.T$.bind(this));h.events.addListener("adPresenting",this.Dva.bind(this));}Object.defineProperties(n.prototype,{nW:{get:function(){return !!this.Ll;},enumerable:!1,configurable:!0}});n.prototype.U$=function(h){this.Ll && (d.L && this.console.warn("Unexpected back-to-back ad breaks"),this.Ll.T$(h.cn.position),this.Ap+=this.Ll.FBa,this.Ll=void 0);(0,k.assert)(h.cn.Sc,"Ad break must be defined for ad break presenting");this.Ll=new f.NCa(this.Oa,this.Hd,this.events,h.cn.Sc,this.console);};n.prototype.T$=function(h){var l,p,q;q=h.cn.Sc || (null === (l=this.Ll) || void 0 === l?void 0:l.Sc);d.L && this.console.trace(("adBreakComplete event, ").concat(this.Ll?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.xj," is ") + ("").concat(q.Ke.length?"not ":"","empty, ") + ("has ").concat(q.bq?"":"not ","played"):"no ad break"));if(0 === (null === (p=h.cn.Sc) || void 0 === p?void 0:p.Ke.length))((0,k.assert)(!this.Ll,"Received ad break complete for empty ad break during ad break"),h.cn.Sc.w7b(),this.U$(h));else if(!this.Ll)return;this.Ll.T$(h.cn.position);this.Ap+=this.Ll.FBa;this.Ll=void 0;};n.prototype.Dva=function(h){var l,p,q;(0,k.assert)(this.Ll,"Expect to be in ad break when ad presenting is received");(0,k.assert)(this.Ll.Sc === h.cn.Sc,"Expect to be in correct ad break when ad presenting is received");p=this.Oa.uV(h.cn.position.H)[0];q=h.cn.uq;this.Ll.Dva(h.cn.gf,null === p || void 0 === p?void 0:p.ca,h.cn.position.H,q,null !== (l=null === p || void 0 === p?void 0:p.Db) && void 0 !== l?l:q);};n.prototype.Zl=function(){var h;return {"break":null === (h=this.Ll) || void 0 === h?void 0:h.Zl(),errors:this.Ap};};return n;})();b.VCa=r;},13060:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.WCa=void 0;c=a(40345);m=a(14103);g=a(67288);k=a(28143);d=a(13303);f=a(60575);n=a(31300);h=a(53787);r=(function(){function l(p,q,u,t,v,w){this.X3=w;this.rSa=new c.OCa(q,p,u,t);this.bvb=new m.dDa(u,t,this.af);this.iF=new g.pOa(this,u,p);this.Tia=new k.VCa(this.iF,u,u.Hd,p);this.qSa=new n.MCa(v,this.iF,t,t.Iq,q,p);u.As.Jd(new f.SCa(this.iF,this.af,this.Tia));u.As.Jd(new h.RCa(this.iF,this.af,this.qSa));this.rSa.Eb(this.Tia.events,this.iF.events,this.fL);this.ssb=new d.PCa(u,this.af);}Object.defineProperties(l.prototype,{af:{get:function(){return this.rSa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{DO:{get:function(){return this.bvb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gbb:{get:function(){return this.iF;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{csa:{get:function(){return this.Tia;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Bwb:{get:function(){return this.ssb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fL:{get:function(){return this.qSa;},enumerable:!1,configurable:!0}});l.prototype.ji=function(p){return this.iF.ji(p);};return l;})();b.WCa=r;},86681:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pU=void 0;c=a(5163);m=a(40981);g=a(17774);k=a(75393);d=a(23855);b.pU=function(f,n,h){var l,p,q,u;f=c.__assign({$ea:m.Zea},f).$ea;l=n.qY[5];p=(0,g.Sva)(function(){return u;});l.jVa(p.Mo);q={Zg:void 0,bd:void 0,Oa:void 0,Y7a:"ads"};q.Zg=new f(function(){return q.bd.Pb;},function(){return q.Oa;},n.qY[2],"Ads:");u=new d.aDa(q,p.bhb,k.Mw.Nya.gP,l);f=n.Gka;n.Gka=c.__spreadArray(c.__spreadArray([],c.__read(f),!1),[u],!1);q.Oa=h(n);q.bd=k.Mw.Exa(q.Oa,u,function(){return q;},f);u.Eb();return q.bd;};},23855:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.aDa=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(48170);d=a(35331);f=a(61996);n=a(52571);r=a(14739);h=a(13060);a=(function(l){function p(q,u,t,v){q=l.call(this,q,u,t,"AdsPlaygraphHost") || this;q.zt=v;q.CK=void 0;q.Uwa=new m.Ge();q.w8a=new g.TR();q.X3=new m.EventEmitter();return q;}c.__extends(p,l);Object.defineProperties(p.prototype,{bd:{get:function(){return this.gr.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Gt:{get:function(){var q;q=this.MB(this.bd.Pb).$;if(q !== this.bd.$)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Zc:{get:function(){return this.CK;},enumerable:!1,configurable:!0}});p.prototype.Eb=function(){var q;q=this;l.prototype.Eb.call(this);this.gr.Oa.Jd(new d.bDa(this.gr));this.CK=new h.WCa(this.S,this.T,this.Oa,this.bd,this.zt,this.X3);this.gr.Oa.Zc=this.CK;this.Zc.fL.events.on("adBreakHydrated",function(u){return q.kcb(u);});this.Zc.fL.events.on("adBreakHydrationFailed",function(u){return q.rf(u.error);});this.Zc.fL.events.on("adBreakHydrationSkipped",function(u){return q.y2b(u);});};p.prototype.kD=function(q){var u,t,v,w,y;v=l.prototype.kD.call(this,q);if(v){(0,n.assert)(this.Zc,"missing manager");q=this.Zc.af.ZX(q,null === (u=this.fN) || void 0 === u?void 0:u.Ah);u=q.$ca;w=q.My;y=q.x$;q.HVa && this.KO(y,u,null === (t=this.fN) || void 0 === t?void 0:t.uq,w);}return v;};p.prototype.kcb=function(q){var u,t,v;v=q.Wka;q=v.NRb(q.V3,q.oh);(0,n.assert)(this.Zc,"missing manager");q && ((v=this.Zc.af.Bva(v,q,null === (u=this.fN) || void 0 === u?void 0:u.Ah))?(u=v.My,this.KO(v.x$,v.$ca,null === (t=this.fN) || void 0 === t?void 0:t.uq,u)):this.KO());};p.prototype.y2b=function(q){this.Zc.af.Cva(q.Gd.toString(),q.oh);this.KO();};p.prototype.rf=function(q,u,t,v,w,y,x){var z,A;void 0 === x && (x=!1);z=!1;A=!1;u && !x && (z=this.Zc.Bwb.Ara(u));z?this.KO():A=this.gr.Oa.rf(q,u,t,v,w,y,x);return A;};p.prototype.vD=function(q,u){var t,v,w,y,x;t=this;this.Mza(q,u);v=this.bd.Hd.va;this.Uwa.clear();this.Uwa.addListener(v,"stopStart",function(){v.ti && (t.fN=void 0,t.Uwa.clear());});if(this.Zc.af.i5a(q)){k.L && this.S.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));w=this.Zc.af.baa(q);y=w.Ah;x=w.My;if(w=w.x$)(k.L && this.S.trace("ads::seekStreaming: ads playgraph was updated"),this.KO(w,q,u));k.L && this.S.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Oa.Iba(y,u,x);}else this.Oa.vD(q,u);};p.prototype.KO=function(q,u,t,v){var w;w=this;this.w8a.j4 || this.w8a.nkb(function(){w.dya(q,w.bd.Pb,u,t,v);w.X3.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.MB=function(q){return this.Zc.af.MB(q);};p.prototype.Lf=function(q){l.prototype.Lf.call(this,q);this.fN=void 0;};p.prototype.Mza=function(q,u){this.fN={Ah:q,uq:u};};c.__decorate([(0,f.Ib)({methodName:"ads::processViewableResponse"})],p.prototype,"kD",null);c.__decorate([(0,f.Ib)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"kcb",null);c.__decorate([(0,f.Ib)({methodName:"ads::reportStreamingFailure"})],p.prototype,"rf",null);c.__decorate([(0,f.Ib)({methodName:"ads::seekStreaming"})],p.prototype,"vD",null);c.__decorate([(0,f.Ib)({methodName:"ads::cancelStreaming"})],p.prototype,"Lf",null);return p;})(r.aha);b.aDa=a;},45991:function(r,b,a){var m,g,k,d;function c(f,n){var h;h=n && f.aa[n];if(h)return "content" !== h.type?c(f,h.wc):n;}Object.defineProperties(b,{__esModule:{value:!0}});b.cDa=void 0;m=a(91176);g=a(48170);k=a(52571);d=a(14103);r=(function(){function f(n,h,l,p){this.ao=n;this.console=h;this.Oa=l;this.config=p;}f.prototype.Dfb=function(){this.z3=void 0;};f.prototype.ZVa=function(n,h,l){var p,q,u,t,v,w,y,x,z,A;void 0 === l && (l=this.Oa.Pb);u=l.$;t=null === (p=l.dY.get(n.H)) || void 0 === p?void 0:p.J;(0,k.assert)(void 0 !== t);v=this.ao.uT[t];t=p=h.Gy(n);w=u.aa[p.H];if(0 === p.offset.v)y=this.Tqa(u,v,p);else {"padding" === w.type && (p={H:w.wc,offset:m.K.Ba});x=null === (q=this.Oa.ba.QG()) || void 0 === q?void 0:q.I.id;if(x)z=x;else (q=c(u,u.Oe),this.Oa.cq && this.Oa.ba.aq || this.Oa.GU() || q !== p.H || !this.config.jM?z=q:y=this.Tqa(u,v,h.Gy({H:n.H,offset:m.K.Ba})));!y && z && (g.L && this.console.trace(("ads::seekStreaming: seek from segment ").concat(z)),y=this.pPb(z,p,l));}if(y)if(y.H){t={H:y.H,offset:m.K.Ba};A=p;}else this.z3=y.Sc;n={aRb:!!y,nMb:z,to:p};return A || "ad" !== w.type?{Ah:t,My:A,Haa:n}:{Ah:p,My:p,Haa:n};};f.prototype.Xza=function(n,h,l,p){if(this.z3)return (h=this.z3,this.z3=void 0,h);if((n=this.ao.uT[n]) && n.length)if(l && h.H === p && h.offset.equal(m.K.Ba)){if((h=n[0],0 === h.Ew.v && 0 === h.Ke.length && !h.bq && !h.j8))return h;}else if(!l)return this.iqa(h.H,n);};f.prototype.pPb=function(n,h,l){var p,q,u,v;g.L && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(n," to ").concat(JSON.stringify(h)));if(l){q=l.nX(h.H);(0,k.assert)(q,"inner WorkingPlaygraph segmentId should map correctly to outermost");q=this.ao.uT[l.dY.$.aa[q].J];l=l.$.aa;u=null === (p=l[n]) || void 0 === p?void 0:p.wc;u || (u=this.Oa.$.aa[n].wc);for(var t=p=void 0;u;){n=l[u];if("content" === n.type && ("content" === p || void 0 === p) && q){v=this.iqa(u,q);v && (t={Sc:v});}if(u === h.H)return (h=t && !t.H || p && "content" !== p?t:void 0,g.L && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(h)),h);"ad" === n.type && "ad" !== p && (g.L && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(u)),p=(0,d.JG)(u),(0,k.assert)(p,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),t={H:u,Sc:q[null === p || void 0 === p?void 0:p.xj]});p=n.type;u=n.wc;}}g.L && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};f.prototype.Tqa=function(n,h,l){var p,q;p=n.aa;l=l.H;q=p[l].type;if("padding" === q)return this.Tqa(n,h,{H:p[l].wc,offset:m.K.Ba});g.L && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",l);if("ad" === q)return (n=(0,d.JG)(l),(0,k.assert)(n,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),h=h[null === n || void 0 === n?void 0:n.xj],{H:l,Sc:h});if("content" === q){if(n=this.iqa(l,h))return {Sc:n};if(h=this.XOb(l,h))return {H:l,Sc:h};}else g.L && (0,k.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};f.prototype.iqa=function(n,h){n=(0,d.dqa)(n);(0,k.assert)(n,"Should have contentInfo from segment name");if(0 < n.v5 && (h=h[n.v5 - 1],0 === h.Ke.length && !h.bq && !h.j8))return h;};f.prototype.XOb=function(n,h){n=(0,d.dqa)(n);(0,k.assert)(n,"Should have contentInfo from segment name");if(0 < n.v5 && (h=h[n.v5 - 1],0 !== h.Ke.length && !h.bq && !h.j8))return h;};return f;})();b.cDa=r;},14103:function(r,b,a){var m,g,k;function c(d){var f;f=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(f)return {W3:parseInt(f[2]),xj:parseInt(f[1]),nH:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {xj:parseInt(d[4]),nH:!0,hY:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.dqa=b.JG=b.dDa=void 0;m=a(91176);g=a(51308);k=a(81749);r=(function(){function d(f,n,h){this.Gt=f;this.bd=n;this.af=h;}d.prototype.IMb=function(f){var n,h,l,p,q,u,t,v,w,y,x;l=c(null === f || void 0 === f?void 0:f.H);p=this.Gt.Pb;q=this.bd.Pb;p.get(f.H);v=p.LN(f.H);w=[f.H];if(v){q=q.$.aa[v].J;y=p.kz.EG(f.H);for(t=y.next();!t.done;){t=t.value;x=p.LN(t.id);if(!t || x !== v || t.J === q)break;w.push(t.id);t=y.next();}}p=null !== (u=w.pop()) && void 0 !== u?u:f.H;u=c(p);f=this.Gt.$.aa[f.H];p=this.Gt.$.aa[p];f=(null !== (n=f.wb) && void 0 !== n?n:Infinity) - f.hb;n=(null !== (h=p.wb) && void 0 !== h?h:Infinity) - p.hb;return {start:(null === l || void 0 === l?0:l.nH)?new k.Tda(g.OJ.start,f):void 0,end:(null === u || void 0 === u?0:u.nH)?new k.Tda(g.OJ.end,n):void 0};};Object.defineProperties(d.prototype,{Iz:{get:function(){if(this.Gt.ba.Td)return this.FMb(this.Gt.ba.Fg);},enumerable:!1,configurable:!0}});d.prototype.FMb=function(f){var n,h,l,p,q,u,t,v,w,y;h=c(f.H);if(h){l=null === (n=this.bd.Zg) || void 0 === n?void 0:n.Tu(f);n=this.af.pe[this.bd.$.aa[l.H].J][h.xj];l=this.IMb(f);l=new k.rDa(n,l.start,l.end);p=this.Gt.Pb;q=this.bd.Pb;p.get(f.H);t=-f.offset.v;v=p.LN(f.H);if(v){q=q.$.aa[v].J;w=p.kz.EG(f.H);for(u=w.next();!u.done;){u=u.value;y=p.LN(u.id);if(!u || y !== v || u.J === q)break;t+=u.wb - u.hb;u=w.next();}}p=m.K.Na(t);t=p.qa(l.VU.duration);h.nH && ("end" === h.hY?t=m.K.Ba:(v=l.nca.duration.qa(f.offset),t=t.qa(v)));l={Sc:l,progress:{wwb:n.duration.qa(t),ywb:1 - Math.max(0,t.v) / n.duration.v,zwb:l.duration.qa(p),Awb:1 - Math.max(0,p.v) / l.duration.v},position:f,index:h.xj};p=this.Gt.$.aa[f.H];p=p.wb - p.hb;f=f.offset.v / p;h.nH?l.Vab={c0b:f,swa:h.hY,jaa:m.K.Na(p)}:l.sB={gf:n.Ke[h.W3],aVa:f,index:h.W3};return l;}};d.prototype.HMb=function(f,n){var h,l;h=f.H;l=this.BQb(f);if(h=c(h))return (f=this.af.pe[l][h.xj],h.nH?{Sc:f,hY:h.hY}:{Sc:f,gf:f.Ke[h.W3]});if(f=this.af.Xza(l,f,n))return {Sc:f};};d.prototype.JG=function(f){return c(f);};d.prototype.BQb=function(f){var n,h;h=this.bd;f=null === (n=h.Zg) || void 0 === n?void 0:n.Tu(f);return h.$.aa[f.H].J;};return d;})();b.dDa=r;b.JG=c;b.dqa=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {v5:parseInt(d[1])};};},54953:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fDa=void 0;c=a(91176);m=a(52571);g=a(81749);r=(function(){function k(d,f){var n;n=this;this.TBa=0;this.tv={};this.rsb=1;d.on("adEvent",function(h){return n.KZb(h);});f.on("adBreakPresenting",function(h){return n.U$(h);});}Object.defineProperties(k.prototype,{uT:{get:function(){return this.tv;},enumerable:!1,configurable:!0}});k.prototype.S6b=function(d,f){this.tv[d]=f.map(function(n,h){return new g.sDa(n,h);});};k.prototype.Bva=function(d,f){var n;n=this;this.tv[d].some(function(h){if(h.kp.oh === f.oh)return (h.MRb(f,n.rsb++),!0);});};k.prototype.Cva=function(d,f){this.tv[d].some(function(n){if(n.kp.oh === f)return n.uP=!0;});};k.prototype.reset=function(){this.TBa=0;};k.prototype.KZb=function(d){var f;f=this;"adComplete" === d.event && Object.keys(this.tv).some(function(n){var h,l,p;n=null !== (h=(p=f.tv)[n]) && void 0 !== h?h:p[n]=[];(0,m.assert)(void 0 !== d.xj,"complete event should have an adBreakIndex");return null === (l=n[d.xj].Ke) || void 0 === l?void 0:l.some(function(q){return q.id == d.W.O?(q.bq=!0,f.TBa++,!0):!1;});});};k.prototype.U$=function(d){var f;f=this;Object.keys(this.tv).forEach(function(n){var h,l;(null !== (h=(l=f.tv)[n]) && void 0 !== h?h:l[n]=[]).forEach(function(p){p !== d.cn.Sc && p.cHb();});});};k.prototype.doa=function(d){var f;f=this;Object.keys(this.tv).forEach(function(n){f.tv[n].forEach(function(h){h.Ke.forEach(function(l){l.id == d && (l.DW=!0);});});});};k.prototype.o2a=function(d,f){return (d=this.uT[d]) && (0,c.mc)(d,function(n){return n.Ew.v === f;});};return k;})();b.fDa=r;},14847:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rDa=b.Tda=b.sDa=void 0;c=a(91176);m=a(35963);g=a(88E3);r=(function(){function d(f,n,h){var l;void 0 === h && (h=NaN);this.kp=f;this.xj=n;this.uUa=h;this.uP=this.dTa=this.eTa=this.Oia=!1;this.QE=(null === (l=f.Ke) || void 0 === l?void 0:l.map(function(p){return new g.Pda(p);})) || [];}Object.defineProperties(d.prototype,{Ew:{get:function(){return this.kp.Ew;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Su:{get:function(){return this.kp.Su;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{E4:{get:function(){return this.kp.E4;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{K6b:{get:function(){return this.uUa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aka:{get:function(){return this.kp.aka;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ke:{get:function(){return this.QE;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.QE.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ke.reduce(function(f,n){return f.add(n.endTime.qa(n.startTime));},c.K.Ba);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vTb:{get:function(){return this.bq || !this.vXa && !this.dTa?this.QE.every(function(f){return f.bq;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bq:{get:function(){return this.QE.length?this.QE.every(function(f){return f.bq;}):this.Oia;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vXa:{get:function(){return !this.dg && !!this.kp.oh;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dg:{get:function(){return !!this.kp.Ke;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{j8:{get:function(){return this.eTa;},set:function(f){f && (this.eTa=!0);},enumerable:!1,configurable:!0}});d.prototype.w7b=function(){this.Ke.length || (this.Oia=!0);};d.prototype.MRb=function(f,n){var h;this.kp=f;this.QE=(null === (h=this.kp.Ke) || void 0 === h?void 0:h.map(function(l){return new g.Pda(l);})) || [];this.dTa=!0;this.uUa=n;this.uP=!1;};d.prototype.cHb=function(){this.kp.oh && (this.Oia=this.bq,this.kp.Ke=void 0,this.QE=[],this.uP=!1);};return d;})();b.sDa=r;k=(function(){function d(f,n){this.swa=f;this.ftb=n;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.K.Na(this.ftb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{wva:{get:function(){return this.Fub || (this.Fub=new d(m.OJ.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{oZb:{get:function(){return this.Eub || (this.Eub=new d(m.OJ.end,0));},enumerable:!1,configurable:!0}});return d;})();b.Tda=k;r=(function(){function d(f,n,h){this.hL=f;this.AUa=n || k.wva;this.itb=h || k.wva;}Object.defineProperties(d.prototype,{nca:{get:function(){return this.AUa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{VU:{get:function(){return this.itb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kRb:{get:function(){return this.AUa !== k.wva || this.VU !== k.oZb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.hL.duration.add(this.nca.duration).add(this.VU.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jaa:{get:function(){return this.nca.duration.add(this.VU.duration);},enumerable:!1,configurable:!0}});return d;})();b.rDa=r;},88E3:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Pda=void 0;c=a(91176);r=(function(){function m(g){this.gf=g;this.DW=this.bq=!1;}Object.defineProperties(m.prototype,{id:{get:function(){return this.gf.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{startTime:{get:function(){return c.K.Na(this.gf.hb);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{endTime:{get:function(){return c.K.Na(this.gf.wb);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qB:{get:function(){return this.gf.qB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jca:{get:function(){return this.gf.Jca;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hu:{get:function(){return this.gf.hu;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{MP:{get:function(){return this.gf.MP;},enumerable:!1,configurable:!0}});return m;})();b.Pda=r;},81749:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(88E3),b);r.__exportStar(a(14847),b);r.__exportStar(a(46062),b);},67288:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.pOa=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(66164);d=a(48170);f=a(69575);n=a(52571);r=(function(){function h(l,p,q){var u;u=this;this.Zc=l;this.Oa=p;this.Eia=new m.Ge();this.Uia=!1;this.S=(0,f.Pf)(k.platform,q,"PLAYERADMANAGER");this.events=new m.EventEmitter();this.Oa.events.on("playerChanged",this.Hbb.bind(this));this.Hbb();this.Zc.X3.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.af.events.on("adSegmentDropped",function(t){u.LZb(t);});}Object.defineProperties(h.prototype,{nW:{get:function(){return this.Uia;},enumerable:!1,configurable:!0}});h.prototype.ji=function(l){var p;if(!this.Oa.cq)return (d.L && this.S.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Oa.ba;if(!p.tV(l))return (d.L && this.S.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",l),!1);d.L && this.S.trace(("PlayerAdManager.canSkip(): ").concat(p.Rd.ob()," -> ").concat(l.ob()));l=l.greaterThan(p.Rd)?(0,f.gpa)(p.Xa,p.Rd,l):(0,f.gpa)(p.Xa,l,p.Rd);p=!l.some(function(q){return "content" !== q.I.type;});d.L && this.S.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(l.map(function(q){return ("").concat(q.I.id," ").concat(q.I.type," ").concat(q.Db.v,"..").concat(q.Db.v);})));return p;};Object.defineProperties(h.prototype,{af:{get:function(){return this.Zc.af;},enumerable:!1,configurable:!0}});h.prototype.Hbb=function(){var l,p;l=this;this.S.trace("Player changed",this.Oa.cq);this.Eia.clear();if(this.Oa.cq){p=this.Oa.ba;this.Eia.addListener(p.events,"segmentPresenting",function(q){return l.Iw(q);});this.Eia.addListener(p.events,"playbackEnding",function(q){return l.Ova(q);});}};h.prototype.Iw=function(l){var p,q,u,t,v;p=this.DO.HMb(l.position,!!l.seek);if(p){q=p.Sc;u=p.gf;d.L && this.S.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.DO.Iz;v={uq:l.playerTimestamp,position:l.position,Sc:q};this.nW || (q.Ke.length?this.xwb(t,v):q.dg || u?this.rB(l.playerTimestamp,l.position,q):d.L && this.S.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.Ml(t,v,u);}!this.nW || p && "end" !== p.hY || this.rB(l.playerTimestamp,l.position);this.nW && !p && this.UUa(l.position);};h.prototype.Ova=function(l){this.nW && this.mTb(l.position) && (this.rB(l.playerTimestamp,l.position),this.UUa(l.position));};h.prototype.xwb=function(l,p){(0,n.assert)(l,"Should have presenting info for event corresponding to ad break");d.L && this.S.trace("Emitting adBreakPresenting");this.Uia=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:l,cn:p});};h.prototype.Ml=function(l,p,q){d.L && this.S.trace("Emitting adPresenting");(0,n.assert)(l,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:l,cn:c.__assign(c.__assign({},p),{gf:q})});};h.prototype.rB=function(l,p,q){d.L && this.S.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",cn:{uq:l,position:p,Sc:q}});};h.prototype.UUa=function(l){this.Uia=!1;d.L && this.S.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:l}});};h.prototype.Opa=function(l){var p,q,u,t;p=this;q={$xb:[],result:{}};u=this.af.Kv;t=Object.keys(u).filter(function(v){return u[v];});if(null === l || void 0 === l?0:l.B_)t=t.filter(function(v){var w;return -1 !== (null === (w=l.B_) || void 0 === w?void 0:w.indexOf(v));});q.$xb=t;t.forEach(function(v){var w,y,x;y=null === (w=u[v]) || void 0 === w?void 0:w.pe;if(y){w=p.TKb(v,y);x=p.af.pe[v];q.result[("").concat(v)]=w.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].vTb});});}});return q;};Object.defineProperties(h.prototype,{DO:{get:function(){return this.Zc.DO;},enumerable:!1,configurable:!0}});h.prototype.TKb=function(l,p){var q,u;q=[];u=[];this.af.pe[l].forEach(function(t){return t.Ke.forEach(function(v){v.DW && -1 === u.indexOf(v.id) && u.push(v.id);});});p.forEach(function(t){var v,w;t=c.__assign({},t);w=null === (v=t.ads) || void 0 === v?void 0:v.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=w;q.push(t);});return q;};h.prototype.LZb=function(l){var p,q,u,t;p=this;q=l.adId;u=this.af.Kv;l=Object.keys(u).filter(function(v){return u[v];});t=this.Oa.$.aa;l.forEach(function(v){var w,y;null === (y=null === (w=u[v]) || void 0 === w?void 0:w.pe) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.Ke) || void 0 === A?void 0:A.forEach(function(B,D){B.id === q && (B=(0,g.mc)(Object.keys(t),function(C){C=p.DO.JG(C);return !C || C.nH?!1:D === C.W3 && z === C.xj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.Su,reason:"network_error",sev:"error",segmentId:B});});});});};h.prototype.mTb=function(l){l=this.Oa.Pb.get(l.H);return !(!l || 0 < l.eJ);};return h;})();b.pOa=r;},31413:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pQa=void 0;c=a(5163);m=a(91176);g=a(91176);k=a(66164);d=a(65161);f=a(48170);n=a(89527);h=a(52571);l=a(40666);r=(function(){function p(q,u,t,v,w,y,x,z,A,B){var D;D=this;this.Fa=q;this.Hd=u;this.events=t;this.Sc=v;this.gf=w;this.fka=y;this.Y3=x;this.uwb=z;this.xT=A;this.console=B;this.om=k.platform.time.now();this.MD=new Map();this.Ap=0;(0,h.assert)(y.W,"Presenting ad should have a manifest");this.bVa=u.By(function(){return D.nac();},"impressionLogging");this.Fa.ba.Qw.forEach(function(C,E){(C=C.mpa(n.pea)) && D.MD.set(E,C);});}Object.defineProperties(p.prototype,{FBa:{get:function(){return this.Ap;},enumerable:!1,configurable:!0}});p.prototype.Ma=function(){this.bVa.Ma();};p.prototype.nac=function(){var q,u,t,v,w,y,x,z,A,B,D,C,E,G,F;return c.__generator(this,function(I){switch(I.label){case 0:(f.L && this.console.trace("AdImpressionLogger: starting at",this.xT.ob()),q=this.gf,this.jYa(),u=0,t=this.xT,v=this.xT.add(q.endTime),w=this.uwb,I.label=1);case 1:(I.Gf.push([1,,12,13]),(0,h.assert)(null === (E=q.qB) || void 0 === E?void 0:E.start,"Start event info should be defined"),this.emit(q.qB.start,u,t,!1),(0,h.assert)(q.Jca,"Timed event info should be defined"),I.label=2);case 2:(I.Gf.push([2,7,8,9]),y=c.__values(q.Jca),x=y.next(),I.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.xT.add(m.K.Na(z.aBa));f.L && this.console.trace(("AdImpressionLogger[").concat(this.Y3,"]: waiting for ").concat(z.aBa,"ms timed event") + (" at ").concat(t.ob()));return [4,l.Tg.Wu(t)];case 4:(I.Ja(),w=t,this.emit(z,z.aBa,t,!1),I.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=I.Ja(),D={error:A},[3,9]);case 8:try{x && !x.done && (C=y.return) && C.call(y);}finally{if(D)throw D.error;}return [7];case 9:if(!v.greaterThan(t))return [3,11];t=v;f.L && this.console.trace(("AdImpressionLogger[").concat(this.Y3,"]: waiting for end of ad at ").concat(t.ob()));return [4,l.Tg.Wu(t)];case 10:(I.Ja(),w=t,I.label=11);case 11:return [3,13];case 12:this.Fa.ba.Td && (w=this.Fa.ba.Rd);if(w.Jg(v))((0,h.assert)(null === (G=q.qB) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.qB.complete,q.endTime.v,v,!0));else if(null === (F=q.qB) || void 0 === F?0:F.stop)(B=w.qa(this.xT).v,this.emit(q.qB.stop,B,w,!0));this.jYa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,v){f.L && this.console.trace(("AdImpressionLogger[").concat(this.Y3,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.ob()));u={H:this.Y3,offset:m.K.Na(u)};t=this.Nqa(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{$g:u,Lw:t,W:this.fka.W,om:this.om,coc:v?k.platform.time.now():-1,DF:this.Sc.Su,xj:this.Sc.xj,MP:this.gf.MP,hu:this.gf.hu}));}catch(w){this.console.error("Impression error event",w);this.Ap++;}};p.prototype.Nqa=function(q){var u,t,v;u=this.fka.W.O;t=c.__read(this.c4a(q,this.MD.get(d.u.Y),u),2);v=t[0];t=t[1];q=c.__read(this.c4a(q,this.MD.get(d.u.X),u),2);return {audio:v,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.c4a=function(q,u,t){q=(null === u || void 0 === u?void 0:u.L8b(q,t)) || [];q=(0,g.flatten)(q.map(function(v){return Object.keys(v.oG).map(function(w){w=v.oG[w];return {Wb:w.Wb,duration:w.totalTime,Tm:v.Tm};});}));u=q.reduce(function(v,w){return v + w.duration;},0);f.L && this.console.trace("Getting playtime journal",{O:t,mnc:q.length,totalTime:u});return [q,u];};p.prototype.jYa=function(){var q,u,t;t=this.fka.W.O;null === (q=this.MD.get(d.u.Y)) || void 0 === q?void 0:q.udb(t);null === (u=this.MD.get(d.u.X)) || void 0 === u?void 0:u.udb(t);};p.prototype.Zl=function(){return {ad:this.bVa.Zl(),errors:this.Ap};};return p;})();b.pQa=r;},25750:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pU=void 0;c=a(5163);m=a(40981);g=a(75393);k=a(17774);b.pU=function(d,f,n){var h,l,p,q,u;h=f.qY;l=f.Gka;d=c.__assign({$ea:m.Zea},d).$ea;p=h[5];h=(0,k.Sva)(function(){return u;});p.jVa(h.Mo);n=n(f);q={Zg:void 0,bd:void 0,Oa:n,Y7a:"content"};q.Zg=new d(function(){return q.bd.Pb;},function(){return q.Oa;},f.qY[2]);u=new k.yFa(q,h.bhb,g.Mw.Nya.gP);q.bd=g.Mw.Exa(n,u,function(){return q;},l);u.Eb();return q.bd;};},17774:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Sva=b.yFa=void 0;c=a(5163);m=a(79048);g=a(5479);k=a(61996);d=a(52571);r=(function(f){function n(h,l,p,q){void 0 === q && (q="CphAsePlaygraph");q=f.call(this,h,l,p,q) || this;q.gr=h;q.zab=l;q.veb=p;h.Oa.Jd(new g.zFa(q));return q;}c.__extends(n,f);n.prototype.kD=function(h){var l,p;l=f.prototype.kD.call(this,h);if(l){p=h.W.Vm;p && !this.U2 && (this.ria.nr({applyingContentPlaygraph:!0}),this.U2=p,this.Itb=this.RCb(h.W),this.dya());}return l;};Object.defineProperties(n.prototype,{f5a:{get:function(){return this.Itb;},enumerable:!1,configurable:!0}});n.prototype.MB=function(h){if(this.U2)return (h=m.Sx.fm(h,m.Sx.create(this.U2.$)).f$,h.ET(this.Oa.Pb),h);};n.prototype.RCb=function(h){var l,p;l=h.Ip;p=h.qC;return !(!l || !l.some(function(q){return q.qC !== p;}));};Object.defineProperties(n.prototype,{Vm:{get:function(){var h;return null === (h=this.U2) || void 0 === h?void 0:h.$;},enumerable:!1,configurable:!0}});c.__decorate([(0,k.Ib)({methodName:"processViewableResponse"})],n.prototype,"kD",null);return n;})(a(14739).aha);b.yFa=r;b.Sva=function(f){var n;n=[];return {Mo:function(h,l){var p,q,u,t,v,w,y,x;u=h.J;t=h.OY;v=f();w=v.ezb;if(w && w !== u){y=null === (p=null === t || void 0 === t?void 0:t.Jf) || void 0 === p?void 0:p.bc;p=null === (q=null === t || void 0 === t?void 0:t.Jf) || void 0 === q?void 0:q.Gd;q=v.bc;(0,d.assert)(w,"did not receive parent viewable id");t={Jf:{bc:null !== y && void 0 !== y?y:q,Gd:null !== p && void 0 !== p?p:w}};}v.Oa.console.trace("In wrapped request viewable",u,t);x=l(c.__assign(c.__assign({},h),{OY:t}));n.forEach(function(z){return z({J:u,nA:x.nA});});return x;},bhb:function(h){n.push(h);}};};},79:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Uma=void 0;c=a(75393);m=a(4515);b.Uma=function(g,k){var d;g=k(g);d=new m.tOa(g,c.Mw.Nya.gP);return c.Mw.Exa(g,d,function(){return d.Fxa;});};},64281:function(r,b,a){var m,g,k,d;function c(f,n){return n && !Array.isArray(n) && -1 === n.U0a.indexOf(f)?n.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.dna=void 0;m=a(5163);r=a(90745);g=a(49165);k=a(87561);d=(function(f){function n(h,l){var p;p=f.call(this) || this;p.AWb=h;p.o6a=l;p.Fia={};return p;}m.__extends(n,f);n.prototype.emit=function(h){for(var l=[],p=1;p < arguments.length;p++)l[p - 1]=arguments[p];return f.prototype.emit.call(this,h,this.AWb(h,l[0]));};n.prototype.subscribe=function(h){var l,p;l=this;if(!this.listeners(h).length){p=function(){for(var q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];return l.emit.apply(l,m.__spreadArray([h],m.__read(q),!1));};this.Fia[h]=p;this.o6a.addListener(h,p);}};n.prototype.addListener=function(h,l){this.subscribe(h);f.prototype.addListener.call(this,h,l);return this;};n.prototype.removeListener=function(h,l){f.prototype.removeListener.call(this,h,l);l=this.Fia[h];!this.listeners(h).length && l && (this.o6a.removeListener(h,l),this.Fia[h]=void 0);return this;};n.prototype.on=function(h,l){this.addListener(h,l);return this;};n.prototype.ks=function(h,l){this.removeListener(h,l);return this;};n.prototype.once=function(h,l){var q;function p(){for(var u=[],t=0;t < arguments.length;t++)u[t]=arguments[t];q.removeListener(h,p);l.apply(void 0,m.__spreadArray([],m.__read(u),!1));}q=this;this.addListener(h,p);return this;};n.prototype.Laa=function(h,l){this.subscribe(h);f.prototype.Laa.call(this,h,l);};n.prototype.dcb=function(h,l){var q;function p(){for(var u=[],t=0;t < arguments.length;t++)u[t]=arguments[t];q.removeListener(h,p);l.apply(void 0,m.__spreadArray([],m.__read(u),!1));}q=this;this.Laa(h,p);};return n;})(r.EventEmitter);b.dna=function(f,n,h,l){return new d(function(p,q){var u;u=c(p,l["*"]);p=l[p] || [];u=u.concat(p).filter(function(t){return "object" === typeof t;});p=m.__read(p.filter(function(t){return "function" === typeof t;}),1)[0];return u.length?(0,k.vba)(f,q,h,{rules:u,qm:!1,Dka:!0},g.jv.PD,p):q;},n);};},40981:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Zea=void 0;c=a(5163);m=a(66164);g=a(61996);k=a(94328);d=a(52571);f=a(48170);n=a(35779);r=(function(){function h(l,p,q,u){function t(v,w){return v.H === w.H && v.offset.equal(w.offset);}this.laa=l;this.Oa=p;this.config=q;this.oxb=u;this.lQ=new WeakMap();this.kQ=new WeakMap();this.console=new m.platform.Console("GRAPHLOCATIONSERVICE");this.Se=new g.Xq({nl:this,source:(u || "") + "GraphLocation",console:this.console});(0,n.gya)(this,"d",new n.gK(q,t));(0,n.gya)(this,"u",new n.gK(q,t));}h.prototype.Eb=function(){var l,p,q;l=this;"temp" !== this.oxb && (null === (p=this.Oa().events) || void 0 === p?void 0:p.on("segmentNormalized",function(){(0,n.$pa)(l).forEach(function(u){return u.clear();});l.lQ=new WeakMap();l.kQ=new WeakMap();}),null === (q=this.Oa().events) || void 0 === q?void 0:q.on("playgraphUpdating",function(){(0,n.$pa)(l).forEach(function(u){return u.clear();});l.lQ=new WeakMap();l.kQ=new WeakMap();}));};h.prototype.Jjb=function(l,p){return new h(function(){return l;},function(){return {Pb:p};},this.config,"temp");};h.prototype.Gy=function(l){var p,q,u,t,v;f.L && this.console.trace("downConverting",l);if(this.lQ.has(l))return this.lQ.get(l);try{q=this.laa().$;u=this.Oa().Pb.$;if(q === u)return p=l;if(u.aa[l.H])return (q.aa[l.H] || f.L && this.console.warn("Received a down converted position unexpectedly",l,Error().stack),p=l);t=(0,k.pma)(l,this.laa());v=this.laa().EWb({offset:t.dYa,H:l.H});(0,d.assert)(!!v,"mapPositionDown on uxPlaygraph should return a value");p={offset:t.Cr.add(v.offset),H:v.H};f.L && this.console.trace("downConverting ret:",p);return p;}finally{p && (this.lQ.set(l,p),this.kQ.set(p,l));}};h.prototype.Tu=function(l){var p,q,u,t,v,w;f.L && this.console.trace("upConverting",l);if(this.kQ.has(l))return this.kQ.get(l);try{p=this.laa().$;q=this.Oa().Pb.$;if(p === q)return l;if(p.aa[l.H])return (q.aa[l.H] || f.L && this.console.warn("Received a up converted position unexpectedly",l,Error().stack),l);u=this.Oa().Pb;t=(0,k.pma)(l,u);v=u.FWb({offset:t.dYa,H:l.H});(0,d.assert)(!!v,"mapPositionUp on combinedPlaygraph should return a value");w={offset:t.Cr.add(v.offset),H:v.H};f.L && this.console.trace("upConverting ret:",w);return w;}finally{w && (this.kQ.set(l,w),this.lQ.set(w,l));}};h.prototype.sOb=function(l){var p;p=this.Gy(l);(0,d.assert)(!!p,"mapPositionDown on uxPlaygraph should return a value");for(var q=p.H,u=this.Oa().Pb,t=u.kz.EG(q),v=t.next();!v.done;){v=v.value;if(u.nX(v.id) !== l.H && q !== p.H)break;q=v.id;v=t.next();}(0,d.assert)(q,("Could not find any segments in the path of ").concat(l));return q;};c.__decorate([(0,g.Ib)({methodName:"downConvertPosition",Cj:!0,Ep:!0,return:!0}),(0,n.Lla)("d")],h.prototype,"Gy",null);c.__decorate([(0,g.Ib)({methodName:"upConvertPosition",Cj:!0,Ep:!0,return:!0}),(0,n.Lla)("u")],h.prototype,"Tu",null);return h;})();b.Zea=r;},75393:function(r,b,a){var k,d,f,n,h,l,p,q,u;function c(t,v){var w,y,x,z;if(t.bd.$.aa[v] && t.bd.Zc){z=t.bd.Pb.nX(v);z && (z=t.bd.Pb.dY.$.aa[z].J,(v=(0,p.JG)(v)) && (x=null === (y=null === (w=t.bd.Zc.af.pe[z]) || void 0 === w?void 0:w[v.xj]) || void 0 === y?void 0:y.Su));}return x;}function m(t,v,w,y){var x;return v === h.jv.lG?(v=d.K.Ba,(null === y || void 0 === y?void 0:y.Vnc) === u.end && (v=d.K.Na(null !== (x=w.bd.$.aa[t].wb) && void 0 !== x?x:0),(0,f.assert)(0 < v.v,"EndTime must be non null")),w.Zg.Gy({offset:v,H:t}).H):w.Zg.Tu({offset:d.K.Ba,H:t}).H;}function g(t,v,w){return v === h.jv.PD?w.Zg.Tu(t):w.Zg.Gy(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.Mw=void 0;k=a(5163);d=a(91176);f=a(52571);r=a(42194);n=a(50599);h=a(49165);l=a(6783);p=a(14103);q=a(57722);a=(0,n.ueb)();a=(0,r.gXa)()({W8a:"combinedPlaygraph",gP:{$g:a()({map:g,qy:q.Y6a}),Td:a()({map:function(t,v,w,y){var x;x=(null === y || void 0 === y?0:y.Oo)?(0,q.x7)(t,y.Oo):t.position;v=g(x,v,w);t=(0,q.l5)(t,null === y || void 0 === y?void 0:y.Oo);(null === y || void 0 === y?0:y.Oo)?(0,q.ufb)(t,y.Oo,v):t.position=v;return t;},qy:function(t,v,w){return (null === w || void 0 === w?0:w.Oo)?(0,q.x7)(t,w.Oo):(0,q.Td)(t);}}),sCa:a()({map:function(t,v,w,y){var x;if(v === h.jv.lG)return null !== (x=t.inner) && void 0 !== x?x:t;v=(0,q.l5)(t,null === y || void 0 === y?void 0:y.Oo);null !== y && void 0 !== y && y.Oo || (v.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).Qnb && (v.gctag=void 0));return v;},qy:function(t,v,w){return (null === w || void 0 === w?0:w.Oo)?"object" === typeof (0,q.x7)(t,w.Oo):"object" === typeof t;}}),H:a()({map:m,qy:q.b7a}),gZ:a()({map:function(t,v,w,y){var x,z;z=null !== (x=t.H) && void 0 !== x?x:t.segmentId;v=m(z,v,w,y);return t.H?k.__assign(k.__assign({},t),{H:v}):k.__assign(k.__assign({},t),{segmentId:v});},qy:q.j5a}),Wma:a()({map:function(t,v,w){v === h.jv.lG?(t=(0,l.Qp)(w.bd.$,t.J,t.Ul,{Ieb:!0}),(0,f.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=w.Zg.Gy(t),v=t.H,t=t.offset,v=w.Oa.$.aa[v],w=v.J,v=v.hb,t=d.K.Na(v).add(t)):(t=(0,l.Qp)(w.Oa.$,t.J,t.Ul,{Ieb:!0}),(0,f.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=w.Zg.Tu(t),v=t.H,t=t.offset,v=w.bd.$.aa[v],w=v.J,v=v.hb,t=d.K.Na(v).add(t));return {Ul:t,J:w};},qy:q.M6a}),vla:a()({qy:q.J6a,map:function(t,v,w){var y,x,z,A,B;y=w.Oa.Pb;x=w.bd.Pb;if(v === h.jv.lG){z={H:t.I.id,offset:d.K.Ba};A=w.Zg.Gy(z);v=y.get(A.H);(0,f.assert)(v,"workingSegment on inner playgraph must exist");x=x.get(z.H);(0,f.assert)(x,"equivalent workingSegment on outer playgraph must exist");z=v.Bb;w=t.Kd.add(v.uc.qa(x.uc));y=v.uc;v=v.fd;return {Kd:w,gI:t.rs.add(z),rs:t.rs,I:{id:A.H,uc:y,fd:v}};}A={H:t.I.id,offset:d.K.Ba};z=w.Zg.Tu(A);v=y.get(A.H);(0,f.assert)(v,"workingSegment on inner playgraph must exist");x=x.get(z.H);(0,f.assert)(x,"equivalent workingSegment on outer playgraph must exist");A=x.Bb;if(!A.isFinite()){B=w.Zg.sOb(z);(y=y.get(B)) && y.Bb.isFinite() && (A=w.Zg.Tu({H:B,offset:y.Bb}).offset);}z=t.rs.qa(z.offset);B=z.add(A);w=t.Kd.add(x.uc.qa(v.uc));y=x.uc;v=A.add(y);return {Kd:w,gI:B,rs:z,I:{id:x.id,uc:y,fd:v}};}}),azb:a()({qy:function(t){return "segmentPresenting" === t.type;},map:function(t,v,w){var y;t=(0,q.l5)(t);if((v=t.metrics) && void 0 === v.adBreakLocationMs){y=c(w,v.destPosition.H);void 0 !== y && (v.adBreakLocationMs=y);y=c(w,v.srcStartPosition.H);void 0 !== y && (v.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.vjc=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.Mw=a;},5472:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ibb=void 0;b.Ibb={"*":{U0a:["logdata"],rules:[{Oj:function(a){return a.sCa;}}]},segmentPresenting:[{Oj:function(a){return a.sCa;},config:{Oo:["metrics"]}},{Oj:function(a){return a.Td;}},{Oj:function(a){return a.Td;},config:{Oo:["metrics","srcStartPosition"]}},{Oj:function(a){return a.Td;},config:{Oo:["metrics","srcTransitionPosition"]}},{Oj:function(a){return a.Td;},config:{Oo:["metrics","destPosition"]}},{Oj:function(a){return a.azb;}}],streamPresenting:[{Oj:function(a){return a.Td;}}],segmentAppended:[{Oj:function(a){return a.gZ;}}]};},4515:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tOa=void 0;c=a(5163);m=a(66164);g=a(61996);k=a(69575);d=a(64281);f=a(5472);r=(function(){function n(h,l){var p;p=this;this.sW=h;this.events=(0,d.dna)(function(){return p.Fxa;},this.sW.events,l,f.Ibb);this.Otb=(0,k.Pf)(m.platform,this.sW.console,"PLAYERHOST");new g.Xq({uh:10,nl:this,source:"PlayerHost",console:this.Otb});}n.prototype.uma=function(){this.Fxa=void 0;};n.prototype.Kza=function(h){this.Fxa=h;};c.__decorate([(0,g.Ib)({methodName:"clearProxyPlaygraphContext"})],n.prototype,"uma",null);c.__decorate([(0,g.Ib)({methodName:"setProxyPlaygraphContext"})],n.prototype,"Kza",null);return n;})();b.tOa=r;},94152:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kbb=void 0;b.Kbb={"*":{U0a:["logdata"],rules:[{Oj:function(a){return a.sCa;}}]},locationSelected:[{Oj:function(a){return a.gZ;}}],segmentComplete:[{Oj:function(a){return a.gZ;}}],segmentStarting:[{Oj:function(a){return a.gZ;}}],serverSwitch:[{Oj:function(a){return a.gZ;}}],streamSelected:[{Oj:function(a){return a.Td;}}]};},14739:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.aha=void 0;c=a(5163);m=a(79048);g=a(91176);k=a(54366);d=a(61996);f=a(65161);n=a(52571);h=a(48170);l=a(29254);p=a(36414);q=a(64281);u=a(94152);r=(function(){function t(v,w,y,x){var z;void 0 === x && (x="CphAsePlaygraph");z=this;this.gr=v;this.zab=w;this.veb=y;this.mac=x;this.Ltb=new l.kha();this.zab(function(A){var B;B=A.nA;return c.__awaiter(z,void 0,void 0,function(){var D;return c.__generator(this,function(C){switch(C.label){case 0:return [4,B];case 1:return (D=C.Ja(),this.kD(D),[2]);}});});});}Object.defineProperties(t.prototype,{Oa:{get:function(){return this.gr.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Bj:{get:function(){return this.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{$:{get:function(){return this.Ft.$;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Pb:{get:function(){return this.Ft;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{parent:{get:function(){return this.er;},set:function(v){this.er=v;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zg:{get:function(){return this.gr.Zg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{S:{get:function(){return this.Oa.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{T:{get:function(){return this.Oa.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{f5a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.Eb=function(){var v,w;v=this.gr;this.ria=new d.Xq({uh:10,nl:this,source:this.mac,console:this.S});this.events=(0,q.dna)(function(){return v;},v.Oa.events,this.veb,u.Kbb);this.Ft=v.Oa.Pb;w=v.Zg;w.Eb();v.Oa.Jd(new k.et(this.ria));v.Oa.Jd(new k.et(v.Zg.Se));v.Oa.Jd(new p.XEa(("").concat(v.Y7a,"::gls"),w));v.Oa.parent=v.bd;};t.prototype.Nv=function(v){var w,y;y=null !== (w=this.ba) && void 0 !== w?w:this.Oa.ba;this.ba=v;v.Kza && v.Kza(this.gr);(w=this.gr.Oa.Nv(v.sW || v))?(this.ba=v,y !== v && y.uma && y.uma()):this.ba=y;return w;};t.prototype.dya=function(v,w,y,x,z){(v=v || this.MB(w || this.Pb)) && this.i_b(v,this.f5a,y,x,z);};t.prototype.i_b=function(v,w,y,x,z){var A,B,D,C,E,G,F,I,P;A=v.$;B=this.gr.bd;D=B.ba;E=B.$;if(C=y?y:B.cq && D.Td?D.Fg:B.Sr?B.Ah:void 0){G=this.Oa.Pb.get(C.H);F=v.get(C.H);G && !F && (C=this.Zg.Tu(C));}B.config.Ucc && w && D.zD(!0);w=B.w3a();h.L && this.S.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(E)));h.L && this.S.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(A)));this.Ltb.set(A,!0);E=this.Oa.CJ(v);try{if(!E.pa || C && !D.Td && !B.Sr || y && z)if(((0,n.assert)(!D.va.ti,"Player is not paused:" + f.Yq[E.reason]),B.Lf(!0),this.Oa.CJ(v),C)){I=this.Zg.Gy(C);P=A.aa[I.H];"padding" === (null === P || void 0 === P?void 0:P.type) && (I={H:P.wc,offset:g.K.Ba});this.Mza(C,x);this.Oa.Iba(I,x,z);D.resume();}}finally{w.release();}};t.prototype.CJ=function(v){var y,x;function w(){y.Ft=v.ET(y.Ft);}y=this;x=this.MB(v) || v;try{return (this.Oa.events.dcb("playgraphUpdating",w),this.Oa.CJ(x));}finally{this.Oa.events.removeListener("playgraphUpdating",w);}};t.prototype.QD=function(v){v=m.Sx.update(this.Pb,v);return this.CJ(v);};Object.defineProperties(t.prototype,{bc:{get:function(){return this.uSa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ezb:{get:function(){return this.bia;},enumerable:!1,configurable:!0}});t.prototype.kD=function(v){var w,y,x,z;y=v.W;x=y.bc;y=y.Vm;z=null !== (w=this.T.Soa) && void 0 !== w?w:[];if(y && z.some(function(A){return A == v.O;}))return (w=("").concat(v.O," was excluded from content playgraph"),this.ria.nr(w),h.L && this.S.trace(w),!1);x && !this.uSa && (this.uSa=x,this.bia=v.J);!this.bia && y && (this.bia=v.J);return !0;};t.prototype.Lf=function(v){this.Oa.Lf(v);};t.prototype.Mza=function(){};c.__decorate([(0,d.Ib)({methodName:"attachPlayer"})],t.prototype,"Nv",null);c.__decorate([(0,d.Ib)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"dya",null);c.__decorate([(0,d.Ib)({methodName:"processViewableResponse"})],t.prototype,"kD",null);c.__decorate([(0,d.Ib)({methodName:"cancelStreaming"})],t.prototype,"Lf",null);return t;})();b.aha=r;},57722:function(r,b,a){var m;function c(g,k){var d,f;d=m.__assign({},g);f=m.__read(k || [],1)[0];f && g[f] && (g=g[f],"object" === typeof g?(k=k.concat(),k.shift(),d[f]=c(g,k)):d[f]=g);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.ufb=b.l5=b.x7=b.J6a=b.M6a=b.b7a=b.j5a=b.Y6a=b.Td=void 0;m=a(5163);b.Td=function(g){return !(null === g || void 0 === g || !g.position);};b.Y6a=function(g){return !(null === g || void 0 === g || !g.H) && !(null === g || void 0 === g || !g.offset);};b.j5a=function(g){return !(null === g || void 0 === g || !g.H) || !(null === g || void 0 === g || !g.segmentId);};b.b7a=function(g,k){return "string" === typeof g && !(!k.bd.$.aa[g] && !k.Oa.$.aa[g]);};b.M6a=function(g){return !(null === g || void 0 === g || !g.J) && !(null === g || void 0 === g || !g.Ul);};b.J6a=function(g){return !(null === g || void 0 === g || !g.Kd);};b.x7=function(g,k){var d;d=g;k.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.l5=c;b.ufb=function(g,k,d){for(var f=0;f < k.length - 1 && g;f++)g=g[k[f]];return g?(g[k[k.length - 1]]=d,!0):!1;};},54775:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.rEa=void 0;c=a(90745);m=a(91176);g=a(66164);k=a(69575);d=a(40666);f=a(48170);n=a(65161);r=(function(){function h(l,p,q,u,t,v){this.vc=l;this.Iq=p;this.config=q;this.MZb=u;this.Xd=t;this.console=v;this.Dia=new c.Ge();this.console=(0,k.Pf)(g.platform,v,"BranchDecisionMaker");}h.$Mb=function(l){var p;return null !== (p=l.Hb) && void 0 !== p?p:l.gI;};h.VNb=function(l){var p,q;p=l.wc;q=l.bO;return p?p:q.length?q[0]:l.Dw[0];};h.prototype.lBa=function(l,p){var q,u,t,v;q=this;t=l.I;f.L && this.console.trace(("tracking ").concat(l.I.id));this.reset();if(t.RZ || 1 >= t.Dw.length && (null === (u=t.yq) || void 0 === u || !u.length))f.L && this.console.trace(("").concat(l.I.id," does not need tracking"));else {v=this.uAb(l);u=v.eza;p=p.lessThan(v.aSb);f.L && this.console.trace(("tracking ").concat(l.I.id),{H:t.id,dkc:p,Onc:null === u || void 0 === u?void 0:u.v});this.c6b(t,p?u:void 0);if(p)this.Dia.on(l.events,"branchEdited",function(){q.lBa(l,q.vc.va.currentTime);});}};h.prototype.hYa=function(){var l;null === (l=this.d_a) || void 0 === l?void 0:l.Ma();this.d_a=void 0;};h.prototype.reset=function(){this.hYa();this.Dia.clear();};h.prototype.uAb=function(l){var p,q;l=h.$Mb(l);p=m.K.Na(this.config.m$);q=m.K.Na(this.config.eYb + this.config.FX);p=l.qa(p);return {aSb:(0,n.pn)(this.Xd.value)?l.qa(q):p,eza:p};};h.prototype.c6b=function(l,p){var q;q=this;this.hYa();this.d_a=p?this.vc.NB(d.Tg.Wu(p),function(){return q.K8a(l);},"scheduled branch decision"):this.Iq.NB(d.Tg.adc,function(){return q.K8a(l);},"immediate branch decision");};h.prototype.K8a=function(l){var p;this.Dia.clear();p=h.VNb(l);f.L && this.console.trace(("BranchDecisionMaker making decision for ").concat(l.id,", decision is ").concat(p));this.MZb(l.id,p,!0);};return h;})();b.rEa=r;},25510:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.EEa=void 0;c=a(5163);m=a(91176);g=a(66164);k=a(65161);d=a(52571);f=a(61996);n=a(40666);r=(function(){function h(l,p,q,u,t,v,w){var y;void 0 === w && (w=500);y=this;this.S=l;this.config=p;this.Hc=q;this.events=u;this.Doa=t;this.vc=v;this.Wzb=w;this.pxa=this.Zwa=this.Bla=0;this.d$=[];this.qM={Pt:0};this.state=new m.Sq(k.Yc.$s);this.Se=new f.Xq({uh:10,nl:this,source:"BufferStateTracker",AVa:function(){return {isBuffering:y.el};}});}Object.defineProperties(h.prototype,{Pt:{get:function(){return this.qM.Pt;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{el:{get:function(){return (0,k.pn)(this.state.value);},enumerable:!1,configurable:!0}});h.prototype.PBa=function(l){var p;p=this;Array.isArray(l) || (l=[l]);l.forEach(function(q){q.mediaType === k.u.Y && (p.bXa=c.__assign(c.__assign({},p.bXa),{audio:{trackId:q.trackId,trackIndex:q.xJ}}));});};h.prototype.o_b=function(){this.Zwa=g.platform.time.sa();};h.prototype.baa=function(l){this.set(k.Yc.$s);this.nAa(l,k.Yc.me);};h.prototype.V$=function(){this.qM.Pt++;};h.prototype.YX=function(l){this.uH={ln:l.httpCode,xg:l.errorCode,ej:l.nativeCode};};h.prototype.daa=function(){this.uH=void 0;};h.prototype.vh=function(l){this.el || (this.nAa(l,k.Yc.Zj),this.el && this.IZa());};h.prototype.B_b=function(l,p){this.state.value !== k.Yc.me && this.nAa(l,k.Yc.F2);this.PBa(p);};h.prototype.$Zb=function(l,p){var q;q=this;this.config.Uzb && this.el && (-1 === this.d$.indexOf(l) && this.d$.push(l),2 === this.d$.length && Promise.resolve().then(function(){q.el && void 0 !== q.cx && q.dk("memoryLimit",p.UP,p.VP);}));};h.prototype.W6b=function(l,p){(0,d.assert)(this.state.value === k.Yc.me && void 0 === this.cx);this.cx=l;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.xJ}),this.PBa(p));};h.prototype.k7b=function(l,p,q){(0,d.assert)(this.el);this.usa=null !== l && void 0 !== l?l:this.usa;this.qW=null !== p && void 0 !== p?p:this.qW;this.mN=q || this.mN;};h.prototype.dk=function(l,p,q){var u;(0,d.assert)(this.el && void 0 !== this.cx && void 0 === this.Q4 && void 0 === this.fda && void 0 === this.N3);this.Q4=l;this.fda=p;this.N3=q;this.Np=100;this.tma();this.Pna();null === (u=this.kma) || void 0 === u?void 0:u.Ma();this.state.value === k.Yc.Zj && (this.pxa=g.platform.time.sa());this.xIb();this.set(k.Yc.Gl);this.N3=this.fda=this.Q4=this.mN=this.qW=this.usa=this.cx=void 0;};h.prototype.stop=function(){var l;this.set(k.Yc.$s);this.tma();this.Pna();null === (l=this.kma) || void 0 === l?void 0:l.Ma();};h.prototype.jma=function(l,p,q,u){var t,v,w,y,x,z,A,B,D,C;t=this;(0,d.assert)(this.el);null === (v=this.kma) || void 0 === v?void 0:v.Ma();if(this.state.value === k.Yc.Zj && g.platform.time.sa() < this.pxa + this.config.$9a){x=this.config.$9a - (g.platform.time.sa() - this.pxa);this.kma=this.vc.NB(n.Tg.WD(m.K.Na(x)),function(){t.jma(l,p,q,u);});}else {v=q.iC(k.u.Y);z=q.iC(k.u.X);A=g.platform.time.sa() - Math.max(this.Bla,this.Zwa);if(v || z){B=function(E){return E?E.Ur() || E.qn()?u.d5(t.state.value,l,A >= t.config.rY,p,E,t.Pt):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=B(v);B=B(z);C=function(E){var G;return {reason:E.reason,complete:E.complete,bl:null !== (G=E.Mp) && void 0 !== G?G:0};};this.Se.nr({as:C(D),vs:C(B),bt:A});C=z?B:D;C.Acc=z && B.Mp || 0;C.Hyb=v && D.Mp || 0;D.complete && B.complete?(C.complete=!0,this.dk(null !== (x=C.reason) && void 0 !== x?x:"unknown",null !== (w=C.Acc) && void 0 !== w?w:0,null !== (y=C.Hyb) && void 0 !== y?y:0)):(C.complete=!1,this.tAb(C),this.Se.nr({bp:this.Np}));}}};h.prototype.tAb=function(l){var p,q,u;u=l.progress;l.fX?u=(g.platform.time.sa() - Math.max(this.Bla,this.Zwa)) / this.config.rY:u || (u=(null !== (p=l.Mp) && void 0 !== p?p:0) / this.config.kq);l=Math.min(Math.max(Math.round(100 * u),null !== (q=this.Np) && void 0 !== q?q:0),99);l != this.Np && (this.Np=l);};h.prototype.nAa=function(l,p){(0,d.assert)(p === k.Yc.me || void 0 !== l);this.cx=l;this.Np=0;this.H$=void 0;this.qM.Pt=0;this.d$=[];l=this.state.value === k.Yc.me || this.state.value === k.Yc.Zj;this.Bla=g.platform.time.sa();this.set(p);l || (this.zIb(),this.K7b());};h.prototype.set=function(l){this.state.set(l);};h.prototype.zIb=function(){(0,d.assert)(this.events && void 0 !== this.Np);this.H$=this.Np;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:g.platform.time.sa(),percentage:this.Np});};h.prototype.K7b=function(){var l;l=this;this.tma();this.XYb=this.vc.mZa(function(){return l.yIb();},m.K.Na(this.Wzb),"buffering-notification");};h.prototype.tma=function(){var l;null === (l=this.XYb) || void 0 === l?void 0:l.Ma();};h.prototype.yIb=function(){this.el && this.events && void 0 !== this.Np && this.Np !== this.H$ && this.events.emit("buffering",{type:"buffering",time:g.platform.time.sa(),percentage:this.Np}) && (this.H$=this.Np);};h.prototype.xIb=function(){(0,d.assert)(this.events && this.cx && void 0 !== this.Q4 && void 0 !== this.N3 && void 0 !== this.fda);this.H$=this.Np;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:g.platform.time.sa(),actualStartPosition:this.cx,reason:this.Q4,aBufferLevelMs:this.N3,vBufferLevelMs:this.fda,selector:this.usa,initBitrate:this.qW,initSelReason:this.mN},this.bXa));};h.prototype.IZa=function(){var l;l=this;!this.iA || this.iA.state !== n.Mk.complete && this.iA.state !== n.Mk.jG?void 0 === this.iA && (this.iA=this.vc.By(function(){return l.Iib();},"underflow")):this.iA.sf();};h.prototype.Pna=function(){this.iA && (this.iA.state !== n.Mk.jG && this.iA.Ma(),this.iA=void 0);};h.prototype.Iib=function(){var l,p,q;return c.__generator(this,function(u){switch(u.label){case 0:return (l=this.config.N9,this.S.trace(("BufferingStateTracker: starting underflow timer: ").concat(l,"ms")),[4,n.Tg.WD(m.K.Na(l))]);case 1:(u.Ja(),u.label=2);case 2:if(!this.el)return [3,4];p=this.Hc.IUb || 0;q=g.platform.time.sa() - p;if(q >= l)return (this.S.trace(("Forcing streaming failure, ").concat(q,"ms since data received")),this.Doa.SZb(this.uH),[2]);this.S.trace(("BufferingStateTracker: network activity, wait ").concat(l - q,"ms"));return [4,n.Tg.WD(m.K.Na(l - q))];case 3:return (u.Ja(),[3,2]);case 4:return [2];}});};c.__decorate([(0,f.Ib)({methodName:"onTemporaryNetworkError",Cj:!0})],h.prototype,"YX",null);c.__decorate([(0,f.Ib)({methodName:"onUnderflow",Cj:!0})],h.prototype,"vh",null);c.__decorate([(0,f.Ib)({methodName:"bufferingComplete",Cj:!0})],h.prototype,"dk",null);c.__decorate([(0,f.Ib)({methodName:"stop",Cj:!0})],h.prototype,"stop",null);c.__decorate([(0,f.Ib)({methodName:"checkStreamingBufferingComplete",Cj:!0})],h.prototype,"jma",null);c.__decorate([(0,f.Ib)({methodName:"createUnderflowTask",Cj:!0})],h.prototype,"IZa",null);c.__decorate([(0,f.Ib)({methodName:"destroyUnderflowTask",Cj:!0})],h.prototype,"Pna",null);c.__decorate([(0,f.Ib)({methodName:"onUnderflowTimeout",Cj:!0})],h.prototype,"Iib",null);return h;})();b.EEa=r;},56879:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.fZa=void 0;c=a(5163);m=a(65161);b.fZa=function(g){var n,h;function k(l){(0,m.pn)(l.newValue) && !(0,m.pn)(l.oldValue)?(null === h || void 0 === h?void 0:h.Ma(),h=n.NB.apply(n,c.__spreadArray([],c.__read(d),!1))):null === h || void 0 === h?void 0:h.Ma();}for(var d=[],f=1;f < arguments.length;f++)d[f - 1]=arguments[f];f=g.bf;n=g.Iq;f.state.addListener(k);k({oldValue:m.Yc.$s,newValue:f.state.value});};},78538:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ioa=void 0;c=a(91176);b.Ioa=function(m,g,k,d,f){var n,h;n=[];h=[];m=m.wm.values.filter(function(l){return l.kn;}).map(function(l){var p,q;p=g(l.ca,k,d,f);q=p.map(function(u){return u.mediaType;});n=(0,c.nL)(n,q);q=(0,c.Nl)(p,l.Xc).map(function(u){return u.mediaType;});h=(0,c.nL)(h,q);q=(0,c.Nl)(l.Xc,p).map(function(u){return u.mediaType;});h=(0,c.nL)(h,q);return {Ra:l,Xc:p};});return {JXa:h,Jzb:m,zxb:n};};},19455:function(r,b,a){var c,m,g,k,d,f,n,h,l,p;Object.defineProperties(b,{__esModule:{value:!0}});b.IHa=void 0;c=a(5163);m=a(45247);g=a(33923);k=a(52571);d=a(65161);f=a(63576);n=a(44284);h=a(14246);l=a(72793);p=a(7559);r=(function(q){function u(t,v,w,y,x){t=q.call(this,t,v,w,y,x) || this;v=(0,h.Sqa)(t.config);t.Wbb=v.FO.bind(v);return t;}c.__extends(u,q);u.prototype.Peb=function(t,v,w,y,x,z,A,B,D){var C,E,G,F,I,P,M,L,Q;E=[];if(!this.taa(z.track,z.track.Z?z.track.A3a(y):void 0))return {stream:L,bx:E,reason:"locationSelectionFailure"};G=z.So;F=z.FG;I=G.z7();P=this.nOb(z,v,t,w,A,B,I);y=P.first;A=(null === A || void 0 === A?void 0:A.c5) || (null === B || void 0 === B?void 0:B.c5);if(0 === y.length && A)return {stream:void 0,bx:E,reason:"allStreamsFiltered"};!I || (null === (C=I.XV(z.track.mediaType)) || void 0 === C?0:C.equals(z.track)) || (I=this.kLb(I,y));M=z.mediaType;A=M === m.u.Y;C=z;if(M === m.u.Da || A){if(I){L=I.mk(M);E=this.v4a(y,I);return {stream:L,bx:E};}C=(I=z.Ra.iC(m.u.X))?I:C;}t=(0,d.hI)(t);v=this.uZa(t,v,x,C,!!D);x=G.Pba(v,P,0,this.Wbb,C.Tsa(),C.track.ca.aw,F);if(!x)return {stream:L,bx:E,reason:"streamSelectionFailure"};v={nf:x.nf,eD:x.eD};if(x.reason){Q=x.reason;this.QXa(M,y,w);}this.AIb(x,y);I=x.gd || y[0];G.aj(m.u.Y).QI(I.mk(m.u.Y));G.aj(m.u.X).QI(I.mk(m.u.X));E=this.v4a(y,I);L=I.mk(M);w=x.xn;y=Array.from(new Set(y.map(function(J){return J.mk(M);}).filter(function(J){return void 0 !== J;})));G=c.__assign(c.__assign({},x),{gd:L});return {stream:L,bx:E,mN:Q,Cs:v,xn:w,r1a:y,Seb:G};};u.prototype.v4a=function(t,v){var w;w=this.w4a(t,v,m.u.Y);t=this.w4a(t,v,m.u.X);return c.__spreadArray(c.__spreadArray([],c.__read(w),!1),c.__read(t),!1);};u.prototype.w4a=function(t,v,w){var y;t=t.map(function(x){return x.mk(w);});y=v.mk(w);return t.filter(function(x){var z;return void 0 !== x && x !== y && x.Fn && !x.Z && !(null === (z=x.Ga) || void 0 === z?0:z.length);});};u.prototype.n8b=function(t,v,w){var y,x;w=(0,d.hI)(w) === m.Fb.Pn;y=t && t.mk(m.u.Y);if(w || !y)return !1;x=t.mk(m.u.Y);if(!v.some(function(z){return z === x;}))return !1;t=x.profile;return this.config.Lu && 0 <= this.config.Lu.indexOf(t)?!1:!0;};u.prototype.b3a=function(t,v,w,y,x){var z;z=t.Ra.XG(m.u.Y);if(this.n8b(y,z,v))v=[y.mk(m.u.Y)];else if((y=new l.tDa(this.config),y=new f.dt(y),x && y.and(x),v=this.Ig(t.Ra.XG(m.u.Y),v,w,t.Ra.Kd,t.Ra.Df,y),!(0,p.F6a)(v[0].wd))){t=t.Ra.XG(m.u.X)[0].cb || 0;w=v.length - 1;for(w;0 < w && !(t && v[w].bitrate < .15 * t);--w);v=[v[w]];}return v;};u.prototype.nOb=function(t,v,w,y,x,z,A){var B,D,C,E;B=new n.yfa();D=this.Ig(t.Ra.XG(m.u.X),w,y,t.Ra.Kd,t.Ra.Df,z);C=t.Ra.XG(m.u.Da);E=this.b3a(t,w,y,A,x);D=this.nZa(E,D,C);B.GF(D);v=t.Ra.Hb.qa(v);for(v=this.config.R9 - v.v;0 < v;){t=this.navigator.next(t);if(null === t || void 0 === t || !t.Df)break;E=this.b3a(t,w,y,A,x);D=this.Ig(t.Ra.XG(m.u.X),w,y,t.Ra.Kd,t.Ra.Df,z);D=this.nZa(E,D,C);B.GF(D);v-=t.Ra.I.Bb.v;}return B;};u.prototype.nZa=function(t,v,w){void 0 === w && (w=[]);switch(this.config.pUb){case "videofirst":return this.jFb(t,v,w);default:return this.iFb(t,v,w);}};u.prototype.jFb=function(t,v,w){var y,x,z;x=[];w=0 < w.length?w[0]:void 0;(0,k.assert)(0 < t.length && 0 < v.length,"We should have at least one video stream and one audio stream");if(0 < t.length){z=t[0];try{for(var A=c.__values(v),B=A.next();!B.done;B=A.next())x.push(new g.tA({audio:z,video:B.value,text:w}));}catch(C){var D;D={error:C};}finally{try{B && !B.done && (y=A.return) && y.call(A);}finally{if(D)throw D.error;}}if(1 < t.length && 0 < v.length)for((v=v[v.length - 1],D=1);D < t.length;D++)x.push(new g.tA({audio:t[D],video:v,text:w}));}return x;};u.prototype.iFb=function(t,v,w){var z,A,B;function y(D,C){return Math.exp((C.ub?Math.log(C.ub):0) + (D.jca?.13 * Math.log(25 * (D.jca - 1)):0));}function x(D,C,E,G){var F,I;F=y(D,C);I=y(E,G);D=E.bitrate - D.bitrate + (G.bitrate - C.bitrate);return 0 !== D?(I - F) / D:0;}w=0 < w.length?w[0]:void 0;z=[];A=0;B=0;for(z.push(new g.tA({audio:t[A],video:v[B],text:w}));A + 1 < t.length && B + 1 < v.length;)(A=[{ica:x(t[A],v[B],t[A],v[B + 1]),qsa:[A,B + 1]},{ica:x(t[A],v[B],t[A + 1],v[B]),qsa:[A + 1,B]},{ica:x(t[A],v[B],t[A + 1],v[B + 1]),qsa:[A + 1,B + 1]}],A.sort(function(D,C){return D.ica - C.ica;}),B=c.__read(A[A.length - 1].qsa,2),A=B[0],B=B[1],z.push(new g.tA({audio:t[A],video:v[B],text:w})));if(B + 1 < v.length)for(B++;B < v.length;B++)z.push(new g.tA({audio:t[A],video:v[B],text:w}));if(A + 1 < t.length)for(A++;A < t.length;A++)z.push(new g.tA({audio:t[A],video:v[B],text:w}));return z;};u.prototype.kLb=function(t,v){var w;w=v[0];v.filter(function(y){return y.Wr;}).every(function(y){return y.Ov && y.TD && t.Ov && t.TD && y.Ov <= t.Ov && y.TD <= t.TD?(w=y,!0):!1;});return w;};u.prototype.d5=function(t,v,w,y,x,z,A){var B,D,C;if(!(0,d.pn)(v))return {complete:!0,reason:"playing"};if(!z.lxa)return {complete:!1,reason:"unknown"};if(z.Kab)return ((0,k.assert)(z.iaa),z.iaa);B=z.So;D=this.Ypa(z,w);C=B.z7();w=D.Wi - D.Tc;if(w < this.config.kq || void 0 === C)return {complete:!1,Mp:w,reason:"preBuf"};if(z.mediaType === m.u.Y)return {complete:!0,Mp:w,reason:"audio"};if(t=t.ima(z.mediaType))return {complete:!0,Mp:w,reason:t};this.taa(z.track);z=new n.yfa();z.GF([C]);B.tY(z,(0,d.hI)(v),D,this.Wbb);v=B.Tv(D,v,x,C,{Pt:A});if(!v.complete && y)return {complete:!0,reason:"prebufferTimeLimit",Mp:w};v.Mp=w;return v;};u.prototype.AIb=function(t,v){this.events.emit("jointStreamSelection",{type:"jointStreamSelection",result:t,streamList:v});};return u;})(a(54477).afa);b.IHa=r;},94328:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Xya=b.pma=b.ql=b.R4a=b.Kjb=void 0;c=a(91176);m=a(52571);g=a(48170);b.Kjb=function(d,f){d=d.aa[f.H];if(void 0 === d)return {wN:!1,reason:("Segment ").concat(f.H," was not found")};if(0 > f.offset.v)return {wN:!1,reason:("Offset ").concat(f.offset.v," was negative")};if(void 0 === d.wb || null === d.wb || Infinity === d.wb)return {wN:!0};d=d.wb - d.hb;return f.offset.v >= d?{wN:!1,reason:("Offset ").concat(f.offset.v," was greater than segment duration ").concat(d)}:{wN:!0};};k=c.K.Na(100);b.R4a=function(d,f){if(d === f)return !0;if(d && f && d.H === f.H){if(d.offset === f.offset)return !0;d=c.K.abs(d.offset.qa(f.offset));if(k.greaterThan(d))return !0;}return !1;};b.ql=function(d,f,n){var h,l,q;h=f.Fa;f=f.ASb;void 0 === n && (n={});h=h.Pb;l=(null === f || void 0 === f?0:f.id)?h.get(null === f || void 0 === f?void 0:f.id):h.initial;(0,m.assert)(l,"initialSegment must be found in workingPlaygraph");f=(null === f || void 0 === f?void 0:f.t6b) || (null === l || void 0 === l?void 0:l.uc);if(f.greaterThan(d))return n.J8b?{offset:d.qa(f),H:l.id}:void 0;l=h.kz.EG(l.id);for(var p=l.next();!p.done;){h=p.value;q=f;f=q.add(h.Bb);if(f.greaterThan(d))return (d=d.qa(q),g.L && (0,m.assert)(d.Jg(c.K.Ba) && d.lessThan(h.Bb)),{H:h.id,offset:d});p=l.next();if(p.done && n.K8b)return {H:h.id,offset:d.qa(q)};}};b.pma=function(d,f){f=f.get(d.H);(0,m.assert)(f,"workingSegment must exist in workingPlaygraph for the position to clamp");f=f.cYa(d.offset);return {dYa:f,Cr:d.offset.qa(f)};};b.Xya=function(d,f){d=d.aa[f.H];if(void 0 !== d)return null === d.wb || void 0 === d.wb?{H:f.H,offset:c.K.max(c.K.Ba,f.offset)}:{H:f.H,offset:c.K.max(c.K.Ba,c.K.min(f.offset,c.K.Na(d.wb - d.hb)))};};},54477:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.afa=void 0;r=a(5163);c=a(66164);m=a(65161);g=r.__importDefault(a(40497));a=(function(){function k(d,f,n,h,l){this.config=d;this.D8b=f;this.navigator=n;this.events=h;this.console=l;}k.prototype.Ig=function(d,f,n,h,l,p){return p?p.Ig(d,f,n.qa(h),l):d;};k.prototype.CIb=function(d,f,n){this.events.emit("streamSelection",{type:"streamSelection",mediaType:d,result:f,streamList:n});};k.prototype.BIb=function(d,f,n,h){d={type:"maxVideoBitrateChanged",time:c.platform.time.sa(),streaming:h,maxvb_old:d,maxvb:f,reason:n};this.events.emit(d.type,d);};k.prototype.taa=function(d,f){return d.ca.jl.ijb(d.ca.J,d.ie,f);};k.prototype.Ypa=function(d,f){var x;for(var n,h=f.qa(this.D8b),l=[],p=d,q=f,u,t,v=0,w=0,y=!0;p;){x=p.j3a(h);if(!y && !p.hi)break;0 < x.Ga.length && (q=x.Ga[0].Db,void 0 === u && (u=x.Ga[x.Ga.length - 1].Hb,t=x.paa >= x.Ga.length?u:x.Ga[x.paa].Db),l=x.Ga.concat(l),v+=0 < x.ps?x.ps:0,w+=x.TO);p=this.navigator.parent(p);y=!1;}return {GB:c.platform.TM()[d.mediaType],jb:Math.floor(q.v),Tc:f.v,Tj:Math.floor(null !== (n=null === u || void 0 === u?void 0:u.v) && void 0 !== n?n:f.v),Wi:Math.floor(t?t.v:f.v),um:l.reduce(function(z,A){return z + A.ta;},0),ps:v,TO:w,Vkc:l.length,Ga:l};};k.prototype.uZa=function(d,f,n,h,l){var p,q,u;p=this.Ypa(h,f);q=h.mediaType === m.u.X?this.config.fCa:this.config.$ka;u=g.default.instance();return {state:d,AC:d === m.Fb.Ie,Sd:h.Cw,playbackRate:n,buffer:p,j6:q,dM:l,fi:null === u || void 0 === u?void 0:u.fi,mediaType:h.mediaType,Tc:f.v,Zxa:0};};k.prototype.QXa=function(d,f,n){var p,q;if(d === m.u.X){d="manifest";for(var h=0,l=f.length - 1;0 <= l;--l){p=f[l];q=p.bitrate;if(p.jz){h=Math.max(h,q);break;}else p.gq?p.Vy && (d="hf"):d="av";}this.x9a !== h && (this.BIb(this.x9a,h,d,n),this.x9a=h);}};return k;})();b.afa=a;},28696:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JHa=void 0;c=a(5163);m=a(45247);g=a(65161);k=a(14246);d=a(44284);f=a(52571);r=(function(n){function h(l,p,q,u,t){l=n.call(this,l,p,q,u,t) || this;p=(0,k.Sqa)(l.config);l.Tba=p.Tba.bind(p);l.Wza=p.Wza.bind(p);l.Qpa=p.Qpa.bind(p);l.sra=p.sra.bind(p);l.Xbb=[p.jxa.bind(p),p.FO.bind(p)];return l;}c.__extends(h,n);h.prototype.Peb=function(l,p,q,u,t,v,w,y,x){var z,A,B,D,C,E,G;z=[];y=v.mediaType === m.u.Y?w:y;if(!this.taa(v.track,v.track.Z?v.track.A3a(u):void 0))return {stream:D,bx:z,reason:"locationSelectionFailure"};A=v.So;u=A.pm;B=v.FG;D=u.pk;C=this.mQb(v,p,l,q,y);w=C.first;if(0 === w.length && (null === y || void 0 === y?0:y.c5))return {stream:void 0,bx:z,reason:"allStreamsFiltered"};D && !D.track.equals(v.track) && (D=this.lLb(D,w));E=v.mediaType;if((y=E === m.u.Y) && D && !this.h8b(u,D))return (this.config.S4a && this.Tba(D.bitrate),{stream:D,bx:z});l=(0,g.hI)(l);p=this.uZa(l,p,t,v,!!x);t=this.Xbb[E];x=y?this.sra():this.Qpa();v=A.Pba(p,C,x,t,v.Tsa(),v.track.ca.aw,B);if(!v)return {stream:D,bx:z,reason:"streamSelectionFailure"};p={nf:v.nf,eD:v.eD};if(v.reason){G=v.reason;this.QXa(E,w,q);}this.CIb(E,v,w);D=v.gd || w[0];q=D.bitrate;y?this.config.S4a && this.Tba(q):this.Wza(q);u.QI(D);z=w.filter(function(F){var I;return F !== D && F.Fn && !F.Z && !(null === (I=F.Ga) || void 0 === I?0:I.length);});return {stream:D,bx:z,mN:G,Cs:p,xn:v.xn,r1a:w,Seb:v};};h.prototype.mQb=function(l,p,q,u,t){var v;v=new d.Nha();v.GF(this.Ig(l.track.ie,q,u,l.Ra.Kd,l.Df(),t));p=l.Ra.Hb.qa(p);for(p=this.config.R9 - p.v;0 < p;){l=this.navigator.next(l);if(null === l || void 0 === l || !l.Df)break;v.GF(this.Ig(l.track.ie,q,u,l.Ra.Kd,l.Df(),t));p-=l.Ra.I.Bb.v;}return v;};h.prototype.h8b=function(l,p){return 0 < this.config.Lu.length?!0:(l=l.zN) && l === p.location?!1:!0;};h.prototype.lLb=function(l,p){var q;q=p[0];p.filter(function(u){return u.Wr;}).every(function(u){return u.bitrate <= l.bitrate?q=u:!1;});return q;};h.prototype.d5=function(l,p,q,u,t,v,w){var y,x,z;if(!(0,g.pn)(p))return {complete:!0,reason:"playing"};if(!v.lxa)return {complete:!1,reason:"unknown"};if(v.Kab)return ((0,f.assert)(v.iaa),v.iaa);y=v.So;x=y.pm;q=this.Ypa(v,q);z=x.pk;x=q.Wi - q.Tc;if(x < this.config.kq || void 0 === z)return {complete:!1,Mp:x,reason:"preBuf"};if(v.mediaType === m.u.Y)return {complete:!0,Mp:x,reason:"audio"};if(l=l.ima(v.mediaType))return {complete:!0,Mp:x,reason:l};this.taa(v.track);l=new d.Nha();l.GF([z]);y.tY(l,(0,g.hI)(p),q,this.Xbb[v.mediaType]);p=y.Tv(q,p,t,z,{Pt:w});if(!p.complete && u)return {complete:!0,reason:"prebufferTimeLimit",Mp:x};p.Mp=x;return p;};return h;})(a(54477).afa);b.JHa=r;},93747:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;c=a(5163);m=a(48170);g=a(62629);k=a(65161);d=a(61996);r=(function(){function f(n,h,l){this.mqa=n;this.XNb=h;this.S=l;this.Se=new d.Xq({nl:this,console:l,source:"MemoryDeadlockProtector",uh:5});}f.prototype.dMb=function(n){var h,l,p,q;p=n.config;q=p.kq + (null !== (l=null === (h=p.tP) || void 0 === h?void 0:h.v) && void 0 !== l?l:0);h=this.dRb(q,n);m.L && this.S.debug(("MDP: has prebuf: ").concat(h));return h?{d6:!0}:(l=this.HAb(p),h=l.T_b,l=l.kcc,h && l?(m.L && this.S.debug(("MDP: utilizing ").concat(Math.round(100 * l),"%")),l >= p.zXb?this.ceb(n,h):{d6:!0}):{d6:!1});};f.prototype.ceb=function(n,h){var l,p,q,u,t,w,z,A;this.Se.nr({o:h});u=n.ba;n=n.Xa;t=u.Xa;u=u.Xr;for(var v=0;v < t.length;v++)if(!t[v].hi){u=t[v];t=t.slice(0,v + 1);break;}v=!1;w=[{mediaType:k.u.Y,py:0},{mediaType:k.u.X,py:0},{mediaType:k.u.Da,py:0}];if(null === u || void 0 === u || !u.hi){n=n.map(function(D){return D;}).filter(function(D){return -1 === t.indexOf(D);}).sort(function(D,C){return (0,g.Sla)(D) - (0,g.Sla)(C);});try{for(var y=c.__values(n),x=y.next();!x.done;x=y.next()){z=x.value;A=z.FM();w[k.u.Y].py+=null !== (p=A.qT) && void 0 !== p?p:0;w[k.u.X].py+=null !== (q=A.s_) && void 0 !== q?q:0;m.L && this.S.debug(("Resetting discontiguous branch ").concat(z.I.id),A);z.reset();if(v=w.every(function(D){return D.py >= h[D.mediaType].py;}))break;}}catch(D){var B;B={error:D};}finally{try{x && !x.done && (l=y.return) && l.call(y);}finally{if(B)throw B.error;}}}return {d6:v,Zkc:w};};f.prototype.HAb=function(n){var h,l,p,q,u;h=[k.u.Y,k.u.X,k.u.Da];if(!n.AXb)return {};l=this.XNb();p=this.mqa().total;q=n.yXb;u=0;n=h.map(function(t){var v;v=l[t] - p[t] * q;u=Math.max(0 < p[t]?l[t] / p[t]:0,u);return {py:Math.max(0,v),mediaType:t};});return {kcc:u,T_b:n};};f.prototype.dRb=function(n,h){var l,p,q;l=this;p=!1;h=h.cq?h.ba:void 0;if(null === h || void 0 === h?0:h.zSb){p=h.Jz.Nr().map(function(u){return u.mediaType;});q=h.oNb();p=p.every(function(u){var t,v;if(u === k.u.Y)u=null !== (t=q.Q3) && void 0 !== t?t:0;else if(u === k.u.X)u=null !== (v=q.gda) && void 0 !== v?v:0;else return (m.L && l.S.trace("hasEnoughBuffer ignoring mediaType:",u),!0);return u >= n;});}return p;};c.__decorate([(0,d.Ib)({methodName:"resetDiscontiguousBranches",return:!0,Cj:!0})],f.prototype,"ceb",null);return f;})();b.BLa=r;},88874:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zOa=void 0;c=a(91176);m=a(69575);g=a(52571);k=a(61520);r=(function(){function d(){this.Xa=new m.PLa();this.wm=new k.K2();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Xa.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Xa.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f;f=this.Xa.values();this.Xa.clear();this.wm.clear();f.forEach(function(n){return n.Lf();});};d.prototype.Yp=function(f){return this.Xa.get(f);};d.prototype.has=function(f){return this.Xa.has(f);};d.prototype.root=function(){return this.wm.root;};d.prototype.contains=function(f){var n;n=f.I.id;if(this.has(n))return -1 !== this.Yp(n).indexOf(f);};d.prototype.BG=function(f){this.wm.BG(f);};d.prototype.J7=function(f){return this.wm.parent(f);};d.prototype.iNb=function(f){return this.wm.children(f);};d.prototype.Dra=function(f){return this.wm.Dra(f);};d.prototype.v4b=function(f){var n;if(this.Xa.delete(f.I.id,f)){n=this.wm.children(f);this.wm.root === f?0 === n.length?this.wm.clear():((0,g.assert)(1 === n.length,"cannot remove the root branch with multiple successors"),this.wm.H4b(n[0])):((0,g.assert)(0 === n.length,"cannot remove non-root branch with successors"),this.wm.remove(f));}};d.prototype.forEach=function(f){var n;n=this;this.Xa.forEach(function(h,l){return f(h,l,n);});};d.prototype.reduce=function(f,n){var h;h=this;return this.Xa.reduce(function(l,p,q){return f(l,p,q,h);},n);};d.prototype.map=function(f){var n;n=this;return this.Xa.map(function(h,l){return f(h,l,n);});};d.prototype.filter=function(f){var n;n=this;return this.Xa.filter(function(h,l){return f(h,l,n);});};d.prototype.sQb=function(){var f;f={};this.forEach(function(n,h){var l;(n=n.Is) && (null !== (l=f[h]) && void 0 !== l?l:f[h]=[]).push(n.v);});return f;};d.prototype.ibc=function(f,n){var h,l,p;h=this;f=this.yFb(f,n);l=f.BHb(this.wm);n=l.DT;p=l.Du;l=l.Kdb;this.wm.clear();this.wm=f;n.forEach(function(q){return h.Xa.set(q.I.id,q);});n.forEach(function(q){return q.Eb();});p.forEach(function(q){return h.Xa.delete(q.I.id,q);});return {Du:p,Kdb:l};};d.prototype.yFb=function(f,n){var h,l,p;h=this;l=new Map();p=new k.K2();f.BG(function(q,u){var t,v;if(u){t=l.get(u);if(!t)return !0;}v=(0,c.mc)(h.Yp(q.I.id),function(w){return h.wm.parent(w) === t || !u;}) || n(q.I.id,t);v.qf=q.qf;l.set(q,v);p.add(v,t);(null === v || void 0 === v?0:v.kn) && v.update(q.I);return !0;});return p;};return d;})();b.zOa=r;},70494:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BOa=void 0;r=(function(){function a(c){this.console=c;this.qma();}a.prototype.get=function(c){return this.UL[c] || this.vg[c];};a.prototype.set=function(c,m){void 0 === this.vg[c] && (this.vg[c]=m);};a.prototype.c7b=function(c,m){void 0 === this.get(c) && (this.UL[c]=m);};a.prototype.clear=function(c){this.UL[c]=void 0;this.vg[c]=void 0;};a.prototype.SBb=function(c){var m;this.vg=(m={},m[c]=this.vg[c],m);this.UL={};};a.prototype.qma=function(){this.vg={};this.UL={};};a.prototype.toJSON=function(){return {vg:this.vg,UL:this.UL};};return a;})();b.BOa=r;},86451:function(r,b,a){var g,k;function c(d,f){var n,h;n=Object.keys(d);if(n.some(function(l){var p,q,u,t;return (null === (p=d[l]) || void 0 === p?void 0:p.Cd) !== (null === (q=f[l]) || void 0 === q?void 0:q.Cd) || (null === (u=d[l]) || void 0 === u?void 0:u.weight) !== (null === (t=f[l]) || void 0 === t?void 0:t.weight);}))return !0;h=Object.keys(f);return 0 !== g.__spreadArray(g.__spreadArray([],g.__read((0,k.Nl)(n,h)),!1),g.__read((0,k.Nl)(h,n)),!1).length?!0:!1;}function m(d,f){return d.some(function(n,h){var l;return 0 !== (0,k.Nl)(n,null !== (l=f[h]) && void 0 !== l?l:[]).length;}) || d.length !== f.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.pXa=void 0;g=a(5163);k=a(91176);b.pXa=function(d,f){var n,h,l,p,q,u;n=Object.keys(d.aa);h=Object.keys(f.aa);l=h.filter(function(t){return -1 === n.indexOf(t);});p=n.filter(function(t){return -1 === h.indexOf(t);});q=n.filter(function(t){var v;if(-1 === h.indexOf(t))v=!1;else (v=d.aa[t],t=f.aa[t],v=v.wc !== t.wc || v.wb !== t.wb || v.hb !== t.hb || v.Cd !== t.Cd || v.J !== t.J || m(v.Xk || [],t.Xk || []) || c(v.next || ({}),t.next || ({}))?!0:!1);return v;});u=(0,k.Nl)(n,g.__spreadArray(g.__spreadArray(g.__spreadArray([],g.__read(q),!1),g.__read(l),!1),g.__read(p),!1));return {DT:l,Du:p,nBb:q,Tac:u};};},31509:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DOa=b.uE=void 0;c=a(5163);m=a(52571);(function(k){k[k.dv=0]="CREATED";k[k.tha=1]="STARTED";k[k.SR=2]="REQUEST_ISSUED";k[k.zx=3]="EVALUATED";k[k.IFa=4]="DESTRUCTED";})(g=b.uE || (b.uE={}));r=(function(){function k(d){this.hP=d;this.Wa=g.dv;this.BD={};this.zZ={};}Object.defineProperties(k.prototype,{state:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});k.prototype.start=function(){var d;d=this;this.Wa !== g.tha && (this.AX(g.tha),[g.zx,g.SR].forEach(function(f){var n;n=new Promise(function(h){(0,m.assert)(d.zZ && d.BD,"state promises should be defined");d.zZ[f]=h;d.BD[f]=n;});}),this.hP(),this.AX(g.zx));};k.prototype.AX=function(d){this.Wa=d;this.zZ && (d=this.zZ[d],null === d || void 0 === d?void 0:d());};k.prototype.Ma=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Wa !== g.tha)return [3,2];(0,m.assert)(this.BD,"state resolves should be defined");return [4,this.BD[g.zx]];case 1:(d.Ja(),d.label=2);case 2:return (this.zZ=this.BD=void 0,this.Wa=g.IFa,[2]);}});});};k.prototype.sda=function(d,f){c.__awaiter(this,void 0,void 0,function(){var n;return c.__generator(this,function(h){switch(h.label){case 0:if(this.Wa === g.IFa)return [2];if(this.Wa === g.zx)return [3,6];(0,m.assert)(this.BD,"state promises should be defined");n=d;switch(n){case g.zx:return [3,1];case g.SR:return [3,3];}return [3,5];case 1:return [4,this.BD[g.zx]];case 2:return (h.Ja(),[3,6]);case 3:return [4,this.BD[g.SR]];case 4:return (h.Ja(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return k;})();b.DOa=r;},46262:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OOa=void 0;r=(function(){function a(c,m,g,k,d,f,n,h){var l,p;this.$=c;this.qk=m;this.groupId=g;this.Kz=k;this.mI=d;this.Io=f;this.Uk=n;g=null !== (p=null === (l=this.qk.Ra.Db) || void 0 === l?void 0:l.v) && void 0 !== p?p:m.Ra.ez.v;this.Dq=c.vg.get(m.H)?1:this.qk.Ra.I.Dq;this.nI=h.offset.v;this.GP=Math.max(this.Ck - g,0);}Object.defineProperties(a.prototype,{identifier:{get:function(){return this.qk.H;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mediaType:{get:function(){return this.qk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qf:{get:function(){return this.qk.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xd:{get:function(){return this.$.Xd.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ck:{get:function(){return this.qk.ED.v;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xM:{get:function(){return this.qk.wM.v;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{St:{get:function(){return this.qk.Ra.Bb.v;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ur:{get:function(){return this.qk.Ur();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qn:{get:function(){return this.qk.qn();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vi:{get:function(){return this.qk.vi;},enumerable:!1,configurable:!0}});a.prototype.X8=function(c,m){return this.$.X8(this,c,m);};a.prototype.pH=function(){return this.$.pH(this);};a.prototype.toJSON=function(){return {mediaType:this.mediaType,bu:this.bu,qf:this.qf,Xd:this.Xd,Io:this.Io,Ck:this.Ck,Uk:this.Uk,xM:this.xM,nI:this.nI,Kz:this.Kz,mI:this.mI,Dq:this.Dq,St:this.St,GP:this.GP,groupId:this.groupId,Ur:this.Ur,qn:this.qn,vi:this.vi,identifier:this.identifier,$:"playgraph Object",qk:this.qk};};return a;})();b.OOa=r;},25317:function(r,b,a){var m,g,k;function c(d,f,n,h,l){var p,q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J;w=d.console;y=d.$ac;x=d.vg;z=d.g5b;A=d.OHb;B=d.Wua;D=d.ula;d=d.R_b;C=l || ({complete:!0,Is:0});E=C.root;G=C.complete;F=C.swb;I=C.Xdb;I=void 0 === I?0:I;C=C.Is;P=I < z.length && z[I].id === f.id;M=I < z.length?z[I].id:h && x.get(h.id);L=l && h && M !== f.id?void 0 !== M?{tf:0}:h.EAb(f.id):{tf:1};x=L.tf;L=L.rC;Q=void 0 === L?0:L;L=(x + Q) * (null !== (p=null === l || void 0 === l?void 0:l.Lz) && void 0 !== p?p:1);k && w.trace(("reevaluateBranches: visiting ").concat(f.id,", ") + ("distance: ").concat(n,", ") + ("probability: ").concat(L,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(M,", ") + ("predecessorComplete: ").concat(G,", ") + ("isOnRequiredPath: ").concat(P,", ") + ("requiredPathIndex: ").concat(I,", ") + ("activeDistance: ").concat(F,", ") + ("seamless ").concat(x,", ") + ("immediate ").concat(Q,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.JAa,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.Aca));p=null !== (u=null === (q=y[f.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:f.Bb.v;q=0 === p;if(!P){if(0 === L)return {HJ:!1,f4:!0};if(!G && 0 === Q && C > D)return (d.VB=Math.min(d.VB || Infinity,C - D),{HJ:!1,f4:!0});if(!q && n >= A && 1 > L || !1 === E && L < B)return {HJ:!1,f4:!0};}if(I < z.length){(0,m.assert)(z[I].id === f.id,"");J={duration:z[I].duration};}l=(null === l || void 0 === l?void 0:l.qf) || [];h && 1 > x && (0 === Q?l=l.concat([{tf:x}]):(z=(null === (v=null === (t=h.Xk) || void 0 === t?void 0:t[0]) || void 0 === v?void 0:v[0]) || 0,t=Math.max(0,h.Bb.v - z),k && w.trace(("reevaluateBranches: immediate: ").concat(h.Bb.v,",\n                ").concat(z,", ").concat(t)),l=l.concat([{tf:x,rC:Q,duration:t}])));t=d.Eya.D1a(function(H){return H.I === h;});d.Eya.add({I:f,qf:l,Ra:J},t);n=G?n + f.Bb.v:F;k && w.trace(("reevaluateBranches: added ").concat(f.id,", visiting successors, ") + ("active distance: ").concat(n," ") + ("probabilities: ").concat(JSON.stringify(l)));return {HJ:!0,f4:P,state:{root:!h,complete:q,Lz:L,qf:l,swb:n,Xdb:I + 1,Is:C + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.lac=b.Tcc=b.dba=void 0;m=a(52571);r=a(48170);g=a(61520);k=r.L && !1;b.dba=function(d,f,n,h,l,p,q,u,t){var v,w,y,x;w={Eya:new g.K2()};y=(null === (v=n.fd) || void 0 === v?void 0:v.qa(n.uc).v) || 0;0 < p.length && (0,m.assert)(n.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");k && d.trace(("reevaluateBranches: starting at ").concat(n.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,$ac:h,vg:l,g5b:p,OHb:q.v + y,Wua:u,ula:t.v,R_b:w};f.Zjb(n,function(z,A,B,D){return c(x,z,A,B,D);},{root:!1,complete:!0,Xdb:0,Is:0});return w;};b.Tcc=c;b.lac=function(d,f,n){var h;h=(0,g.gcb)(f,function(l){return ("").concat(l.I.id);});n(("requiredBranches(").concat(d,")"),h.replace(/\n/g,"<>"));n(("requiredBranches(").concat(d,")"),f.values.map(function(l){var p;return ("").concat(l.I.id,"::").concat(null === (p=f.parent(l)) || void 0 === p?void 0:p.I.id);}).join(", "));};},33143:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FPa=void 0;c=a(91176);r=(function(){function m(g,k){this.uya=k;this.RY=[];this.RY.push(g);}m.prototype.Mo=function(g,k){return c.RQ.D8({J:g,OY:k},this.RY);};m.prototype.Yw=function(g){return this.uya(g);};m.prototype.G4b=function(g){var k;k=this.RY.pop();this.RY.push(g);return k;};m.prototype.jVa=function(g){this.RY.unshift(g);};return m;})();b.FPa=r;},36472:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bQa=void 0;c=a(5163);m=a(91176);g=a(31729);k=a(52571);b.bQa=(function(){function d(){}d.DQb=function(f,n,h){var l,p;if(f.Df){l=c.__read(f.Xc,1)[0];if(f.Xc.some(function(q){return q.Z;})){p=(0,g.cO)(n,h,l.GV(),f.ca,m.K.Fj) || m.K.Fj;l=Math.min.apply(Math,c.__spreadArray([],c.__read(f.Xc.map(function(q){return q.GV();})),!1));f=(0,g.cO)(n,h,l,f.ca,m.K.Fj) || m.K.Fj;return {Wjb:p,Xjb:f};}n=null === (p=l.In) || void 0 === p?void 0:p.fd;(0,k.assert)(n);f=f.Xc.reduce(function(q,u){var t;return (null === (t=u.In) || void 0 === t?0:t.fd)?m.K.min(q,u.In.fd):q;},n);return {Wjb:n,Xjb:f};}};return d;})();},35879:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.A4a=void 0;b.A4a=function(a,c){return a.reduce(function(m,g){return m + g.p7(c).v;},0);};},4489:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.y2a=void 0;c=a(59839);b.y2a=function(m,g){return m.reduce(function(k,d){var f;f=g(d);d.Nr().forEach(function(n){return k.nka(n.mediaType,n.vB,!f);});return k;},new c.HOa());};},23895:function(r,b,a){var m,g;function c(k,d){return Object.keys(k.iI).map(function(f){return k.iI[f];}).filter(function(f){return void 0 === f.bu || 1 === f.bu;}).reduce(function(f,n){return f + n.Ar[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.KQa=void 0;m=a(65161);g=a(48170);r=(function(){function k(d,f,n){this.$=d;this.console=f;this.mqa=n;}k.prototype.VAb=function(d,f,n){var h,l,p,q;h=n && this.$.config.fcc;l=this.$.config.o_ || h;p=this.mqa();if(h){h=d.global;h=(q={},q[m.u.Y]=h[m.u.Y] - c(d,m.u.Y),q[m.u.X]=h[m.u.X] - c(d,m.u.X),q[m.u.Da]=h[m.u.Da] - c(d,m.u.Da),q);}q=h;p=this.ima(f) || this.BBb(d) || this.zBb(d,p,q) || this.ABb(d,p,q,f);q=(0,m.Xxa)(p);if(p && (!q || l))return (g.L && this.console.log(("canIssueRequest ").concat(this.$.id," [").concat(f,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});g.L && this.console.log(("canIssueRequest ").concat(this.$.id," [").concat(f,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};k.prototype.ima=function(d){var f;f=this.$.config.HH;if(this.$.INb(d) >= (f || Infinity))return "mediaDurationLimit";};k.prototype.BBb=function(d){return d.iI[this.$.id].total.total > (this.$.E7() || Infinity)?"playgraphMemoryLimit":void 0;};k.prototype.zBb=function(d,f,n){d=d.global;return n?n[m.u.Y] + n[m.u.X] > (f.vAa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};k.prototype.ABb=function(d,f,n,h){var l;l=d.global;return n?(g.L && this.console.log(("checkRequestByMediaTypeMemory [").concat(h,"]:") + (" using static limit ").concat(f.vAa[h],", usage: ").concat(n) + (" (global: ").concat(l[h]," ") + (" - certain contiguous: ").concat(c(d,h),")")),n[h] > (f.vAa[h] || Infinity)?h === m.u.X?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):l[h] > (f.total[h] || Infinity)?h === m.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return k;})();b.KQa=r;},50612:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wA=void 0;c=a(65161);m=a(65167);g=a(28847);r=(function(){function k(d){var c$O,f;c$O=2;for(;c$O !== 9;){switch(c$O){case 2:f=this;this.config=d;this.Tjb=this.A4=null;c$O=4;break;case 4:var p9z="1SIYb";p9z+="ZrN";p9z+="JCp9";this.jxa=function(n,h,l){var B72;B72=2;for(;B72 !== 5;){switch(B72){case 2:n=f.jn(n,l);return f.config.JWa?(h=(0,m.A6)(f.config.IWa,h.Wi - h.Tc,1),{lower:n * (1 - h),upper:void 0}):{lower:n * f.config.TZ / 100,upper:void 0};break;}}};p9z;c$O=9;break;}}}var b0p;b0p=2;for(;b0p !== 6;){switch(b0p){case 2:k.prototype.I_a=function(d,f){var q1B,n;q1B=2;for(;q1B !== 4;){switch(q1B){case 2:n=null === this.A4?d * (100 - this.config.TZ) / 100:(0,g.Mka)(d,this.A4);this.config.Bta && f?(d=(0,g.Mka)(d,f),d=Math.max(d,n)):d=n;return d;break;}}};k.prototype.$za=function(d){var u5I;u5I=2;for(;u5I !== 1;){switch(u5I){case 2:return this.config.t0a && (d === c.Fb.Pn || d === c.Fb.me);break;}}};k.prototype.jn=function(d,f){var b2W,n,h,l;b2W=2;for(;b2W !== 5;){switch(b2W){case 2:return this.$za(f)?(null === (n=d.gu) || void 0 === n?void 0:n.Aa) || (null === (h=d.cb) || void 0 === h?void 0:h.Aa) || 0:(null === (l=d.cb) || void 0 === l?void 0:l.Aa) || 0;break;}}};b0p=4;break;case 4:k.prototype.Tba=function(d){var j_7;j_7=2;for(;j_7 !== 1;){switch(j_7){case 2:this.A4=d;j_7=1;break;case 4:this.A4=d;j_7=0;break;}}};k.prototype.Qpa=function(){var g33;g33=2;for(;g33 !== 1;){switch(g33){case 4:return this.A4;break;case 2:return this.A4;break;}}};k.prototype.Wza=function(d){var n3v;n3v=2;for(;n3v !== 1;){switch(n3v){case 2:this.Tjb=d;n3v=1;break;}}};k.prototype.sra=function(){var o9X;o9X=2;for(;o9X !== 1;){switch(o9X){case 4:return this.Tjb;break;case 2:return this.Tjb;break;}}};b0p=7;break;case 7:return k;break;}}})();b.wA=r;},53809:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sFa=void 0;c=a(5163);m=a(65161);r=a(50612);g=a(93731);a=(function(k){function d(f){var D4m,n;D4m=2;for(;D4m !== 9;){switch(D4m){case 12:return n;break;case 3:return n;break;case 2:var r89="1";r89+="SI";r89+="YbZrNJC";r89+="p9";n=k.call(this,f) || this;n.FO=function(h,l,p,q,u){var d_t,E1z;d_t=2;for(;d_t !== 10;){switch(d_t){case 2:void 0 === u && (u=!0);d_t=1;break;case 7:return {lower:(null === l || void 0 === l?void 0:l.initial) || h.cb.Aa,upper:(null === l || void 0 === l?void 0:l.high) || q};break;case 13:d_t=6;break;case 1:d_t=n.$za(p)?5:4;break;case 5:return n.zWb.FO(h,l,p,q,u);break;case 4:var T1U="deliver";T1U+="ytime-c";T1U+="i";E1z=n.config.oma;d_t=E1z === T1U?3:12;break;case 6:return {lower:(null === l || void 0 === l?void 0:l.low) || h.cb.Aa,upper:(null === l || void 0 === l?void 0:l.high) || q};break;case 3:var b9T="deliv";b9T+="e";b9T+="rytim";b9T+="e-ci";l=h[b9T];d_t=9;break;case 11:var W7P="throu";W7P+="ghp";W7P+="u";W7P+="t-c";W7P+="i";l=h[W7P];d_t=9;break;case 12:d_t=11;break;case 9:q=n.config.WBa * h.cb.Aa;d_t=8;break;case 14:d_t=p === m.Fb.me?7:13;break;case 8:d_t=p === m.Fb.Pn?7:14;break;}}};n.zWb=new g.Zfa(f);r89;D4m=3;break;}}}var h1y;h1y=2;for(;h1y !== 5;){switch(h1y){case 2:c.__extends(d,k);return d;break;case 3:c.__extends(d,k);return d;break;}}})(r.wA);b.sFa=a;},14246:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Sqa=b.wA=void 0;c=a(93731);m=a(8367);g=a(93928);k=a(53809);d=a(50612);Object.defineProperties(b,{wA:{enumerable:!0,get:function(){return d.wA;}}});b.Sqa=function(f){switch(f.oua){case "manifold":return new c.Zfa(f);case "stddev":return new g.EQa(f);case "ci":return new k.sFa(f);default:return new m.mQa(f);}};},93731:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Zfa=void 0;c=a(5163);r=a(66164);m=c.__importStar(a(65167));a=a(50612);g=m.FL;k=m.bYa;d=m.A6;f=m.R0a;n=m.Ceb;new r.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var S_T;S_T=2;for(;S_T !== 5;){switch(S_T){case 3:c.__extends(l,h);return l;break;case 2:c.__extends(l,h);return l;break;}}function l(p){var a1u,q;a1u=2;for(;a1u !== 13;){switch(a1u){case 14:return q;break;case 8:var A3J="1SIYb";A3J+="Zr";A3J+="N";A3J+="JCp9";q.y8b=!!p.Jt.simpleScaling;p.Jt.niqrfilter && p.Jt.niqrcurve && (q.D$a=p.Jt.niqrfilter,q.SYb=k(p.Jt.niqrcurve,1,0,4));A3J;a1u=14;break;case 4:q.nzb=g(p.Jt.threshold || 6E3,1,1E5);q.kzb=g(p.Jt.gamma || 1,.1,10);q.filter=p.Jt.filter;a1u=8;break;case 2:q=h.call(this,p) || this;q.FO=function(u,t,v,w,y){var t12,x,z,A;t12=2;for(;t12 !== 11;){switch(t12){case 8:q.y8b?(t=d(q.VZa,v,1),v=d(q.UZa,v,1),t=t * x + v * (1 - x)):t=d(n(q.VZa,q.UZa,x),v,1);u=q.D$a && (null === (z=u[q.D$a]) || void 0 === z?void 0:z.kva);void 0 !== u && (z=f(q.SYb,u),t=Math.min(t * z,1));t12=14;break;case 14:U6ONX.c0q(3);A*=U6ONX.T8X(1,t);w=y?q.I_a(A,w):A;return {lower:w,upper:w * q.config.WBa};break;case 2:void 0 === y && (y=!0);A=q.jn(u,v);v=q.$za(v)?A:(null === (x=u[q.filter]) || void 0 === x?void 0:x.Aa) || A;x=Math.pow(Math.max(1 - v / q.nzb,0),q.kzb);v=t.Wi - t.Tc;t12=8;break;}}};Array.isArray(p.Jt.curves) && (q.VZa=k(p.Jt.curves[0],0,0,1),q.UZa=k(p.Jt.curves[1],0,0,1));a1u=4;break;}}}})(a.wA);b.Zfa=a;},8367:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mQa=void 0;c=a(5163);r=a(66164);m=a(50612);g=a(28847);new r.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var x_M;x_M=2;for(;x_M !== 3;){switch(x_M){case 2:c.__extends(d,k);d.prototype.TMb=function(f,n){var h4V,h,l;h4V=2;for(;h4V !== 3;){switch(h4V){case 2:(h=this.config,l=n?h.Pma:h.lla);n=n?h.Qma:h.nla;Array.isArray(n) && (l=(0,g.Q0a)(n,f.Wi - f.Tc,h.mla));return l;break;}}};d.prototype.q8b=function(f,n){var M4O;M4O=2;for(;M4O !== 5;){switch(M4O){case 2:f=this.jn(f,n);return this.config.PAa && f < this.config.Rma;break;}}};return d;break;}}function d(f){var X5d,n;X5d=2;for(;X5d !== 3;){switch(X5d){case 2:var W9v="1";W9v+="SIYbZrNJ";W9v+="C";W9v+="p9";n=k.call(this,f) || this;n.FO=function(h,l,p,q,u){var R9v,t;R9v=2;for(;R9v !== 8;){switch(R9v){case 4:l=t?t * (100 - n.TMb(l,h)) / 100 | 0:0;q=u?n.I_a(l,q):l;return {lower:q,upper:q * n.config.WBa};break;case 2:void 0 === u && (u=!0);t=n.jn(h,p);h=n.q8b(h,p);R9v=4;break;}}};W9v;return n;break;}}}})(m.wA);b.mQa=a;},93928:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EQa=void 0;c=a(5163);r=a(50612);r=(function(m){var i2y;i2y=2;for(;i2y !== 5;){switch(i2y){case 2:c.__extends(g,m);return g;break;}}function g(k){var u4g,d;u4g=2;for(;u4g !== 3;){switch(u4g){case 2:var w70="1SIYbZ";w70+="rNJC";w70+="p9";d=m.call(this,k) || this;d.FO=function(f){var R5r,U5Q,n;R5r=2;for(;R5r !== 10;){switch(R5r){case 14:R5r=f.Ym && f.Ym.gQ?13:4;break;case 7:n=Math.sqrt(f.Ym.gQ || 0);R5r=6;break;case 12:var q5D="a";q5D+="verag";q5D+="etp";R5r=U5Q === q5D?8:11;break;case 1:var q4X="d";q4X+="elive";q4X+="rytime";U5Q=d.config.o9b;R5r=U5Q === q4X?5:12;break;case 8:R5r=!f.Ym || !f.Ym.rL?4:7;break;case 4:return n;break;case 13:return (n=Math.sqrt(f.Ym.gQ || 0),{lower:f.cb.Aa + d.config.wAa * n,upper:f.cb.Aa + d.config.xAa * n});break;case 6:return {lower:f.Ym.rL + d.config.wAa * n,upper:f.Ym.rL + d.config.xAa * n};break;case 9:return {lower:8 / (f.Ym.Aa + d.config.wAa * n),upper:8 / (f.Ym.Aa - d.config.xAa * n)};break;case 2:n={lower:f.cb.Aa,upper:void 0};R5r=1;break;case 11:var d$w="e";d$w+="w";d$w+="m";d$w+="a";R5r=U5Q === d$w?14:4;break;case 5:R5r=!f.Ym || !f.Ym.Aa?4:3;break;case 3:n=Math.sqrt(f.Ym.Te || 0);R5r=9;break;}}};w70;return d;break;}}}})(r.wA);b.EQa=r;},28847:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mka=b.jxa=b.Q0a=void 0;c=a(65167);b.Q0a=function(m,g,k){var d,f,n;d=0;if(k){m.some(function(h){var l;l=h.b;h=h.m;if(g <= l)return (d=n && l !== f?n + (h - n) / (l - f) * (g - f):h,!0);f=l;d=n=h;return !1;});}else m.some(function(h){d=h.m;return g <= h.b;});return d;};b.jxa=function(m,g,k){var d;g=(null === (d=g.cb) || void 0 === d?void 0:d.Aa) || 0;return m.JWa?(m=(0,c.A6)(m.IWa,k.Wi - k.Tc,1),g * (1 - m)):g * m.TZ / 100;};b.Mka=function(m,g){return m < 2 * g?m / 2:m - g;};},43071:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DFa=b.GFa=void 0;c=a(63576);m=a(47233);g=a(76753);b.GFa=625E3;r=(function(){function k(d,f){this.console=d;this.config=f;}k.prototype.Qla=function(d){var f,n,h,l,p,q;f=this;n=this.config.Ina;h=this.config.wmc || this.config.Hna;l=0 < d.vra.$y && Infinity !== d.vra.$y;p=l?h * b.GFa / 1E3:this.config.sX || Infinity;q=l?Math.floor(d.vra.$y / p):n;return {sl:d.kdc.sort(function(u,t){return u.priority - t.priority;}).slice(0,n).map(function(u,t){var v;v=u.key.config;return {o7a:{$y:t > q - 1?0:p},cd:u,Gaa:1,Di:v,Sgb:{audio:[(0,c.KL)(v),new m.Eha(),new g.sfa()],video:[(0,c.LL)(f.console,v),new m.Eha(),new g.sfa()]}};})};};return k;})();b.DFa=r;},76753:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sfa=void 0;r=(function(){function a(){}a.prototype.Ig=function(c){return c.filter(function(m){return !m.Z;});};return a;})();b.sfa=r;},68766:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ZFa=void 0;c=a(5163);m=a(79048);g=a(28871);r=(function(){function k(){}k.prototype.U8a=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,n,h,l,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.cd.key;if(!(0,g.KW)(f))return [3,2];n=f.J;h=d.cd.Vd.en(n);return [4,Promise.resolve(h.Hq)];case 1:return (l=q.Ja(),p=l.W,p.Op?[2,(0,m.e5)(p.Op,{config:l.config})]:[2,(0,m.hca)(n,"ps0")]);case 2:return [2,f.$];}});});};return k;})();b.ZFa=r;},34297:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.UOa=void 0;c=a(48170);m=a(82475);b.UOa=(function(){function g(){}g.I4b=function(k,d,f,n){k.events.once("seeking",function(h){var l,p;l=h.position;p=f.length;h.duplicate || (f.gba(function(q){return "segmentNormalized" !== q.Gr;}),c.L && n.log(("Discarding ").concat(p - f.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,m.Z7)(d)) + (" due to seek to ").concat((0,m.Z7)(l))));c.L && n.log(("Replaying ").concat(f.length," events from prefetched playgraph") + ("for seek postition ").concat((0,m.Z7)(l)));f.qya();f.Ma();});};return g;})();},91961:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B;Object.defineProperties(b,{__esModule:{value:!0}});b.WOa=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(91176);d=a(66164);f=a(91176);n=a(65161);h=a(69575);l=a(52571);p=a(70764);q=a(48170);u=a(63576);t=a(30285);v=a(7520);w=a(68766);y=a(81307);x=a(43071);z=a(28871);A=a(34297);B=a(2948);r=(function(){function D(C,E,G,F,I){void 0 === F && (F=new y.$Fa());void 0 === I && (I=new w.ZFa());this.K0a=C;this.config=E;this.kdb=F;this.sl=[];this.acb=[];this.Et=[];this.ucb=new g.TR();this.Uf={s7a:0,t7a:0,p7a:0,Hla:0,q7a:0,r7a:0,Ila:0};this.events=new m.EventEmitter();this.S=(0,h.Pf)(d.platform,G,"PREFETCH");this.uka(new x.DFa(G,E));this.uka(new B.iQa(E));this.jfb({$y:E.K1b});this.Jza(I);this.wSb();}Object.defineProperties(D.prototype,{L1b:{get:function(){return this.sl.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{jdc:{get:function(){return this.Et;},enumerable:!1,configurable:!0}});D.prototype.Ffb=function(C){q.L && (0,l.assert)(C,"Reconciliation strategy is undefined");this.kdb=C;return this;};D.prototype.uka=function(C){this.acb.unshift(C);return this;};D.prototype.Qfb=function(C){q.L && this.S.debug("Wish list changed",{Vmc:C.length});(0,k.Nl)(this.jdc,C).forEach(function(E){var G;return null === (G=E.Ma) || void 0 === G?void 0:G.call(E);});this.Et=C;this.Axa();};D.prototype.reset=function(C){var E,I,P,M,L,Q;void 0 === C && (C=this.config);if(C.T1b)try{for(var G=c.__values(this.sl),F=G.next();!F.done;F=G.next()){I=F.value;P=I.$;M=I.f9;L=I.context;if(P){P.Lf();M.gba(function(H){return "segmentNormalized" !== H.Gr;});Q=(0,z.M7)(L.cd,P.$);P.vD(Q);}}}catch(H){var J;J={error:H};}finally{try{F && !F.done && (E=G.return) && E.call(G);}finally{if(J)throw J.error;}}else this.Qfb([]);};D.prototype.jfb=function(C){q.L && this.S.debug("Budget changed",{IZb:this.$T,IYb:C});this.$T=C;this.Axa();};D.prototype.OBb=function(C,E){var G,F,I,P;q.L && this.S.debug("Looking for playgraph to claim");if(C=this.kdb.C1a(this.sl,{$:C,Di:E})){F=this.Et.indexOf(C.context.cd);q.L && this.S.debug(("Claiming item: ").concat((0,z.al)(C.context.cd.key)),{FT:d.platform.time.sa() - C.$Aa,buffer:null === (G=C.$) || void 0 === G?void 0:G.oo(g.K.Ba)});this.rG(C.context,{g9:!!C.$,aYa:!!C.$});if(C.$){G=C.$;I=C.XO;P=G.Ah;A.UOa.I4b(G,P,C.f9,this.S);I.$5b(G.oC(P) || g.K.Ba,F);G.Tib({$y:this.config.sX || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.cd,videoBytesBuffered:C.$.KG().s_,audioBytesBuffered:C.$.KG().qT});}}E.Dxb || this.reset(E);return null === C || void 0 === C?void 0:C.$;};D.prototype.MBb=function(){};D.prototype.getStats=function(){var C;C=d.platform.time.sa();return {wishListLength:this.Et.length,prefetchList:this.L1b.length,contents:this.sl.map(function(E){var G,F,I,P,M;if(E.$){M=(0,z.M7)(E.context.cd,E.$.$);M=E.$.oC(M);M=E.$.oo(M || g.K.Ba);}return {id:(0,z.al)(E.context.cd.key),buffer:M,pId:null === (G=E.$) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:E.context.o7a.$y},weight:E.context.Gaa,age:C - E.$Aa,timeOpened:C - (null !== (F=E.U$b) && void 0 !== F?F:0),state:n.Yc[null !== (P=null === (I=E.$) || void 0 === I?void 0:I.Xd.value) && void 0 !== P?P:n.Yc.$s]};}),aggregated:{itemsRequested:this.Uf.s7a,itemsStarted:this.Uf.t7a,itemsClaimed:this.Uf.p7a,bytesClaimed:this.Uf.Hla,itemsCompleted:this.Uf.q7a,itemsDiscarded:this.Uf.r7a,bytesDiscarded:this.Uf.Ila}};};D.prototype.rG=function(C,E){var G,F,I;void 0 === E && (E={});c.__awaiter(this,void 0,void 0,function(){var P,M,L,Q,J,H,K;return c.__generator(this,function(O){switch(O.label){case 0:P=c.__assign({g9:!1,B7a:!1,aYa:!1},E);M=P.g9;L=P.B7a;Q=P.aYa;J=(0,k.mc)(this.sl,function(R){return R.context === C;});L || Q || (null === (F=(G=C.cd).Ma) || void 0 === F?void 0:F.call(G));if(!J)return [3,3];this.sl.splice(this.sl.indexOf(J),1);L || (H=this.Et.length,this.Et=this.Et.filter(function(R){return R !== C.cd;}),q.L && this.S.info("Dropping items from wishlist",H - this.Et.length),this.Et.length >= H && q.L && this.S.warn("Unable to filter out wishlist item",this.Et.map(function(R){return R.key;}),C.cd.key));q.L && this.S.debug("Dropping playgraph",{FT:d.platform.time.sa() - J.$Aa,buffer:null === (I=J.$) || void 0 === I?void 0:I.oo(g.K.Ba),J:(0,z.al)(C.cd.key),znc:!M,Jkc:!L});J.bC.clear();if(M)return [3,2];K=this.Ww(J);return J.$?[4,K]:[3,2];case 1:(O.Ja(),O.label=2);case 2:(this.Axa(),O.label=3);case 3:return [2];}});});};D.prototype.Jza=function(C){(0,l.assert)(C,"Playgraph resolver is undefined");this.cxa=C;return this;};D.prototype.wSb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Uf.q7a++;});this.events.on("prefetchStarted",function(){return C.Uf.t7a++;});this.events.on("itemQueued",function(){return C.Uf.s7a++;});this.events.on("itemClaimed",function(E){var G,F;C.Uf.p7a++;C.Uf.Hla+=(null !== (G=E.Bcc) && void 0 !== G?G:0) + (null !== (F=E.Iyb) && void 0 !== F?F:0);});this.events.on("itemDropped",function(E){var G,F;C.Uf.r7a++;C.Uf.Ila+=(null !== (G=E.Bcc) && void 0 !== G?G:0) + (null !== (F=E.Iyb) && void 0 !== F?F:0);});};D.prototype.Axa=function(){var C;C=this;this.ucb.j4?Promise.resolve():this.ucb.pdc(function(){var E,G,F,I,P;E=f.RQ.D8({kdc:C.Et,vra:C.$T},C.acb.map(function(M){return M.Qla.bind(M);})).sl;G=(0,k.Nl)(E,C.sl,function(M,L){return (0,z.isEqual)(M.cd.key,L.context.cd.key);});F=(0,k.Nl)(C.sl,E,function(M,L){return (0,z.isEqual)(M.context.cd.key,L.cd.key);});I=(0,k.Nl)(C.sl,F);q.L && C.S.debug(("Re-evaluated prefetch items. new:").concat(G.length,", evict: ").concat(F.length,", update: ").concat(G.length));F=F.map(function(M){return c.__awaiter(C,void 0,void 0,function(){var L,Q,J;return c.__generator(this,function(H){switch(H.label){case 0:(L=M.context.cd.key,q.L && this.S.debug("Releasing playgraph",(0,z.al)(L)),H.label=1);case 1:return (H.Gf.push([1,,3,4]),[4,this.Ww(M)]);case 2:return (H.Ja(),[3,4]);case 3:return (this.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:M.context.cd}),null === (J=(Q=M.context.cd.Vd).Ma) || void 0 === J?void 0:J.call(Q),[7]);case 4:return [2];}});});});P=I.map(function(M){return c.__awaiter(C,void 0,void 0,function(){var L,Q;return c.__generator(this,function(J){switch(J.label){case 0:(L=(0,k.mc)(E,function(H){return (0,z.isEqual)(H.cd.key,M.context.cd.key);}),(0,l.assert)(L,"Couldn't find the requested item context"),M.context=L,J.label=1);case 1:return (J.Gf.push([1,3,,4]),[4,M.Faa]);case 2:return (Q=J.Ja(),[3,4]);case 3:return (J.Ja(),[2]);case 4:return ((0,k.mc)(this.sl,function(H){return H === M;}) && (this.eWa(M.context,Q),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:M.context.cd})),[2]);}});});});G=G.map(function(M){var L;L=C.BFb(M);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:M.cd});return L;});C.sl=c.__spreadArray(c.__spreadArray([],c.__read(I),!1),c.__read(G),!1);I=G.map(function(M){return M.Faa.catch(function(){});});I=F.concat(P).concat(I);return Promise.all(I);});};D.prototype.Ww=function(C){return c.__awaiter(this,void 0,void 0,function(){var E,G,F;return c.__generator(this,function(I){switch(I.label){case 0:return (I.Gf.push([0,3,,4]),[4,C.Faa]);case 1:return (E=I.Ja(),q.L && this.S.debug("Removing prefetch playgraph",{size:E.oo(g.K.Ba)}),C.bC.clear(),[4,this.K0a()]);case 2:return (G=I.Ja(),G.Ww(E),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.cd,videoBytesBuffered:E.KG().s_,audioBytesBuffered:E.KG().qT}),[3,4]);case 3:return (F=I.Ja(),q.L && this.S.trace("Non fatal error in removing playgraph",F),[3,4]);case 4:return [2];}});});};D.prototype.G5=function(C){return c.__awaiter(this,void 0,void 0,function(){var E,G,F,I,P,M,L;L=this;return c.__generator(this,function(Q){switch(Q.label){case 0:return (E=C.context,G=(0,z.al)(E.cd.key),q.L && this.S.debug("Creating playgraph",G),[4,this.cxa.U8a(E)]);case 1:return (F=Q.Ja(),[4,E.cd.Vd.en(G).Hq]);case 2:return (I=Q.Ja(),I.W.Vm?(this.rG(E,{g9:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(G) + " is not supported with prefetching")]):"LIVE" !== I.W.Vf || this.config.BVb?[4,this.K0a()]:(this.rG(E,{g9:!0}),[2,Promise.reject(("live title encountered viewable:").concat(G) + " disabling header fetch / normalization")]));case 3:return (P=Q.Ja(),M=P.AT(F,E.Gaa,E.Di,E.cd.Vd,!1),C.bC.addListener(M.events,"error",function(J){q.L && L.S.debug("Prefetch playgraph resulted in error",J.Hkc);L.rG(E);}),[2,M]);}});});};D.prototype.D_b=function(C,E){return c.__awaiter(this,void 0,void 0,function(){var G,F,I,P;return c.__generator(this,function(M){switch(M.label){case 0:return (G=C.context,F=(0,z.al)(G.cd.key),I=G.cd.Vd.en(F),[4,I.Hq]);case 1:return (P=M.Ja(),this.eWa(G,E),this.cyb(G,E,!!P.Xp),E.open(),E.Zz({nP:function(L,Q){var J,H;J=L.recommendedMedia;H=J?(0,k.Sk)(Q,function(K){return K.new_track_id === J.Hp;}):(0,k.Sk)(Q,function(K){return K.track_id === L.defaultTrackOrderList[0].audioTrackId;});return 0 <= H && H < Q.length?H:void 0;}},{nP:function(L,Q){var J,H;J=L.recommendedMedia;H=J?(0,k.Sk)(Q,function(K){return K.new_track_id === J.hQ;}):(0,k.Sk)(Q,function(K){return K.track_id === L.defaultTrackOrderList[0].videoTrackId;});return 0 <= H && H < Q.length?H:void 0;}}),q.L && this.S.trace("Open Playgraph/seekstreaming",{J:(0,z.al)(C.context.cd.key)}),E.vD((0,z.M7)(G.cd,E.$)),this.i4b(C,I),I.Hr && (q.L && this.S.warn("Viewable churn encountered during prefetcher (expired on initialization)",F),this.rG(C.context)),[2]);}});});};D.prototype.i4b=function(C,E){var F;function G(I){q.L && F.S.debug(("Viewable ").concat(I?"superseded":"expired"),(0,z.al)(C.context.cd.key));C.hmc=!0;F.rG(C.context,{B7a:!I});}F=this;E.events && (C.bC.addListener(E.events,"viewableEvicted",function(){G(!0);}),C.bC.addListener(E.events,"viewableExpired",function(){G(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.cd});};D.prototype.eWa=function(C,E){E.SBa(C.Gaa);E.Tib(C.o7a);};D.prototype.cyb=function(C,E,G){var F;F=C.Sgb;C=F.audio;F=F.video;G && F.push(new v.zR(this.S,E.config));E.Oza(new u.dt(C,!0),new u.dt(F,!0));};D.prototype.BFb=function(C){var E,G,F;E=this;G=new p.VOa();F={context:C,$Aa:d.platform.time.sa(),bC:new m.Ge(),XO:G};F.Faa=this.G5(F).then(function(I){return c.__awaiter(E,void 0,void 0,function(){var P,M;M=this;return c.__generator(this,function(L){switch(L.label){case 0:for(P=I;P.Oa;)P=P.Oa;I.Jd(G);G.Dyb(I);F.f9=new t.jHa(P.events,{k8b:function(Q){var J;J=Q.Gr;switch(J){case "buffering":return !1;case "bufferingStarted":F.f9.gba(function(H){return "bufferingComplete" === H.Gr || "updateStreamingPts" === H.Gr;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.f9.gba(function(H){return H.Gr === J;});default:return !0;}}});P.events.on("bufferingComplete",function(){M.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.cd});});return [4,this.D_b(F,I)];case 1:return (L.Ja(),F.U$b=d.platform.time.sa(),F.$=I,[2,I]);}});});});F.Faa.catch(function(I){var P;P=(0,z.al)(F.context.cd.key);q.L && E.S.error(("Exception occurred creating playgraph ").concat(P),I);E.rG(F.context);});return F;};return D;})();b.WOa=r;},81307:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Fa=void 0;c=a(5163);m=a(52571);g=a(28871);r=(function(){function k(){}k.al=function(d){var f,n;f=d.aa;d=d.Oe;n=f[d].J;Object.keys(f).forEach(function(h){return (0,m.assert)(f[h].J === n);});return f[d].J;};k.prototype.C1a=function(d,f){var n;n=Object.keys(f.$.aa).length;return c.__read(d.filter(function(h){var l;return k.al(f.$) === (0,g.al)(h.context.cd.key) && (1 === n || n === Object.keys((null === (l=h.$) || void 0 === l?void 0:l.$.aa) || ({})).length);}),1)[0];};return k;})();b.$Fa=r;},2948:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iQa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Qla=function(c,m){var g,k;g=this;c=m(c);k=c.sl.map(function(d){return d.cd.priority;}).sort();c.sl.forEach(function(d){d.Gaa=g.config.N1b / (2 << k.lastIndexOf(d.cd.priority));});return c;};return a;})();b.iQa=r;},47233:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Eha=void 0;c=a(65161);r=(function(){function m(){}m.prototype.Ig=function(g,k){return k === c.Yc.Gl?[]:g;};return m;})();b.Eha=r;},28871:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.M7=b.al=b.isEqual=b.KW=void 0;c=a(91176);m=a(6783);b.KW=function(g){return !!g.J;};b.isEqual=function(g,k){var d,f;d=(0,b.KW)(g);f=(0,b.KW)(k);return d === f?d?g.J === k.J:g.$ === k.$:!1;};b.al=function(g){if((0,b.KW)(g))return g.J;g=g.$;return g.aa[g.Oe].J;};b.M7=function(g,k){var d;return g.K4?g.K4 instanceof c.K?(g=(0,m.Qp)(k,(0,b.al)(g.key),g.K4),(null === g || void 0 === g?0:g.offset.greaterThan(c.K.Ba))?g:{offset:c.K.Ba,H:null !== (d=null === g || void 0 === g?void 0:g.H) && void 0 !== d?d:k.Oe}):g.K4:{offset:c.K.Ba,H:k.Oe};};},53800:function(r){function b(c,m){this.Xub=c.vO && c.vO.enabled;this.I3=void 0;this.jub=m;this.Hja=[];this.Vja=[];this.qja=[];c=c.yja || [];m=c.map(function(g){return g.okc;});m.unshift(0);this.cvb=c;this.dvb=m;this.tja=[];this.nd=[];}function a(c,m){var l,p,q,u;for(var g=[],k=[],d=0;d < c.length;d++){for(var f=c[d],n=[],h=0;h < f.length;h++){l=f[h] - (k[h] || 0);p=m && m[h];q=n;u=q.push;1 <= p && (p=Math.pow(10,p || 0),l=Math.round(l * p) / p);u.call(q,l);}g.push(n);k=f;}return g;}b.prototype.reset=function(c){this.I3=void 0;this.Hja=[];this.Vja=[];this.qja=[];this.tja=[];c && (this.nd=[]);};b.prototype.add=function(c,m){var g,k,d,f;g=m.filter(function(n){return n.jz || n === c.gd;});k=g.map(function(n){return n.bitrate;});m=c.gd;g=g.indexOf(m);d=this.I3;if(d && (d.length !== k.length || d.some(function(n,h){return n !== k[h];}))){f=this.N2a();f && (this.nd.push(f),this.reset(!1));}void 0 === d && (this.I3=k);this.Hja.push([g,c.Gq,c.Tj,c.Dla,c.dXa,c.eD,c.iab,c.nf,c.fi,c.zr,c.cA - c.Gq,c.Jbb]);void 0 !== c.xn && this.qja.push([c.Gq,c.xn.aA,c.xn.xy,c.xn.Pz]);g=m && m.Ga;this.Xub && void 0 !== g && (d=g.Py(c.zr),-1 != d && (g=g.get(d),d=g.duration,m=g.ub || m.ub,void 0 !== m && this.Vja.push({jb:g.jb,duration:d,ub:m})));(m=c.Ybb) && m.length && (m=m.slice(0),m.unshift(c.Gq),this.tja.push(m));};b.prototype.N2a=function(){var c,m;c=a(this.Hja);if(0 !== c.length){c={dltype:this.jub,bitrates:this.I3,seltrace:c,vmaftrace:this.Vja,paceratetrace:a(this.qja)};m=a(this.tja,this.dvb);m && m.length && (c.predtrace={config:this.cvb,data:m});return c;}};b.prototype.get=function(){var c,m;c=this.N2a();m=this.nd;c && m.push(c);if(0 !== m.length)return m;};r.exports=b;},35331:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bDa=void 0;c=a(79048);m=a(14103);g=a(91967);r=(function(){function k(d){this.context=d;this.Oc="ad-playgraph";this.enabled=!0;}k.prototype.Mh=function(d){var f,n,h,l,p,q,u;f=d.Rh;d=d.KC;if(f === g.jc.kj || f === g.jc.xm || f === g.jc.mi || d === g.kh.Fu || void 0 === f && void 0 === d){n=this.context;f=n.Oa;d=f.ba;d=d.Td?d.Fg:f.Sr?f.Ah:void 0;h=n.bd.Gt;l=void 0;p="content";n=void 0;if(d){q=f.$.aa[d.H];u=f.Pb.nX(d.H);u && (f=f.Pb.dY.$.aa[u],f.J != q.J && (l=q.J,p=q.type,n=this.GMb(d.H,f.J)));}f={adPlaygraph:h?c.$ga.decode(h):void 0,adMid:l,auxMid:l,auxMidType:p,manifestHasAds:!!h};void 0 !== n && (f.adBreakLocationMs=n);return f;}};k.prototype.GMb=function(d,f){var n,h,l,p;if(d=(0,m.JG)(d))p=null === (l=null === (h=null === (n=this.context.bd.Zc) || void 0 === n?void 0:n.af.pe[f]) || void 0 === h?void 0:h[d.xj]) || void 0 === l?void 0:l.Su;return p;};return k;})();b.bDa=r;},75402:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.HDa=void 0;r=a(5163);c=a(90745);m=a(91176);g=a(91176);k=r.__importDefault(a(14282));d=r.__importDefault(a(53800));f=a(91967);n=a(60028);a=(function(){function h(l){var p,q;p=this;this.$=l;this.Gr="aseReport";this.cU=m.K.Fj;this.events=new c.EventEmitter();this.Cma=n.r2.CFa;this.oja=!1;this.CUa=0;if(0 === Math.floor(1E6 * Math.random()) % l.config.MT || l.config.Tkc){this.cU=m.K.Na(l.config.Vka);this.fXb=l.config.kyb;this.$.q4=!0;q=[];q[k.default.Cm.X]=new d.default(l.config,k.default.Cm.X);q[k.default.Cm.Y]=new d.default(l.config,k.default.Cm.Y);q[k.default.Cm.Da]=new d.default(l.config,k.default.Cm.Da);this.Mja=q;this.$.events.on("openComplete",function(){return p.open();});}}h.prototype.open=function(){this.$.q4 && !this.oja && (this.oja=!0,this.$.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.$.events.on("requestIssued",this.Wva.bind(this)));};h.prototype.Wva=function(l){l.result && l.streamList && (this.Mja[l.mediaType].add(l.result,l.streamList),++this.CUa >= this.fXb && this.events.emit("collectionRequested"));};h.prototype.ZPb=function(){var l;l=(0,g.flatten)(this.Mja.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.Mja.forEach(function(p){return p.reset(!0);});this.CUa=0;return l;};h.prototype.Cf=function(l){var p,q;p=l.Rh;q=l.pCb;l=l.K6a || q || p === f.jc.mi;return this.$.q4 && this.oja && l && (l=this.ZPb()) && l.length?{aca:!0,event:{type:"asereport",strmsel:l}}:{aca:!1};};return h;})();b.HDa=a;},36414:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XEa=void 0;c=a(35779);m=a(48170);g=a(91967);r=(function(){function k(d,f){this.S8b=d;this.nl=f;}Object.defineProperties(k.prototype,{un:{get:function(){return ("cache-").concat(this.S8b);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Oc:{get:function(){return this.un;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return m.L;},enumerable:!1,configurable:!0}});k.prototype.Mh=function(d){var f,n,h;f=d.Rh;d=d.KC;if(f === g.jc.kj || f === g.jc.xm || f === g.jc.mi || void 0 === f && void 0 === d){n=(0,c.D2a)(this.nl);f=Object.keys(n).filter(function(l){return n[l].isEnabled;});if(f.length){h={};f.forEach(function(l){h[l]={hit:n[l].xL,idx:n[l].X4};});return {Cjc:h};}}};return k;})();b.XEa=r;},67181:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eFa=void 0;c=a(91176);m=a(65161);g=a(91967);r=(function(){function k(d,f){this.tg=d;this.config=f;this.Oc="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.hBb;},enumerable:!1,configurable:!0}});k.prototype.Mh=function(d){var f;f=this;if(d.Rh === g.jc.mi)return {cdndldist:JSON.stringify((0,c.gWa)(Object.keys(this.tg).map(function(n){var h;h=f.tg[n];return Object.keys(h).map(function(l){var p;p=h[l];return {cdnid:p.Tm,pbcid:p.Lg,dls:Object.keys(p.oG).map(function(q){var u,t;q=p.oG[q];t=q.mediaType === m.u.Y?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Wb,u.vf=q.ub,u);})};});})))};};return k;})();b.eFa=r;},5479:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zFa=void 0;c=a(91967);r=(function(){function m(g){this.Vm=g;this.Oc="content-playgraph";this.enabled=!0;}m.prototype.Mh=function(g){var k,d;k=g.Rh;g=g.KC;if(k === c.jc.kj || k === c.jc.xm || k === c.jc.mi || void 0 === k && void 0 === g){g=this.Vm.Oa;d=g.ba;k=void 0;(d.Td?d.Fg:g.Sr && g.Ah) && this.Vm.Vm && (d=d.Fg,g=this.Vm.Zg.Tu(d),d=this.Vm.Oa.$.aa[d.H].J,this.Vm.$.aa[g.H].J != d && (k=d));return {contentPlaygraph:this.Vm.Vm,auxMid:k};}};return m;})();b.zFa=r;},61996:function(r,b,a){var m,g,k,d;function c(f,n,h){var l,p,t;n=m.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{hab:n,Ep:h}));if((null === f || void 0 === f?0:f.Ep) && h)if(!0 === f.Ep)n.args=h;else {p={};n.args=p;try{for(var q=m.__values(f.Ep),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=h[t];}}catch(w){var v;v={error:w};}finally{try{u && !u.done && (l=q.return) && l.call(q);}finally{if(v)throw v.error;}}}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.Xq=b.qra=b.Ib=void 0;m=a(5163);g=a(66164);k=a(91176);d=a(48170);b.Ib=function(f){return function(n,h,l){var p;p=l.value;l.value=function(){var q,u,t,v,w,y;u=(0,b.qra)(this);if(u)(t=c(f,this,arguments),v=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(h),w=u.CT(v,t,null === f || void 0 === f?void 0:f.Cj,null === f || void 0 === f?void 0:f.xlc));q=null === u || void 0 === u?void 0:u.nna;u && (u.nna=w);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,k.Zsa)(y) && (y=y.then(function(z){w && (null === f || void 0 === f?0:f.return) && (w.data.resolve=z);return z;},function(z){w && (w.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{u && (u.nna=q);w && (w.data || (w.data={}),x?(w.data.error=("").concat(x),null === u || void 0 === u?void 0:u.ICb(w)):(null === f || void 0 === f?0:f.return) && !(0,k.Zsa)(y) && (w.data.lRet=y));}};};};b.qra=function(f){if(null === f || void 0 === f?0:f.Yha)return f.Yha;};r=(function(){function f(n){this.iq=[];this.o3=!1;this.Qia={};this.T=m.__assign({uh:10},n);Object.defineProperties(n.nl,{Yha:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.T.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.o3;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rUb:{get:function(){return m.__spreadArray([],m.__read(this.iq),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zRb:{get:function(){return this.Qia;},enumerable:!1,configurable:!0}});f.prototype.nr=function(n){var h,l;if(!this.o3){l=null === (h=(0,b.qra)(this.T.nl)) || void 0 === h?void 0:h.nna;l && (l.data=m.__assign(m.__assign({},l.data),n));}};f.prototype.CT=function(n,h,l,p){var q,u,t,v;if(!this.o3){t=!1;v=null === (u=(q=this.T).AVa) || void 0 === u?void 0:u.call(q,this.T.nl);q=c({},this.T.nl);h=m.__assign(m.__assign(m.__assign({},v),q),h);v=0 < Object.keys(h).length;h={methodName:n,data:v?h:void 0,time:g.platform.time.sa()};p && this.Qia[n]++;l && this.iq.length && (l=this.iq[this.iq.length - 1],l.methodName === n && (l.data=l.data || ({}),l.data.dedup=l.data.dedup || ({hitCount:1}),l.data.dedup.hitCount++,l.data.dedup.lJournal=h,t=!0));this.JCb(h);t || this.iq.push(h);this.iq.length > this.T.uh && this.iq.shift();return h;}};f.prototype.JCb=function(n){var h;d.L && (null === (h=this.T.console) || void 0 === h?void 0:h.trace(("").concat(this.T.source,"::").concat(n.methodName),n.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.T,n);};f.prototype.ICb=function(n){var h;d.L && (null === (h=this.T.console) || void 0 === h?void 0:h.error(("").concat(this.T.source,"::").concat(n.methodName),n.data));};f.prototype.Ma=function(){Object.defineProperties(this.T.nl,{Yha:{enumerable:!1,value:null,configurable:!0}});this.o3=!0;this.clear();};f.prototype.clear=function(){this.iq=[];this.Qia={};};return f;})();b.Xq=r;},7470:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZGa=void 0;c=a(91967);r=(function(){function m(g){this.Hc=g;}Object.defineProperties(m.prototype,{Oc:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});m.prototype.Mh=function(g){var k;if(g.Rh === c.jc.mi && this.Hc){g={};k=this.Hc.get();k && k.avtp && k.avtp.Aa && (g.avtp=k.avtp.Aa,g.dltm=k.avtp.K_a);k && k.initialThroughput && k.initialThroughput.Aa && (g.initial_avtp=k.initialThroughput.Aa);k && k.cdnavtp && (g.cdnavtp=k.cdnavtp,g.activecdnavtp=k.activecdnavtp);if(k=this.Hc.Lqa())(k.bytesRequestedPacingVideo && (g.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,g.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,g.bytestotalVideo=k.bytestotalVideo,g.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (g.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,g.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,g.bytestotalAudio=k.bytestotalAudio,g.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (g.pacedAvtp=k.pacedAvtp));this.Hc.flush();if(k=this.Hc.MNb())for(var d in k)k.hasOwnProperty(d) && (g["ne" + d]=Number(k[d]).toFixed(6));return g;}};return m;})();b.ZGa=r;},8478:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.bHa=void 0;c=a(97967);m=a(91967);r=(function(){function g(k){this.w6=k;this.un="engine";this.enabled=!0;}Object.defineProperties(g.prototype,{Oc:{get:function(){return this.un;},enumerable:!1,configurable:!0}});g.prototype.Mh=function(k){var d;d=k.Rh;k=k.KC;if(d === m.jc.kj || d === m.jc.xm || d === m.jc.mi || void 0 === d && void 0 === k)return (d=this.w6.q1b.map(function(f){var n;n=f.$;return {id:n.id,weight:n.weight,relativeWeight:f.FY};}),d={prefetcher:this.w6.Pw.getStats(),playgraphs:d,viewables:this.w6.Mcc,players:this.w6.o1b.length},c.Xfa.instance && (d.mfCache=c.Xfa.instance.jua.getStats()),d);};return g;})();b.bHa=r;},29688:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bKa=void 0;c=a(5163);m=a(90745);g=a(91176);k=a(65161);d=a(60028);f=a(91967);r=(function(){function n(h){this.$=h;this.Gr="liveReport";this.cU=g.K.Fj;this.events=new m.EventEmitter();this.Cma=d.r2.AQa;this.xS=!1;this.trace=[];this.eib=1;0 < h.config.j8a && 0 < h.config.Fta && (this.cU=g.K.Na(h.config.Fta),this.eib=Math.max(Math.floor(h.config.j8a / h.config.Fta),1),this.xS=!0);}n.prototype.nCb=function(){var h,l,p,q;l=this.$.ba;if(l.Td){p=l.Jz;q=p.ca;if(q.Z){if(p=null === (h=p.Me(k.u.X)) || void 0 === h?void 0:h.pk)(h=p.kk(),q=q.Iu,l=h.AB + l.Rd.v,h=this.$.KG(),this.trace.push([q,l,h.totalabuflmsecs,h.totalvbuflmsecs]));}else this.xS=!1;}};n.prototype.Cf=function(h){var l,p;l=h.K6a;h=h.Rh;this.xS && (l || h === f.jc.kj) && this.nCb();if(this.trace.length === this.eib || 0 < this.trace.length && h === f.jc.mi){l=this.trace;p=c.__read(l[l.length - 1],2);h=p[0];p=p[1];this.trace=[];return {aca:!0,event:{type:"livereport",samplinginterval:this.cU.v,trace:l,encodingpipelinetime:h,devicepts:p}};}return {aca:!1};};return n;})();b.bKa=r;},27288:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.cKa=void 0;c=a(26388);m=a(6832);g=a(91967);r=(function(){function k(d){this.Fa=d;this.enabled=!0;}Object.defineProperties(k.prototype,{Oc:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});k.prototype.Mh=function(d){var f,n,h,l,p,q,u,t;d=d.KC;if(d === g.kh.Gs || d === g.kh.vW || d === g.kh.Ky || d === g.kh.Fu || d === g.kh.AZ || d === g.kh.ty || d === g.kh.KY || d === g.kh.D9){q=this.Fa.ba;if(q.Td){u=q.Jz;t=u.ca;u=null === (f=u.Me(c.u.X)) || void 0 === f?void 0:f.pk;if(t.Z && u){f=u.kk();t={encodingpipelinetime:t.Iu,devicepts:f.AB + q.Rd.v};d === g.kh.D9 && ((u=null === (n=q.Qw.get(c.u.X)) || void 0 === n?void 0:n.mpa(m.D2)) && (t.vbitrate=null === (h=u.h4a()) || void 0 === h?void 0:h.stream.bitrate),(n=null === (l=q.Qw.get(c.u.Y)) || void 0 === l?void 0:l.mpa(m.D2)) && (t.abitrate=null === (p=n.h4a()) || void 0 === p?void 0:p.stream.bitrate));d === g.kh.Gs && (t.presentationtimeoffset=f.ws.v);if(d === g.kh.Gs || d === g.kh.Fu)t.targetbufferduration=this.Fa.config.HC;return t;}}}};return k;})();b.cKa=r;},60028:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.AKa=b.r2=void 0;c=a(90745);m=a(91967);(function(k){k[k.CFa=1]="Creation";k[k.AQa=2]="StartPlayback";})(g=b.r2 || (b.r2={}));r=(function(){function k(d,f,n){this.vc=d;this.S=f;this.events=n;this.yI=[];this.il=new c.Ge();}k.prototype.Jd=function(d){var f;f={XO:d,Nla:void 0};this.yI.push(f);d.Cma === g.CFa && this.Feb(f);this.il.on(d.events,"collectionRequested",this.WZb.bind(this,f));};k.prototype.Ma=function(){this.il.clear();};k.prototype.YUb=function(d){var f,n;f=this;n={Rh:d};this.yI.forEach(function(h){f.xBa(h.XO,n);d === m.jc.kj && h.XO.Cma === g.AQa && f.Feb(h);});};k.prototype.WZb=function(d){var f;this.xBa(d.XO,{pCb:!0});null === (f=d.Nla) || void 0 === f?void 0:f.sf();};k.prototype.Feb=function(d){var f,n,h,l;f=this;h=d.XO;l=this.vc.mZa(function(){f.xBa(h,{K6a:!0});},h.cU,h.Gr);null === (n=d.Nla) || void 0 === n?void 0:n.Ma();d.Nla=l;};k.prototype.xBa=function(d,f){var n;try{n=d.Cf(f);n.aca && this.events.emit(d.Gr,n.event);}catch(h){this.S.error(("Error generating event for ").concat(d.Gr),h);}};return k;})();b.AKa=r;},63172:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.NNa=void 0;c=a(65161);m=a(91967);r=(function(){function g(k){this.Me=k;}Object.defineProperties(g.prototype,{Oc:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Mh=function(k){var d,f,n;k=k.Rh;if(k === m.jc.xm || k === m.jc.mi){k={};d=this.Me(c.u.X);f=this.Me(c.u.Y);n=this.Me(c.u.Da);d && (k.videoPipelineSummary=this.LAa(d));f && (k.audioPipelineSummary=this.LAa(f));n && (k.textPipelineSummary=this.LAa(n));return k;}};g.prototype.LAa=function(k){var d,f,n,h,l;l=k.Qe.Ga;l={actualStartPlayerTimestamp:null === (d=l.Db) || void 0 === d?void 0:d.v,actualPartialPlayerTimestamp:l.fbb,completePlayerTimestamp:null === (f=k.fk) || void 0 === f?void 0:f.v,segmentId:k.H,contentStartMs:null === (n=k.Ia) || void 0 === n?void 0:n.v,contentEndMs:null === (h=k.Ua) || void 0 === h?void 0:h.v,streamingPlayerMs:k.ED.v,isStreamable:k.Ur(),isNormalized:k.Df(),isDoneStreaming:k.qn(),trackNeedsHeaderRequest:k.track.JX,completedRequests:l.IYa,activeRequests:k.Qe.fi,unsentRequests:k.Qe.OD,bytes:{current:l.ta,received:l.A3b,partial:l.ps,completed:l.p5,unsent:l.Zac}};k.h8a && (l.liveMissingFragments=k.h8a);k=k.Aza;l.serverTimeDeltaUpdateStat={max:k.max,min:k.min,trace:k.trace,serverTime:k.zza,count:k.count};return l;};return g;})();b.NNa=r;},46759:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.yOa=void 0;c=a(5163);m=a(48170);g=a(69575);k=a(91967);d=a(5653);r=(function(){function f(n,h){var l;l=this;this.bxa=n;this.Fa=h;this.Lbb=new g.jg();h.events.on("branchesReevaluated",function(){l.Lbb.push(n.size);});}Object.defineProperties(f.prototype,{Oc:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{un:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return m.L;},enumerable:!1,configurable:!0}});f.prototype.Mh=function(n){var h;n=n.Rh;if(n === k.jc.xm || n === k.jc.mi){h={branchCountStats:this.Lbb.toJSON(),decisions:this.Fa.vg.toJSON(),player:this.Fa.ba.aq?this.Fa.ba.Xa.map(function(l){return l.I.id;}):[]};this.bxa.forEach(function(l,p){var q,u;u=(0,d.Xpa)(l);h[p]=c.__assign({probabilities:l.qf.map(function(t){return {duration:t.duration,immediate:t.rC,seamless:t.tf};}),parent:null === (q=l.parent) || void 0 === q?void 0:q.I.id,normalized:l.Df,hasViewable:l.kn,headerRequested:l.kn && l.ca.s5a},u);});return h;}};return f;})();b.yOa=r;},14609:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.TOa=void 0;c=a(5163);m=a(91967);r=(function(){function g(k){this.zc=k;c.__assign(c.__assign({},k),{failed:!0});}Object.defineProperties(g.prototype,{Oc:{get:function(){return "PrefetchFailureReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{un:{get:function(){return "prefetch";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Mh=function(k){if(k.Rh === m.jc.kj)return this.zc;};return g;})();b.TOa=r;},70764:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.VOa=void 0;c=a(66164);m=a(91967);r=(function(){function g(){this.creationTime=c.platform.time.sa();this.zc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}g.prototype.Dyb=function(k){this.$=k;};g.prototype.$5b=function(k,d){var f;k=null === (f=this.$) || void 0 === f?void 0:f.oo(k);this.zc={isPrefetchItem:!0,prefetchedVideoMs:k.VP,prefetchedAudioMs:k.UP,prefetchClaimDurationMs:c.platform.time.sa() - this.creationTime,prefetchRank:d};};Object.defineProperties(g,{Oc:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Oc:{get:function(){return g.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Mh=function(k){if(k.Rh === m.jc.kj)return this.zc;};return g;})();b.VOa=r;},91967:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nha=b.kh=b.jc=void 0;c=a(5163);m=a(91176);g=a(67164);(function(k){k[k.kj=0]="startPlayback";k[k.mi=1]="endPlayback";k[k.xm=2]="underflow";})(b.jc || (b.jc={}));b.kh={Gs:"startplay",xz:"midplay",Ky:"endplay",vW:"intrplay",ty:"chgstrm",zO:"playbackaborted",KY:"renderstrmswitch",D9:"livereport",pD:"repos",Fu:"resumeplay",AZ:"statechanged",KF:"aseReport"};r=(function(){function k(d){this.config=d;this.yI=[];}k.prototype.Jd=function(d){var f,n;n=c.__read(this.config.iyb.filter(function(h){return h.Oc === d.Oc;}),1)[0];this.config.HIb && (null !== (f=null === n || void 0 === n?void 0:n.enabled) && void 0 !== f?f:d.enabled)?this.yI.push(d):d.Ma && d.Ma();};k.prototype.CPb=function(d){return (0,m.mc)(this.yI,function(f){return f.Oc === d.Oc;});};k.prototype.Mh=function(d,f){var n,h,l,u,t;h={};l=[];try{for(var p=c.__values(this.yI),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.Mh({Rh:d,KC:f});t && (u.un?h[u.un]=t:h=c.__assign(c.__assign({},h),t));}catch(w){l.push(Error(("").concat(u.Oc,"::").concat(w)));}}}catch(w){var v;v={error:w};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(v)throw v.error;}}l.length && (h["rpt-error"]=g.Nda.stringify(new g.Nda("Reporting error",l)));return h;};return k;})();b.nha=r;},5653:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.A2a=b.W3a=b.Xpa=b.BPa=void 0;c=a(5163);m=a(48170);g=a(91967);r=(function(){function k(d){this.xb=d;}Object.defineProperties(k.prototype,{Oc:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{un:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return m.L;},enumerable:!1,configurable:!0}});k.prototype.Mh=function(d){var f,n,p;d=d.Rh;if(d === g.jc.mi || d === g.jc.xm)if(d=this.xb.Rpa()){n={};try{for(var h=c.__values(d.f1b),l=h.next();!l.done;l=h.next()){p=l.value;n[p.mediaType]=this.DWb(p);}}catch(u){var q;q={error:u};}finally{try{l && !l.done && (f=h.return) && f.call(h);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.A2a)(d.k3b),playerIterator:n,driftStats:this.xb.oCa};}};k.prototype.DWb=function(d){return null === d || void 0 === d?void 0:d.t3a();};return k;})();b.BPa=r;b.Xpa=function(k){var d,f;if(k){d=k.I;f={};k.Nr().forEach(function(n){f[n.mediaType]=(0,b.W3a)(n);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:k.Qd,RM:f};}return k;};b.W3a=function(k){var d,f,n;if(k && k.Qe)return c.__assign(c.__assign({},k.Qe.j4a()),{unsentRequests:k.Qe.OD,lastFragmentContentEndPts:null === (d=k.lf) || void 0 === d?void 0:d.Ua.v,trackAttributes:null === (f=k.track) || void 0 === f?void 0:f.hn(),bitrate:null === (n=k.lf) || void 0 === n?void 0:n.bitrate});};b.A2a=function(k){return k.map(function(d){return (0,b.Xpa)(d);});};},650:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GPa=void 0;c=a(91967);r=(function(){function m(g,k){this.Hc=g;this.Udb=k;}Object.defineProperties(m.prototype,{Oc:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});m.prototype.Mh=function(g){var k;k=g.Rh;g=g.KC;if(k === c.jc.mi || k === c.jc.xm || void 0 === k && void 0 === g)return (k={numOutstandingRequests:this.Udb.Z$a,requestOpportunityDelayStats:this.Udb.Tdb},(g=this.Hc.twb) && g.length && (k.activeRequests=JSON.stringify(g)),k);};return m;})();b.GPa=r;},26012:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xha=void 0;c=a(91967);r=(function(){function m(){this.un=this.Oc=m.Oc;this.enabled=!0;this.ZY=[];this.keb=0;}m.prototype.bxb=function(g){this.ZY.push(g);5 < this.ZY.length && this.ZY.shift();};m.prototype.cxb=function(){this.keb++;};m.prototype.Mh=function(g){var k;k=g.Rh;g=g.KC;if((k === c.jc.kj || k === c.jc.xm || k === c.jc.mi || void 0 === k && void 0 === g) && this.ZY.length)return {restarts:this.ZY.map(function(d){return {s:d.T8b,d:d.wHb,r:d.bdb,atMs:d.n1b.v};}),restartsCompleted:this.keb};};m.Oc="seamlessManager";return m;})();b.xha=r;},35438:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BQa=void 0;c=a(90745);m=a(65161);g=a(91967);r=(function(){function k(d){this.ISa=!1;this.bC=new c.Ge();this.bC.addListener(d.events,"streamSelection",this.Wva.bind(this));}k.prototype.Wva=function(d){this.ISa || (d.mediaType === m.u.Y && void 0 === this.tsa?this.tsa=d:d.mediaType === m.u.X && void 0 === this.wsa && (this.wsa=d));};k.prototype.Ma=function(){this.wsa=this.tsa=void 0;this.bC.clear();this.ISa=!0;};Object.defineProperties(k.prototype,{Oc:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Mh=function(d){var f,n,h,l,p,q;if(d.Rh === g.jc.kj){d=this.wsa || this.tsa;q=null === d || void 0 === d?void 0:d.result;q={histbw:null === (n=null === (f=null === q || void 0 === q?void 0:q.ib) || void 0 === f?void 0:f.cb) || void 0 === n?void 0:n.Aa,histinitbw:null === (l=null === (h=null === q || void 0 === q?void 0:q.ib) || void 0 === h?void 0:h.gu) || void 0 === l?void 0:l.Aa,histdiscbw:null === q || void 0 === q?void 0:q.nw,histage:null === (p=null === q || void 0 === q?void 0:q.ib) || void 0 === p?void 0:p.FT};f=null === d || void 0 === d?void 0:d.streamList.map(function(u){return void 0 !== u.z6?{vmaf:u.z6,streamIndex:u.ex,streamId:u.Vb}:void 0;}).filter(function(u){return void 0 !== u;});0 < (null === f || void 0 === f?void 0:f.length) && (q.vmafEstimates=f);this.Ma();return q;}this.Ma();};return k;})();b.BQa=r;},37058:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YQa=void 0;c=a(66164);m=a(90745);g=a(48170);k=a(91967);r=(function(){function d(f){this.vc=f;this.TA=[];this.reset();}Object.defineProperties(d.prototype,{Oc:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{un:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return g.L;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f,n;f=this;null === (n=this.Vx) || void 0 === n?void 0:n.clear();this.Vx=new m.Ge();this.Vx.on(this.vc,"clockChanged",function(){f.reset();f.rV("initial");});this.Vx.on(this.vc,"stopping",function(){f.rV("stopping");});this.Vx.on(this.vc.va,"clockAdjusted",function(){f.rV("clockAdjusted");});this.Vx.on(this.vc.va,"stopStart",function(){f.rV("stopStart");});this.Vx.on(this.vc.va,"speedChanged",function(){f.rV("speedChanged");});};d.prototype.rV=function(f){this.TA.push({reason:f,audit:this.vc.Zl(),time:c.platform.time.sa()});5 < this.TA.length && this.TA.shift();};d.prototype.Mh=function(f){var n;n=f.Rh;f=f.KC;if(n === k.jc.kj || n === k.jc.xm || n === k.jc.mi || void 0 === n && void 0 === f)return this.TA;};return d;})();b.YQa=r;},73036:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ZQa=void 0;c=a(48170);m=a(81651);g=a(91967);r=(function(){function k(d){var n;function f(){var h;if(d.fP){h=d.fP.RIb();n.TA.add(h.Zl());}}n=this;this.vc=d;this.TA=new Set();d.on("clockChanged",f);d.on("rootSchedulerReleasing",function(h){h.fP.hda && n.TA.add(h.fP.hda.Zl());});f();}Object.defineProperties(k.prototype,{Oc:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{un:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return c.L;},enumerable:!1,configurable:!0}});k.prototype.Mh=function(d){var f,n,h;if(d.Rh === g.jc.mi){null === (n=null === (f=this.vc) || void 0 === f?void 0:f.fP.hda) || void 0 === n?void 0:n.Zl();this.TA.forEach(function(l){h=h?m.Tha.reduce(h,l):l;});return h;}};return k;})();b.ZQa=r;},54366:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.et=void 0;c=a(5163);m=a(48170);g=a(69575);k=a(91967);r=(function(){function d(f,n){this.Se=f;this.options=c.__assign({VBb:!0},n);}Object.defineProperties(d.prototype,{un:{get:function(){return ("trace-").concat(this.Se.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oc:{get:function(){return this.un;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return m.L;},enumerable:!1,configurable:!0}});d.prototype.Mh=function(f){var n,h;n=f.Rh;if(n === k.jc.mi || n === k.jc.xm){f=(0,g.h_a)(this.Se.rUb);h=this.Se.zRb;n === k.jc.mi && this.options.VBb && this.Se.clear();n=f;Object.keys(h).length && (n=c.__spreadArray(c.__spreadArray([],c.__read(f),!1),[h],!1));return n;}};d.prototype.Ma=function(){var f;null === (f=this.Se) || void 0 === f?void 0:f.Ma();};return d;})();b.et=r;},72805:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.CPa=void 0;c=a(5163);m=c.__importStar(a(17267));g=a(91176);k=a(91562);d=a(47743);f=a(21306);r=a(81392);n=a(65161);h=a(52571);l=a(89645);p=a(40666);q=a(97757);u=a(11758);t=a(27977);v=a(3033);a=(function(w){function y(x,z,A,B,D,C,E,G){var F;F=w.call(this,x) || this;F.T=z;F.S=A;F.Vn=B;F.ft=D;F.we=C;F.Jqa=G;F.xe=new l.ZD(F.S);F.XA=F.S.error.bind(F.S);F.Mm=F.S.warn.bind(F.S);F.gy=F.S.trace.bind(F.S);F.nUa();F.wp=null === E || void 0 === E?void 0:E.By(function(){return F.Y4b();},"pruner");return F;}c.__extends(y,w);Object.defineProperties(y.prototype,{console:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.we;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ra:{get:function(){return this.ft;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{dx:{get:function(){return 0 < this.vya;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rAa:{get:function(){return !this.BS;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vya:{get:function(){return this.qc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OD:{get:function(){return this.qc.OD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mL:{get:function(){return this.xe.gz;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fk:{get:function(){return this.qc.complete.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oU:{get:function(){return this.qc.GYa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hma:{get:function(){return this.qc.wCb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ED:{get:function(){return this.qc.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lba:{get:function(){return void 0 === this.qc.Db?0:this.qc.Hb.v - this.qc.Db.v;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{o5:{get:function(){return {ta:this.qc.p5,v:this.qc.empty?0:Math.max(this.qc.GYa - this.qc.Db.v,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{p5:{get:function(){return this.qc.p5;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vB:{get:function(){return this.qc.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{y0b:{get:function(){return this.Ctb();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Gra:{get:function(){return this.qc.length > this.qc.OD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fi:{get:function(){return this.qc.fi;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{J7a:{get:function(){return this.kTa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ga:{get:function(){return this.qc;},enumerable:!1,configurable:!0}});y.prototype.Lf=function(x){var A,B,D;function z(){var C;C=D.map(function(E){return E;});A.Vn.M$(C);D.forEach(function(E){E.abort();E.Ce();});}A=this;D=this.qc;x?setTimeout(z,1):z();this.nUa();this.xe.tG();null === (B=this.wp) || void 0 === B?void 0:B.Ma();};y.prototype.reset=function(){this.Lf();this.xe.deb();};y.prototype.close=function(){this.xe.tG();};y.prototype.hfb=function(){this.sSa=!0;};y.prototype.j4a=function(){return {endMarked:void 0 !== this.xe.count,queueCount:this.xe.count,isComplete:this.xe.gz,itemCount:this.xe.HYa,continuousEndPts:this.xe.Ek().reduce(function(x,z){return z && !z.done && (z=z.value,100 > Math.abs(z.BM.v - x) || -1 === x)?z.Jpa.v:x;},-1),sentinelItemCount:this.xe.Ek().filter(function(x){return x && x.done;}).length,processedCount:this.xe.mHb,rc:this.vya};};y.prototype.zZa=function(x,z,A){var B,D;B=this.T;(0,h.assert)(!x.header);A.Z && A.mediaType === n.u.Da && (D=new u.Sda(A,this.ft.dA.track,x,this.qc,this.Ra.I,B,this.S));D || (D=d.Qda.create(A,B,z.track,x,this.qc,this.Ra.I,this.S,this.Jqa));this.Lv(D);return D;};y.prototype.Lv=function(x){var z,A;this.qc.uo(x);(null === (z=this.wp) || void 0 === z?void 0:z.state) === p.Mk.complete && (null === (A=this.wp) || void 0 === A?void 0:A.sf());this.Hsb();x.fl && (this.BS=!1);};y.prototype.kC=function(){return this.xe.Spa();};y.prototype.NXa=function(){this.Cv === this.qc.length && this.sSa && this.xe.tG();};y.prototype.yBa=function(){var x,z,A;x=this;Promise.resolve();if(this.ft.G8(this.we) && this.Cv !== this.qc.length){for(var B=this.T.bXb,D=0,C=[];this.Cv < this.qc.length;){if(A=this.qc.get(this.Cv)){if(A.Cz){if(this.T.UU)C.push.apply(C,this.T2b(A));else break;}else {if(this.qc.P1a && this.qc.P1a.rb < A.rb)break;if(!A.D6a())break;C.push(A);}++D;m.Tb(this.Ywa) || (this.Ywa=null === (z=A.Db) || void 0 === z?void 0:z.v);}++this.Cv;if(!m.wo(B) && D >= B)break;}C.length && (void 0 !== this.xe.count && (this.XA("tryToAtach() but requestQueue has sentinel:",this.xe.count),this.xe.deb()),Promise.all(C.map(function(E){return x.xe.enqueue(E).then(function(){return x.HQb(E);});})),this.NXa());}};y.prototype.HQb=function(x){this.kTa=x;};y.prototype.pT=function(x){var z,A,B;z=this;A=[];if(0 !== this.qc.OD){B=this.qc.fbb;this.qc.Yac.lAa(function(D){var C;if(D.fl || B > (null === (C=D.Db) || void 0 === C?void 0:C.v))return !0;D.fw && (z.BS=!1);if(!z.Zha(D))return (z.Mm("request abort failed:",D.toString()),!0);A.unshift(D);});this.bUa();A.length && "function" === typeof x && x(A);}};y.prototype.X4b=function(x){x.Cz=!0;x.abort();this.qc.C_b();this.yBa();};y.prototype.Y4b=function(){var x,z,A,B,D,C;return c.__generator(this,function(E){switch(E.label){case 0:E.label=1;case 1:if(!this.qc.length)return [3,3];x=this.qc.get(0);z=g.K.Na(null !== (C=null === (D=this.T.tP) || void 0 === D?void 0:D.v) && void 0 !== C?C:0);A=z.add(x.Hb);return [4,p.Tg.Wu(A)];case 2:E.Ja();if(1 >= this.qc.complete.length && !x.fl)return [3,3];(0,h.assert)(x === this.qc.get(0));x.KT || this.Zha(x);B=this.qc.splice(0,1);0 < this.Cv && this.Cv--;this.Vn.M$(B);B=void 0;return [3,1];case 3:return [2];}});};y.prototype.oLb=function(x){if(this.qc.length && (x=this.qc.x1a(x)))return x;};y.prototype.iwb=function(x){var z,A,B,D,C,E,G;E=x.Ua;x=this.qc.ipa(x.Ia.v);G=this.qc.get(x);(0,h.assert)(G && void 0 !== (null === (z=G.Ia) || void 0 === z?void 0:z.v) && void 0 !== (null === (A=G.Ua) || void 0 === A?void 0:A.v) && void 0 !== G.index,"expected existing request to be defined with properties");if(null === (B=G.Ua) || void 0 === B?0:B.equal(E))return (this.QUa(x),[null === (D=G.Ua) || void 0 === D?void 0:D.v,G.index + 1]);this.QUa(x - 1);return [null === (C=G.Ia) || void 0 === C?void 0:C.v,G.index];};y.prototype.Jn=function(x){var z,A;z=this;A=[];this.qc.forEach(function(B){var D;D=B.QBa(x);1 === D?A.push(B):2 === D && z.Ra.ca.rf("swapUrl failure");});return A;};y.prototype.nO=function(x){x.iu && x.D6a() && this.yBa();this.lV(x);};y.prototype.ns=function(x,z){var A,B;x.stream.Z && x.fw && x.mediaType === n.u.Y && this.qbc(x);x.iu && !x.KT && this.yBa();(null === (A=this.wp) || void 0 === A?void 0:A.state) === p.Mk.complete && (null === (B=this.wp) || void 0 === B?void 0:B.sf());this.DG(x,z);};y.prototype.qbc=function(x){var z,A;z=k.jK.d1a(new DataView(x.No[0]));if(void 0 !== z && x.stream.track.YZb(z)){A=x.stream.kk();this.qc.forEach(function(B){var D;D=A.yV(B.index);B.obc(D.Ia,D.Ua);});this.Ga.update();}};y.prototype.Ctb=function(){return this.qc.fi + this.qc.OD;};y.prototype.nUa=function(){var x,z,A;z=void 0 !== this.qc && 0 < this.qc.length;A=this.qc;this.qc=new f.xDa(this.S,this);this.Cv=0;this.xe.clear();this.kTa=void 0;this.Ywa=null;null === (x=this.wp) || void 0 === x?void 0:x.sf();this.sSa=this.BS=!1;z && (x=A.map(function(B){return B;}),this.Vn.M$(x));};y.prototype.Hsb=function(){this.BS || (this.BS=!0);};y.prototype.QUa=function(x){var z;for(x+=1;x < this.vya;x++){z=this.qc.get(x);(0,h.assert)(z,"expected request to exist");this.xe.remove(z);z.aborted || (this.Zha(z),z.Ce());}this.bUa();};y.prototype.Zha=function(x){return x.abort()?!0:!1;};y.prototype.bUa=function(){var x,z,A,B;x=this;if(0 !== this.qc.length){A=[];B=0;this.qc.Z2b(function(D,C){C < x.Cv && ++B;A.push(D);});this.Cv-=B;null === (z=this.wp) || void 0 === z?void 0:z.sf();this.Vn.M$(A);}};y.prototype.T2b=function(x){switch(this.mediaType){case n.u.Y:return this.U2b(x);case n.u.X:return this.W2b(x);case n.u.Da:return this.V2b(x);}};y.prototype.U2b=function(x){return v.gE.instance().BZ.zcb(this.Ra.ca,x.stream.Rf,(0,t.bqa)(x.stream.profile),x.stream.bitrate,x.stream.track.Go,x.Bb,this.Ra.I,function(z,A){return x.Db.add(A).jd(z).ja;},this.T,this.S);};y.prototype.W2b=function(x){var z,A,B;B=null === (z=x.stream.track.xa) || void 0 === z?void 0:z.aya();(0,h.assert)(B,"Video streams must have a frame rate");return v.gE.instance().BZ.Bcb(this.Ra.ca,"padding",x.stream.profile,B,null === (A=x.stream.track.vk) || void 0 === A?void 0:A.Mv,x.stream.track.Go,x.Bb,this.Ra.I,function(D,C){return x.Db.add(C).jd(D).ja;},this.S).Ga;};y.prototype.V2b=function(x){x.Oxa(v.gE.instance().BZ.Y2b(),!0);return [x];};return y=c.__decorate([q.DM],y);})(r.YD);b.CPa=a;},19089:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.DPa=void 0;c=a(5163);m=a(66164);g=a(52571);k=a(61996);d=a(69575);r=(function(){var I24;I24=2;function f(n,h){var Q2m,l;Q2m=2;for(;Q2m !== 14;){switch(Q2m){case 2:l=this;this.Z8=n;this.config=h;this.fF=0;Q2m=3;break;case 3:var G6D="1S";G6D+="IYbZrN";G6D+="JCp9";var b$$="med";b$$+="ia|ase";b$$+="j";b$$+="s";var f3h="A";f3h+="SEJS_R";f3h+="EQUEST";f3h+="_";f3h+="PACER";this.console=new m.platform.Console(f3h,b$$);this.cza=!1;G6D;Q2m=7;break;case 7:var z7Q="RequestP";z7Q+="ac";z7Q+="er";this.iq=new k.Xq({nl:this,source:z7Q,AVa:function(){var g_f;g_f=2;for(;g_f !== 1;){switch(g_f){case 2:return {numOutstanding:l.fF};break;}}},uh:10});this.Tdb=new d.jg();Q2m=14;break;}}}for(;I24 !== 13;){switch(I24){case 4:var n2K="V";n2K+="i";var b0N="ch";b0N+="e";b0N+="ckRequestOpportunity";f.prototype.ys=function(n){var E2Z,h,l;E2Z=2;for(;E2Z !== 9;){switch(E2Z){case 3:var H16="r";H16+="emoveReq";H16+="u";H16+="est";this.Vi(H16);E2Z=9;break;case 12:this.Vi("");E2Z=4;break;case 2:var T8s="Received remove request when there are no request";T8s+="s out";T8s+="stand";T8s+="ing";this.iq.nr({mediaType:n.mediaType,contentStartPts:null === (h=n.Ia) || void 0 === h?void 0:h.v,contentEndPts:null === (l=n.Ua) || void 0 === l?void 0:l.v});this.fF--;(0,g.assert)(0 <= this.fF,T8s);E2Z=3;break;}}};f.prototype.TXa=function(n){var C9e,h,l,p;C9e=2;for(;C9e !== 9;){switch(C9e){case 2:(h=this.config.L9,l=m.platform.time.sa() - n,p=0);C9e=1;break;case 1:this.Tdb.push(l);C9e=5;break;case 13:p--;C9e=6;break;case 5:C9e=this.fF < h && this.Z8()?4:3;break;case 3:var q28="re";q28+="questOpport";q28+="unityRunn";q28+="erCo";q28+="mplete";this.iq.CT(q28,{requestsIssued:p,scheduledMs:n,timeSinceScheduled:l},!0);C9e=9;break;case 4:p++;C9e=5;break;}}};c.__decorate([(0,k.Ib)({methodName:b0N,Cj:!0,Ep:!0})],f.prototype,n2K,null);I24=8;break;case 2:Object.defineProperties(f.prototype,{Z$a:{get:function(){var e4d;e4d=2;for(;e4d !== 1;){switch(e4d){case 2:return this.fF;break;}}},enumerable:!1,configurable:!0}});f.prototype.Vi=function(){var G3Y,n,h;G3Y=2;for(;G3Y !== 9;){switch(G3Y){case 2:n=this;G3Y=1;break;case 1:G3Y=!this.cza?5:9;break;case 5:this.cza=!0;h=m.platform.time.sa();return Promise.resolve().then(function(){var h7_;h7_=2;for(;h7_ !== 5;){switch(h7_){case 2:n.cza=!1;n.TXa(h);h7_=5;break;}}});break;}}};f.prototype.Lv=function(n){var D8A,h,l;D8A=2;for(;D8A !== 3;){switch(D8A){case 2:var a1c="Mo";a1c+="re than maxAllowedOutstandingRequests a";a1c+="re outstand";a1c+="i";a1c+="ng";this.iq.nr({mediaType:n.mediaType,contentStartPts:null === (h=n.Ia) || void 0 === h?void 0:h.v,contentEndPts:null === (l=n.Ua) || void 0 === l?void 0:l.v});this.fF++;(0,g.assert)(this.fF <= this.config.L9,a1c);D8A=3;break;}}};I24=4;break;case 14:return f;break;case 8:var o91="T";o91+="X";o91+="a";var f4r="checkRequestOpp";f4r+="ort";f4r+="unityRunner";var o8O="y";o8O+="s";var c4z="remo";c4z+="v";c4z+="eR";c4z+="eq";c4z+="uest";var P0w="L";P0w+="v";var y1d="a";y1d+="ddRe";y1d+="q";y1d+="ue";y1d+="st";c.__decorate([(0,k.Ib)({methodName:y1d,Cj:!0})],f.prototype,P0w,null);c.__decorate([(0,k.Ib)({methodName:c4z,Cj:!0})],f.prototype,o8O,null);c.__decorate([(0,k.Ib)({methodName:f4r,Cj:!0})],f.prototype,o91,null);I24=14;break;}}})();b.DPa=r;},14242:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xQa=void 0;c=a(91176);m=a(7559);g=a(65161);r=(function(){function k(d,f){this.Bk=d;this.console=f;this.v3=Infinity;this.BSa=0;this.Pvb=!1;}k.prototype.dLb=function(d,f,n,h,l){var p;if(this.Bk){p=d.Ga;if(p){if(n === g.u.X)(n=p.Py(Math.ceil(this.Bk * d.xa.Ow),void 0,!0),p=d.po(n),d=p.Bb.Hg(d.xa),p.Fi({start:0,end:this.Bk - n * d}),this.v3=this.Bk);else {void 0 !== h.vgb?(f=h.vgb,n=f * d.xa.v):(n=(0,m.Fqa)(h,l) + Math.ceil(h.Syb * d.xa.Ow),c.K.Na(n).Hg(d.xa),n=f + n,f=Math.ceil(n / d.xa.Ow));n=p.Py(n,void 0,!0);for(l=h=0;l < n;++l)(p=d.po(l),h+=p.Bb.Hg(d.xa));h=f - h;p=d.po(n);p.Fi({end:h});this.v3=f;}p.X8a();return p;}}};k.prototype.eRb=function(){return this.BSa >= this.v3;};k.prototype.lSb=function(d,f){this.hw(d,f);};k.prototype.JJb=function(d,f,n){d.Cnc=this.hw(f,n);};k.prototype.hw=function(d,f){return d.Bb.Hg(f.xa);};k.prototype.Tv=function(){if(!this.eRb())return !1;if(this.Pvb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.BSa," >= ").concat(this.v3));return !0;};return k;})();b.xQa=r;},2983:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Va=void 0;b.$Va=function(a,c,m){var g,k;g=!0;m.forEach(function(d){var f;if(g && a === d.profile){f=d.ranges;g=void 0 === f?c >= d.min && c <= d.max:f.some(function(n){return c >= n.min && c <= n.max;});!g && d.disallowed && d.disallowed.some(function(n){if(n.stream.bitrate === c)return (k=n.disallowedBy,!0);});}});return {inRange:g,f6:k};};},72793:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tDa=void 0;c=a(66164);m=a(65161);g=a(7559);r=(function(){function k(d){this.config=d;}k.prototype.Ig=function(d,f){var n,h,l;n=this.config;h=(0,m.hI)(f);l=c.platform.TM()[m.u.Y];return d.filter(function(p){var q;q=(0,g.s2a)(p,n);return !(h && (p.bitrate < q.yz || p.bitrate > q.yw) || !h && (p.bitrate < q.TXb || p.bitrate > q.PWb) || p.bitrate * q.UN / 8 > l);});};return k;})();b.tDa=r;},86450:function(r,b,a){var m;function c(g,k){k=Math.max(g,k);return isNaN(k)?g || -Infinity:k;}Object.defineProperties(b,{__esModule:{value:!0}});b.vDa=void 0;m=a(65161);r=(function(){function g(k){this.config=k;this.Zxa=0;this.state=m.Yc.$s;this.c$a=c(k.Qua,k.h$);this.Xua=c(k.NH,k.BX);}g.prototype.Ig=function(k,d){var f;f=this;if(d !== this.state){this.state=d;if(d === m.Yc.me || d === m.Yc.F2)return k;d === m.Yc.Zj && this.z3b();}return k.filter(function(n){return !(void 0 !== n.ub && n.ub < f.Xua || (void 0 === n.ub || 0 > f.Xua) && n.bitrate < f.c$a);});};g.prototype.z3b=function(){++this.Zxa;this.Xua=c(this.config.NH,this.config.BX - this.config.RXb * this.Zxa);this.c$a=this.config.Qua || -Infinity;};return g;})();b.vDa=r;},84909:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JDa=void 0;c=a(91176);r=(function(){function m(g){this.config=g;}m.prototype.a8b=function(g){return g % 100 + 1 <= this.config.Iwa;};m.prototype.Ig=function(g){var k,d,f,n,h,l,p,q,u,t,v;p=Number(null === (k=g[0]) || void 0 === k?void 0:k.O);if(!(this.config.u6 && this.a8b(p) && 0 < this.config.pba.length))return g;k=g.length;q=null !== (d=g[k - 1].VY) && void 0 !== d?d:0;if(d=(0,c.mc)(this.config.pba,function(w){return w.Enc >= q && w.geb <= q;})){for(p=0;p < k;p++){u=g[Math.max(p - 1,0)];t=g[p];if(!((null !== (f=t.VY) && void 0 !== f?f:0) < d.geb || (null !== (n=u.VY) && void 0 !== n?n:0) < d.geb)){v=null !== (h=t.ub) && void 0 !== h?h:Infinity;u=null !== (l=u.ub) && void 0 !== l?l:Infinity;if(!(u < d.Nmc || u < d.Mmc && t.bitrate < d.maxBitrate || !v && t.bitrate < d.mmc))break;}}return g.slice(0,p);}return g;};return m;})();b.JDa=r;},58844:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KDa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Ig=function(c){var m;m=this.config;return c.filter(function(g){return !(void 0 !== g.ub && (g.ub < m.NH || g.ub > m.b9a) || (void 0 === g.ub || 0 >= m.NH) && g.bitrate < m.Qua || (void 0 === g.ub || Infinity === m.b9a) && g.bitrate > m.OWb);});};return a;})();b.KDa=r;},72351:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.LL=b.KL=void 0;c=a(12986);m=a(63576);b.KL=function(g,k){k && (null === g || void 0 === g?0:g.M5a) && (k=new m.dt(k).or(m.CE));return new m.dt(m.aea).and(k || m.CE).or(m.Mfa,c.xK.yG).or(m.Nfa,c.xK.yG);};b.LL=function(g,k,d){d && k.M5a && (d=new m.dt(d).or(m.CE));return new m.dt(m.aea).and(new m.LDa()).and(new m.KDa(k)).and(new m.vDa(k)).and(new m.NDa(k)).and(new m.WJa(g,k)).and(k.u6?new m.JDa(k):m.CE).and(d || m.CE).or(m.Mfa,c.xK.yG).or(m.Nfa,c.xK.yG);};},96077:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LDa=void 0;c=a(65161);r=(function(){function m(){}m.prototype.Ig=function(g,k){return k !== c.Yc.Gl?g.filter(function(d){return d.Kr;}):g;};return m;})();b.LDa=r;},48867:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hS=void 0;c=a(66164);m=a(48170);g=a(2983);r=(function(){function k(d){this.console=d;this.j_a=[];this.PWa={};this.F_a=!1;}k.prototype.Zba=function(d,f){this.j_a=d;void 0 !== f?this.PWa[f]=d:this.F_a || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.F_a=!0);};k.prototype.Ig=function(d){var f,n,h,l;f=this;if(0 === d.length)return d;h=d[0].J;if(void 0 === h)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (n=c.platform.Nt) || void 0 === n?void 0:n.call(c.platform,h);}catch(p){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + p),d);}l=this.PWa[h] || this.j_a;m.L && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(l)));d=d.filter(function(p){return (0,g.$Va)(p.profile,p.bitrate,l,f.console).inRange;});m.L && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return k;})();b.hS=r;},19092:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NDa=void 0;r=(function(){function a(c){var m;m=this;c.FP && c.FP.enabled && c.FP.profiles && c.FP.profiles.length && "keepLowest" === c.FP.action && (this.C7a={},c.FP.profiles.forEach(function(g){return m.C7a[g]=!0;}));}a.prototype.Ig=function(c){var m,g;m={};g=this.C7a;return void 0 === g?c:c.filter(function(k){return !g[k.profile] || (m[k.profile]?!1:m[k.profile]=!0);});};return a;})();b.NDa=r;},13904:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mfa=b.aea=void 0;c=a(91176);b.aea={Ig:function(m){return m.filter(function(g){return g.gq && !g.Vy;});}};b.Mfa={Ig:function(m){return (m=(0,c.mc)(m,function(g){return !!g.gq && !g.Vy;}))?[m]:[];}};},63576:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(62964),b);r.__exportStar(a(96077),b);r.__exportStar(a(48867),b);r.__exportStar(a(19092),b);r.__exportStar(a(58844),b);r.__exportStar(a(86450),b);r.__exportStar(a(84909),b);r.__exportStar(a(13904),b);r.__exportStar(a(25320),b);r.__exportStar(a(12986),b);r.__exportStar(a(86543),b);r.__exportStar(a(72351),b);r.__exportStar(a(7520),b);r.__exportStar(a(77154),b);},77154:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.WJa=void 0;r=(function(){function a(c,m){this.console=c;this.config=m;}a.prototype.Ig=function(c){var m,g;if(!this.config.Zbc || 0 === c.length)return c;m=c[0].track.EN;if(void 0 === m || 0 === m)return c;g=c.filter(function(k){return k.bitrate > m?!1:!0;});return 0 < g.length?g:[c[0]];};return a;})();b.WJa=r;},86543:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Nfa=void 0;b.Nfa={Ig:function(a){return a.length?[a[0]]:[];}};},7520:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.zR=void 0;c=a(91176);m=a(48170);r=(function(){function g(k,d){this.console=k;this.config=d;this.XBa=!1;}g.prototype.Ig=function(k,d,f,n){void 0 === f && (f=c.K.Ba);void 0 === n && (n=!1);m.L && this.console.trace("Filtering streams for fastplay",{XBa:this.XBa,Ul:f.v,Plc:n});if(this.XBa || f.v >= this.config.TWb || !1 === n){d=k.filter(this.iIb);if(d.length)return d;m.L && this.console.trace("No drm streams to return");}d=k.filter(this.YBb);if(d.length)return d;m.L && this.console.trace("No clear streams to return");return k;};g.prototype.iIb=function(k){return k.si;};g.prototype.YBb=function(k){return !k.si;};return g;})();b.zR=r;},25320:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CE=void 0;b.CE={Ig:function(a){return a;}};},12986:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.dt=b.xK=void 0;c=a(25320);(function(g){g[g.IO=0]="primary";g[g.yG=1]="fallback";})(m=b.xK || (b.xK={}));r=(function(){function g(k,d){var f,n;void 0 === d && (d=!1);n=this;this.c5=d;this.filters=(f={},f[m.IO]=[],f[m.yG]=[],f);Array.isArray(k)?k.forEach(function(h){return n.and(h,m.IO);}):this.and(k);}g.prototype.and=function(k,d){void 0 === d && (d=m.IO);k !== c.CE && this.filters[d].push({filter:k,RYa:!0});return this;};g.prototype.or=function(k,d){void 0 === d && (d=m.IO);this.filters[d].push({filter:k,RYa:!1});return this;};g.prototype.filter=function(k){var d;d=this;[m.IO,m.yG].forEach(function(f){d.filters[f]=d.filters[f].filter(function(n){return k(f,n.filter);});});};g.prototype.Ig=function(k,d,f,n){var h;h=this;return [m.IO,m.yG].reduce(function(l,p){return h.filters[p].reduce(function(q,u){u.RYa?q=u.filter.Ig(q,d,f,n):0 === q.length && (q=u.filter.Ig(k,d,f,n));return q;},l);},k);};return g;})();b.dt=r;},62964:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89613:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JQa=b.Urb=void 0;c=a(5163);r=a(66164);m=a(52571);g=a(95591);a=a(82149);k=new r.platform.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(n){d=!1;}f=(function(n){function h(l,p){p=n.call(this,l.In,p) || this;p.vF=l;return p;}c.__extends(h,n);Object.defineProperties(h.prototype,{ta:{get:function(){return this.vF.jgb(this.og);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{offset:{get:function(){return this.vF.Ai(this.og);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zua:{get:function(){return this.vF.YN && this.vF.YN[this.og];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yj:{get:function(){return this.vF.JMb(this.og);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ub:{get:function(){return this.vF.ox && this.vF.ox[this.og];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rla:{get:function(){return 8 * this.ta / (1E3 * this.UB / this.N);},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.rb,contentEndTicks:this.yb,durationTicks:this.UB,timescale:this.N,startPts:this.Ia.v,endPts:this.Ua.v,duration:this.Bb.v,additionalSAPs:this.yj};};return h;})(a.oRa);b.Urb=f;r=(function(){function n(h,l,p,q,u,t,v){this.YK=128;this.Nc=l;this.$b=p.offset;this.yp=p.sizes;this.H3=h;this.KK=this.qS=this.ak=this.Km=this.Kja=void 0;this.qub=q;this.aia=u && u.Ai;this.Uja=t;this.aB=Math.min(this.Nc.length,this.yp.length);h=this.BAb();this.hub=h.maxBitrate;this.iub=h.uh;this.In.ot.length !== this.yp.length && k.trace("Mis-matched stream duration (" + this.In.ot.length + "," + this.yp.length + ") for movie id " + v);this.In.d4 && !this.aia && k.error("Mis-matched additional SAPs information for movie id " + v);}Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Nc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.aB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fs:{get:function(){return this.Nc.Fs;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yoa:{get:function(){return this.Nc.yoa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jb:{get:function(){return this.Nc.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kf:{get:function(){return this.Nc.kf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hs:{get:function(){return this.hub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{uh:{get:function(){return this.iub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xa:{get:function(){return this.Nc.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){return this.Nc.N;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{um:{get:function(){return this.Km || this.iia();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{YN:{get:function(){return this.qub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yka:{get:function(){return this.aia;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ox:{get:function(){return this.Uja;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{In:{get:function(){return this.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ku:{get:function(){return this.Kja || this.Tsb();},enumerable:!1,configurable:!0}});n.prototype.jgb=function(h){if(this.yp)return this.yp[h];k.error("sizesByIndex _sizes is undefined");return -1;};n.prototype.tl=function(h){return this.Nc.tl(h);};n.prototype.WU=function(h){return this.Nc.tl(h) + this.Nc.jf(h);};n.prototype.Ai=function(h){var l,p,q;if(this.qS !== h || void 0 === this.KK){if(0 === h)return this.$b;if(this.qS === h - 1 && void 0 !== this.KK)(this.KK+=this.yp[this.qS],++this.qS);else {l=this.ak || this.Esb();p=Math.floor(h / this.YK);q=p * this.YK;for(l=l[p];q < h;++q)l+=this.yp[q];this.qS=h;this.KK=l;}}return this.KK;};n.prototype.jf=function(h){return this.Nc.jf(h);};n.prototype.get=function(h){return new f(this,h);};n.prototype.JMb=function(h){var l,p,q,u,t;(0,m.assert)(0 <= h);l=this.In.d4;p=this.In.BVa;q=this.aia;if(!q || !l || !p || h >= l.length)return [];u=[];t=h === l.length - 1?p.length:l[h + 1];for(l=l[h];l < t;++l)u.push({Pj:p[l],Fe:this.tl(h) + this.xa.hm(p[l]).v,offset:q[l]});return u;};n.prototype.Py=function(h,l,p){return this.Nc.Py(h,l,p);};n.prototype.hpa=function(h,l,p){return this.Nc.hpa(h,l,p);};n.prototype.A5=function(h,l){return this.Nc.A5(h,l);};n.prototype.zAb=function(h,l,p,q,u){var t,v,w,y,x,z,A,B,D;t=!0;v=0;w=this.Nc.ot;y=this.yp;h=Math.floor(h * this.N / 1E3);x=Math.floor(p * this.N / 1E3);z=0;A=0;B=0;if(this.Nc.EBa && this.Nc.DBa)for(v=this.Nc.EBa;v <= this.Nc.DBa;++v)(z+=w[v],A+=y[v]);if(A > l)t=!1;else for(;v < this.length && (!u || v < u);){D=y[v];p=w[v];if(A + D > l){for(;1 < v - B && A + D > l && (z - w[B] >= x || A - y[B] > q);)(z-=w[B],A-=y[B],++B);if(z < h || A + D > l){t=!1;this.Nc.EBa=B;this.Nc.DBa=v;break;}}z+=p;A+=D;++v;}return t;};n.prototype.subarray=function(h,l){(0,m.assert)(void 0 === h || 0 <= h && h < this.length);(0,m.assert)(void 0 === l || l > h && l <= this.length);return new n(this.H3,this.Nc.subarray(h,l),{offset:this.Ai(h),sizes:this.yp.subarray(h,l)},this.YN && this.YN.subarray(h,l),this.yka && ({Ai:this.yka}),this.Uja && this.Uja.subarray(h,l));};n.prototype.forEach=function(h){for(var l=0;l < this.length;++l)h(this.get(l),l,this);};n.prototype.map=function(h){for(var l=[],p=0;p < this.length;++p)l.push(h(this.get(p),p,this));return l;};n.prototype.reduce=function(h,l){for(var p=0;p < this.length;++p)l=h(l,this.get(p),p,this);return l;};n.prototype.toJSON=function(){return {length:this.length};};n.prototype.dump=function(){var l;k.trace("StreamFragments: " + this.length);for(var h=0;h < this.length;++h){l=this.get(h);k.trace(("StreamFragments: ").concat(h,": [").concat(l.Ia.v,"-").concat(l.Ua.v,"]") + (" @ ").concat(l.offset,", ").concat(l.ta," bytes"));}};n.prototype.BAb=function(){var h,l,p,q,u,t,y;h=0;l=0;p=this.Nc.i9a;q=this.Nc.j9a;u=this.Nc.ot;t=this.yp;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var v=0,w=this.length;v < w;++v){y=t[v];y > l && (l=y,q=v);y/=u[v];y > h && (h=y,p=v);}void 0 === this.Nc.i9a && (this.Nc.i9a=p);void 0 === this.Nc.j9a && (this.Nc.j9a=q);}else (h=t[p] / u[p],l=t[q]);return {maxBitrate:Math.floor(h * this.N / 125),uh:l};};n.prototype.iia=function(){for(var h=0,l=0;l < this.length;++l)h+=this.yp[l];return this.Km=h;};n.prototype.Tsb=function(){return this.Kja=new g.zha(this.Nc.ot,this.yp,this.Nc.N);};n.prototype.Esb=function(){if(!this.ak){for(var h=d?new Float64Array(Math.ceil(this.length / this.YK)):Array(Math.ceil(this.length / this.YK)),l=this.$b,p=0;p < h.length;++p){h[p]=l;for(var q=0;q < this.YK;++q)l+=this.yp[p * this.YK + q];}this.ak=h;}return this.ak;};return n;})();b.JQa=r;(0,a.ww)(r.prototype.tl);(0,a.ww)(r.prototype.WU);(0,a.ww)(r.prototype.jf);(0,a.ww)(r.prototype.Ai);(0,a.ww)(r.prototype.jgb);(0,a.ww)(r.prototype.get);},19595:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YR=void 0;c=a(91176);r=(function(){function m(g){this.er=g;this.O1a=new c.ev();}Object.defineProperties(m.prototype,{p9:{get:function(){var g;return this.YYb || (null === (g=this.parent) || void 0 === g?void 0:g.p9);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pk:{get:function(){var g;return this.gd || (null === (g=this.parent) || void 0 === g?void 0:g.pk);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{T7a:{get:function(){var g,k;return null !== (g=this.u9b) && void 0 !== g?g:null === (k=this.parent) || void 0 === k?void 0:k.T7a;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uta:{get:function(){var g,k;return null !== (g=this.v9b) && void 0 !== g?g:null === (k=this.parent) || void 0 === k?void 0:k.uta;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.z6b;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dkb:{get:function(){return this.O1a.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{parent:{get:function(){var g;return null === (g=this.er) || void 0 === g?void 0:g.call(this);},enumerable:!1,configurable:!0}});m.prototype.Ma=function(){this.er=void 0;};m.prototype.r7b=function(g){this.YYb=g;};m.prototype.QI=function(g){this.gd=g;this.O1a.resolve();};m.prototype.Ifb=function(g){this.u9b=g;};m.prototype.Jfb=function(g){this.v9b=g;};m.prototype.Uza=function(g){this.z6b=g;};return m;})();b.YR=r;},32966:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Tv=void 0;c=a(65161);a(13550);b.Tv=function(m,g,k,d,f,n){var G1m=U6ONX;function h(y){var V94;V94=2;for(;V94 !== 7;){switch(V94){case 4:V94=void 0 === y?3:9;break;case 5:y=d.Ga.hpa(m.Tc + y,void 0,!0);V94=4;break;case 2:V94=!d.Ga?1:5;break;case 9:y=d.Ga.get(y.index);return (t - m.ps) / (t + (y.offset + y.ta) - v);break;case 1:return 0;break;case 3:return 0;break;}}}var f$X,t,q,u,l,p,v,w;f$X=2;for(;f$X !== 54;){switch(f$X){case 3:var V60="m";V60+="a";V60+="x";V60+="si";V60+="ze";return {complete:!0,reason:V60};break;case 32:G1m.x6U(10);var j4q=G1m.M9t(3,9,2);q=j4q * v * k / g - m.Tc;p=void 0;f$X=30;break;case 8:var u$A="lo";u$A+="w";u$A+="Thr";u$A+="oughpu";u$A+="t";return {complete:!1,fX:!0,reason:u$A};break;case 12:f$X=!g?11:10;break;case 10:t=m.Ga.reduce(function(y,x){var R7d;R7d=2;for(;R7d !== 1;){switch(R7d){case 2:return y + (x.Hb.v > m.Tc?x.ta:0);break;}}},0);k=Math.max(k,1);p=k * d.bitrate;f$X=18;break;case 5:(q=0,u=Math.min(n.HH,n.ZBa && !p?n.OC:n.yua));f$X=4;break;case 29:f$X=n > f?28:39;break;case 21:var u66="hi";u66+="gh";u66+="tp";return {complete:!0,reason:u66};break;case 40:--n;f$X=29;break;case 9:f$X=g <= n.aua && (0 < g || !n.Roa)?8:7;break;case 42:return (q=Math.min(u,l + w),{complete:!1,rD:q,progress:h(q)});break;case 26:f$X=-1 === f?25:24;break;case 43:f$X=0 < w?42:41;break;case 22:f$X=g > p * n.H6?21:35;break;case 15:return (g < p && (q=Math.min(u,Math.max(n.CY * (p / g - 1),q))),{complete:!1,rD:q,progress:0});break;case 2:(l=m.Wi - m.Tc,p=g === c.Yc.Zj);g=d.cb || 0;f$X=5;break;case 16:f$X=!d.Ga || !d.Ga.length?15:27;break;case 27:f=d.Ga.Py(m.Tj);f$X=26;break;case 23:f$X=l >= q?22:38;break;case 24:v=d.Ga.Ai(f);f$X=23;break;case 41:w=p.offset;f$X=40;break;case 7:G1m.c0q(11);var J7V=G1m.M9t(20,20,39);q=n.kq * (p?n.Yxa:J7V);!d.Z && n.iJb && d.ib && d.ib.xh && d.ib.xh.Aa > n.Vta && (q+=n.wka + d.ib.xh.Aa * n.Fwa);f && !d.Z && (q+=f.Pt * n.xka);q=u?Math.min(u,q):q;f$X=12;break;case 4:f$X=l >= u?3:9;break;case 18:f$X=d.Z?17:16;break;case 25:var f7d="o";f7d+="uto";f7d+="f";f7d+="ran";f7d+="ge";return {complete:!0,reason:f7d};break;case 35:q=d.Ga.jf(f);n=Math.min(f + Math.floor(n.CY / q),d.Ga.length - 1);w=d.Ga.Ai(n);f$X=32;break;case 30:--n;f$X=29;break;case 28:p=d.Ga.get(n);G1m.x6U(12);var I9P=G1m.T8X(10,116,1,12);w=I9P * w * k / g - p.Ia.v - q;f$X=43;break;case 17:var h8n="l";h8n+="o";h8n+="wL";h8n+="iv";h8n+="eBuffer";var H9m="liveBuff";H9m+="er";H9m+="Leve";H9m+="l";return g > p && l > q?{complete:!0,reason:H9m}:{complete:!1,rD:q,cb:g,bitrate:p,reason:h8n};break;case 11:var a7P="n";a7P+="othro";a7P+="u";a7P+="ghpu";a7P+="t";return {complete:!1,rD:q,reason:a7P};break;case 39:var U_g="n";U_g+="ore";U_g+="b";U_g+="u";U_g+="ff";return {complete:!0,reason:U_g};break;case 38:var V3$="1";V3$+="SI";V3$+="YbZrNJCp9";0 < g && g < p && (q=Math.min(u,Math.max(n.CY * (p / g - 1),q)));V3$;return {complete:!1,rD:q,progress:h(q)};break;}}};},13550:function(r,b,a){function c(g,k){return g && g.Wr && (k || !1 !== g.Kr);}function m(g,k,d){return "number" === typeof g?Math.min(Math.max(g,k),d):k;}Object.defineProperties(b,{__esModule:{value:!0}});b.jXa=b.k$a=b.zG=b.FL=b.wTb=b.XTb=b.Hf=b.S=void 0;r=a(66164);b.S=new r.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");b.Hf=(function(){function g(k){if(!(this instanceof g))return new g(k);this.gd=k;}return g;})();b.XTb=c;b.wTb=function(g,k){return !g.slice(k + 1).some(function(d){return c(d);});};b.FL=m;b.zG=function(g,k,d){var n,h,l,p;function f(q){var u;u=g[q];return !u.Wr || d && !d(u,q)?!1:!0;}h=g.length;l=0;p=h;Array.isArray(k) && (l=m(k[0],0,h),p=m(k[1],0,h),k=null !== (n=k[2]) && void 0 !== n?n:l + 1);k=m(k || 0,l + 1,p);for(n=k - 1;n >= l;--n)if(f(n))return n;for(n=k + 1;n < p;++n)if(f(n))return n;return -1;};b.k$a=function(g,k){return Math.floor(g / (125 * k) * 1E3);};b.jXa=function(g,k){return Math.ceil(g / 1E3 * k * 125);};},42556:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kR=b.qK=b.rK=b.ZR=void 0;c=a(16096);Object.defineProperties(b,{ZR:{enumerable:!0,get:function(){return c.ZR;}}});m=a(35479);Object.defineProperties(b,{rK:{enumerable:!0,get:function(){return m.rK;}}});g=a(29217);Object.defineProperties(b,{qK:{enumerable:!0,get:function(){return g.qK;}}});k=a(56556);Object.defineProperties(b,{kR:{enumerable:!0,get:function(){return k.kR;}}});},56556:function(r,b,a){var m,g,k,d,f,n,h,l,p,q;function c(u){u.forEach(function(t){return t.Fn=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.kR=void 0;r=a(5163);m=r.__importStar(a(17267));g=a(66164);k=a(91176);d=a(65161);f=a(62156);n=r.__importDefault(a(29340));h=a(33923);a(52571);l=a(3082);p=a(35479);q=a(44284);new g.platform.Console("ASEJS_JOINT_STREAM_SELECTOR","media|asejs");a=(function(){var W77;W77=2;for(;W77 !== 17;){switch(W77){case 2:Object.defineProperties(u.prototype,{mz:{get:function(){var O56;O56=2;for(;O56 !== 1;){switch(O56){case 2:return this.aF;break;case 4:return this.aF;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{CN:{get:function(){var m46;m46=2;for(;m46 !== 1;){switch(m46){case 2:return this.dF;break;case 4:return this.dF;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vta:{get:function(){var G2r,t,v;G2r=2;for(;G2r !== 5;){switch(G2r){case 2:return Math.max(null !== (t=this.mz) && void 0 !== t?t:0,null !== (v=this.CN) && void 0 !== v?v:0);break;}}},enumerable:!1,configurable:!0}});W77=4;break;case 4:Object.defineProperties(u.prototype,{eY:{get:function(){var C05;C05=2;for(;C05 !== 1;){switch(C05){case 2:return this.Jcc;break;}}},enumerable:!1,configurable:!0}});u.prototype.Pba=function(t,v,w,y,x,z,A){var R3n,B,D,C,E,G,F,I,P,V7N,W9R;R3n=2;for(;R3n !== 33;){switch(R3n){case 16:y=this.Qm.Reb;R3n=14;break;case 34:R3n=V7N === d.Fb.Pn?23:8;break;case 24:t.state=d.Fb.Pn;R3n=23;break;case 35:R3n=V7N === d.Fb.Sg?9:34;break;case 12:R3n=(G=w.gd)?11:10;break;case 22:R3n=V7N === d.Fb.Zj?9:21;break;case 27:y=this.Qm.Qeb;R3n=14;break;case 6:y=this.Qm.Wz;R3n=14;break;case 2:(C=null === t || void 0 === t?void 0:t.buffer,E=g.platform.time.sa(),G=this.T,F=v.first);c(v.first);(I=this.Cua(G,t,v.first),P=I.qna);I=I.xpa;R3n=3;break;case 14:w=y.call(this.Qm,G,t,v,P,!!x,I,w);w.nf=t.state;R3n=12;break;case 8:void 0 !== y && this.tY(v,t.state,t.buffer,y);R3n=7;break;case 11:var b0_="p";b0_+="l";b0_+="a";b0_+="yin";b0_+="g";var z7L="min_";z7L+="frag";z7L+="ment";z7L+="_";z7L+="vmaf";(this.ST.QI(G.mk(d.u.Y)),this.z_.QI(G.mk(d.u.X)),this.pua(v.first,G,C.Wi - C.Tc),w.eD=G.cb || 0,w.ib=G.ib,w.reason && (G.Po=w.reason,z7L !== w.reason && (G.qza=w.nw,G.lN=w.lN,G.Qra=null === (B=w.ib) || void 0 === B?void 0:B.FT,G.Rra=null === (D=w.ib) || void 0 === D?void 0:D.Ii)),v=this.Dua(F,G,C,t,A,x),w.xn=v || w.xn,P && !I && G.bitrate < P.bitrate && (this.aF=C.Tj),t.state !== d.Fb.Ie && t.state !== d.Fb.Sg?(P=(0,f.$wa)(t.state),z=this.Tv(t.buffer,P,t.playbackRate,G,z),(w.dk=z.complete)?w.xla=z.reason:(w.dk=!1,w.rD=z.rD,w.fX=z.fX,w.progress=z.progress)):(w.dk=!0,w.xla=b0_));R3n=10;break;case 3:V7N=t.state;R3n=V7N === d.Fb.me?9:22;break;case 21:R3n=V7N === d.Fb.Ie?9:35;break;case 10:t.dM && G && (0,n.default)(this.fxa(G,C,t,E),w);return w;break;case 19:R3n=W9R === d.Fb.me?18:17;break;case 9:R3n=P?8:24;break;case 7:W9R=t.state;R3n=W9R === d.Fb.Pn?6:19;break;case 15:R3n=W9R === d.Fb.Sg?27:26;break;case 26:R3n=25;break;case 17:R3n=W9R === d.Fb.Zj?16:15;break;case 23:(this.dF=this.aF=void 0,P && (t.state=d.Fb.me));R3n=8;break;case 18:y=this.Qm.ax;R3n=14;break;case 25:y=this.Qm.ve;R3n=14;break;}}};u.prototype.Tv=function(t,v,w,y,x){var F6I;F6I=2;for(;F6I !== 1;){switch(F6I){case 2:return this.Qm.MXa(t,v,w,y,x,this.T);break;}}};u.prototype.Tgb=function(t,v,w){var K_G;K_G=2;for(;K_G !== 1;){switch(K_G){case 2:m.wo(v)?this.aF=this.dF=void 0:v.bitrate < w.bitrate && (this.dF=t);K_G=1;break;}}};u.prototype.tY=function(t,v,w,y){var y5w,x,z,A;y5w=2;for(;y5w !== 5;){switch(y5w){case 2:x=this;t.U6(function(B){var c8h;c8h=2;for(;c8h !== 1;){switch(c8h){case 2:x.zM(B,function(D){var A5s;A5s=2;for(;A5s !== 1;){switch(A5s){case 2:D.Wr && D.ib && D.ib.confidence?(z !== D.ib && (z=D.ib,A=y(D.ib,w,v,0,!1)),D.cb=Math.floor(A.lower) || 1,D.UZ=void 0 !== A.upper?Math.floor(A.upper):1):D.cb=void 0;A5s=1;break;}}});c8h=1;break;}}});y5w=5;break;}}};u.prototype.Dua=function(t,v,w,y,x,z){var D6M,A;D6M=2;for(;D6M !== 4;){switch(D6M){case 2:D6M=this.eY?1:4;break;case 1:A=(0,k.mc)(t,function(B,D){var v$J;v$J=2;for(;v$J !== 1;){switch(v$J){case 2:U6ONX.x6U(13);var M2N=U6ONX.T8X(5,9,54,20);return t[D - M2N] === v;break;}}}) || v;return this.eY.U3a({CB:w.Wi - w.Tc,ZWa:w.um || 0,XWa:w.GB || 0,Tc:w.Tc,F8a:t[0].Ud,gd:v.Ud,rjb:A.Ud,$hb:t[t.length - 1].Ud,nf:y.state,playbackRate:y.playbackRate,Sd:y.Sd,FG:x,zn:z});break;}}};W77=14;break;case 14:u.prototype.fxa=function(t,v,w,y){var x95,E,x,z,A,B,D,C;x95=2;for(;x95 !== 17;){switch(x95){case 5:E=[];C.forEach(function(G){var E_L,F;E_L=2;for(;E_L !== 4;){switch(E_L){case 2:F=G.stat;F=(G=D[G.filter]) && G[F];E.push(isNaN(F)?-1:F);E_L=4;break;}}});x95=3;break;case 6:B.zr=t && void 0 !== C && !isNaN(C) && 0 <= C && C < t.length?t.tl(C):v.Tj;B.iab=D && D.cb && D.cb.Aa || 0;B.Dla=v.Wi - v.Tc;B.dXa=v.um;B.Jbb=null !== (A=null === (z=null === (x=g.platform.QOb) || void 0 === x?void 0:x.call(g.platform)) || void 0 === z?void 0:z[w.mediaType === d.u.X?1:0]) && void 0 !== A?A:-1;B.fi=w && w.fi;x95=20;break;case 1:x95=D && C && 0 < C.length?5:9;break;case 9:B.Tj=v.Tj;C=w && w.Sd;t=t.Ga;x95=6;break;case 20:B.Gq=y;B.cA=g.platform.time.sa();return B;break;case 2:(B={},D=t.ib,C=this.T.yja);x95=1;break;case 3:B.Ybb=E;x95=9;break;}}};u.prototype.Cua=function(t,v,w){var q5m,y,x,z,A;q5m=2;for(;q5m !== 7;){switch(q5m){case 3:z || (y=(0,q.fra)(w,y.bitrate,y.ub),v=!0,t.I$a && x && A && (v=!1));q5m=9;break;case 5:q5m=(y=this.z7())?4:8;break;case 2:x=this.z7();v=!1;q5m=5;break;case 4:(z=(0,k.mc)(w,function(B){var Y59;Y59=2;for(;Y59 !== 1;){switch(Y59){case 4:return B.isEqual(y);break;case 2:return B.isEqual(y);break;}}}),A=(0,k.mc)(w,function(B){var q4t;q4t=2;for(;q4t !== 1;){switch(q4t){case 2:return B.isEqual(x);break;case 4:return B.isEqual(x);break;}}}));q5m=3;break;case 9:return {qna:y,xpa:v};break;case 8:v=!0;q5m=9;break;}}};u.prototype.z7=function(){var o0I;o0I=2;for(;o0I !== 5;){switch(o0I){case 1:return new h.tA({audio:this.ST.pk,video:this.z_.pk});break;case 2:o0I=this.ST.pk || this.z_.pk?1:5;break;}}};u.prototype.aj=function(t){var H0g;H0g=2;for(;H0g !== 1;){switch(H0g){case 2:return t === d.u.Y?this.ST:this.z_;break;}}};u.prototype.Kfb=function(t){var e$k,v,w;e$k=2;for(;e$k !== 4;){switch(e$k){case 1:(null === (v=t.track) || void 0 === v?void 0:v.mediaType) === d.u.Y && (this.ST=t);(null === (w=t.track) || void 0 === w?void 0:w.mediaType) === d.u.X && (this.z_=t);e$k=4;break;case 2:e$k=1;break;}}};W77=20;break;case 20:u.prototype.pua=function(t,v,w){var s$A;s$A=2;for(;s$A !== 7;){switch(s$A){case 8:--w;s$A=3;break;case 4:U6ONX.x6U(14);var K3Z=U6ONX.T8X(2,1,14,197,11);w=t.length - K3Z;s$A=3;break;case 1:t.forEach(function(y){var x2W;x2W=2;for(;x2W !== 1;){switch(x2W){case 2:return y.Fn=!y.Ga || !y.Ga.length;break;}}});s$A=7;break;case 9:(t[w - 1] && t[w - 1].isEqual(v) && t[w].T6(function(y){var e4J,x;e4J=2;for(;e4J !== 5;){switch(e4J){case 2:null !== (x=y.Ga) && void 0 !== x && x.length || (y.Fn=!0);e4J=5;break;}}}),t[w + 1] && t[w + 1].isEqual(v) && t[w].T6(function(y){var U86,x;U86=2;for(;U86 !== 5;){switch(U86){case 2:null !== (x=y.Ga) && void 0 !== x && x.length || (y.Fn=!0);U86=5;break;}}}));s$A=8;break;case 2:s$A=this.T.n0a?1:5;break;case 3:s$A=0 <= w?9:7;break;case 5:s$A=this.T.ogb && w > this.T.CX && !v.Z && t.every(function(y){var r4s;r4s=2;for(;r4s !== 1;){switch(r4s){case 2:return !y.Fn;break;}}})?4:7;break;}}};u.prototype.zM=function(t,v){var H3k,w;H3k=2;for(;H3k !== 3;){switch(H3k){case 2:U6ONX.x6U(15);var M53=U6ONX.M9t(45,2,5,4,5);w=t.length - M53;H3k=1;break;case 5:v(t[w],w,t);H3k=4;break;case 1:H3k=0 <= w?5:3;break;case 14:++w;H3k=4;break;case 4:--w;H3k=1;break;}}};return u;break;}}function u(t,v,w,y,x){var i3M;i3M=2;for(;i3M !== 6;){switch(i3M){case 2:var o1S="def";o1S+="aul";o1S+="t";var w_R="1SIYb";w_R+="Z";w_R+="rNJCp9";this.Web=t;this.T=v;this.ST=w;this.z_=y;w_R;t || (t=v.wca);this.Qm=new ((l.iZ[t] || l.iZ[o1S])())(this);i3M=7;break;case 7:x && (this.Jcc=new p.rK(v,d.u.X));i3M=6;break;}}}})();b.kR=a;},29217:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qK=void 0;c=a(5163);r=(function(){function m(g,k,d){var f,n,h;this.oq=g;"HYBRID" === g?this.eN=d:"CCSP" === g && (this.aA=null !== (f=k.aA) && void 0 !== f?f:0,this.xy=null !== (n=k.xy) && void 0 !== n?n:0,this.Pz=null !== (h=k.Pz) && void 0 !== h?h:0);}Object.defineProperties(m.prototype,{Ocb:{get:function(){var g;return "HYBRID" === this.oq?[null !== (g=this.eN.xn) && void 0 !== g?g:0]:"CCSP" === this.oq?[this.aA,this.xy,this.Pz]:[];},enumerable:!1,configurable:!0}});m.prototype.W9a=function(){return Math.min(this.aA,this.xy,this.Pz);};m.prototype.T8=function(){return this.Ocb.some(function(g){return 0 < g;});};m.prototype.$ya=function(g){return new m(this.oq,{aA:g * this.aA,xy:g * this.xy,Pz:g * this.Pz});};m.prototype.sua=function(g,k,d,f){var n;n=8 * g / Math.max(d - k,1);if(!this.T8())return !1;g=this.Ocb.map(function(h){return Math.abs(n - h) / h;});return Math.min.apply(Math,c.__spreadArray([],c.__read(g),!1)) < f;};return m;})();b.qK=r;},35479:function(r,b,a){var u,t,v;function c(w){return g(w.gd);}function m(w,y){var x,z,A,B,D;A=k(y.k4b,w.nf,null !== (z=null === (x=w.gd.ib) || void 0 === x?void 0:x.confidence) && void 0 !== z?z:u.Jx.HAVE_NOTHING);if(0 === A.length)return 0;a:switch(y.b0b){case "implicit":y=q(y,w.gd);y=w.CB / y;break a;case "capacityPercentage":y=Math.max(w.ZWa / w.XWa || 0,w.CB / y.HH);break a;default:y=0;}z=-1;for(x=0;x < A.length;x++)if(A[x].N4 >= y){z=x;break;}if(-1 === z)return d(w,A[A.length - 1].Bma);if(0 === z)return d(w,A[0].Bma);B=A[z - 1].N4;x=d(w,A[z - 1].Bma);D=A[z].N4;w=d(w,A[z].Bma);A=Math.min((y - B) / (D - B),1);return (1 - A) * x + A * w;}function g(w){var y,x;x=null === (y=null === w || void 0 === w?void 0:w.ca) || void 0 === y?void 0:y.MN;return x?x[w.mediaType] || 0:0;}function k(w,y,x){var A;function z(B,D){return void 0 !== B && 0 < B.filter(function(C){return C === D;}).length;}A=w.filter(function(B){return z(B.Daa,y);});0 === A.length && (A=w.filter(function(B){return !B.Daa || 0 === B.Daa.length;}));w=A.filter(function(B){return z(B.t$a,x);});0 === w.length && (w=A.filter(function(B){return !B.t$a || 0 === B.t$a.length;}));return w.sort(function(B,D){return B.N4 - D.N4;});}function d(w,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=w.gd;z=w.rjb;A=w.$hb;B={selectedFragmentBitrate:f(w.FG,x,w.Sd) * w.playbackRate,selectedPeakBitrate:(x.hs || n(x) || 0) * w.playbackRate,upswitchPeakBitrate:(z.hs || n(z) || 0) * w.playbackRate,maxPeakBitrate:(A.hs || n(A) || 0) * w.playbackRate,selectedAverageBitrate:n(x) * w.playbackRate,upswitchAverageBitrate:n(z) * w.playbackRate,maxAverageBitrate:g(x) * w.playbackRate,bufferLevelMs:w.CB,observedThroughput:h(w.gd) || 0,averagetp:l(w.gd) || 0,stddevtp:p(w.gd) || 0};w=y.offset || 0;return Object.keys(B).reduce(function(D,C){return D + (y[C] || 0) * B[C];},w);}function f(w,y,x){var z;return y?void 0 !== x && y.Ga?(void 0 === w?null === (z=y.Ga) || void 0 === z?void 0:z.get(x).rla:w.i3a(y,x).rla) || y.hs || 0:y.hs || 0:0;}function n(w){return (null === w || void 0 === w?void 0:w.bitrate) || 0;}function h(w){var y;w=w.ib;return (null === (y=null === w || void 0 === w?void 0:w.cb) || void 0 === y?void 0:y.Aa) || 0;}function l(w){var y;w=w.ib;return (null === (y=null === w || void 0 === w?void 0:w.Ym) || void 0 === y?void 0:y.rL) || 0;}function p(w){var y;w=w.ib;return Math.sqrt((null === (y=null === w || void 0 === w?void 0:w.Ym) || void 0 === y?void 0:y.gQ) || 0);}function q(w,y){var x,z;x=w.u$b;x=l(y) + x * p(y);y=y.cb || 0;z=0;0 < y && (z=x / y - 1);return w.aYb + w.t$b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.fOb=b.aPb=b.jNb=b.rK=void 0;r=a(66164);u=a(65161);t=a(29217);new r.platform.Console("ASEJS_PACERATE_SELECTOR","media|asejs");v={maxStreamBitrate:c,"static":function(w,y){return y.Hgb;},none:function(){return 0;},regression:m,epsGreedy:function(w,y){return Math.min(m(w,y) || 0,h(w.gd));},"default":c};a=(function(){function w(y,x){var p_L;p_L=2;for(;p_L !== 7;){switch(p_L){case 2:var c0w="de";c0w+="fa";c0w+="ul";c0w+="t";var E6E="1S";E6E+="I";E6E+="YbZrNJCp9";this.T=y;E6E;this.algorithm=(v[x === u.u.Y?this.T.Z_b:this.T.Y_b] || v[c0w]).bind(this);p_L=4;break;case 4:p_L=y.t6?3:9;break;case 9:p_L=y.r6 || y.q6 || y.ooa?8:7;break;case 3:var D_$="H";D_$+="YB";D_$+="R";D_$+="I";D_$+="D";this.oq=D_$;p_L=7;break;case 8:var Q5j="C";Q5j+="CS";Q5j+="P";this.oq=Q5j;p_L=7;break;}}}var k5u;k5u=2;for(;k5u !== 9;){switch(k5u){case 5:w.prototype.s7=function(y,x,z,A,B){var n6v;n6v=2;for(;n6v !== 9;){switch(n6v){case 2:n6v=!x?1:5;break;case 7:n6v=~x?2:8;break;case 5:U6ONX.c0q(16);y=Math.ceil(U6ONX.M9t(x,y));y=Math.max(y,Math.ceil(A * B));return y < (this.T.j5.dmc || 0) * (z || 0)?0:y;break;case 1:return 0;break;case 6:return 1;break;}}};w.prototype.U3a=function(y){var y0w,x,z,A;y0w=2;for(;y0w !== 7;){switch(y0w){case 2:(z=null === (x=y.gd) || void 0 === x?void 0:x.mediaType,A=this.T.t6 || z === u.u.Y && this.T.q6 || z === u.u.X && this.T.r6);x=this.i2a(0,y);z=this.T.j5;y0w=4;break;case 3:return x;break;case 9:x=y.zn?this.algorithm(y,this.T):this.fPb(y);return this.i2a(x,y);break;case 4:y0w=!this.oq || !A || !z || (A=this.T.Wac) && y.Sd && 0 === y.Sd % A || y.CB < z.Az?3:9;break;}}};return w;break;case 2:w.prototype.i2a=function(y,x){var O7j,z,A,B,D;O7j=2;for(;O7j !== 14;){switch(O7j){case 4:var z00="HYB";z00+="RI";z00+="D";O7j=z00 === this.oq?3:6;break;case 8:D=new t.qK(this.oq,void 0,{LRb:1,xn:D,Xla:Number(this.T.Xla),qXb:this.T.eXb,xya:Number(this.T.xya)});O7j=7;break;case 2:(A=this.T.j5,B=null === (z=x.F8a) || void 0 === z?void 0:z.hs);x=f(x.FG,x.gd,x.Sd) * x.playbackRate;z=(null === A || void 0 === A?void 0:A.cmc) || [0,0,0];O7j=4;break;case 6:var G5x="C";G5x+="C";G5x+="S";G5x+="P";G5x === this.oq && (D=new t.qK(this.oq,A?{aA:this.s7(y,A.Sxa[0],B,x,z[0]),xy:this.s7(y,A.Sxa[1],B,x,z[1]),Pz:this.s7(y,A.Sxa[2],B,x,z[2])}:{aA:0,xy:0,Pz:0},void 0));O7j=7;break;case 3:D=y;this.T.j5 && (D=this.s7(y,A.Sxa[0],B,x,z[0]));O7j=8;break;case 7:return D;break;}}};w.prototype.fPb=function(y){var P2C,x,z;P2C=2;for(;P2C !== 5;){switch(P2C){case 2:var M2c="sta";M2c+="t";M2c+="ic";var Q13="C";Q13+="C";Q13+="SP";var t0K="HY";t0K+="BR";t0K+="I";t0K+="D";z=null === (x=y.gd) || void 0 === x?void 0:x.mediaType;return t0K !== this.oq || this.T.NIb?Q13 === this.oq && (z === u.u.Y && !this.T.LIb || z === u.u.X && !this.T.MIb)?0:M2c === this.T.$_b?this.T.Hgb:g(y.gd):0;break;}}};k5u=5;break;}}})();b.rK=a;b.jNb=k;b.aPb=h;b.fOb=q;},70753:function(r,b,a){var g,k,d;function c(f,n){var h;n.some(function(l){var p;p=l.profiles;(p=p && 0 <= p.indexOf(f)) && (h=l.override);return p;});return h;}function m(f,n,h,l,p,q){return q && f > p.pz && (void 0 === h || Number(n) > h || l - h > p.bX);}Object.defineProperties(b,{__esModule:{value:!0}});g=a(5163);k=a(91176);d=a(13550);r=g.__importDefault(a(46263));r=(function(f){var v3v;v3v=2;for(;v3v !== 3;){switch(v3v){case 4:return n;break;case 2:g.__extends(n,f);n.prototype.Wz=function(h,l,p,q){var W0E,u,t,v,w,y,x;W0E=2;for(;W0E !== 3;){switch(W0E){case 4:return f.prototype.Wz.call(this,y,l,p,q);break;case 14:return f.prototype.Wz.call(this,y,l,p,q);break;case 5:(x=h && h.Lu && 0 <= h.Lu.indexOf(x)?c(x,h.Dca):c(x,h.ela)) && (y={ala:null !== (u=x.audioBwFactor) && void 0 !== u?u:h.ala,yz:null !== (t=x.minInitAudioBitrate) && void 0 !== t?t:h.yz,yw:null !== (v=x.maxInitAudioBitrate) && void 0 !== v?v:h.yw,UN:null !== (w=x.minRequiredAudioBuffer) && void 0 !== w?w:h.UN});W0E=4;break;case 2:(y=h,x=p.first);x=(q || x[0]).wd;W0E=5;break;}}};n.prototype.ve=function(h,l,p,q){var m10,w,z,A,y,x,B,u,t,v;m10=2;for(;m10 !== 33;){switch(m10){case 35:A=z;m10=20;break;case 9:h.Dca.some(function(D){var x_d,C,E,G,F,I,P;x_d=2;for(;x_d !== 9;){switch(x_d){case 3:return E;break;case 2:(C=D.profiles,E=C && 0 <= C.indexOf(t));x_d=1;break;case 1:x_d=E?5:3;break;case 5:(G=(D=D.override) && D.minRequiredAudioBuffer || h.UN,F=D && D.minAudioBitrate || -Infinity,I=D && D.maxAudioBitrate || Infinity,P=l.buffer.GB || Infinity);x_d=4;break;case 4:w=u.filter(function(M){var j50,L;j50=2;for(;j50 !== 5;){switch(j50){case 2:L=M.bitrate;return L >= F && L <= I && 0 <= C.indexOf(M.wd) && L * G / 8 < P;break;}}});x_d=3;break;case 12:return E;break;}}});p=q;m10=6;break;case 12:(z=(0,k.Sk)(w,function(D){var x4s;x4s=2;for(;x4s !== 1;){switch(x4s){case 2:return D.isEqual(q);break;}}}),A=z);m10=11;break;case 14:(y=q.bitrate,x=p=void 0);v?(p=h.Yyb,x=Math.max(.1,1 - h.Ehb) * Math.pow(Math.min(1,(l.buffer.Wi - l.buffer.Tc) / h.HC),h.Dhb),x=q.ib?q.ib.cb.Aa * x:0):(p=h.Xyb,x=q.cb || 0);m10=12;break;case 10:A=0;m10=20;break;case 21:m10=(v=w[z],v.jz && x > p.cbc * v.bitrate * l.playbackRate)?35:22;break;case 15:A=v;m10=20;break;case 11:m10=0 > z?10:19;break;case 25:y=l.buffer;B=y.Wi - y.Tc;m10=23;break;case 2:var t39="Must have at least one selec";t39+="ted strea";t39+="m";u=p.first;(0,k.assert)(q,t39);(t=q.wd,v=q.Z);m10=4;break;case 16:m10=(z=w[v],z.jz && (0 === v || z.bitrate * l.playbackRate * p.VHb < x))?15:27;break;case 18:U6ONX.x6U(3);v=U6ONX.M9t(z,1);m10=17;break;case 23:m10=(q.Ga && q.Ga.length || v) && m(B,this.Hu.CN,this.Hu.mz,y.Tj,p,!!l.AC)?22:20;break;case 6:m10=w && 1 < w.length?14:34;break;case 4:m10=!(h && h.Lu && 0 <= h.Lu.indexOf(t))?3:9;break;case 22:m10=++z < w.length?21:20;break;case 27:v--;m10=17;break;case 20:p=w[A];m10=34;break;case 3:return new d.Hf(q);break;case 26:m10=z < w.length - 1 && x > p.cbc * y * l.playbackRate?25:20;break;case 34:return new d.Hf(p);break;case 19:m10=z && x < p.VHb * y * l.playbackRate?18:26;break;case 17:m10=0 <= v?16:20;break;}}};v3v=4;break;}}function n(h){var S9G;S9G=2;for(;S9G !== 4;){switch(S9G){case 2:h=f.call(this,h) || this;S9G=1;break;case 1:var i0r="1SI";i0r+="YbZr";i0r+="NJ";i0r+="Cp9";i0r;return h;break;}}}})(r.default);b["default"]=r;},46263:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(91176);g=a(13550);r=(function(k){function d(f){return k.call(this,f) || this;}c.__extends(d,k);d.prototype.Wz=function(f,n,h){var l,p,u,t,v,w,y;l=new g.Hf();p=f.ala || 1;h=h.first;for(var q=h.length - 1;0 <= q;--q){u=void 0;t=h[q];v=t.bitrate;w=t.cb || 0;y=!!w;t.Wr?(t=null !== (u=f.yw) && void 0 !== u?u:Infinity,u=v > t || !(v * f.UN / 8 < (n.buffer.GB || Infinity))?!1:y?v * n.playbackRate < w / p?!0:!1:v <= f.yz?!0:!1):u=!1;if(u){l.gd=h[q];break;}h[q].jz && (l.gd=h[q]);}return l;};d.prototype.ax=function(f,n,h,l){(0,m.assert)(l,"Must have at least one selected stream");return new g.Hf(l);};d.prototype.ve=function(f,n,h,l){(0,m.assert)(l,"Must have at least one selected stream");return new g.Hf(l);};return d;})(a(75498).sv);b["default"]=r;},58223:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(91176);g=a(13550);r=(function(k){function d(f){return k.call(this,f) || this;}c.__extends(d,k);d.prototype.ve=function(f,n,h,l){f=h.first;if(void 0 === l)l=f[(0,g.zG)(f)];else if(!l.jz && (n=(0,m.Sk)(f,function(p){return p.isEqual(l);}),l=f[(0,g.zG)(f,n)],void 0 === l))return new g.Hf();return new g.Hf(l);};return d;})(a(75498).sv);b["default"]=r;},52255:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=c.__importDefault(a(80588));m=a(4620);a=(function(g){function k(d){d=g.call(this,d) || this;d.ve=m.ve;return d;}c.__extends(k,g);return k;})(r.default);b["default"]=a;},4620:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ve=void 0;r=a(5163);c=r.__importStar(a(17267));m=a(66164);g=a(91176);k=a(13550);d=a(50468);f=r.__importDefault(a(80588));b.ve=(function(){var z3s;z3s=2;for(;z3s !== 5;){switch(z3s){case 2:var F4I="1SIY";F4I+="bZrNJ";F4I+="Cp9";F4I;return {ve:function(n,h,l,p,q,u){var c$W,G,t,v,w,y,x,z,L,E,A,B,D,C,F,I,P,M;c$W=2;for(;c$W !== 66;){switch(c$W){case 30:G=z.ib.tdigest;E.push(G.min);c$W=28;break;case 20:c$W=void 0 !== x?19:59;break;case 41:E.push(G.nwa);c$W=40;break;case 53:c$W=M < Math.min(M + n.$yb,I.length)?52:49;break;case 2:var S9g="pla";S9g+="y";S9g+="er ";S9g+="missing f";S9g+="ragmentIndex";var L_7="Mu";L_7+="st have a selected stream for selectP";L_7+="lay";L_7+="ing";(0,g.assert)(p,L_7);(0,g.assert)(c.Tb(h.Sd),S9g);(v=n.y9b,w=l.first,y=new k.Hf(p),x=null !== (t=h.Sd) && void 0 !== t?t:-1);t=v[0].f;z=v[v.length - 1].f;c$W=8;break;case 55:c$W=z < v.length?77:73;break;case 67:z--;c$W=71;break;case 26:u=u.Wi - u.Tc;v=d.Kq.CZa(h.buffer.Ga);v=h.buffer.GB - v.ta;c$W=23;break;case 47:P+=I.get(M).Bb.v;c$W=46;break;case 45:I=void 0;h.Vzb && (I=m.platform.time.sa() - h.Vzb);q.push({Sd:h.Sd,Eoc:I,smc:P,sjc:A,Aoc:E,Coc:G,Dla:u,d2a:v,Pjc:F,Vlc:p.bitrate,Wlc:null !== (B=p.ub) && void 0 !== B?B:0,Zjc:z.bitrate,$jc:null !== (D=z.ub) && void 0 !== D?D:0,Xnc:l.bitrate,Ync:null !== (C=l.ub) && void 0 !== C?C:0,M8:x});c$W=63;break;case 40:E.push(G.max);c$W=39;break;case 57:c$W=A < x?56:72;break;case 72:--z;c$W=71;break;case 49:M=h.Sd;c$W=48;break;case 35:z=w[t];A=void 0;c$W=33;break;case 8:c$W=x < t || x > z?7:6;break;case 52:L=I.get(M);F.push({d:L.Bb.v,b:L.ta});c$W=50;break;case 71:c$W=0 <= z?70:73;break;case 33:E=[];z.ib && z.ib.throughput && (A=z.ib.throughput.Aa);c$W=31;break;case 76:t=z;c$W=73;break;case 39:G=void 0;z.ib && z.ib.tputTrace && (G=z.ib.tputTrace);c$W=37;break;case 10:x=z;c$W=20;break;case 74:z++;c$W=55;break;case 73:x=t;c$W=20;break;case 50:M++;c$W=53;break;case 48:c$W=M < I.length?47:45;break;case 19:y.gd=w[v[x].Jnc];c$W=18;break;case 69:t=z;c$W=73;break;case 59:return f.default.prototype.ve.call(this,n,h,l,p,q,u);break;case 28:E.push(G.mwa);E.push(G.mq);E.push(G.wn);E.push(G.nq);c$W=41;break;case 6:U6ONX.c0q(3);z=U6ONX.M9t(x,t);0 > z && (z=0);z >= v.length && (z=v.length - 1);A=v[z].f;c$W=11;break;case 17:l=y.gd;q=[];u=h.buffer;c$W=26;break;case 60:return y;break;case 61:y.pjc=q;c$W=60;break;case 37:(F=[],I=z.Ga,P=0);c$W=36;break;case 36:c$W=void 0 !== I?54:45;break;case 68:c$W=v[z].f < x?73:67;break;case 56:z+=1;c$W=55;break;case 31:c$W=z.ib && z.ib.tdigest?30:39;break;case 21:c$W=t < w.length?35:61;break;case 62:t++;c$W=21;break;case 18:c$W=n.nJb?17:60;break;case 46:M++;c$W=48;break;case 70:c$W=v[z].f === x?69:68;break;case 58:t=void 0;c$W=57;break;case 7:return f.default.prototype.ve.call(this,n,h,l,p,q,u);break;case 77:c$W=v[z].f === x?76:75;break;case 54:M=h.Sd;c$W=53;break;case 11:c$W=A === x?10:58;break;case 23:x=!0;c$W=22;break;case 75:c$W=v[z].f > x?73:74;break;case 63:z === l && (x=!1);c$W=62;break;case 22:t=0;c$W=21;break;}}}};break;}}})().ve;},63499:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(13550);r=(function(g){function k(d){return g.call(this,d) || this;}c.__extends(k,g);k.prototype.ve=function(d,f,n){d=n.first;return new m.Hf(d[d.length - 1]);};return k;})(a(75498).sv);b["default"]=r;},65114:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=c.__importDefault(a(80588));m=a(57862);a=(function(g){function k(d){d=g.call(this,d) || this;d.ve=m.ve;return d;}c.__extends(k,g);return k;})(r.default);b["default"]=a;},57862:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ve=void 0;c=a(91176);m=a(13550);b.ve=(function(){var b5J;b5J=2;for(;b5J !== 5;){switch(b5J){case 2:var E$4="1SIYbZr";E$4+="NJC";E$4+="p";E$4+="9";E$4;return {ve:function(g,k,d,f){var j9_,p,q,u,t,n,h,l;j9_=2;for(;j9_ !== 19;){switch(j9_){case 8:h.gd=d[0];j9_=7;break;case 12:h.gd=l;j9_=20;break;case 7:j9_=-1 < g?6:20;break;case 4:d=d.first;U6ONX.c0q(11);var N4h=U6ONX.T8X(6,2,7);p=g.Ehb * Math.pow(Math.min(N4h,(k.buffer.Wi - k.buffer.Tc) / g.HC),g.Dhb);void 0 === this.Hu.mz || l - this.Hu.mz > g.bX?g=d.length - 1:(g=(0,c.Sk)(d,function(v){var a21;a21=2;for(;a21 !== 1;){switch(a21){case 2:return v.isEqual(f);break;}}}),g=(d.length + g) % d.length);j9_=8;break;case 14:(q=l.ib.cb.Aa,u=l.bitrate,t=l.Taa(null !== (n=k.Sd) && void 0 !== n?n:-1));j9_=13;break;case 11:--g;j9_=7;break;case 10:var C2w="Stream has no ";C2w+="throughp";C2w+="ut statis";C2w+="tics";m.S.warn(C2w);j9_=11;break;case 20:return h;break;case 2:var R6J="M";R6J+="ust have ";R6J+="at least one selected stream";(0,c.assert)(f,R6J);(h=new m.Hf(f),l=k.buffer.Tj);j9_=4;break;case 6:j9_=(l=d[g],l.ib && l.ib.cb)?14:10;break;case 13:j9_=u * k.playbackRate < q * p && t?12:11;break;}}}};break;}}})().ve;},4272:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(13550);r=(function(g){function k(d){return g.call(this,d) || this;}c.__extends(k,g);k.prototype.ve=function(d,f,n){return new m.Hf(n.first[0]);};return k;})(a(75498).sv);b["default"]=r;},80588:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(75498);m=a(4969);g=a(98301);k=a(71406);a=(function(d){function f(n){n=d.call(this,n) || this;n.Wz=k.Wz;n.ax=m.ax;n.ve=g.ve;return n;}c.__extends(f,d);return f;})(r.sv);b["default"]=a;},4969:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ax=void 0;c=a(91176);m=a(13550);g=a(98301);b.ax=(function(){var m2l;m2l=2;function k(d,f,n,h){function l(w){var Z_X,y;Z_X=2;for(;Z_X !== 8;){switch(Z_X){case 4:var U35="b";U35+="uff_lt_hi";U35+="st";t=U35;v=y;return !0;break;case 2:y=w.cb;Z_X=1;break;case 5:return !1;break;case 1:Z_X=!y || (w.bitrate > q?d.Ubc:1) * w.bitrate * f.playbackRate > y?5:4;break;}}}var m2t,p,q,t,v,u;m2t=2;for(;m2t !== 16;){switch(m2t){case 2:var z4C="Must have ";z4C+="at leas";z4C+="t one selected s";z4C+="tre";z4C+="am";(0,c.assert)(h,z4C);(p=n.first,q=h.bitrate);n=h;m2t=4;break;case 9:u=(0,c.Sk)(p,function(w){var i6X;i6X=2;for(;i6X !== 1;){switch(i6X){case 4:return w.isEqual(h);break;case 2:return w.isEqual(h);break;}}});u=Math.max(u,0);u=Math.min(u + (d.Ixb?2:1),p.length);h=(0,c.mc)(p.slice(0,u).reverse(),l);m2t=14;break;case 20:p=new m.Hf();p.gd=h;n.Vb !== h.Vb && (p.reason=t,p.nw=v);return p;break;case 12:var N5G="f";N5G+="allback_lowest_acce";N5G+="ptable_stream";t=N5G;m2t=11;break;case 10:var k6Q="selec";k6Q+="t_f";k6Q+="easible_buffe";k6Q+="ring";t=k6Q;m2t=11;break;case 11:v=null === h || void 0 === h?void 0:h.cb;m2t=20;break;case 13:h=p[0];m2t=12;break;case 4:m2t=h.cb?3:20;break;case 3:u=void 0;m2t=9;break;case 14:m2t=void 0 === h?13:10;break;}}}for(;m2l !== 5;){switch(m2l){case 2:var M4j="1SIYbZ";M4j+="rNJ";M4j+="C";M4j+="p";M4j+="9";M4j;return {ax:function(d,f,n,h,l,p){var Q8z;Q8z=2;for(;Q8z !== 1;){switch(Q8z){case 2:var T_7="pla";T_7+="yin";T_7+="g";return T_7 === d.Ala?g.ve.call(this,d,f,n,h,l,p):k.call(this,d,f,n,h);break;}}}};break;}}})().ax;},98301:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.hoa=b.M8=b.ve=void 0;r=a(5163);m=r.__importStar(a(17267));g=a(91176);k=a(50468);d=a(13550);f=r.__importDefault(a(62737));n=a(65161);h=a(20880);b.ve=(c=(function(){function l(q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L){var M7Q,Q,J,H,K,O,R,ca;M7Q=2;for(;M7Q !== 16;){switch(M7Q){case 14:M7Q=!Q || Q < u.bitrate * M * q.Lra || !O?13:12;break;case 2:void 0 === L && (L=0);u=t[0].stream;J=null === (Q=v[0]) || void 0 === Q?void 0:Q.stream;M7Q=3;break;case 13:return !1;break;case 17:return 0 < G || 0 < F?(0,f.default)({ZLb:ca,blocks:D + G + F,Tc:y,Wi:z,E8b:x,ps:C,Tj:A,Sd:D,zLb:D + G,j6:P,d2a:E,cb:(Q - L) / M,VXb:I,Az:q.Az,JIb:!1}):Q > u.hs?{result:!0,gX:0,Kr:!0}:{result:!1,gX:0,Kr:!0};break;case 19:t.forEach(function(oa){var z5w,ta,Fa;z5w=2;for(;z5w !== 4;){switch(z5w){case 2:(ta=oa.stream,Fa=oa.blocks);oa=oa.Sd;m.Tb(oa) && ta.Ga && ca.add(ta.Ga.Ku.subarray(oa,oa + Fa));z5w=4;break;}}});v.forEach(function(oa){var Z3f,ta,Fa;Z3f=2;for(;Z3f !== 4;){switch(Z3f){case 2:(ta=oa.stream,Fa=oa.blocks);oa=oa.Sd;0 < F && m.Tb(oa) && ta.Ga && ca.add(ta.Ga.Ku.subarray(oa,oa + Fa));Z3f=4;break;}}});M7Q=17;break;case 7:U6ONX.x6U(9);(0,g.assert)(U6ONX.M9t(D,K));q.cua && (I=Math.min(I,H));M7Q=14;break;case 3:var K0X="Fir";K0X+="st stream undefi";K0X+="ned";(0,g.assert)(u,K0X);Q=u.cb;(H=z - y,K=w.length,O=u.Ga && u.Ga.length,R=(null === J || void 0 === J?void 0:J.Ga) && (null === J || void 0 === J?void 0:J.Ga.length));M7Q=7;break;case 12:R || (J=u);ca=new h.oQa(w);G=Math.max(0,Math.min(G,u.Ga.length - B));F=Math.max(0,Math.min(F,J.Ga.length - B - G));M7Q=19;break;}}}var w$R;w$R=2;function p(q,u,t){var X7P,v;X7P=2;for(;X7P !== 3;){switch(X7P){case 2:X7P=!t.cb?1:5;break;case 1:return q.Y9a;break;case 5:v=(t.UZ || t.cb) / t.cb;return 1 >= v?q.R9:Math.min(Math.max((q.z8b * Math.min(8 * u / t.bitrate,q.HH) - q.qz) / (v - 1),q.Y9a),q.R9);break;}}}for(;w$R !== 5;){switch(w$R){case 2:var n$M="1SIY";n$M+="bZ";n$M+="rN";n$M+="JC";n$M+="p9";n$M;return {M8:l,ve:function(q,u,t,v,w,y){var E0n=U6ONX;var e9t,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J,H,K,O,R;e9t=2;for(;e9t !== 17;){switch(e9t){case 2:var u_F="numb";u_F+="e";u_F+="r";var F6r="in";F6r+="va";F6r+="li";F6r+="d player fragmentIndex";var b3s="Mu";b3s+="s";b3s+="t";b3s+=" have a se";b3s+="lected stream";(0,g.assert)(v,b3s);void 0 === u.Sd && (u.Sd=0);(0,g.assert)(m.Tb(u.Sd),F6r);(0,g.assert)(u_F === typeof u.buffer.GB);e9t=9;break;case 9:var o7J="Sel";o7J+="ected";o7J+=" str";o7J+="eam no";o7J+="t found in stream list";var P$c="nu";P$c+="m";P$c+="b";P$c+="e";P$c+="r";(0,g.assert)(P$c === typeof u.j6);(z=t.first,A=new d.Hf(),B=v,D=(0,g.Sk)(z,function(ca){var V2Q;V2Q=2;for(;V2Q !== 1;){switch(V2Q){case 2:return ca.isEqual(v);break;case 4:return ca.isEqual(v);break;}}}));E0n.c0q(17);(0,g.assert)(E0n.M9t(D,0),o7J);(C=u.buffer.jb,E=u.buffer.Tc,G=u.buffer.Tj,F=u.buffer.Wi,I=u.Sd,P=F - E,M=u.state === n.Fb.Ie || u.state === n.Fb.Sg?u.buffer.ps:0,L=q.JH,Q=null !== (x=q.qz) && void 0 !== x?x:1E3);t.U6(function(ca,oa,ta){var G9z,Fa;G9z=2;for(;G9z !== 5;){switch(G9z){case 2:void 0 !== ta && (ca=ca[ta],null !== (Fa=ca.Ga) && void 0 !== Fa && Fa.length || (ca.Fn=!0));G9z=5;break;}}});e9t=13;break;case 13:(H=k.Kq.CZa(u.buffer.Ga),K=u.buffer.GB - H.ta);x=(q.jAa || y) && P >= q.pCa?z.length:D + 2;(O=(function(ca){var C8j,n8Q;C8j=2;for(;C8j !== 4;){switch(C8j){case 5:return z.slice(0,ca).map(function(oa,ta){var Y5C;Y5C=2;for(;Y5C !== 1;){switch(Y5C){case 2:return ta < D?[q.Nra,q.Zta]:ta === D?[q.Mra,q.Yta]:[q.Ora,q.$ta];break;}}});break;case 1:return z.slice(0,ca).map(function(oa){var W8y;W8y=2;for(;W8y !== 1;){switch(W8y){case 2:return [p(q,u.buffer.GB,oa),0];break;case 4:return [p(q,u.buffer.GB,oa),2];break;}}});break;case 2:var b1n="va";b1n+="r";b1n+="ia";b1n+="ble";n8Q=q.hAa;C8j=n8Q === b1n?1:3;break;case 13:C8j=6;break;case 3:C8j=5;break;}}})(x),R=z.slice(0,x).map(function(ca,oa){var H3W,ta;H3W=2;for(;H3W !== 5;){switch(H3W){case 2:E0n.c0q(18);ta=E0n.T8X(oa,D);return function(){var e61,Fa,ua,ya,Ca,Va,S,ma,Ja,Na,Za,V,la,ra,N;e61=2;for(;e61 !== 5;){switch(e61){case 2:a:{E0n.c0q(3);Fa=Math.max(E0n.M9t(oa,1),0);ua=O[oa][0];ya=O[oa][1];Ca=u.playbackRate;ma=t.gra(oa,I,ua);Ja=ma.jBa;ma=ma.zAa;E0n.c0q(1);Na=t.gra(Fa,E0n.T8X(Ja,I),ya);Fa=Na.jBa;Za=Na.zAa;Na=ma[0].stream;V=null === (Va=Za[0]) || void 0 === Va?void 0:Va.stream;Va=Na.cb || 0;la=Na.Ga && Na.Ga.length;ra=y?q.CKb:la?q.H6:q.DKb;ra=ta?q.cpa:ra;if(J && !J.I6 && J.cb >= Va && J.bitrate <= Na.bitrate){N=!1;}else {ta || la || (Na.Fn=!0);if(!ta || !la)if(la){if(Va >= Math.max(Na.hs * Ca,Na.bitrate * Ca * ra) && Na.Kr){N=!0;break a;}}else if(Va >= Na.bitrate * Ca * ra){N=!0;break a;}Ca=!q.Sma || Na === B || Na.Ub === B.Ub && w?0:(Ca=Na.ib) && Ca.xh && Ca.xh.Aa?Ca.xh.Aa + q.Oma * (Ca.xh.Te?Math.sqrt(Ca.xh.Te):0):0;E0n.c0q(1);la=E0n.M9t(ya,ua);ua=(null !== (N=Na.Ov) && void 0 !== N?N:0) * ua / la + (null !== (S=null === V || void 0 === V?void 0:V.Ov) && void 0 !== S?S:0) * ya / la;(N=l(q,z,ma,Za,H,E + Ca - C,L,F - C,G - C,I,H.length,M,K,Ja,Fa,Q,u.j6,u.playbackRate,ua)) && N.result && (A.emc=N.gX);J={I6:N && N.result,cb:Va,bitrate:Na.bitrate};N=N && N.result;}}return N;break;}}};break;}}}));(0,g.assert)(R.length === O.length);R[D]()?D + 1 < z.length && P > q.pz && (void 0 === this.Hu.mz || this.Hu.CN && this.Hu.CN > this.Hu.mz || G - this.Hu.mz > q.bX && P > q.bua) && (v=(0,g.n4)(z.slice(D + 1,x),function(ca,oa){var g1S;g1S=2;for(;g1S !== 1;){switch(g1S){case 2:return R[D + 1 + oa]();break;}}})):v.Ga && v.Ga.length && ((v=(0,g.n4)(z.slice(0,D),function(ca,oa){var K9g;K9g=2;for(;K9g !== 1;){switch(K9g){case 4:return R[oa]();break;case 2:return R[oa]();break;}}})) || (v=z[0]));e9t=19;break;case 19:A.gd=v || B;return A;break;}}},hoa:p};break;}}})(),c.ve);b.M8=c.M8;b.hoa=c.hoa;},71406:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pTb=b.Wz=void 0;r=a(5163);c=r.__importStar(a(17267));m=a(91176);g=a(65161);k=a(88318);r=r.__importStar(a(65167));d=a(13550);f=r.fgb;a=(function(){function u(x,z){var o0p,A;o0p=2;for(;o0p !== 5;){switch(o0p){case 2:A=x.TD?x.TD >= z.zz:!0;return (x.Ov?x.Ov >= z.yz:!0) && A;break;}}}function w(x,z,A){var l2L,B,D;l2L=2;for(;l2L !== 4;){switch(l2L){case 2:(B=new d.Hf(),D=Math.max(x.zz,x.h$));B.gd=(0,m.mc)(A.filter(function(C){var S7C;S7C=2;for(;S7C !== 1;){switch(S7C){case 2:return t(C,x);break;}}}).reverse(),function(C){var F9P,G,E;F9P=2;for(;F9P !== 6;){switch(F9P){case 9:return E;break;case 5:F9P=(C=C.bitrate * z.playbackRate,E)?4:8;break;case 7:var g_E="no_histo";g_E+="rical_lte_";g_E+="minbitrate";var F_Z="hist_tput_lt_";F_Z+="minbitrat";F_Z+="e";var Y7K="lt_h";Y7K+="i";Y7K+="st_lte_";Y7K+="minb";Y7K+="itrate";E && C.bitrate * z.playbackRate <= E?(B.nw=E,B.reason=Y7K,E=!0):E?(B.nw=E,B.reason=F_Z,E=!1):(B.reason=g_E,E=!0);F9P=9;break;case 8:E=!1;F9P=9;break;case 1:F9P=C.bitrate > D?5:7;break;case 3:var f9u="hi";f9u+="st_buf";f9u+="ft";f9u+="ime";h(C,E,x) <= G?(B.nw=E,B.reason=f9u,E=!0):E=!1;F9P=9;break;case 4:G=l(x,C);F9P=3;break;case 2:E=C.cb;F9P=1;break;}}}) || A[0];return B;break;}}}var y61;y61=2;function p(x,z){var t8w=U6ONX;var u1v,A;u1v=2;for(;u1v !== 9;){switch(u1v){case 2:t8w.x6U(19);var j_3=t8w.T8X(599892,1,99982,99999,6);t8w.x6U(1);var H$W=t8w.M9t(17,983);x=(0,d.FL)(x,0,j_3) / H$W;u1v=1;break;case 1:var S$E="l";S$E+="o";S$E+="g";u1v=0 === z.mP.lastIndexOf(S$E,0)?5:3;break;case 5:A=z.mP;u1v=4;break;case 14:A=z.mP;u1v=3;break;case 4:return (A=z.Teb[A]) && 2 === A.length?1E3 * (A[0] + A[1] * Math.log(1 + x)):z.gs;break;case 3:var d0j="s";d0j+="i";d0j+="gm";d0j+="oid";return 0 === z.mP.lastIndexOf(d0j,0)?(A=z.mP,(A=z.Teb[A]) && 2 === A.length?1E3 * (A[0] + A[1] * f(x)):z.gs):z.gs;break;}}}function h(x,z,A){var K7C;K7C=2;for(;K7C !== 5;){switch(K7C){case 2:x=(0,d.jXa)(A.kq,x * A.Z9);return (0,d.k$a)(x,z);break;}}}function y(x,z){var P0V,A;P0V=2;for(;P0V !== 4;){switch(P0V){case 2:z.some(function(B){var h_t,D;h_t=2;for(;h_t !== 4;){switch(h_t){case 2:D=B.profiles;(D=D && 0 <= D.indexOf(x)) && (A=B.override);return D;break;}}});return A;break;}}}function v(x,z,A,B,D,C){var V4L;V4L=2;for(;V4L !== 4;){switch(V4L){case 2:var e9r="no";e9r+="_valid_";e9r+="Bitr";e9r+="ate";var H7s="no_";H7s+="valid_";H7s+="VM";H7s+="A";H7s+="F";var m3Q="no";m3Q+="_valid_D";m3Q+="elay";m3Q+="Target";U6ONX.c0q(18);z=U6ONX.M9t(B,D);x=A?x.ub >= C.ru && x.ub <= C.w9a:u(x,C) && t(x,C);return (C=z && x)?{I6:C}:{I6:C,reason:x?m3Q:A?H7s:e9r};break;}}}for(;y61 !== 5;){switch(y61){case 2:var H5l="1SIYb";H5l+="Z";H5l+="rNJ";H5l+="Cp9";H5l;return {Avb:function(x,z,A,B){var l1t;l1t=2;for(;l1t !== 5;){switch(l1t){case 2:A=A.first;return A.some(function(D){var j58;j58=2;for(;j58 !== 1;){switch(j58){case 2:return D.Z;break;}}})?w(x,z,A,B):x.R3?q(x,z,A,B):w(x,z,A,B);break;}}},Ttb:v};break;}}function n(x,z){var e6F,D,A,B;e6F=2;for(;e6F !== 11;){switch(e6F){case 8:e6F=7;break;case 6:(D=k.$Qa.hPb(B),c.hq(D)?(B.Bi=D,D=!0):D=!1);e6F=14;break;case 7:e6F=(D=c.Tb(z.Oba) && 0 <= z.Oba && 100 >= z.Oba && B)?6:14;break;case 2:A=new d.Hf();A.gd=x;B=A.gd.ib;A.ib=B;x=0;B=null === B || void 0 === B?void 0:B.Ii;e6F=8;break;case 14:var t4q="h";t4q+="ist_thro";t4q+="ughput";var m17="his";m17+="t_";m17+="tdigest";D?(x=B.Bi(z.Oba / 100) || A.gd.cb,A.reason=m17):A.gd.cb && (x=A.gd.cb,A.reason=t4q);A.nw=x;return A;break;}}}function q(x,z,A){var e2G,G,F,E,B,D,C;e2G=2;for(;e2G !== 19;){switch(e2G){case 4:D=n(E,x);(G=h(E.bitrate * z.playbackRate,D.nw,x),F=p(D.nw,x));F=v(E,D.nw,B,G,F,x);E=F.I6;e2G=7;break;case 14:e2G=E?11:13;break;case 5:E=A[C];e2G=4;break;case 13:D.reason=F;e2G=12;break;case 12:C--;e2G=1;break;case 1:e2G=0 <= C && (B?A[C].ub >= x.ru:u(A[C],x))?5:11;break;case 7:F=F.reason;D.lN=G;e2G=14;break;case 11:var O8z="fallba";O8z+="ck_no_acce";O8z+="pt";O8z+="able_stream";var D0p="bel";D0p+="ow_mi";D0p+="nInitVideoBitrate";c.xc(D) && !u(A[C],x) && (D=n(A[C],x),D.reason=D0p);c.xc(D) && (D=n(A[0],x),D.reason=O8z);return D;break;case 2:(B=!!x.ru && !!x.w9a && A.every(function(I){var S_$;S_$=2;for(;S_$ !== 1;){switch(S_$){case 2:return I.ub && 110 >= I.ub;break;case 4:return I.ub || 218 < I.ub;break;}}}),D=null,C=A.length - 1);e2G=1;break;}}}function l(x,z){var V_0,A,B;V_0=2;for(;V_0 !== 13;){switch(V_0){case 8:U6ONX.x6U(3);x=A[U6ONX.M9t(B,1)];A=A[B];V_0=6;break;case 6:return Math.floor(x.d + (A.d - x.d) * (z - x.r) / (A.r - x.r));break;case 9:return A[A.length - 1].d;break;case 4:return A[0].d;break;case 5:V_0=0 === B?4:3;break;case 14:return x.gs;break;case 1:(A=x.x8,B=(0,m.Sk)(A,function(D){var P3Z;P3Z=2;for(;P3Z !== 1;){switch(P3Z){case 4:return z >= D.r;break;case 2:return z <= D.r;break;}}}));V_0=5;break;case 3:V_0=-1 === B?9:8;break;case 2:V_0=x.x8?1:14;break;}}}function t(x,z){var p5z,A,B;p5z=2;for(;p5z !== 9;){switch(p5z){case 2:(A=x.mk(g.u.Y))?(A=A.wd,A=z && z.Lu && 0 <= z.Lu.indexOf(A)?y(A,z.Dca):y(A,z.ela)):A=void 0;A=A?null !== (B=A.maxInitAudioBitrate) && void 0 !== B?B:z.yw:z.yw;z=x.TD?x.TD <= z.NC:!0;return (x.Ov?x.Ov <= A:!0) && z;break;}}}})();r=a.Ttb;b.Wz=a.Avb;b.pTb=r;},62737:function(r,b,a){var j98="d";j98+="ef";j98+="a";j98+="u";j98+="lt";var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);a(91176);m=a(13550);b[j98]=function(g){var L9c=U6ONX;var M$x,F,I,P,M,L,Q,J,G,E,k,d,f,n,h,l,p,q,u,t,v,w,y,x,z,A,B,D,C;M$x=2;for(;M$x !== 50;){switch(M$x){case 28:L9c.c0q(20);f+=L9c.T8X(G,0,q,w);p+=A;M$x=43;break;case 31:L9c.x6U(3);E=L9c.M9t(p,f);M$x=30;break;case 10:f+=D;0 === p && (f=0);L9c.x6U(4);f*=L9c.M9t(z,1E3);M$x=18;break;case 29:return (g && l.push(E / (z / 1E3)),c.__assign({result:!1,gX:E / (z / 1E3),Kr:!1},g && ({O4:l})));break;case 32:(f=h,v+=L[d],++d,d >= L.length && ++M < k.length && (L=k.TV(M),Q=k.OM(M),d=0),E=Q[d],h+=E);M$x=33;break;case 36:C=E;M$x=54;break;case 25:(F=E[1],I=k.TV(D),P=k.OM(D),M=0,L=k.TV(M),Q=k.OM(M),J=A - q);M$x=24;break;case 53:M$x=(E=Math.max(p - f,0),E < y && E < C)?52:28;break;case 13:var w72=" ";w72+=">= ";w72+="fr";w72+="agmen";w72+="tsLength: ";var X2U="StreamingI";X2U+="nd";X2U+="ex: ";L9c.x6U(21);w=L9c.M9t(8,0,w);L9c.c0q(4);G=L9c.M9t(z,1E3);q >= A && m.S.error(X2U + q + w72 + A);M$x=10;break;case 41:(v+=L[d],++d,d >= L.length && ++M < k.length && (L=k.TV(M),Q=k.OM(M),d=0));M$x=42;break;case 52:return (g && l.push(E / (z / 1E3)),c.__assign({result:!1,gX:Math.min(E,n) / (z / 1E3),Kr:!0},g && ({O4:l})));break;case 23:J--;q=I[F];A=P[F];M$x=35;break;case 18:L9c.c0q(4);p*=L9c.M9t(z,1E3);L9c.x6U(4);x*=L9c.M9t(z,1E3);L9c.x6U(4);y*=L9c.T8X(z,1E3);L9c.c0q(4);B*=L9c.M9t(z,1E3);M$x=27;break;case 33:M$x=v < C?32:31;break;case 7:d=0;E=k.OM(0)[0];L9c.x6U(22);h=L9c.M9t(1E3,h,z,E);M$x=13;break;case 38:F >= I.length && ++D < k.length && (u-=I.length,I=k.TV(D),P=k.OM(D),F=0);g && l.push(E / (z / 1E3));M$x=36;break;case 35:M$x=v < q?34:53;break;case 24:M$x=J?23:51;break;case 34:C=Math.max(q,t);M$x=33;break;case 40:++F;M$x=39;break;case 39:M$x=F >= u && E > B?51:38;break;case 43:v-=q;M$x=42;break;case 42:M$x=h < f && d < F?41:40;break;case 2:var I63="1S";I63+="IYb";I63+="ZrNJ";I63+="Cp9";(k=g.ZLb,d=g.blocks,f=g.Tc,n=g.Wi,h=g.E8b,l=g.ps,p=g.Tj,q=g.Sd,u=g.zLb,t=g.j6,v=g.d2a,w=g.cb,y=g.VXb,x=g.Az);g=g.JIb;I63;(z=k.N,A=Math.min(k.$Lb,d),B=n - f,D=8 * l / w | 0);l=[];n=Infinity;C=0;M$x=7;break;case 54:n=Math.min(E,n);M$x=24;break;case 27:E=c.__read(k.bPb(q),2);D=E[0];M$x=25;break;case 30:M$x=E < x?29:28;break;case 51:return c.__assign({result:!0,gX:n / (z / 1E3),Kr:!0},g && ({O4:l}));break;}}};},14087:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(13550);r=(function(g){function k(d){return g.call(this,d) || this;}c.__extends(k,g);k.prototype.ve=function(d,f,n){d=n.first.filter(function(h){return h.Wr;});return d.length?new m.Hf(d[Math.floor(Math.random() * d.length)]):new m.Hf();};return k;})(a(75498).sv);b["default"]=r;},3447:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(91176);g=a(13550);r=(function(k){function d(f){return k.call(this,f) || this;}c.__extends(d,k);d.prototype.ve=function(f,n,h,l){var p,q;h=h.first;p=n.buffer.Tj;n="forward" === f.K5b;if(void 0 === l)return (l=n?h[(0,g.zG)(h)]:h[(0,g.zG)(h,h.length)],new g.Hf(l));if(!l.jz){q=(0,m.Sk)(h,function(u){return u.isEqual(l);});q=(0,g.zG)(h,q);l=h[q];}if(!l)return new g.Hf();if(void 0 === this.Hu.vta || p > this.Hu.vta + f.S$b){h=h.filter(function(u){return u.Wr;});if(!h.length)return new g.Hf();f=(0,m.Sk)(h,function(u){return u.isEqual(l);});f=(h.length + f + (n?1:-1)) % h.length;return new g.Hf(h[f]);}return new g.Hf(l);};return d;})(a(75498).sv);b["default"]=r;},21875:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(66164);m=a(91176);g=a(13550);a=a(75498);d=[];f=[];r.platform.jBb && (r.platform.jBb.So={Eb:function(){k=void 0;d=[];f=[];},Pba:function(n){k=n;},jlc:function(){return {all:d,sjb:f};}});a=(function(n){function h(l){return n.call(this,l) || this;}c.__extends(h,n);h.prototype.ve=function(l,p,q,u){d=l=q.first;if(void 0 === k)return (u=(0,g.zG)(l),k=l[u].bitrate,new g.Hf(l[u]));if(!l.length)return new g.Hf();u=(0,m.mc)(l,function(t){return t.bitrate === k;});return void 0 === u?(g.S.log("Defaulting to first stream due to unvalid bitrate requested: " + k),new g.Hf(l[0])):new g.Hf(u);};return h;})(a.sv);b["default"]=a;},56186:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(91176);g=a(48170);k=a(13550);r=a(75498);r=(function(d){var s3x;s3x=2;for(;s3x !== 4;){switch(s3x){case 2:c.__extends(f,d);f.prototype.ve=function(n,h,l,p){var A2W,u,t,v,w,q;A2W=2;for(;A2W !== 16;){switch(A2W){case 10:--p;A2W=8;break;case 9:U6ONX.x6U(1);var D7V=U6ONX.M9t(1,0);p=l.length - D7V;A2W=8;break;case 11:var G4l="Thresh";G4l+="o";G4l+="ld policy selected";G4l+=" stre";G4l+="am ";return (g.L && k.S.log(G4l + p),h.gd=q,h);break;case 12:A2W=w?11:10;break;case 4:h=new k.Hf(p);l=l.first;A2W=9;break;case 14:var h35=", fe";h35+="a";h35+="sible=";var C2j=", ";C2j+="thres";C2j+="hol";C2j+="d=";var R64=", ";R64+="bitrat";R64+="e=";var H$k=": thr";H$k+="ou";H$k+="ghp";H$k+="ut=";var n$n="St";n$n+="r";n$n+="eam ";(u=q.ib.cb.Aa,t=n.N$b,v=q.bitrate,w=v < u - t);g.L && k.S.log(n$n + p + H$k + u + R64 + v + C2j + t + h35 + w);A2W=12;break;case 19:var l_z="Threshold policy s";l_z+="elected ";l_z+="stream 0 (no";l_z+=" feasib";l_z+="le streams).";h.gd=l[0];g.L && k.S.log(l_z);return h;break;case 7:q=l[p];A2W=6;break;case 20:var o5g=".";o5g+=" Skip";o5g+="pin";o5g+="g.";var N4T="Cannot obt";N4T+="ain tput stats fo";N4T+="r stream ";g.L && k.S.log(N4T + p + o5g);A2W=10;break;case 2:var F11="Playback";F11+=" stream selectio";F11+="n";var T66="pl";T66+="ayer missing fra";T66+="gme";T66+="ntIndex";var y$8="nu";y$8+="m";y$8+="be";y$8+="r";var K1h="Must have";K1h+=" a";K1h+="t least one selected stream";(0,m.assert)(p,K1h);(0,m.assert)(y$8 === typeof h.Sd,T66);g.L && k.S.log(F11);A2W=4;break;case 6:A2W=q.ib && q.ib.cb?14:20;break;case 8:A2W=-1 < p?7:19;break;}}};return f;break;}}function f(n){var a1k;a1k=2;for(;a1k !== 4;){switch(a1k){case 2:var d_j="1SIY";d_j+="bZrN";d_j+="JC";d_j+="p9";n=d.call(this,n) || this;d_j;return n;break;}}}})(r.sv);b["default"]=r;},3082:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wyb=b.iZ=void 0;c=a(21875)["default"];b.iZ={first:function(){return a(58223)["default"];},random:function(){return a(14087)["default"];},optimized:function(){return a(80588)["default"];},roundrobin:function(){return a(3447)["default"];},selectaudio:function(){return a(46263)["default"];},selectaudioadaptive:function(){return a(70753)["default"];},"default":function(){return a(80588)["default"];},lowest:function(){return a(4272)["default"];},highest:function(){return a(63499)["default"];},throughputthreshold:function(){return a(56186)["default"];},replay:function(){return a(52255)["default"];},checkdefault:function(){return a(32966)["default"];},livesimple:function(){return a(65114)["default"];},testscript:function(){return c;}};b.Wyb=["selectaudio","selectaudioadaptive"];},20880:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oQa=void 0;r=(function(){function a(c){this.Ku=[];this.Ku.push(c);}Object.defineProperties(a.prototype,{N:{get:function(){return this.Ku[0].N;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Ku.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$Lb:{get:function(){var c;return null !== (c=this.vtb) && void 0 !== c?c:this.vtb=this.Ku.reduce(function(m,g){return m + g.length;},0);},enumerable:!1,configurable:!0}});a.prototype.OM=function(c){return this.Ku[c].jf;};a.prototype.TV=function(c){return this.Ku[c].sizes;};a.prototype.add=function(c){this.Ku.push(c);};a.prototype.bPb=function(c){var g;for(var m=0;0 <= c;){g=this.Ku[m];if(c < g.length)break;m++;c-=g.length;}return [m,c];};return a;})();b.oQa=r;},95591:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.zha=void 0;c=a(5163);m=a(91562);a(52571);a(13550);r=(function(){function g(k,d,f,n){this.jf=k;this.sizes=d;this.N=f;this.length=Math.min(k.length,d.length);this.kc=n;}Object.defineProperties(g.prototype,{ta:{get:function(){return void 0 !== this.kc?this.kc:this.kc=this.iia();},enumerable:!1,configurable:!0}});g.prototype.subarray=function(k,d){return new g(this.jf.subarray(k,d),this.sizes.subarray(k,d),this.N);};g.prototype.concat=function(){var f,n;for(var k=[],d=0;d < arguments.length;d++)k[d]=arguments[d];d=[this];k=d.concat.apply(d,c.__spreadArray([],c.__read(k),!1));d=k.reduce(function(h,l){return h + l.length;},0);f=new Uint32Array(d);n=new Uint32Array(d);d=k[0].N;k.reduce(function(h,l){m.Pha.set(f,l.jf,h);m.Pha.set(n,l.sizes,h);return h + l.length;},0);return new g(f,n,d);};g.prototype.iia=function(){for(var k=this.sizes,d=this.length,f=0,n=0;n < d;++n)f+=k[n];return f;};return g;})();b.zha=r;},75498:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sv=void 0;c=a(32966);r=(function(){function m(g){this.Hu=g;}m.prototype.Wz=function(g,k,d,f,n,h,l){return this.ve(g,k,d,f,!!n,!!h,l);};m.prototype.ax=function(g,k,d,f,n,h,l){return this.ve(g,k,d,f,n,h,l);};m.prototype.Reb=function(g,k,d,f,n,h,l){return this.ax(g,k,d,f,n,h,l);};m.prototype.Qeb=function(g,k,d,f,n,h,l){return this.ve(g,k,d,f,n,h,l);};m.prototype.MXa=function(g,k,d,f,n,h){return (0,c.Tv)(g,k,d,f,n,h);};return m;})();b.sv=r;},16096:function(r,b,a){var m,g,k,d,f,n,h,l,p,q,u;function c(t){t.forEach(function(v){return v.Fn=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.ZR=void 0;m=a(5163);g=m.__importStar(a(17267));k=a(66164);d=a(91176);f=a(65161);n=a(62156);h=m.__importDefault(a(29340));l=a(33923);a(52571);p=a(3082);q=a(35479);u=a(44284);new k.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");r=(function(){var p8z;p8z=2;function t(v,w,y,x){var D87,z;D87=2;for(;D87 !== 6;){switch(D87){case 2:var R1O="1SI";R1O+="YbZrN";R1O+="JC";R1O+="p9";this.Web=v;this.T=w;this.pm=y;R1O;v || (v=w.wca);D87=8;break;case 8:var n41="d";n41+="efa";n41+="u";n41+="lt";this.Qm=new ((p.iZ[v] || p.iZ[n41])())(this);x && (this.eY=new q.rK(w,null === (z=y.track) || void 0 === z?void 0:z.mediaType));D87=6;break;}}}for(;p8z !== 19;){switch(p8z){case 13:t.prototype.fxa=function(v,w,y,x){var p2c,G,z,A,B,D,C,E;p2c=2;for(;p2c !== 17;){switch(p2c){case 9:D.Tj=w.Tj;E=y && y.Sd;v=v.Ga;D.zr=v && void 0 !== E && !isNaN(E) && 0 <= E && E < v.length?v.tl(E):w.Tj;p2c=14;break;case 5:G=[];E.forEach(function(F){var i4E,I;i4E=2;for(;i4E !== 4;){switch(i4E){case 2:I=F.stat;I=(F=C[F.filter]) && F[I];G.push(isNaN(I)?-1:I);i4E=4;break;}}});p2c=3;break;case 14:D.iab=C && C.cb && C.cb.Aa || 0;D.Dla=w.Wi - w.Tc;D.dXa=w.um;D.Jbb=null !== (B=null === (A=null === (z=k.platform.QOb) || void 0 === z?void 0:z.call(k.platform)) || void 0 === A?void 0:A[y.mediaType === f.u.X?1:0]) && void 0 !== B?B:-1;D.fi=y && y.fi;D.Gq=x;p2c=19;break;case 1:p2c=C && E && 0 < E.length?5:9;break;case 3:D.Ybb=G;p2c=9;break;case 2:(D={},C=v.ib,E=this.T.yja);p2c=1;break;case 19:D.cA=k.platform.time.sa();return D;break;}}};t.prototype.Cua=function(v,w,y){var h16,x,z,A;h16=2;for(;h16 !== 4;){switch(h16){case 2:(x=!1,z=(null === w || void 0 === w?void 0:w.buffer).Ga,A=z.length);(w=0 < A && w.state !== f.Fb.Pn?z[A - 1].stream:this.pm.pk)?-1 === y.indexOf(w) && (w=(0,u.fra)(y,w.bitrate,w.ub),x=!0,v.I$a && this.pm.pk && -1 !== y.indexOf(this.pm.pk) && (x=!1)):x=!0;return {qna:w,xpa:x};break;}}};t.prototype.pua=function(v,w,y){var g6S,x,z;g6S=2;for(;g6S !== 12;){switch(g6S){case 5:v.forEach(function(A){var S8c;S8c=2;for(;S8c !== 1;){switch(S8c){case 2:return A.Fn=!A.Ga || !A.Ga.length;break;}}});g6S=12;break;case 4:g6S=this.T.ogb && y > this.T.CX && !w.Z && v.every(function(A){var t8z;t8z=2;for(;t8z !== 1;){switch(t8z){case 2:return !A.Fn;break;case 4:return +A.Fn;break;}}})?3:12;break;case 7:v[y].Fn=!0;g6S=12;break;case 3:U6ONX.c0q(23);var C1p=U6ONX.T8X(76,11,1,6,11);y=v.length - C1p;g6S=9;break;case 1:g6S=this.T.n0a?5:4;break;case 8:g6S=v[y - 1] === w && (null === (x=v[y].Ga) || void 0 === x || !x.length)?7:6;break;case 6:g6S=v[y + 1] === w && (null === (z=v[y].Ga) || void 0 === z || !z.length)?14:13;break;case 14:v[y].Fn=!0;g6S=12;break;case 2:g6S=1;break;case 9:g6S=0 <= y?8:12;break;case 13:--y;g6S=9;break;}}};p8z=10;break;case 14:t.prototype.Dua=function(v,w,y,x,z,A){var q2J,B;q2J=2;for(;q2J !== 4;){switch(q2J){case 1:B=(0,d.mc)(v,function(D,C){var u5i;u5i=2;for(;u5i !== 1;){switch(u5i){case 2:U6ONX.c0q(3);var H8p=U6ONX.T8X(18,17);return v[C - H8p] === w;break;}}}) || w;return this.eY.U3a({CB:y.Wi - y.Tc,ZWa:y.um || 0,XWa:y.GB || 0,Tc:y.Tc,F8a:v[0],gd:w,rjb:B,$hb:v[v.length - 1],nf:x.state,playbackRate:x.playbackRate,Sd:x.Sd,FG:z,zn:A});break;case 2:q2J=this.eY?1:4;break;}}};p8z=13;break;case 8:t.prototype.Tv=function(v,w,y,x,z){var X98;X98=2;for(;X98 !== 1;){switch(X98){case 2:return this.Qm.MXa(v,w,y,(0,l.xca)(x),z,this.T);break;}}};t.prototype.Tgb=function(v,w,y){var U00;U00=2;for(;U00 !== 1;){switch(U00){case 2:g.wo(w)?this.aF=this.dF=void 0:w.bitrate < y.bitrate && (this.dF=v);U00=1;break;}}};t.prototype.tY=function(v,w,y,x){var D3K,z,A,B;D3K=2;for(;D3K !== 5;){switch(D3K){case 2:z=this;v.U6(function(D){var v_e;v_e=2;for(;v_e !== 1;){switch(v_e){case 2:z.zM(D,function(C){var q3h;q3h=2;for(;q3h !== 1;){switch(q3h){case 2:C.Wr && C.ib && C.ib.confidence?(A !== C.ib && (A=C.ib,B=x(C.ib,y,w,C.track.ca.MN[f.u.Y])),C.cb=Math.floor(B.lower) || 1,C.UZ=Math.floor(B.upper || 1) || 1):C.cb=void 0;q3h=1;break;}}});v_e=1;break;}}});D3K=5;break;}}};p8z=14;break;case 10:t.prototype.zM=function(v,w){var W7W=U6ONX;var Q9K,y;Q9K=2;for(;Q9K !== 3;){switch(Q9K){case 2:W7W.x6U(3);var I$0=W7W.M9t(19,18);y=v.length - I$0;Q9K=1;break;case 8:W7W.x6U(24);var G0$=W7W.T8X(1,23,16);y=v.length * G0$;Q9K=9;break;case 1:Q9K=0 <= y?5:3;break;case 7:Q9K=8 >= y?0:8;break;case 4:--y;Q9K=1;break;case 5:w(v[y],y,v);Q9K=4;break;case 6:w(v[y],y,v);Q9K=1;break;}}};return t;break;case 2:Object.defineProperties(t.prototype,{mz:{get:function(){var T86;T86=2;for(;T86 !== 1;){switch(T86){case 4:return this.aF;break;case 2:return this.aF;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{CN:{get:function(){var x$7;x$7=2;for(;x$7 !== 1;){switch(x$7){case 4:return this.dF;break;case 2:return this.dF;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{vta:{get:function(){var T9t,v,w;T9t=2;for(;T9t !== 5;){switch(T9t){case 2:return Math.max(null !== (v=this.mz) && void 0 !== v?v:0,null !== (w=this.CN) && void 0 !== w?w:0);break;}}},enumerable:!1,configurable:!0}});t.prototype.aj=function(){var S7w;S7w=2;for(;S7w !== 1;){switch(S7w){case 2:return this.pm;break;}}};t.prototype.Kfb=function(v){var Z76;Z76=2;for(;Z76 !== 1;){switch(Z76){case 2:this.pm=v;Z76=1;break;}}};t.prototype.Pba=function(v,w,y,x,z,A,B){var i_U,D,C,E,G,F,I,P,M,L,Q,z7w,J,Q$t;i_U=2;for(;i_U !== 30;){switch(i_U){case 27:i_U=Q$t === f.Fb.Zj?26:25;break;case 9:i_U=M?8:21;break;case 8:void 0 !== x && this.tY(w,v.state,v.buffer,x);i_U=7;break;case 22:x=this.Qm.ve;i_U=14;break;case 32:i_U=z7w === f.Fb.Sg?9:31;break;case 2:(E=null === v || void 0 === v?void 0:v.buffer,G=k.platform.time.sa(),F=this.T,I=w.first);c(w.first);i_U=5;break;case 19:var C6Y="pla";C6Y+="yin";C6Y+="g";var M72="mi";M72+="n_f";M72+="r";M72+="agme";M72+="nt_vmaf";(this.pm.QI(J),this.pua(w.first,J,E.Wi - E.Tc),y.eD=J.cb || 0,y.ib=J.ib,y.reason && (J.Po=y.reason,M72 !== y.reason && (J.qza=y.nw,J.lN=y.lN,J.Qra=null === (D=y.ib) || void 0 === D?void 0:D.FT,J.Rra=null === (C=y.ib) || void 0 === C?void 0:C.Ii)),w=this.Dua(I,J,E,v,B,z),y.xn=w || y.xn,M && !P && J.bitrate < M.bitrate && (this.aF=E.Tj),v.state !== f.Fb.Ie && v.state !== f.Fb.Sg?(M=(0,n.$wa)(v.state),A=this.Tv(v.buffer,M,v.playbackRate,J,A),(y.dk=A.complete)?y.xla=A.reason:(y.dk=!1,y.rD=A.rD,y.fX=A.fX,y.progress=A.progress)):(y.dk=!0,y.xla=C6Y));i_U=18;break;case 26:x=this.Qm.Reb;i_U=14;break;case 25:i_U=Q$t === f.Fb.Sg?24:23;break;case 23:i_U=22;break;case 5:(P=this.Cua(F,v,w.first),M=P.qna);P=P.xpa;i_U=3;break;case 14:(L=w.fac(),Q=M?(0,l.xca)(M):void 0);y=x.call(this.Qm,F,v,L,Q,!!z,P,y);i_U=12;break;case 18:v.dM && J && (0,h.default)(this.fxa(J,E,v,G),y);return y;break;case 33:i_U=z7w === f.Fb.Ie?9:32;break;case 3:z7w=v.state;i_U=z7w === f.Fb.me?9:34;break;case 16:i_U=Q$t === f.Fb.me?15:27;break;case 12:y=m.__assign(m.__assign({},y),{gd:null === (J=y.gd) || void 0 === J?void 0:J.Ud});i_U=10;break;case 21:v.state=f.Fb.Pn;i_U=35;break;case 31:i_U=z7w === f.Fb.Pn?35:8;break;case 34:i_U=z7w === f.Fb.Zj?9:33;break;case 10:y.nf=v.state;i_U=20;break;case 7:Q$t=v.state;i_U=Q$t === f.Fb.Pn?6:16;break;case 24:x=this.Qm.Qeb;i_U=14;break;case 6:x=this.Qm.Wz;i_U=14;break;case 20:i_U=(J=y.gd)?19:18;break;case 35:(this.dF=this.aF=void 0,M && (v.state=f.Fb.me));i_U=8;break;case 15:x=this.Qm.ax;i_U=14;break;}}};p8z=8;break;}}})();b.ZR=r;},44284:function(r,b,a){var m,g,k,d;function c(f,n,h){var l;l=(0,g.Sk)(f,function(p){return h && p.ub?p.ub > h:p.bitrate > n;});l=0 < l?l - 1:0 === l?0:f.length - 1;return f[l];}Object.defineProperties(b,{__esModule:{value:!0}});b.yfa=b.fra=b.Nha=void 0;m=a(5163);g=a(91176);k=a(33923);r=(function(){function f(){this.Bt=[];}Object.defineProperties(f.prototype,{first:{get:function(){var n;return null === (n=this.Bt[0]) || void 0 === n?void 0:n.ie;},enumerable:!1,configurable:!0}});f.prototype.GF=function(n){this.Bt.push({ie:n});};f.prototype.U6=function(n){this.Bt.forEach(function(h,l){return n(h.ie,l);});};f.prototype.gra=function(n,h,l){var p,q,u,t,v,w,y;p=l;q=h;u=0;t=[];v=this.first[n];w=v.ub;y=v.bitrate;this.Bt.forEach(function(x,z){var A,B;x=x.ie;0 >= p || (z=0 === z?v:c(x,y,w),x=null === (A=z.Ga) || void 0 === A?void 0:A.A5(q,p),A=null !== (B=null === x || void 0 === x?void 0:x.blocks) && void 0 !== B?B:0,u+=A,t.push({stream:z,blocks:A,Sd:q}),null === x || void 0 === x?!0:!x.GY) || (q=0,p-=x.GY);});return {zAa:t,jBa:u};};f.prototype.fac=function(){var n,h;n=new d();h=this.Bt.map(function(l){var p;p=l.ie.map(function(q){return (0,k.xca)(q);});return m.__assign(m.__assign({},l),{ie:p});});n.G7b(h);return n;};return f;})();b.Nha=r;b.fra=c;d=(function(){function f(){this.Bt=[];}Object.defineProperties(f.prototype,{first:{get:function(){var n;return null === (n=this.Bt[0]) || void 0 === n?void 0:n.ie;},enumerable:!1,configurable:!0}});f.prototype.GF=function(n){this.Bt.push({ie:n});};f.prototype.U6=function(n){this.Bt.forEach(function(h,l){return n(h.ie,l);});};f.prototype.G7b=function(n){this.Bt=m.__spreadArray([],m.__read(n),!1);};f.prototype.gra=function(n,h,l){var p,q,u,t,v,w,y;p=l;q=h;u=0;t=[];v=this.first[n];w=v.ub;y=v.bitrate;this.Bt.forEach(function(x,z){var A,B;x=x.ie;0 >= p || (z=0 === z?v:c(x,y,w),x=null === (A=z.Ga) || void 0 === A?void 0:A.A5(q,p),A=null !== (B=null === x || void 0 === x?void 0:x.blocks) && void 0 !== B?B:0,u+=A,t.push({stream:z,blocks:A,Sd:q}),null === x || void 0 === x?!0:!x.GY) || (q=0,p-=x.GY);});return {zAa:t,jBa:u};};f.prototype.toJSON=function(){return {};};return f;})();b.yfa=d;},31485:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LQa=void 0;c=a(5163);r=(function(){function m(g,k){this.S=g;this.lb=k;this.CAa=!1;}m.prototype.N4b=function(g){this.rf(g.message,void 0,c.__assign(c.__assign({},g.Eoa),{err:g.toString()}));};m.prototype.rf=function(g,k,d){void 0 === k && (k=void 0);void 0 === d && (d={});this.CAa || (d.temporaryFailure || (this.CAa=!0),g=c.__assign({type:"error",error:null !== k && void 0 !== k?k:"NFErr_MC_StreamingFailure",errormsg:g,temporaryFailure:!1},d),this.S.error("notifyStreamingError:",g),this.lb.emit("error",g));};m.prototype.Vr=function(){return this.CAa;};return m;})();b.LQa=r;},82149:function(r,b,a){var m,g,k,d;function c(f){return function(){for(var n=Array(this.length),h=0;h < this.length;++h)n[h]=f.call(this,h);return n;};}Object.defineProperties(b,{__esModule:{value:!0}});b.gyb=b.ww=b.Mha=b.oRa=void 0;m=a(91176);r=a(66164);g=a(52571);k=new r.platform.Console("FRAGMENTS","media|asejs");d=(function(){function f(n,h){this.Nc=n;this.og=h;}Object.defineProperties(f.prototype,{index:{get:function(){return this.og;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ia:{get:function(){return new m.K(this.rb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ua:{get:function(){return new m.K(this.yb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bb:{get:function(){return new m.K(this.UB,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rb:{get:function(){return this.Nc.F3 + this.Nc.lB[this.og];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yb:{get:function(){return this.rb + this.Nc.ot[this.og];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{UB:{get:function(){return this.Nc.ot[this.og];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xa:{get:function(){return this.Nc.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{N:{get:function(){return this.Nc.N;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.rb / this.xa.N,endPts:1E3 * this.yb / this.xa.N,duration:1E3 * this.UB / this.xa.N,index:this.index};};return f;})();b.oRa=d;a=(function(){function f(n,h,l,p){this.mediaType=n;this.length=l.jf.length;this.mb=l.N;this.ot=l.jf;this.d4=p && p.CO;this.BVa=p && p.iP;this.RK=h;this.DBa=this.EBa=void 0;this.F3=l.Fs;this.lB=new Uint32Array(this.length + 1);if(this.length){for(h=n=0;h < this.length;++h)(this.lB[h]=n,n+=this.ot[h]);this.lB[h]=n;this.cia=Math.floor((this.kf - this.jb) / this.length);}}Object.defineProperties(f.prototype,{Fs:{get:function(){return this.Egb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yoa:{get:function(){return this.Egb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jb:{get:function(){return this.tl(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kf:{get:function(){return this.tl(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fd:{get:function(){return new m.K(this.yoa,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xa:{get:function(){return this.RK;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{N:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});f.prototype.Egb=function(n){return this.F3 + this.lB[n];};f.prototype.tl=function(n){return Math.floor(1E3 * (this.F3 + this.lB[n]) / this.N);};f.prototype.WU=function(n){return this.tl(n + 1);};f.prototype.jf=function(n){return this.WU(n) - this.tl(n);};f.prototype.get=function(n){return new d(this,n);};f.prototype.Py=function(n,h,l){if(0 === this.length || n < this.tl(0))return -1;n=Math.max(n,h || 0);for(var p=0,q=this.length - 1,u,t;q >= p;)if((u=p + (q - p >> 1),t=this.tl(u),n < t))q=u - 1;else if(n >= t + this.jf(u))p=u + 1;else {for(;h && u < this.length && this.tl(u) < h;)++u;return u < this.length?u:l?this.length - 1:-1;}return l?this.length - 1:-1;};f.prototype.hpa=function(n,h,l){n=this.Py(n,h,l);return 0 <= n?this.get(n):void 0;};f.prototype.A5=function(n,h){var l,p,q;l=Math.floor(h * this.N / 1E3);p=Math.min(n + Math.ceil(h / this.cia),this.length);q=this.lB[p] - this.lB[n];if(q >= l){for(;q >= l;)(--p,q-=this.ot[p]);return {blocks:Math.max(p - n + 1,0),GY:0};}for(;q < l && p <= this.length;)(h-=q || 0,q+=this.ot[p],++p);return {blocks:Math.max(p - n - 1,0),GY:h};};f.prototype.subarray=function(n,h){(0,g.assert)(void 0 === n || 0 <= n && n < this.length);(0,g.assert)(void 0 === h || h > n && h <= this.length);return new f(this.mediaType,this.xa,{N:this.N,Fs:this.F3 + this.lB[n],jf:this.ot.subarray(n,h)},this.d4 && ({CO:this.d4.subarray(n,h + 1),iP:this.BVa}));};f.prototype.forEach=function(n){for(var h=0;h < this.length;++h)n(this.get(h),h,this);};f.prototype.map=function(n){for(var h=[],l=0;l < this.length;++l)h.push(n(this.get(l),l,this));return h;};f.prototype.reduce=function(n,h){for(var l=0;l < this.length;++l)h=n(h,this.get(l),l,this);return h;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.cia};};f.prototype.dump=function(){var h;k.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.cia + "ms");for(var n=0;n < this.length;++n){h=this.get(n);k.trace(("TrackFragments: ").concat(n,": [").concat(h.Ia.v,"-").concat(h.Ua.v,"]"));}};return f;})();b.Mha=a;b.ww=c;c(a.prototype.tl);c(a.prototype.WU);c(a.prototype.jf);b.gyb=function(f){return ("[").concat(Array(f.length).map(function(n,h){return f[h].toString();}).join(","),"]");};},11862:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cS=void 0;r=(function(){function a(c){this.qUa=c;}Object.defineProperties(a.prototype,{pN:{get:function(){return this.Rtb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.qUa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{y5b:{get:function(){var c;c=this;return this.qUa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Rtb=!0;};a.prototype.hO=function(c,m){var g;g=this;this.result.then(function(k){g.pN?m && m(k):c(k);});return this;};return a;})();b.cS=r;},85858:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},25218:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52571:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);m=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.assert=function(g,k){var d;if(!g){d=new m(k || "Assertion failed");a(8171).Jq.S.error("Assertion failed",{value:g,message:k,stack:d.stack});throw d;}};},62156:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$wa=void 0;c=a(65161);b.$wa=function(m){switch(m){case c.Fb.me:m=c.Yc.me;break;case c.Fb.Zj:m=c.Yc.Zj;break;case c.Fb.Pn:case c.Fb.$s:case c.Fb.u2:m=c.Yc.$s;break;default:m=c.Yc.Gl;}return m;};},17122:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.B2=void 0;r=a(90745);c=a(91176);a=a(85254);m=(function(){function g(k){void 0 === k && (k={ti:!1,currentTime:c.K.Ba,speed:1});this.Wa={ti:function(){return "function" === typeof k.ti?k.ti():k.ti;},currentTime:function(){return "function" === typeof k.currentTime?k.currentTime():k.currentTime;},speed:function(){return "function" === typeof k.speed?k.speed():k.speed;}};}Object.defineProperties(g.prototype,{ti:{get:function(){return this.Wa.ti();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.Wa.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){return this.Wa.speed();},enumerable:!1,configurable:!0}});return g;})();b.B2=m;(0,a.Fk)(r.EventEmitter,m);},79994:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.h_a=void 0;b.h_a=function(a){return JSON.parse(JSON.stringify(a));};},99735:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qFa=void 0;c=a(5163);a(52571);r=(function(){function m(g,k){this.ed=g;this.LK=k;this.Zx();}Object.defineProperties(m.prototype,{length:{get:function(){return this.aB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{empty:{get:function(){return 0 === this.aB;},enumerable:!1,configurable:!0}});m.prototype.oMb=function(){return this.SK && this.SK.get(0);};m.prototype.izb=function(){return this.IK && this.IK.get(this.IK.length - 1);};m.prototype.get=function(g){0 > g && (g+=this.length);for(var k=0;k < this.ed.length;++k)if(this.ak[k + 1] > g)return this.ed[k].get(g - this.ak[k]);};m.prototype.push=function(g){this.ed[this.LK(g)].push(g);this.Zx();return this.aB;};m.prototype.shift=function(){var g;if(this.SK){g=this.SK.shift();this.Zx();return g;}};m.prototype.pop=function(){var g;if(this.IK){g=this.IK.pop();this.Zx();return g;}};m.prototype.unshift=function(g){this.ed[this.LK(g)].unshift(g);this.Zx();return this.aB;};m.prototype.uo=function(g){var k;k=this.LK(g);this.ed[k].uo(g);this.Zx();};m.prototype.remove=function(g){var k;k=this.ed.some(function(d){return d.remove(g);});k && this.Zx();return k;};m.prototype.splice=function(g,k){var q,u,t,v;for(var d,f=[],n=2;n < arguments.length;n++)f[n - 2]=arguments[n];n=[];for(var h,l=g + Math.max(0,k),p=0;p < this.ed.length;++p){q=this.ed[p];u=this.ak[p];t=this.ak[p + 1];if(g < t){v=g - u;u=Math.min(l - u,q.length);void 0 === h && 0 < v && u < q.length?Array.prototype.push.apply(n,q.splice.apply(q,c.__spreadArray([v,u - v],c.__read(f),!1))):(Array.prototype.push.apply(n,q.splice(v,u - v)),void 0 === h && (h=0 < p && 0 === v?p - 1:p));g=t;if(g >= l)break;}}if(f.length && void 0 !== h){for(l=this.LK(f[0]);0 < h && l < h && this.ed[h].empty;)--h;for(;f.length && l === h;){this.ed[h].push(f.shift());if(!f.length)break;l=this.LK(f[0]);}for(;f.length && ++h < this.ed.length && this.ed[h].empty;)for(;f.length && l === h;){this.ed[h].push(f.shift());if(!f.length)break;l=this.LK(f[0]);}f.length && (d=this.ed[h]).splice.apply(d,c.__spreadArray([0,0],c.__read(f),!1));}this.Zx();return n;};m.prototype.find=function(g){var k,d;k=this;return this.ed.some(function(f,n){d=f.find(k.oB(g,n));return void 0 !== d;})?d:void 0;};m.prototype.findIndex=function(g){var d;for(var k=0;k < this.ed.length;++k){d=this.ed[k].findIndex(this.oB(g,k));if(-1 !== d)return d + this.ak[k];}return -1;};m.prototype.indexOf=function(g){var d;for(var k=0;k < this.ed.length;++k){d=this.ed[k].indexOf(g);if(-1 !== d)return d + this.ak[k];}return -1;};m.prototype.map=function(g){var k,d;k=this;d=this.ed.map(function(f,n){return f.map(k.oB(g,n));});return Array.prototype.concat.apply([],d);};m.prototype.reduce=function(g,k){var d;d=this;return this.ed.reduce(function(f,n,h){return n.reduce(d.dwb(g,h),f);},k);};m.prototype.forEach=function(g){var k;k=this;this.ed.forEach(function(d,f){d.forEach(k.oB(g,f));});};m.prototype.zM=function(g){for(var k=this.ed.length - 1;0 <= k;--k)this.ed[k].zM(this.oB(g,k));};m.prototype.some=function(g){var k;k=this;return this.ed.some(function(d,f){return d.some(k.oB(g,f));});};m.prototype.lAa=function(g){for(var k=this.ed.length - 1;0 <= k;--k)if(this.ed[k].lAa(this.oB(g,k)))return !0;return !1;};m.prototype.every=function(g){var k;k=this;return this.ed.every(function(d,f){return d.every(k.oB(g,f));});};m.prototype.ILb=function(g,k){var l,p;function d(q){return q.reduce(function(u,t,v,w){return void 0 === t?u:void 0 === u?v:0 > g(t,w[u])?v:u;},void 0);}for(var f=this,n=this.ed.map(function(){return 0;}),h=this.ed.filter(function(q){return q.empty;}).length;h < this.ed.length;){l=n.map(function(q,u){return q < f.ed[u].length?f.ed[u].get(q):void 0;});p=d(l);k(l[p],this.ak[p] + n[p],this);++n[p];n[p] === this.ed[p].length && ++h;}};m.prototype.move=function(g){return this.remove(g)?(this.uo(g),!0):!1;};m.prototype.X7b=function(){var g;if(this.ed[1].length){g=this.ed[1].shift();this.ed[0].push(g);this.Zx();}};m.prototype.y1a=function(g){for(var k=-1,d=0;d < this.ed.length;++d)if((k=g(this.ed[d]),-1 !== k)){k+=this.ak[d];break;}return k;};m.prototype.toJSON=function(){return this.map(function(g){return g.toJSON();});};m.prototype.Zx=function(){var k;this.aB=0;this.ak=[0];this.IK=this.SK=void 0;for(var g=0;g < this.ed.length;++g){k=this.ed[g];this.aB+=k.length;this.ak.push(this.ak[this.ak.length - 1] + k.length);!this.SK && k.length && (this.SK=k);k.length && (this.IK=k);}};m.prototype.oB=function(g,k){var d,f;d=this;f=this.ak[k];return function(n,h){return g(n,f + h,d);};};m.prototype.dwb=function(g,k){var d,f;d=this;f=this.ak[k];return function(n,h,l){return g(n,h,f + l,d);};};return m;})();b.qFa=r;},47415:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KYa=void 0;c=a(5163);m=a(48170);g=a(52571);b.KYa=function(){for(var k=[],d=0;d < arguments.length;d++)k[d]=arguments[d];m.L && (0,g.assert)(k.length);return function(f,n){var h,q,u;try{for(var l=c.__values(k),p=l.next();!p.done;p=l.next()){q=p.value;u=q(f,n);if(0 !== u)return u;}}catch(v){var t;t={error:v};}finally{try{p && !p.done && (h=l.return) && h.call(l);}finally{if(t)throw t.error;}}return 0;};};},68963:function(r,b,a){function c(m,g){this.Wja=m;this.$n=Math.floor((m + g - 1) / g);this.Gh=g;this.reset();}a(52571);c.prototype.shift=function(){this.Mi.shift();this.Hv.shift();};c.prototype.uu=function(m){return this.mXa(this.Mi[m],m);};c.prototype.update=function(m,g){this.Mi[m]=(this.Mi[m] || 0) + g;};c.prototype.push=function(){this.Mi.push(0);this.Hv.push(0);this.ec+=this.Gh;};c.prototype.add=function(m,g,k){var d,f,n;if(null === this.ec){d=Math.max(Math.floor((k - g + this.Gh - 1) / this.Gh),1);for(this.ec=g;this.Mi.length < d;)this.push();}for(;this.ec <= k;)(this.push(),this.Mi.length > this.$n && this.shift());if(null === this.Sn || g < this.Sn)this.Sn=g;if(g > this.ec - this.Gh)this.update(this.Mi.length - 1,m);else if(g == k)(d=this.Mi.length - Math.max(Math.ceil((this.ec - k) / this.Gh),1),0 <= d && this.update(d,m));else for(d=1;d <= this.Mi.length;++d){f=this.ec - d * this.Gh;n=f + this.Gh;if(!(f > k)){if(n < g)break;this.update(this.Mi.length - d,Math.round(m * (Math.min(n,k) - Math.max(f,g)) / (k - g)));}}for(;this.Mi.length > this.$n;)this.shift();};c.prototype.start=function(m){null === this.Sn && (this.Sn=m);null === this.ec && (this.ec=m);};c.prototype.stop=function(m){var g,k;if(null !== this.ec)if(m - this.ec > 10 * this.Wja)this.reset();else {for(;this.ec <= m;)(this.push(),this.Mi.length > this.$n && this.shift());g=this.Mi.length - Math.ceil((this.ec - this.Sn) / this.Gh);k=this.Mi.length - Math.ceil((this.ec - m) / this.Gh);if(0 <= k)if((0 > g && (this.Sn=this.ec - this.Gh * this.Mi.length,g=0),g === k))this.Hv[g]+=m - this.Sn;else if(k > g)for((this.Hv[g]+=(this.ec - this.Sn) % this.Gh,this.Hv[k]+=this.Gh - (this.ec - m) % this.Gh,m=g + 1);m < k;++m)this.Hv[m]=this.Gh;this.Sn=null;}};c.prototype.mXa=function(m,g){g=this.Npa(g);return 0 === g?null:8 * m / g;};c.prototype.Npa=function(m){var g;g=this.Hv[m];null !== this.Sn && (m=this.ec - (this.Mi.length - m - 1) * this.Gh,m > this.Sn && (g=m - this.Sn <= this.Gh?g + (m - this.Sn):this.Gh));return g;};c.prototype.get=function(m,g){var k,d;k=this.Mi.map(this.mXa,this);if("last" === m)for(m=0;m < k.length;++m)null === k[m] && (k[m]=0 < m?k[m - 1]:0);else if("average" === m){g=1 - Math.pow(.5,1 / ((g || 2E3) / this.Gh));for(m=0;m < k.length;++m)null === k[m]?k[m]=Math.floor(d || 0):d=void 0 !== d?g * k[m] + (1 - g) * d:k[m];}return k;};c.prototype.reset=function(){this.Pic || (this.Mi=[],this.Hv=[],this.Sn=this.ec=null);};c.prototype.setInterval=function(m){this.$n=Math.floor((m + this.Gh - 1) / this.Gh);};r.exports=c;},93559:function(r,b,a){var m;function c(g,k,d){var f,h,l;if(g === k || !d.qm && g == k)return !0;if(typeof g !== typeof k)return !1;if(g && "object" === typeof g){for(var n in g)if(!c(g[n],k[n],d))return !1;if(!d.wBb){h=Object.keys(g);l=Object.keys(k).filter(function(t){return 0 > h.indexOf(t);});try{for(var p=m.__values(l),q=p.next();!q.done;q=p.next())if((n=q.value,!c(g[n],k[n],d)))return !1;}catch(t){var u;u={error:t};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.R5=void 0;m=a(5163);b.R5=function(g,k,d){void 0 === d && (d={});d=m.__assign({qm:!1,wBb:!1},d);return c(g,k,d);};},68157:function(r,b){function a(c){var m,g;m=Math.abs(c);g=1 / (1 + m / 2);m=g * Math.exp(-m * m - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));return 0 <= c?m:2 - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.TJb=b.L5a=b.oM=void 0;b.oM=a;b.L5a=function(c){var m,g,d;if(2 <= c)return -100;if(0 >= c)return 100;m=1 > c?c:2 - c;g=Math.sqrt(-2 * Math.log(m / 2));g=-.70711 * ((2.30753 + .27061 * g) / (1 + g * (.99229 + .04481 * g)) - g);for(var k=0;2 > k;k++){d=a(g) - m;g+=d / (1.1283791670955126 * Math.exp(-(g * g)) - g * d);}return 1 > c?g:-g;};b.TJb=function(c){return 1 - a(c);};},30285:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.jHa=void 0;c=a(5163);r=(function(){function g(k,d){void 0 === d && (d={});this.ko=k;this.options=d;this.xG=[];this.hH=new m(k,this.Qwb.bind(this));}g.prototype.Qwb=function(k){for(var d,f,n,h,l,p,q=[],u=1;u < arguments.length;u++)q[u - 1]=arguments[u];q={Gr:k,Ep:q};(null !== (n=null === (f=(d=this.options).k8b) || void 0 === f?void 0:f.call(d,q,this.xG)) && void 0 !== n?n:1) && this.xG.push(q);return null !== (p=null === (l=(h=this.options).doc) || void 0 === l?void 0:l.call(h,q)) && void 0 !== p?p:!0;};g.prototype.gba=function(k){this.xG=this.xG.filter(function(d,f){return !k(d,f);});};g.prototype.qya=function(){var k;k=this;this.hH.GBa();this.xG.forEach(function(d){var f;(f=k.ko).emit.apply(f,c.__spreadArray([d.Gr],c.__read(d.Ep),!1));});this.hH.w6a();};Object.defineProperties(g.prototype,{length:{get:function(){return this.xG.length;},enumerable:!1,configurable:!0}});g.prototype.clear=function(){this.xG=[];};g.prototype.Ma=function(){this.clear();this.hH.GBa();this.options=void 0;};return g;})();b.jHa=r;m=(function(){function g(k,d){this.ko=k;this.Lt=d;this.Eab=this.ko.emit;this.gFb();this.w6a();}g.prototype.gFb=function(){var k;k=this;this.hH=function(d){for(var f,n,h=[],l=1;l < arguments.length;l++)h[l - 1]=arguments[l];return (null === (n=k.Lt) || void 0 === n?0:n.call.apply(n,c.__spreadArray([k,d],c.__read(h),!1)))?(f=k.Eab).call.apply(f,c.__spreadArray([k.ko,d],c.__read(h),!1)):!1;};};g.prototype.w6a=function(){this.hH && (this.ko.emit=this.hH);};g.prototype.GBa=function(){this.ko.emit=this.Eab;};g.prototype.Ma=function(){this.GBa();this.Lt=this.hH=void 0;};return g;})();},32201:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(68157);r=(function(){function m(g,k){this.Aa=g;this.Te=k;}m.prototype.BXa=function(g){return .5 * (0,c.oM)(-(g - this.Aa) / Math.sqrt(2 * this.Te));};m.prototype.Nw=function(g){return this.Aa - Math.sqrt(2 * this.Te) * (0,c.L5a)(2 * g);};return m;})();b["default"]=r;},82475:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Z7=void 0;b.Z7=function(a){return ("( ").concat(a.H,", ").concat(a.offset.ob()," )");};},6783:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Qp=void 0;c=a(5163);m=a(91176);b.Qp=function(g,k,d,f){var n,h,l,u,t,v;void 0 === f && (f={});l=m.K.max(d,m.K.Ba);try{for(var p=c.__values(Object.keys(g.aa)),q=p.next();!q.done;q=p.next()){u=q.value;t=g.aa[u];if(t.J === k){v=m.K.Na(t.hb);if(l.Jg(v) && (!isFinite(null !== (h=t.wb) && void 0 !== h?h:NaN) || l.lessThan(m.K.Na(t.wb))))return {H:u,offset:d.qa(v)};}}}catch(y){var w;w={error:y};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(w)throw w.error;}}if(f.Ieb && (t=Object.keys(g.aa).map(function(y){return {key:y,I:g.aa[y]};}).filter(function(y){return y.I.J === k;}).map(function(y){var x,z;x=m.K.abs(d.qa(m.K.Na(y.I.hb)));if(y.I.wb && isFinite(y.I.wb)){z=m.K.abs(d.qa(m.K.Na(y.I.wb)));x=m.K.min(x,z);}return c.__assign(c.__assign({},y),{Cr:x});}),t.sort(function(y,x){return y.Cr.v - x.Cr.v;}),v=c.__read(t,1)[0]))return (t=v.I,f=v.key,v=m.K.Na(t.hb),{H:f,offset:d.qa(v)});};},69575:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xqb=b.FHa=void 0;r=a(5163);r.__exportStar(a(65167),b);r.__exportStar(a(55971),b);r.__exportStar(a(1727),b);r.__exportStar(a(61113),b);r.__exportStar(a(79994),b);r.__exportStar(a(93559),b);r.__exportStar(a(24635),b);r.__exportStar(a(48912),b);r.__exportStar(a(62291),b);c=r.__importDefault(a(32201));b.FHa=c.default;a=r.__importDefault(a(16514));b.Xqb=a.default;},51117:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.I1=void 0;c=a(68157);r=(function(){function m(g,k){this.ava=g;this.Te=k;0 < k?(this.I7a=k=Math.pow(g,3) / k,g=2 * k / g,500 >= g && (this.Toa=Math.exp(g))):this.Toa=0;}m.prototype.BXa=function(g){var k,d,f;k=this.ava;d=this.Toa;if(d && 0 < g){f=Math.sqrt(this.I7a / (2 * g));k=g / k;g=(0,c.oM)(f * (k - 1));f=(0,c.oM)(f * (k + 1));return Math.max((2 - g + d * f) / 2,0);}return g < k?0:g > k?1:.5;};m.prototype.Nw=function(g,k,d){for(var f=0,n=this.ava + 5 * Math.sqrt(this.Te),h=1,l=0;Math.abs(h) > k && d--;)(l=(f + n) / 2,h=this.BXa(l),h=g - h,0 > h?n=l:f=l);return l;};m.prototype.bBb=function(g){var k,d,f,n;k=this.ava;d=this.Toa;if(d && 0 < g){f=Math.sqrt(this.I7a / (2 * g));n=g / k;g=2 - (0,c.oM)(f * (n - 1));d*=(0,c.oM)(f * (n + 1));return [Math.max((g + d) / 2,0),Math.max(k * (g - d) / 2,0)];}return g < k?[0,0]:g > k?[1,k]:[.5,k / 2];};return m;})();b.I1=r;},65892:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ek=b.JUb=void 0;b.JUb=function(a){var c,m;c=a.next();do {if(!c.done)m=c.value;c=a.next();}while(!c.done);return m;};b.Ek=function(a){if(Array.isArray(a))return a;for(var c=[],m=a.next();!m.done;)(c.push(m.value),m=a.next());return c;};},62291:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hua=void 0;b.hua=function(a){var c,m,g,k,d,f;f=null === (c=a.I) || void 0 === c?void 0:c.id;return {jb:null === (m=a.Db) || void 0 === m?void 0:m.v,duration:(null === (g=a.Hb) || void 0 === g?NaN:g.v) - (null === (k=a.Db) || void 0 === k?NaN:k.v),offset:a.offset,ta:a.ta,bitrate:a.bitrate,profile:a.profile,Ee:!!a.Ee,H:f,Vb:a.Vb,Wc:a.Wc,location:a.location,ri:a.ri,zr:null === (d=a.Ia) || void 0 === d?void 0:d.v,vu:{Ra:{I:{id:f || "unknown"}}}};};},42194:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.gXa=void 0;c=a(50599);m=a(65044);b.gXa=function(){return function(g){var f,n,h,l;function k(p){l[p]=function(q){return n({rules:[{Oj:p,config:q}]},!0);};}function d(p){f[p]=function(q){return n({rules:[{Oj:p,config:q}]});};}f={};n=(0,c.map)(g.W8a);for(h in g.gP)d(h);f.P$=n({rules:[],Dka:!0});f.qm=n({rules:[],qm:!0});l={};for(h in g.gP)k(h);l.P$=n({rules:[],Dka:!0},!0);l.qm=n({rules:[],qm:!0},!0);f.return=l;return {Gna:f,Nya:g,Exa:function(p,q,u,t){return (0,m.xZa)(p,q,u,g.gP,g.W8a,t);}};};};},50599:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ueb=b.D3a=b.map=void 0;c=a(5163);a(1738);b.map=function(m){return function(g,k){void 0 === k && (k=!1);return function(d,f,n){var h,l,p,q,u,t,v,w;u=Reflect.T3a(m,d,f) || ({});v="number" === typeof n;w=k;(t=v?null !== (l=(null !== (h=u.sb) && void 0 !== h?h:{})[n]) && void 0 !== l?l:{}:w?u.return:u.Mua) || (t={rules:[]});h=c.__assign(c.__assign(c.__assign({},t),g),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=g.rules) && void 0 !== q?q:[]),!1)});v?(u.sb || (u.sb={}),u.sb[n]=h):w?u.return=h:u.Mua=h;Reflect.V5(m,u,d,f);};};};b.D3a=function(m){return function(g,k){var d,f,n,h;g=null !== (h=null !== (f=null === (d=g.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== f?f:null === (n=null === g || void 0 === g?void 0:g.constructor) || void 0 === n?void 0:n.prototype) && void 0 !== h?h:g;for(var l;g && void 0 === l;)(l=Reflect.T3a(m,g,k),g=g.__proto__);return l;};};b.ueb=function(){return function(){return function(m){return m;};};};},65044:function(r,b,a){var d,f,n,h,l;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function m(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function g(p,q){var v;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;)(t=t.concat(Object.getOwnPropertyNames(u)),u=Object.getPrototypeOf(u));p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);v=Object.getPrototypeOf(q);p.forEach(function(w){Object.getOwnPropertyDescriptor(q,w) || Object.getOwnPropertyDescriptor(v,w) || q[w] || Object.defineProperty(q,w,{get:function(){},configurable:!0,enumerable:!0});});}function k(p,q,u,t){var y;for(var v=[],w=4;w < arguments.length;w++)v[w - 4]=arguments[w];y=t();if((null === y || void 0 === y?0:y.Mua) || (null === y || void 0 === y?0:y.sb))v=v.map(function(x,z){var A;z=(0,l.G9a)(y.Mua,null === (A=y.sb) || void 0 === A?void 0:A[z]);return (0,h.vba)(q,x,u,z);});v=p.call.apply(p,d.__spreadArray([void 0],d.__read(v),!1));return (null === y || void 0 === y?0:y.return)?(0,h.vba)(q,v,u,y.return,n.jv.PD):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.rMb=b.bHb=b.xZa=void 0;d=a(5163);f=a(50599);n=a(49165);h=a(87561);l=a(28867);b.xZa=function(p,q,u,t,v,w){var y,x;void 0 === w && (w=[]);y={};x=(0,f.D3a)(v);g(q,p);w.forEach(function(z){return g(z,p);});return new Proxy(p,{get:function(z,A){var B,D,C,E;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){E=q[A];return "function" === typeof E?E.bind(q):E;}B=y[A];if(!B && !m(y,A)){B=null !== (C=null === (D=null === z || void 0 === z?void 0:z.constructor) || void 0 === D?void 0:D.prototype) && void 0 !== C?C:z;D=null !== (E=c(B,A)) && void 0 !== E?E:c(B.__proxyCtor,A);E=m(B,A);if(null === E || void 0 === E?0:E.get)return (E=E.get,D=x.bind(null,D,A),z=k.bind(z,E.bind(z),u,t,D),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());E=z[A];return "function" === typeof E?(D=x.bind(null,z,A),z=k.bind(z,E.bind(z),u,t,D),y[A]=z):E;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.bHb=g;b.rMb=k;},49165:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jv=void 0;r=b.jv || (b.jv={});r[r.PD=0]="up";r[r.lG=1]="down";},87561:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.vba=void 0;c=a(5163);m=a(52571);g=a(49165);b.vba=function(k,d,f,n,h,l){var p,q;void 0 === h && (h=g.jv.lG);p=k();if(n && p){q=n.Dka;k=n.qm;n=n.rules.map(function(u){return ["function" === typeof u.Oj?u.Oj(f):f[u.Oj],u.config];});q || (0,m.assert)(d,"Param is null");l && n.push([{map:l,qy:function(){return !0;}},void 0]);l=n.filter(function(u){u=c.__read(u,2);return u[0].qy(d,p,u[1]);});k && (0,m.assert)(l.length,("No rules matched for ").concat(d));if(l.length)return l.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,h,p,t[1]);},d);}return d;};},28867:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.G9a=void 0;c=a(5163);m=a(91176);b.G9a=function(g,k){var d;if(g || k){d=(null === g || void 0 === g?0:g.rules) && (null === k || void 0 === k?0:k.rules)?(0,m.nL)(g.rules,k.rules):(null === g || void 0 === g?void 0:g.rules) || (null === k || void 0 === k?void 0:k.rules);return c.__assign(c.__assign(c.__assign({},g),k),{rules:d});}};},55971:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.PLa=void 0;c=a(91176);m=a(52571);r=(function(){function g(){this.data={};}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){var k;k=this;return Object.keys(this.data).reduce(function(d,f){return d + k.data[f].length;},0);},enumerable:!1,configurable:!0}});g.prototype.get=function(k){var d;return null !== (d=this.data[k]) && void 0 !== d?d:[];};g.prototype.has=function(k,d){return (k=this.data[k])?void 0 === d?!0:-1 !== k.indexOf(d):!1;};g.prototype.count=function(k){return (k=this.data[k])?k.length:0;};g.prototype.keys=function(){return Object.keys(this.data);};g.prototype.values=function(){var k;k=this;return (0,c.flatten)(this.keys().map(function(d){return k.data[d];}));};g.prototype.set=function(k,d){(this.data[k] || (this.data[k]=[])).push(d);return this;};g.prototype.clear=function(){this.data={};};g.prototype.delete=function(k,d){var f,n;f=this.data[k];if(void 0 === f)return !1;if(void 0 === d)return ((0,m.assert)(1 === arguments.length),delete this.data[k],!0);n=f.indexOf(d);if(-1 === n)return !1;1 === f.length?delete this.data[k]:f.splice(n,1);return !0;};g.prototype.forEach=function(k,d){var f;f=this;k=void 0 !== d?k.bind(d):k;this.keys().forEach(function(n){return f.data[n].forEach(function(h){return k(h,n,f);});});};g.prototype.reduce=function(k,d,f){var n,h;n=this;k=void 0 !== f?k.bind(f):k;h=d;this.forEach(function(l,p){h=k(h,l,p,n);});return h;};g.prototype.map=function(k,d){var f;f=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(n){return f.data[n].map(function(h){return k(h,n,f);});}));};g.prototype.filter=function(k,d){var f;f=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(n){return f.data[n].filter(function(h){return k(h,n,f);});}));};return g;})();b.PLa=r;},77399:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.q6a=void 0;c=a(5163);b.q6a=function(m,g){var n,h,l,p,q,u,t,y,x,z,A,B,D,C;for(var k,d,f=0;f < m.length;f++){n=c.__read(g,3);h=n[0];l=n[1];p=n[2];q=c.__read(m[f],3);u=q[0];n=q[1];t=q[2];if(!(h >= n)){h=[h,Math.min(n,l),u,n].filter(function(E,G,F){return F.indexOf(E) === G;}).sort(function(E,G){return E - G;});u=h.length - 1;q=Array(u);p+=t;try{for(var v=(k=void 0,c.__values([g,m[f]])),w=v.next();!w.done;w=v.next()){y=c.__read(w.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(g=0;g < u;g++){B=h[g + 1];D=Math.min(B,z) - Math.max(h[g],x);if(0 < D){C=D * A / t;p-=C;q[g]=q[g]?q[g] + C:C;}if(z <= B)break;}}}catch(E){k={error:E};}finally{try{w && !w.done && (d=v.return) && d.call(v);}finally{if(k)throw k.error;}}t=[];for(g=0;g < u;g++)(A=q[g],0 < A && t.push([h[g],h[g + 1],A]));m.splice.apply(m,c.__spreadArray([f,1],c.__read(t),!1));if(n < l)g=[n,l,p];else return;}}g && 0 < g[2] && m.splice(m.length,0,g);};},16514:function(r){function b(a){this.gub=a;this.sF=[];this.nB=!1;this.Lja=void 0;this.Gm={};}b.prototype.b4=function(a){this.sF.length === this.gub && this.sF.shift();Array.isArray(a)?this.sF=this.sF.concat(a):this.sF.push(a);this.nB=!0;};b.prototype.SV=function(){return this.sF.length;};b.prototype.AL=function(a){var c,m,g;if(this.nB || void 0 === this.Lja)(this.Lja=this.sF.slice(0).sort(function(k,d){return k - d;}),this.Gm={},this.nB=!1);if(void 0 === this.Gm[a]){c=this.Lja;m=Math.floor(a / 100 * (c.length - 1) + 1) - 1;g=(a / 100 * (c.length - 1) + 1) % 1;this.Gm[a]=m === c.length - 1?c[m]:c[m] + g * (c[m + 1] - c[m]);}return this.Gm[a];};r.exports=b;},29254:function(r,b){var m,g,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.nSa);}function c(d){return (a(d)?d:Object.defineProperties(d,{nSa:{value:{},configurable:!1,enumerable:!1}})).nSa;}Object.defineProperties(b,{__esModule:{value:!0}});b.kha=void 0;g=null !== (m=Number.MAX_SAFE_INTEGER) && void 0 !== m?m:1E9;k=Date.now() % g;r=(function(){function d(){this.id=k=(k + 1) % g;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,n){c(f)[this.id]=n;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.kha=r;},1936:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qrb=void 0;c=a(66164);m=a(8171);g=["","",""];r=(function(){function k(d){this.request=d;this.complete=this.append=this.Q6=this.Ita=this.open=0;}Object.defineProperties(k.prototype,{console:{get:function(){return m.Jq.iw(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wya:{get:function(){var d;return null === (d=this.request.Bb) || void 0 === d?void 0:d.v;},enumerable:!1,configurable:!0}});k.prototype.j_b=function(){this.open=c.platform.time.sa();};k.prototype.d_b=function(){this.Ita=c.platform.time.sa();this.gy();};k.prototype.ZZb=function(){this.Q6=c.platform.time.sa();this.gy();};k.prototype.hO=function(){this.complete=c.platform.time.sa();this.gy();};k.prototype.gy=function(){var d;d=("RequestLedger ID: ").concat(this.request.ri());d+=(" load-open: ").concat(this.Ita - this.open);0 < this.Q6 && (" firstbyte-load: ").concat(this.Q6 - this.Ita);0 < this.append && (" append-firstbyte: ").concat(this.append - this.Q6);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.request.mediaType,this.wya && this.complete - this.open > this.wya?((" duration: ").concat(this.wya),g[d]+="X"):g[d]+=".",10 < g[d].length && (g[d]=g[d].slice(1)));};return k;})();b.qrb=r;},66055:function(r,b,a){var m,g,k,d,f;function c(n,h){return n.time - h.time || n.priority - h.priority || n.id - h.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.tvb=b.i5=b.Xba=void 0;m=a(66164);g=a(91176);k=a(48170);d=a(52571);f=(function(){function n(){var h;h=this;this.Uj=new g.HR([],c);this.fBa=0;this.console=new m.platform.Console("SETTIMEOUT");this.eKb=function(){var l,p;l=m.platform.time.sa();h.OZ=void 0;k.L && h.console.trace(("[").concat(l,"] Wake"));try{for(;!h.Uj.empty && h.Uj.uu().time <= l;){p=h.Uj.pop();k.L && h.console.trace(("[").concat(m.platform.time.sa(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.Lt();}}finally{h.bza();}};}Object.defineProperties(n,{instance:{get:function(){return n.st || (n.st=new n());},enumerable:!1,configurable:!0}});n.Bja=function(){(0,d.assert)(void 0 === n.st || n.st.Uj.empty,"Singleton SetTimeoutWithPriority reset with pending timers");n.st=void 0;};n.prototype.Xba=function(h,l,p){var q,u,t;(0,d.assert)(isFinite(l) && 0 <= l);q=this.Uj;u=m.platform.time.sa();t=u + l;q.push({id:++this.fBa,time:t,priority:p,Lt:h});k.L && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.fBa," scheduled for ").concat(t," in ").concat(l,"ms"));this.bza();return this.fBa;};n.prototype.i5=function(h){var l,p,q;l=this.Uj;p=l.find(function(u){return u.id === h;});if(p){q=l.uu().time;l.remove(p);k.L && this.console.trace(("[").concat(m.platform.time.sa(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(l.empty || l.uu().time > q) && this.bza();}};n.prototype.lYa=function(){this.OZ && (clearTimeout(this.OZ.id),k.L && this.console.trace(("[").concat(m.platform.time.sa(),"] Clearing wake timer")),this.OZ=void 0);};n.prototype.bza=function(){var h,l;l=this.Uj;l.empty?this.lYa():(l=l.uu().time,l !== (null === (h=this.OZ) || void 0 === h?void 0:h.time) && (this.lYa(),h=Math.max(0,l - m.platform.time.sa()),k.L && this.console.trace(("[").concat(m.platform.time.sa(),"] Setting wake timer for ").concat(l," in ").concat(h,"ms")),this.OZ={id:setTimeout(this.eKb,h),time:l}));};return n;})();b.Xba=function(n,h,l){return f.instance.Xba(n,h,l);};b.i5=function(n){f.instance.i5(n);};b.tvb=function(){f.Bja();};},61113:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lQa=b.kQa=void 0;c=a(91176);r=(function(){function m(g){this.Qa=g;this.listeners=[];this.$X=[];}Object.defineProperties(m.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});m.prototype.set=function(g){var k;this.Qa=g;k=this.$X;this.$X=[];this.listeners.forEach(function(d){return d(g);});k.forEach(function(d){return d(g);});};m.prototype.feb=function(){this.Qa=void 0;};m.prototype.on=function(g){this.listeners=this.listeners.concat([g]);void 0 !== this.Qa && g(this.Qa);};m.prototype.once=function(g){void 0 !== this.Qa?g(this.Qa):this.$X.push(g);};m.prototype.ks=function(g){this.listeners=this.listeners.filter(function(k){return k !== g;});this.$X=this.$X.filter(function(k){return k !== g;});};return m;})();b.kQa=r;r=(function(){function m(){this.listeners=[];}m.prototype.on=function(g,k){this.listeners.push({signal:g,listener:k});g.on(k);};m.prototype.once=function(g,k){var d,f;d=this;if(void 0 === g.value){f=function(n){d.remove(g,k);k(n);};this.listeners.push({signal:g,listener:k,pkb:f});g.once(f);}else g.once(k);};m.prototype.ks=function(g,k){var d;d=(0,c.mc)(this.listeners,function(f){return f.signal === g && f.listener === k;});void 0 !== d && g.ks(d.pkb || d.listener);this.remove(g,k);};m.prototype.removeAllListeners=function(){this.listeners.forEach(function(g){var k;k=g.listener;return g.signal.ks(g.pkb || k);});this.listeners=[];};m.prototype.remove=function(g,k){this.listeners=this.listeners.filter(function(d){return d.signal !== g || d.listener !== k;});};return m;})();b.lQa=r;},94258:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.WR=void 0;c=a(5163);m=a(24635);r=(function(){function g(k,d){var f;this.wSa=k;this.oib=d;this.my={other:new m.jg(),all:new m.jg()};try{for(var n=c.__values(k),h=n.next();!h.done;h=n.next())this.my[h.value]=new m.jg();}catch(p){var l;l={error:p};}finally{try{h && !h.done && (f=n.return) && f.call(n);}finally{if(l)throw l.error;}}}g.fm=function(k,d){var f,n,p;if(k === d)return k;n=new g(k.wSa,k.oib);try{for(var h=c.__values(Object.keys(k.my)),l=h.next();!l.done;l=h.next()){p=l.value;n.my[p]=k.my[p].fm(d.my[p]);}}catch(u){var q;q={error:u};}finally{try{l && !l.done && (f=h.return) && f.call(h);}finally{if(q)throw q.error;}}return n;};g.prototype.Ozb=function(k){var d,f,l;k=(null === (f=this.oib) || void 0 === f?void 0:f.call(this,k)) || k;try{for(var n=c.__values(this.wSa),h=n.next();!h.done;h=n.next()){l=h.value;if(k < l)return l;}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (d=n.return) && d.call(n);}finally{if(p)throw p.error;}}return "other";};g.prototype.push=function(k){var d,f;f=null !== (d=this.Ozb(k)) && void 0 !== d?d:"other";this.my[f].push(k);this.my.all.push(k);};g.prototype.toJSON=function(){var k,d;k=this;d={};Object.keys(this.my).forEach(function(f){var n;n=k.my[f];n.count && (d[f]=n);});return d;};return g;})();b.WR=r;},24635:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jg=void 0;c=a(91176);Object.defineProperties(b,{jg:{enumerable:!0,get:function(){return c.jg;}}});},35536:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.C2=void 0;c=a(66164);r=(function(){function m(){}Object.defineProperties(m.prototype,{duration:{get:function(){if(void 0 !== this.endTime)return this.endTime - this.startTime;},enumerable:!1,configurable:!0}});m.prototype.start=function(){this.reset();};m.prototype.reset=function(){this.startTime=c.platform.time.sa();this.endTime=void 0;};m.prototype.stop=function(){this.endTime=c.platform.time.sa();};return m;})();b.C2=r;},40666:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(88220),b);r.__exportStar(a(28422),b);r.__exportStar(a(14772),b);r.__exportStar(a(85339),b);r.__exportStar(a(4234),b);},88220:function(r,b,a){var c,m,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wfa=void 0;c=a(5163);m=a(91176);g=a(66164);k=a(52571);a(29092);d=a(14772);f=a(4234);r=(function(n){function h(l,p,q){p=n.call(this,p,q) || this;p.b6b=l;p.Xia=!1;p.y3=!1;p.reset();return p;}c.__extends(h,n);h.prototype.reset=function(){var l,p;if(this.Wa === d.Mk.wba || this.Wa === d.Mk.pending)null === (p=null === (l=this.OK) || void 0 === l?void 0:l.return) || void 0 === p?void 0:p.call(l);n.prototype.reset.call(this);this.OK=this.b6b();this.y3=!1;this.OS=f.Tg.WD(m.K.Ba);};h.prototype.sf=function(){this.reset();(0,k.assert)(this.Yn);this.Yn.YY(this);};h.prototype.A$=function(){return this.OS;};h.prototype.Cf=function(){var l,p,q,u;try{this.Xia=!0;u=(null === (l=this.OK) || void 0 === l?void 0:l.next()) || ({done:!0});}finally{this.Xia=!1;this.$tb=g.platform.time.sa();this.xBb();}u.done?(this.OS=f.Tg.mCa,null === (q=null === (p=this.OK) || void 0 === p?void 0:p.return) || void 0 === q?void 0:q.call(p),this.OK=void 0):this.OS=u.value;};h.prototype.xBb=function(){this.y3 && this.B_a();};h.prototype.B_a=function(){var l,p;this.Xia?this.y3=!0:(this.y3=!1,null === (p=null === (l=this.OK) || void 0 === l?void 0:l.return) || void 0 === p?void 0:p.call(l),this.OK=void 0);};h.prototype.Ma=function(){this.B_a();n.prototype.Ma.call(this);};h.prototype.Zl=function(){return {state:d.Mk[this.state],nextWakeup:{ms:this.OS.timestamp.v,type:f.z2[this.OS.type]},lastRunMono:this.$tb};};return h;})(d.Jha);b.wfa=r;},51371:function(r,b,a){var g,k,d,f,n,h,l,p,q,u,t,v,w;function c(y){var x,z,A,B,D,C,E,G,F,I,P,M;z=y.va;A=y.Lt;B=y.gkb;D=y.sm;C=y.priority;E=void 0 === C?0:C;C=y.RD;G=void 0 === C?!0:C;y=y.GWa;F=void 0 === y?!0:y;(0,n.assert)(z.ti,("Current time: ").concat(f.platform.time.sa()," cr: ").concat(z.currentTime));(0,n.assert)(z.currentTime.isFinite());y=B.qa(z.currentTime);F && (y=m(y,null !== (x=null === D || void 0 === D?void 0:D.Q$) && void 0 !== x?x:0));I=Math.max(Math.ceil(y.Ow / z.speed),0);P=D || ({id:void 0,u_a:I,Q$:0,I_b:I,RD:G,b5:[]});M=f.platform.time.sa();P.id=(P.RD?p.Xba:setTimeout)(function(){var L,Q;L=B.qa(z.currentTime);Q=f.platform.time.sa() - M - I;P.b5.push({delay:Q,H8b:I});L.Ao(d.K.Ba)?A():(P.Q$++,c({va:z,Lt:A,gkb:B,sm:P,priority:E,RD:G,GWa:F}));},I,E);P.u_a=I;return P;}function m(y,x){return 0 < x?d.K.max(y,d.K.Na(10 * (1 << Math.min(x,6) - 1))):y;}Object.defineProperties(b,{__esModule:{value:!0}});b.pha=b.wha=void 0;g=a(5163);k=a(90745);d=a(91176);f=a(66164);n=a(52571);h=a(48170);l=a(47415);p=a(66055);q=a(14772);u=a(4234);t=a(81651);v=(function(){function y(){this.complete();}Object.defineProperties(y.prototype,{rJ:{get:function(){return this.Nja;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{B$:{get:function(){return this.xub;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{WFb:{get:function(){return this.Wsb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Eba:{get:function(){return this.yvb;},enumerable:!1,configurable:!0}});y.prototype.set=function(x,z,A){this.Wsb=z === w.E$?0:f.platform.time.sa();this.xub=x;this.yvb=z;h.L && (0,n.assert)(!this.Nja,"Invalid replacement of timeout value");this.Nja=A;};y.prototype.complete=function(){this.Nja=void 0;this.set(d.K.Fj,w.E$);};return y;})();(function(y){y[y.E$=0]="none";y[y.zX=1]="microTask";y[y.setTimeout=2]="setTimeout";})(w=b.wha || (b.wha={}));r=(function(y){function x(z,A){var B;B=y.call(this) || this;B.va=z;B.console=A;B.GS=!1;B.b3=!1;B.vj=new v();B.$U=new k.Ge();B.Jh=new d.HR([],(0,l.KYa)(function(D,C){return D.BI.Tk(C.BI);},function(D,C){return D.Wf.vc.priority - C.Wf.vc.priority;},function(D,C){return C.Wf.priority - D.Wf.priority;},function(D,C){return D.Wf.id > C.Wf.id?1:D.Wf.id < C.Wf.id?-1:0;}));B.v4(z);return B;}g.__extends(x,y);x.Y6b=function(z){this.config=z;};x.UNb=function(z,A){var D,C;function B(){var E,G;E=new x(z,A);G=new d.dK({name:"rootTaskScheduler",YC:function(F){F() && (E.Ma(),D.Fba.delete(z));},console:A});return {vc:E,uw:G};}D=this;(0,n.assert)(this.config,"Config has not been intiialized");this.config.FXa && (this.Fba.has(z) || this.Fba.set(z,B()));C=this.Fba.get(z) || B();return {vc:C.vc,zo:C.uw.Cp()};};Object.defineProperties(x.prototype,{hda:{get:function(){return this.zF;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{d8b:{get:function(){return this.va.ti;},enumerable:!1,configurable:!0}});x.prototype.RIb=function(){this.zF || (this.zF=new t.Tha());return this.zF;};x.prototype.Zl=function(){var z;z={hasSchedule:!!this.vj.rJ,schedule:this.vj.rJ && ({sleepTime:this.vj.rJ.u_a,originalSleepTime:this.vj.rJ.I_b,clockSkewAdjustments:this.vj.rJ.Q$}),nextWakeup:this.vj.B$.v,timeScheduled:this.vj.WFb,scheduleType:w[this.vj.Eba],numTasks:this.Jh.length,clock:{ir:this.va.ti,ct:this.va.currentTime.v,sp:this.va.speed}};h.L && this.trace("audit",z);return z;};x.prototype.v4=function(z){var A;A=this;this.xr();this.$U.clear();this.va=z;this.$U.on(z,"stopStart",function(){return A.tI();});this.$U.on(z,"clockAdjusted",function(){return A.UX();});this.$U.on(z,"speedChanged",function(){return A.x_b();});this.UX();this.emit("clockChanged");};x.prototype.x_b=function(){this.xr();this.tI();};x.prototype.Ma=function(){this.reset();this.GS && (this.b3=!0);this.$U.clear();this.jH=!0;};x.prototype.reset=function(){var z;this.xr();z=this.Jh.Ek();this.Jh.clear();z.forEach(function(A){return A.Wf.Ma();});};x.prototype.sf=function(){var z;this.xr();z=this.Jh.Ek();this.Jh.clear();z.forEach(function(A){return A.Wf.sf();});};x.prototype.UX=function(){var z,A;z=this;A=this.Jh.map(function(B){return B.Wf;});this.xr();this.Jh.clear();A.forEach(function(B){return z.lL(B,!1);});this.tI();};x.prototype.lL=function(z,A){var B,D;void 0 === A && (A=!0);B=z.A$();D=this.Uhb(B);B={Wf:z,BI:D,mba:B};h.L && this.trace(("Adding task ").concat(z.name," for ").concat(D.v," from ").concat(z.vc.name) + ("/").concat(z.vc.priority));(0,n.assert)(!this.Jh.contains(B));this.Jh.push(B);A && this.tI();};x.prototype.Zca=function(z){var A,B;A=this;this.xr();z.Du && this.Jh.map(function(D){return D;}).filter(function(D){return -1 !== z.Du.indexOf(D.Wf);}).forEach(function(D){return A.Jh.remove(D);});null === (B=z.DT) || void 0 === B?void 0:B.forEach(function(D){return A.lL(D,!1);});this.tI();};x.prototype.tI=function(){var z,A,B,D,C,E;z=this;h.L && this.trace("recheck schedule task count:" + this.Jh.length);if(this.d8b){if(this.GS)h.L && this.trace("already executing, bailing");else if(this.vj.Eba === w.zX)h.L && this.trace("Already scheduled on microtask, bailing");else {B=this.vj.B$;D=this.Jh.uu();C=(null === D || void 0 === D?void 0:D.BI) || d.K.Fj;if(C.isFinite() && C.pva(B)){if((this.xr(!1),this.va.currentTime.Jg(C)))(this.vj.set(C,w.zX),Promise.resolve().then(function(){z.vj.Eba === w.zX && (z.vj.complete(),z.web({type:w.zX}));}));else {h.L && this.trace("scheduling next wake up for",{cpc:C.v,Wf:null === D || void 0 === D?void 0:D.Wf.name,h6b:null === D || void 0 === D?void 0:D.Wf.vc.name});E=c({va:this.va,Lt:function(){z.vj.complete();z.web({type:w.setTimeout,B$:C,delay:z.va.currentTime.qa(C),XF:E.Q$,b5:E.b5});},gkb:C,priority:null !== (A=null === D || void 0 === D?void 0:D.Wf.vc.priority) && void 0 !== A?A:0,RD:!!x.config.RD,GWa:!!x.config.FWa});this.vj.set(C,w.setTimeout,E);}}else C.isFinite() || this.vj.Eba !== w.setTimeout || this.xr(!1);}}else (h.L && this.trace("should check schedule is false, stopping"),this.xr());};x.prototype.web=function(z){var A,B,D,C,E;C=0;E=null === (A=this.Jh.uu()) || void 0 === A?void 0:A.mba;try{for((this.GS=!0,null === (B=this.zF) || void 0 === B?void 0:B.k9b(z));1E4 > C++ && this.Iac(););}finally{this.GS=!1;null === (D=this.zF) || void 0 === D?void 0:D.FJb(C);this.xr();1E4 < C && !this.oRb(E)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(h.L && this.trace("Next tasks",this.Jh.map(function(G){return {name:G.Wf.name,h6b:G.Wf.vc.name,dpc:G.BI.v};})),this.tI());}};x.prototype.oRb=function(z){var A,B;B=null === (A=this.Jh.uu()) || void 0 === A?void 0:A.mba;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};x.prototype.LWb=function(){this.GS && (this.b3=!0);};x.prototype.Iac=function(){var z,A,B,D,C,E;D=(null === (z=this.Jh.uu()) || void 0 === z?void 0:z.BI) || d.K.Fj;h.L && this.trace(("tryExecuteNextTask @").concat(this.va.currentTime.v,", next wakeup at ").concat(D));z=this.va.currentTime;if(z.Jg(D)){C=this.Jh.pop();if(C){E=C.Wf;null === (A=this.zF) || void 0 === A?void 0:A.j9b({Wf:E,currentTime:z,B$:D});this.tna=E;A=!1;h.L && this.trace("Running a task @" + z.v + ", scheduled for time:" + D.v + ("Name:").concat(E.name));try{E.hP();A=!0;C.mba=E.A$();C.BI=this.Uhb(C.mba);}catch(G){throw (this.error(("Unhandled error from a task ").concat(E.name," occurred.") + " Removing the task from future executions:" + G,{stack:G.stack}),E.Ma(),G);}finally{null === (B=this.zF) || void 0 === B?void 0:B.EJb({Wf:E,voc:A});this.tna=void 0;this.b3?(E.Ma(),this.b3=!1):C.BI !== d.K.Fj && E.state === q.Mk.wba && ((0,n.assert)(!this.Jh.contains(C)),this.Jh.push(C));}return !0;}}};x.prototype.YY=function(z){this.vI(z,!1);this.lL(z);};x.prototype.vI=function(z,A){var B;void 0 === A && (A=!0);B=this.Jh.find(function(D){return D.Wf === z;});B && this.E4b(B,A);};x.prototype.E4b=function(z,A){this.Jh.remove(z);A && this.tI();};x.prototype.xr=function(z){var A;void 0 === z && (z=!0);this.vj.rJ && (z && this.emit("stopping"),z=this.vj.rJ,(z.RD?p.i5:clearTimeout)(z.id),this.vj.complete(),null === (A=this.hda) || void 0 === A?void 0:A.xr());};x.prototype.Uhb=function(z){return z.type === u.z2.absolute?z.timestamp:z.timestamp.add(this.va.currentTime);};x.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++)A[B]=arguments[B];null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,g.__spreadArray(["RootTaskScheduler:"],g.__read(A),!1));};x.prototype.error=function(){for(var z,A=[],B=0;B < arguments.length;B++)A[B]=arguments[B];null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,g.__spreadArray(["RootTaskScheduler:"],g.__read(A),!1));};x.config={RD:!0,FXa:!0,FWa:!0};x.Fba=new WeakMap();return x;})(k.EventEmitter);b.pha=r;},28422:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nQa=void 0;c=a(5163);m=a(14772);g=a(4234);r=(function(k){function d(f,n,h,l){void 0 === l && (l={});h=k.call(this,h) || this;h.eza=f;h.Lt=n;h.options=l;return h;}c.__extends(d,k);d.prototype.A$=function(){return this.Wa === m.Mk.pending?this.eza:g.Tg.mCa;};d.prototype.Cf=function(){this.Lt();};d.prototype.sf=function(){this.options.eoc?(k.prototype.reset.call(this),this.Yn.YY(this)):this.Ma();};return d;})(m.Jha);b.nQa=r;},14772:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Jha=b.Mk=void 0;c=a(4234);(function(g){g[g.pending=0]="pending";g[g.wba=1]="running";g[g.complete=2]="complete";g[g.jG=3]="destroyed";})(m=b.Mk || (b.Mk={}));r=(function(){function g(k,d){void 0 === d && (d=0);this.name=k;this.priority=d;this.Wa=m.pending;}Object.defineProperties(g.prototype,{state:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{F8:{get:function(){return this.Wa === m.pending || this.Wa === m.wba;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vc:{get:function(){return this.Yn;},enumerable:!1,configurable:!0}});g.prototype.yyb=function(k){var d;null === (d=this.Yn) || void 0 === d?void 0:d.vI(this);this.Yn=k;};g.prototype.hP=function(){this.Wa=m.wba;this.Cf();this.A$() === c.Tg.mCa && (this.Wa=m.complete,this.vc.vI(this));};g.prototype.Ma=function(){var k;this.Wa=m.jG;null === (k=this.Yn) || void 0 === k?void 0:k.vI(this);};g.prototype.IXa=function(k){this.Yn.vI(this);this.Yn=k;this.Yn.YY(this);};g.prototype.Zl=function(){};g.prototype.reset=function(){this.Wa=m.pending;};return g;})();b.Jha=r;},85339:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tda=b.aS=void 0;c=a(5163);m=a(90745);g=a(52571);k=a(48170);d=a(65892);f=a(88220);n=a(28422);h=a(4234);l=a(51371);r=(function(p){function q(u,t,v,w){var y;void 0 === v && (v="unknown");void 0 === w && (w=0);y=p.call(this) || this;y.va=u;y.console=t;y.name=v;y.priority=w;y.vub=0;y.Vx=new m.Ge();y.Ct=new Set();y.v4(u);return y;}c.__extends(q,p);Object.defineProperties(q.prototype,{jH:{get:function(){return void 0 === this.Qk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fP:{get:function(){return this.Qk;},enumerable:!1,configurable:!0}});q.prototype.HZa=function(u,t){u=new (u.bind.apply(u,c.__spreadArray([void 0],c.__read(t),!1)))();u.id=this.vub++;u.yyb(this);this.lL(u);return u;};q.prototype.By=function(){for(var u=[],t=0;t < arguments.length;t++)u[t]=arguments[t];return this.HZa(f.wfa,u);};q.prototype.Zl=function(){var u,t;t=c.__assign(c.__assign({},null === (u=this.Qk) || void 0 === u?void 0:u.Zl()),{privateNumTasks:this.Ct.size});k.L && this.trace("audit",t);return t;};q.prototype.NB=function(){for(var u=[],t=0;t < arguments.length;t++)u[t]=arguments[t];return this.HZa(n.nQa,u);};q.prototype.mZa=function(u,t,v){return this.By(function(){return c.__generator(this,function(w){switch(w.label){case 0:return [4,h.Tg.WD(t)];case 1:return (w.Ja(),u(),[3,0]);case 2:return [2];}});},v);};q.prototype.v4=function(u){var t,v,w;t=this;this.Qk && this.Qk.Zca({Du:(0,d.Ek)(this.Ct.values())});this.rdb();v=l.pha.UNb(u,this.console);w=v.vc;v=v.zo;this.Qk=w;this.Vx.clear();this.va=u;this.Vx.on(w,"stopping",function(){return t.emit("stopping");});this.vvb=v;this.Qk.Zca({DT:(0,d.Ek)(this.Ct.values())});this.emit("clockChanged");};q.prototype.Ma=function(){var u;if(!this.jH){u=this.Qk.tna && this.Ct.has(this.Qk.tna);this.reset();u && this.Qk.LWb();this.rdb();}};q.prototype.rdb=function(){var u;this.Qk && this.emit("rootSchedulerReleasing",{fP:this.Qk});null === (u=this.vvb) || void 0 === u?void 0:u.release();this.Qk=void 0;};q.prototype.reset=function(){var u;if(!this.jH){u=(0,d.Ek)(this.Ct.values());this.Qk.Zca({Du:u});this.Ct.clear();u.forEach(function(t){return t.Ma();});}};q.prototype.sf=function(){var u;if(!this.jH){u=(0,d.Ek)(this.Ct.values());this.Qk.Zca({Du:u});u.forEach(function(t){return t.sf();});}};q.prototype.lL=function(u,t){void 0 === t && (t=!0);this.Ct.add(u);this.Qk.lL(u,t);};q.prototype.YY=function(u){(0,g.assert)(u.vc === this);this.jH?k.L && this.console.warn(("Task restarted after destruction ").concat(u.name," on ").concat(this.name)):(this.Ct.add(u),this.Qk.YY(u));};q.prototype.vI=function(u,t){void 0 === t && (t=!0);!this.jH && this.Ct.has(u) && (this.Ct.delete(u),this.Qk.vI(u,t));};q.prototype.trace=function(){for(var u,t=[],v=0;v < arguments.length;v++)t[v]=arguments[v];null === (u=this.console) || void 0 === u?void 0:u.trace.apply(u,c.__spreadArray([("TaskScheduler(").concat(this.name,"):")],c.__read(t),!1));};return q;})(m.EventEmitter);b.aS=r;b.tda=function(p,q,u){var t;t=void 0;return (u || p.va.ti) && p.va.currentTime.Jg(q)?{promise:Promise.resolve()}:{promise:new Promise(function(v){t=p.NB(h.Tg.Wu(q),v);}),Wf:t};};},4234:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Tg=b.z2=void 0;c=a(91176);(function(d){d[d.absolute=0]="absolute";d[d.pdb=1]="relative";})(m=b.z2 || (b.z2={}));k=(function(){function d(f,n){this.type=f;this.timestamp=n;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(m[this.type]);};Object.defineProperties(d,{Ba:{get:function(){g || (g=new d(m.pdb,c.K.Ba));return g;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.Wu=function(f){return new k(m.absolute,f);};Object.defineProperties(d,{adc:{get:function(){return k.Ba;},enumerable:!1,configurable:!0}});d.WD=function(f){return new k(m.pdb,f);};d.mCa=new k(m.absolute,c.K.Fj);return d;})();b.Tg=r;},81651:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Tha=void 0;c=a(66164);m=a(24635);g=a(94258);k=a(35536);d=a(88220);f=a(51371);n=[100,200,400,800,1600,3200];r=(function(){function h(){this.RAa=new WeakMap();this.SAa=new k.C2();this.Wta=new k.C2();this.J4=new k.C2();this.state={OP:c.platform.time.sa(),oJ:0,Gba:1,qh:{CH:new m.jg(!0),dX:new m.jg(),cX:new m.jg(),mW:new m.jg(!0),YZ:new m.jg(),XF:new m.jg(),cZ:new m.jg(!0),eU:new g.WR(n),fU:new g.WR(n)},iJ:{}};}h.prototype.F4a=function(l){var p;if(l.name)return ("").concat(l.vc.name,"::").concat(l.name);if(!this.RAa.get(l)){p=("").concat(l.vc.name,"::'unk'::").concat(l.id,"::iterable?").concat(l instanceof d.wfa);this.RAa.set(l,p);}return this.RAa.get(l);};h.prototype.j9b=function(l){var p;l=this.F4a(l.Wf);(p=this.state.iJ)[l] || (p[l]={E6:new m.jg(),bpa:0});this.SAa.start();};h.prototype.xr=function(){this.state.qh.cZ.push(1);};h.prototype.k9b=function(l){var p;p=this;l.type === f.wha.zX?this.state.qh.mW.push(1):(this.state.qh.YZ.push(l.delay.v),l.b5.forEach(function(q){p.state.qh.eU.push(q.delay);p.state.qh.fU.push(q.H8b);}),this.state.qh.XF.push(l.XF));this.Wta.start();this.J4.stop();this.J4.duration && this.state.qh.cX.push(this.J4.duration);};h.prototype.FJb=function(l){this.Wta.stop();this.J4.start();this.state.qh.dX.push(this.Wta.duration);this.state.qh.CH.push(l);};h.prototype.EJb=function(l){l=this.F4a(l.Wf);this.SAa.stop();this.state.iJ[l].E6.push(this.SAa.duration);};h.prototype.Zl=function(){this.state.oJ=c.platform.time.sa() - this.state.OP;return this.state;};h.reduce=function(l,p){var q,u,t,v,w;if(0 === l.oJ && 0 === l.qh.CH.count)return p;if(0 === p.oJ && 0 === p.qh.CH.count || l === p)return l;q=l.OP < p.OP?l:p;u=q === l?p:l;t=q.qh;v=u.qh;w={};Object.keys(l.iJ).concat(Object.keys(p.iJ)).forEach(function(y){var x,z;if(!w[y]){x=l.iJ[y];z=p.iJ[y];w[y]=x && z?{E6:x.E6.fm(z.E6),bpa:x.bpa + z.bpa}:x || z;}});return {OP:q.OP,oJ:q.oJ + u.oJ,Gba:q.Gba + u.Gba,qh:{mW:t.mW.fm(v.mW),CH:t.CH.fm(v.CH),dX:t.dX.fm(v.dX),cX:t.cX.fm(v.cX),cZ:t.cZ.fm(v.cZ),YZ:t.YZ.fm(v.YZ),XF:t.XF.fm(v.XF),eU:g.WR.fm(t.eU,v.eU),fU:g.WR.fm(t.fU,v.fU)},iJ:w,toJSON:function(){return {timeConstructed:this.OP,timeRunning:this.oJ,schedulers:this.Gba,executionStats:{immediateRuns:this.qh.mW,loopRuns:this.qh.CH,loopTime:this.qh.dX,loopBetweenTime:this.qh.cX,scheduleClears:this.qh.cZ,timerRuns:this.qh.YZ,callBackDelayBuckets:this.qh.eU,callBackSleepBuckets:this.qh.fU,clockSkewAdjustments:this.qh.XF},taskStats:w};}};};return h;})();b.Tha=r;},1727:function(r,b,a){var m,g;function c(k,d,f){var n;void 0 === f && (f={});n=m.__assign(m.__assign({},g),f);return k.filter(function(h){var l;l=h.Hb;h=h.Db;return !!h && h.Ao(d) && (!n.EYa || l.Jg(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.gpa=b.$Kb=b.npa=void 0;m=a(5163);g={EYa:!1};b.npa=function(k,d,f){void 0 === f && (f={});return c(k,d,f).pop();};b.$Kb=c;b.gpa=function(k,d,f){return k.filter(function(n){var h;h=n.Hb;n=n.Db;return !!n && !!h && (n.Jg(d) && n.Ao(f) || h.Jg(d) && h.Ao(f) || n.Ao(d) && h.Jg(f));});};},61520:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gcb=b.K2=void 0;a(5163);a(91176);c=a(48170);m=a(29254);g=a(52571);r=(function(){function k(){this.P=new m.kha();}Object.defineProperties(k.prototype,{empty:{get:function(){return !this.$w;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{root:{get:function(){var d;return null === (d=this.$w) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{values:{get:function(){var d;d=[];this.BG(function(f){return !!d.push(f);});return d;},enumerable:!1,configurable:!0}});k.prototype.has=function(d){return !!this.P.get(d);};k.prototype.parent=function(d){var f;d=this.P.get(d);c.L && (0,g.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (f=null === d || void 0 === d?void 0:d.parent) || void 0 === f?void 0:f.value;};k.prototype.children=function(d){d=this.P.get(d);c.L && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(f){return f.value;}):[];};k.prototype.Dra=function(d){d=this.P.get(d);c.L && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};k.prototype.add=function(d,f){var n;c.L && (0,g.assert)(!this.P.get(d),"Attempted to add a value to tree that is already present");n={value:d};void 0 === this.$w?(c.L && (0,g.assert)(void 0 === f,"a parent cannot be specified when the tree is empty"),this.$w=n):(c.L && (0,g.assert)(void 0 !== f,"a parent must be specified when the tree is non-empty"),f=this.P.get(f),c.L && (0,g.assert)(f,"Parent value does not exist in tree"),this.rWa(n,f));this.P.set(d,n);return this;};k.prototype.remove=function(d){d=this.P.get(d);c.L && (0,g.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};k.prototype.removeNode=function(d){var f;f=this;this.zpa(function(n){return f.P.delete(n);},d.value);void 0 === d.parent?this.$w=void 0:this.detach(d);};k.prototype.move=function(d,f){d=this.P.get(d);f=this.P.get(f);c.L && (0,g.assert)(d,"cannot move a value that is not in the tree");c.L && (0,g.assert)(f,"cannot move a value to a parent value not in the tree");c.L && (0,g.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.L && (0,g.assert)(!this.YSb(d,f),"cannot move a node below itself or one of its decendants");d.parent !== f && (this.detach(d),this.rWa(d,f));return this;};k.prototype.H4b=function(d){var f,n;f=this;d=this.P.get(d);c.L && (0,g.assert)(d,"cannot replant at a value that is not in the tree");n=[];this.detach(d);this.zpa(function(h){f.P.delete(h);n.unshift(h);return !0;});this.$w=d;};k.prototype.clear=function(){this.$w && this.remove(this.$w.value);return this;};k.prototype.U1a=function(d,f){var n,h;n=this;d=this.P.get(d);c.L && (0,g.assert)(d,"cannot iterate children of a value not in the tree");null === (h=d.children) || void 0 === h?void 0:h.forEach(function(l){return f(l.value,n);});};k.prototype.N8b=function(d,f){var n,h;n=this;d=this.P.get(d);c.L && (0,g.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (h=d.children) || void 0 === h || !h.some(function(l){return f(l.value,n);}));};k.prototype.BG=function(d){this.V1a(d,void 0);};k.prototype.V1a=function(d,f,n,h){var l;l=this;void 0 === h && (h=0);c.L && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (f=null !== f && void 0 !== f?f:this.$w.value,d(f,n,this,h) && this.U1a(f,function(p){return l.V1a(d,p,f,h + 1);}));};k.prototype.zpa=function(d,f){var n;n=this;c.L && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (null !== f && void 0 !== f?f:f=this.$w.value,this.U1a(f,function(h){return n.zpa(d,h);}),d(f,this));};k.prototype.D1a=function(d,f){var n,h;n=this;c.L && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");if(!this.empty){null !== f && void 0 !== f?f:f=this.$w.value;return this.N8b(f,function(l){return !!(h=n.D1a(d,l));})?h:d(f,this)?f:void 0;}};k.prototype.BHb=function(d){var f,n,h,l;f=this;n=this.values;h=n.filter(function(p){return !d.has(p);});l=d.values.filter(function(p){return !f.has(p);});n=n.filter(function(p){return d.has(p) && f.parent(p) !== d.parent(p);});return {DT:h,Du:l,Kdb:n};};k.prototype.rWa=function(d,f){d.parent=f;(f.children || (f.children=[])).push(d);};k.prototype.detach=function(d){var f;c.L && (0,g.assert)(d.parent,"cannot detach the root");c.L && (0,g.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");f=d.parent.children.indexOf(d);(0,g.assert)(0 <= f,"logic error: node does not appear in the children of its parent");d.parent.children.splice(f,1);d.parent=void 0;};k.prototype.YSb=function(d,f){for(;void 0 !== f;){if(f === d)return !0;f=f.parent;}return !1;};return k;})();b.K2=r;b.gcb=function(k,d){var f;f="";k.BG(function(n,h,l,p){f+=("").concat(Array(p + 1).join("-")).concat(d(n),"\n");return !0;});return f;};},85254:function(r,b,a){var k,d,f;function c(n){var h,l,p,t;p=Object.getOwnPropertyNames(n);for(n=Object.getPrototypeOf(n);n !== Object.prototype;){try{for(var q=(h=void 0,k.__values(Object.getOwnPropertyNames(n))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(v){h={error:v};}finally{try{u && !u.done && (l=q.return) && l.call(q);}finally{if(h)throw h.error;}}n=Object.getPrototypeOf(n);}return p;}function m(n,h,l,p,q){var u;Object.getOwnPropertyNames(n).filter(function(t){return q(t) && (l || !Object.prototype.hasOwnProperty.call(h,t)) && (p || !((t in h)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(n,t);void 0 !== u && Object.defineProperty(h,t,u);});}function g(n,h,l,p){var q,u;q=[];l || (q=Object.getOwnPropertyNames(h));p || (q=c(h));u=Object.getPrototypeOf(n);null !== u && u !== Object.prototype && g(u,h,l,p);m(n,h,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Fk=b.aDb=void 0;k=a(5163);d=a(52571);b.aDb=g;f=Object.getOwnPropertyNames(Function);b.Fk=function(n,h,l,p){void 0 === l && (l=!0);void 0 === p && (p=!0);p || (0,d.assert)(!l);n.prototype?(g(n.prototype,h.prototype,l,p),m(n,h,l,p,function(q){return -1 === f.indexOf(q);})):m(n,h.prototype,l,p,function(q){return -1 === f.indexOf(q);});return h;};},65167:function(r,b,a){var p,q;function c(u){return Array.isArray(u)?u.reduce(function(t,v){return t + v;},0):!1;}function m(u){return Array.isArray(u) && u.length?c(u) / u.length:!1;}function g(u){var t;if(!Array.isArray(u) || 2 > u.length)return !1;t=m(u);return c(u.map(function(v){return (v - t) * (v - t);})) / (u.length - 1);}function k(u){if(!Array.isArray(u) || 2 > u.length)return !1;u=g(u);return Math.sqrt(u);}function d(u,t){if(u.length == t.length && 1 < u.length){for(var v=u.length,w=0,y=c(u),x=c(t),z=0;z < v;z++)w+=u[z] * t[z];return (w - y * x / v) / v;}return !1;}function f(u,t,v){return Math.max(Math.min(u,v),t);}function n(u,t){return "number" === typeof u?u:t;}function h(u){return 1 / (1 + Math.exp(-u));}function l(u,t,v){return u * v + (1 - v) * t;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ceb=b.scale=b.R0a=b.A6=b.fgb=b.bYa=b.FL=b.tanh=b.s6b=b.qNb=b.sNb=b.SPb=b.vQb=b.SMb=b.dQb=b.IL=b.bg=b.vr=b.Pf=void 0;p=a(5163).__importStar(a(17267));q=a(91176);Object.defineProperties(b,{Pf:{enumerable:!0,get:function(){return q.Pf;}}});b.vr=function(u,t,v){try{u.emit(t,v);}catch(w){if(u.XA)u.XA("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",v);else throw w;}};b.bg=function(u,t){void 0 !== u && p.e0b(u).forEach(function(v){t(v[0],v[1]);});};b.IL=function(){var v;for(var u=[],t=0;t < arguments.length;t++)u[t]=arguments[t];u=Array.prototype.concat.apply([],u);t=u.reduce(function(w,y){return w + y.byteLength;},0);v=new Uint8Array(t);u.reduce(function(w,y){v.set(new Uint8Array(y),w);return w + y.byteLength;},0);return v.buffer;};b.dQb=c;b.SMb=m;b.vQb=g;b.SPb=k;b.sNb=d;b.qNb=function(u,t){var v;if(u.length == t.length){v=d(u,t);u=k(u);t=k(t);if(0 < u && 0 < t)return v / (u * t);}return !1;};b.s6b=function(u){return u.length?"{" + u + "} ":"";};b.tanh=Math.tanh || (function(u){var t;t=Math.exp(+u);u=Math.exp(-u);return Infinity == t?1:Infinity == u?-1:(t - u) / (t + u);});b.FL=f;b.bYa=function(u,t,v,w){return {min:f(n(u.min,t),v,w),max:f(n(u.max,t),v,w),sy:f(u.sy || 6E4,0,6E5),EXa:f(u.EXa || 0,-3E5,3E5),scale:f(u.scale || 6E4,0,3E5),Deb:f(u.Deb || 0,-3E5,3E5),gamma:f(u.gamma || 1,.1,10)};};b.fgb=h;b.A6=function(u,t,v){return u.min + (u.max - u.min) * (1 - Math.pow(h(6 * (t - (u.sy + (u.EXa || 0) * (1 - v))) / (u.scale + (u.Deb || 0) * (1 - v))),u.gamma));};b.R0a=function(u,t){return u.min + (u.max - u.min) * Math.pow(h(6 * (t - u.sy) / u.scale),u.gamma);};b.scale=l;b.Ceb=function(u,t,v){return {min:l(u.min,t.min,v),max:l(u.max,t.max,v),sy:l(u.sy,t.sy,v),scale:l(u.scale,t.scale,v),gamma:l(u.gamma,t.gamma,v)};};},444:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RA=void 0;c=a(91176);r=(function(){function m(g,k){this.gF=g;this.XE=k;this.V5b();}m.from=function(g){return "number" === typeof g?new m(g,1):new m(g.tu,g.Dr);};m.e2a=function(g){return new m(g.N,g.ja);};Object.defineProperties(m.prototype,{tu:{get:function(){return this.gF;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dr:{get:function(){return this.XE;},enumerable:!1,configurable:!0}});m.prototype.xa=function(){return new c.K(this.XE,this.gF);};m.prototype.equal=function(g){return this.gF === g.gF && this.XE === g.XE;};m.prototype.normalize=function(g){return new c.K(Math.floor((Math.floor(g + 1) * this.tu - 1) / (1E3 * this.Dr)) * this.Dr,this.tu);};m.prototype.V5b=function(){var g,k,d;g=Math.floor(1E3 * this.gF / this.XE);k=Math.floor(1001 * this.gF / this.XE);d=1E3 * Math.round(g / 1E3);this.gF=d;this.XE=Math.abs(k - d) > Math.abs(g - d)?1E3:1001;};return m;})();b.RA=r;},52629:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BK=void 0;c=a(91176);b.BK=(function(){return function(m,g){var k;void 0 === g && (g={w:1,Rr:1});this.vk=m;this.Wab=g;k=m.w * g.w;m=m.Rr * g.Rr;g=(0,c.eC)(k,m);this.Mv={w:k / g,Rr:m / g};};})();},48912:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xha=void 0;c=a(66164);r=(function(){function m(g){this.lP=new Uint16Array(g.length);for(var k=0;k < g.length;++k)this.lP[k]=g.charCodeAt(k);}m.prototype.encrypt=function(g){for(var k=this.lP.length,d="",f=0;f < g.length;++f)d+=String.fromCharCode(this.lP[f % k] ^ g.charCodeAt(f));return encodeURIComponent(d);};m.prototype.decrypt=function(g,k){var d,f;void 0 === k && (k=!1);d=this.lP.length;f="";if(k)for((k=new Uint8Array(c.platform.M5(g)),g=0);g < k.length;g++)f+=String.fromCharCode(this.lP[g % d] ^ k[g]);else for((k=decodeURIComponent(g),g=0);g < k.length;g++)f+=String.fromCharCode(this.lP[g % d] ^ k.charCodeAt(g));return f;};return m;})();b.Xha=r;},92716:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Ska=b.C6a=b.alb=b.AbortController=void 0;c=a(5163);r=(function(g){function k(){var d;d=null !== g && g.apply(this,arguments) || this;d.pSa=!1;return d;}c.__extends(k,g);Object.defineProperties(k.prototype,{aborted:{get:function(){return this.pSa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{reason:{get:function(){return this.mvb;},enumerable:!1,configurable:!0}});k.prototype.Q$b=function(){if(this.aborted)throw this.reason;};Object.defineProperties(k.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});k.prototype.abort=function(d){this.mvb=new m(d);this.pSa=!0;this.emit("abort",{type:"abort"});};return k;})(a(90745).EventEmitter);b.AbortController=r;m=(function(g){function k(d){d=g.call(this,d) || this;d.name="AbortError";return d;}c.__extends(k,g);return k;})(Error);b.alb=m;b.C6a=function(g){return "AbortError" === (null === g || void 0 === g?void 0:g.name);};b.Ska=function(g,k){function d(){}void 0 === k && (k=!0);k || (d=function(){g.Q$b();});return new Promise(function(f){g.aborted && f();g.addListener("abort",function(){return f();});}).then(d);};},27192:function(r,b,a){var g;function c(k){return k.filter(function(d,f){return k.indexOf(d) === f;});}function m(k,d,f){return f?k.filter(function(n){return !d.some(function(h){return f(n,h);});}):k.filter(function(n){return -1 === d.indexOf(n);});}Object.defineProperties(b,{__esModule:{value:!0}});b.yYa=b.gWa=b.ova=b.GQb=b.dDb=b.flatten=b.R9a=b.uCb=b.nL=b.Nl=b.o4=b.hWa=b.Qka=b.Rka=b.Sk=b.n4=b.mc=void 0;g=a(5163);b.mc=function(k,d){for(var f=0;f < k.length;f++)if(d(k[f],f,k))return k[f];};b.n4=function(k,d){for(var f=k.length - 1;0 <= f;--f)if(d(k[f],f,k))return k[f];};b.Sk=function(k,d){var f;f=-1;return k.some(function(n,h,l){f=h;return d(n,h,l);})?f:-1;};b.Rka=function(k,d){for(var f=k.length - 1;0 <= f;f--)if(d(k[f],f,k))return f;return -1;};b.Qka=c;b.hWa=function(k,d){return k.filter(function(f,n){return k.indexOf(f) === n && -1 !== d.indexOf(f);});};b.o4=function(k,d){d=k.indexOf(d);if(-1 === d)return !1;k.splice(d,1);return !0;};b.Nl=m;b.nL=function(k,d){return c(k.concat(d));};b.uCb=function(k){return function(d,f){return k(d) - k(f);};};b.R9a=function(k){return function(d,f){return k(d) < k(f)?d:f;};};b.flatten=function(k){var d;return (d=[]).concat.apply(d,g.__spreadArray([],g.__read(k),!1));};b.dDb=function(k,d){void 0 === d && (d=function(f){return f;});return k.reduce(function(f,n){n=d(n);return (void 0 === f[n]?f[n]=1:++f[n],f);},{});};b.GQb=function(k,d){return k.reduce(function(f,n){var h;h=d(n);return (void 0 === f[h]?f[h]=[n]:f[h].push(n),f);},{});};b.ova=function(k){return null !== k && void 0 !== k;};b.gWa=function(k){var d,n;d=[];if(Array.isArray(k))for(var f=0;f < k.length;f++){n=k[f];Array.isArray(n)?d=d.concat(n.filter(function(h){return void 0 !== h;})):void 0 !== n && d.push(n);}return d;};b.yYa=function(k,d,f){var n;n=m(k,d,f);d=m(d,k,f);k=m(k,n);return {jya:n,qxb:d,fcb:k,result:k.concat(d)};};},43529:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=b.AssertionError=void 0;c=a(5163);m=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.AssertionError=m;b.assert=function(g,k){if(!g)throw new m(k || "Assertion failed");};},13489:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.rmb=void 0;c=a(73550);m=(function(){function g(k,d,f){this.Msb=k;this.$sb=d;this.cr=f;this.n3=!1;}g.prototype.yr=function(){this.n3 || (this.nia=this.Msb(this.cr),this.jB=this.nia.length,this.cr=void 0,this.n3=!0);};g.prototype.AU=function(){this.n3 && (this.cr=this.$sb(this.nia),this.nia=void 0,this.n3=!1);};Object.defineProperties(g.prototype,{data:{get:function(){this.AU();return this.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){return this.jB;},enumerable:!1,configurable:!0}});return g;})();r=(function(){function g(){this.flush();}g.prototype.set=function(k,d,f){void 0 === f && (f=!0);k=this.Ija(k,d).Kla;f && k.yr();};g.prototype.Ija=function(k,d){var f,n;f=this;n=new m(void 0,void 0,d);d=new c.dK({name:"compression",YC:function(h){var l;h() && (null === (l=f.q5.get(k)) || void 0 === l?void 0:l.data) === n && n.yr();}});this.q5.set(k,{data:n,uw:d});return {Kla:n,uw:d};};g.prototype.get=function(k){if(k=this.q5.get(k))return {value:k.data,zo:k.uw.Cp()};};g.prototype.delete=function(k){this.q5.delete(k);};g.prototype.flush=function(){this.q5=new Map();};return g;})();b.rmb=r;},67442:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.uHa=void 0;c=a(50214);m=a(85068);r=(function(){function g(k,d){this.console=k;this.uh=d;this.clear();}Object.defineProperties(g.prototype,{sI:{get:function(){return this.Lo.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sT:{get:function(){return this.U3.size;},enumerable:!1,configurable:!0}});g.prototype.RXa=function(){var k;for(;this.U3.size < this.uh && this.Lo.length;){k=this.Lo.pop();this.W0a(k);}};g.prototype.W0a=function(k){var d;d=this;this.console.debug("Execute throttler item",{qxa:k.item.priority,sI:this.sI,rwb:this.sT,OTb:k.Xm.cP});k.Xm.cP || (k.Xm.resolve(k.item.USb()),this.U3.add(k.item),k.Xm.promise.catch(function(){return d.remove(k.item);}));};g.prototype.add=function(k){var d,f;d=this;this.console.debug("item added",{qxa:k.priority,sI:this.sI,rwb:this.sT});f={item:k,Xm:new m.ev()};this.Lo.push(f);this.RXa();return {DH:function(){d.Lo.remove(f);d.W0a(f);},item:f.Xm.promise};};g.prototype.remove=function(k){var d;d=this.Lo.find(function(f){return f.item === k;});d && this.Lo.remove(d);this.U3.delete(k);this.RXa();};g.prototype.clear=function(){this.Lo=new c.HR([],function(k,d){return k.item.priority - d.item.priority;});this.U3=new Set();};return g;})();b.uHa=r;},34268:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(57086),b);r.__exportStar(a(6077),b);r.__exportStar(a(13489),b);r.__exportStar(a(67442),b);r.__exportStar(a(49690),b);r.__exportStar(a(13816),b);},57086:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pR=void 0;c=a(5163);m=a(66164);g=a(73550);k=a(43529);d=a(4742);r=(function(){function f(n,h){this.name=h;this.Ok=new Map();this.console=(0,d.Pf)(m.platform,n,"LeaseCache");}f.prototype.get=function(n){if(this.Ok.has(n))return (n=this.Ok.get(n),{value:n.value,zo:n.uw.Cp()});};f.prototype.keys=function(){return this.Ok.keys();};Object.defineProperties(f.prototype,{size:{get:function(){return this.Ok.size;},enumerable:!1,configurable:!0}});f.prototype.lib=function(n,h,l,p){var q;if(this.Ok.has(h)){q=this.Ok.get(h);p=c.__assign(c.__assign({},q),{key:l,value:p(q.value)});n.Rub(l,p);this.Ok.delete(h);return q.value;}};f.prototype.Rub=function(n,h){var l;l=this;this.Ok.set(n,h);h.uw.YC=function(p){p() && l.delete(n);};h.uw.name=this.name;};f.prototype.update=function(n,h){var l;this.Ok.has(n) && (n=this.Ok.get(n),n.value=null !== (l=h(n.value)) && void 0 !== l?l:n.value);};f.prototype.Kqa=function(n,h){this.has(n) || (h=h(n),this.Ija(n,h.value,h.Hw));return this.get(n);};f.prototype.has=function(n){return this.Ok.has(n);};f.prototype.Ija=function(n,h,l){var p;p=this;(0,k.assert)(!this.Ok.has(n),("key ").concat(n," already found"));h={F8:!0,key:n,value:h,Hw:l,uw:new g.dK({name:this.name,YC:function(q){q() && p.delete(n);},console:this.console})};this.Ok.set(n,h);};f.prototype.HSa=function(n){var h,l;l=this.Ok.get(n);this.Ok.delete(n);l && (l.F8=!1,null === (h=l.Hw) || void 0 === h?void 0:h.call(l));};f.prototype.delete=function(n){this.HSa(n);};f.prototype.values=function(){return this.Ok.values();};f.prototype.Sp=function(){this.clear();};f.prototype.clear=function(){var n;try{for(var h=c.__values(this.Ok.keys()),l=h.next();!l.done;l=h.next())this.HSa(l.value);}catch(q){var p;p={error:q};}finally{try{l && !l.done && (n=h.return) && n.call(h);}finally{if(p)throw p.error;}}};return f;})();b.pR=r;},6077:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gK=void 0;c=a(5163);m=a(66164);g=a(4069);k=a(43529);r=(function(){function d(f,n,h){void 0 === n && (n=function(l,p){return l === p;});void 0 === h && (h={});this.config=f;this.Coa=n;this.nd=[];this.xL=new g.jg();this.X4=new g.jg();this.options=c.__assign({uh:10},h);}Object.defineProperties(d.prototype,{isEnabled:{get:function(){return this.config.enabled;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.nd.length;},enumerable:!1,configurable:!0}});d.prototype.get=function(f){if(f=this.e7(f))return f.value;};d.prototype.delete=function(f){f=this.findIndex(f);-1 !== f && this.nd.splice(f,1);};d.prototype.G7=function(f,n){var h;if(!this.isEnabled)return n();h=this.e7(f);if(h)return h.value;n=n();this.uo(f,n);return n;};d.prototype.findIndex=function(f){var n,h,l,p;n=Infinity;h=Infinity;if(this.options.Om || this.options.zq){l=m.platform.time.sa();this.options.zq && (n=l - this.options.zq);this.options.Om && (h=l - this.options.Om);}for(l=0;l < this.nd.length;l++){p=this.nd[l];if(this.options.zq && p.RW < n){this.nd.splice(l,this.nd.length - l);break;}if(this.options.Om && p.Vl < h)(this.nd.splice(l,1),l--);else if(this.Coa(p.key,f))return l;}return -1;};d.prototype.e7=function(f){var n;f=this.findIndex(f);if(-1 !== f){n=this.nd[f];this.nd.splice(f,1);this.nd.unshift(n);this.options.zq && (n.RW=m.platform.time.sa());this.X4.push(f);this.xL.push(1);return n;}this.xL.push(0);};d.prototype.has=function(f){return -1 !== this.findIndex(f);};d.prototype.r6a=function(f,n,h){(0,k.assert)(!this.has(f),"key already found");this.nd.unshift({key:f,value:n});f=c.__assign(c.__assign({},this.options),h);if(f.zq || f.Om)(n=m.platform.time.sa(),f.zq && (this.nd[0].RW=n),f.Om && (this.nd[0].Vl=n));this.ema();};d.prototype.uo=function(f,n){this.r6a(f,n,this.options);};d.prototype.ema=function(){this.nd.length > this.options.uh && this.nd.pop();};d.prototype.clear=function(){this.nd=[];};return d;})();b.gK=r;},49690:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.dPa=void 0;c=a(5163);m=a(92716);g=a(57086);k=a(67442);r=(function(){function d(f,n,h){this.console=f;this.iUb=n;this.uh=h;this.lJ=new k.uHa(f,h);this.u9=new g.pR(f,"pri-cache");}d.prototype.getStats=function(){return {maxSize:this.uh,activeItemsLength:this.lJ.sT,queueSize:this.lJ.sI};};Object.defineProperties(d.prototype,{sT:{get:function(){return this.lJ.sT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sI:{get:function(){return this.lJ.sI;},enumerable:!1,configurable:!0}});d.prototype.remove=function(f){this.u9.has(f) && this.u9.delete(f);};d.prototype.get=function(f){var n,h,l;n=this;h=c.__assign({},f);l=this.u9.Kqa(h.key,function(){var q,u,t;function p(){h.required=!0;t.DH();}q=new m.AbortController();u={RUa:q.signal,USb:function(){var v;n.console.trace("Invoking pri-cache",{key:h.key,qxa:h.priority,Bnc:h.required});v=n.iUb.TSb(h,q.signal);h.required && v.DH();p=function(){return v.DH();};return v.item;},priority:h.priority};t=n.lJ.add(u);return {value:c.__assign(c.__assign({},t),{DH:function(){null === p || void 0 === p?void 0:p();}}),Hw:function(){q.abort();n.lJ.remove(u);}};});f.required && l.value.DH();return l;};d.prototype.clear=function(){this.u9.clear();this.lJ.clear();};return d;})();b.dPa=r;},13816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.q2b=b.uxa=void 0;b.uxa=function(a,c){var m,g;return (null !== (m=a.priority) && void 0 !== m?m:0) - (null !== (g=c.priority) && void 0 !== g?g:0);};b.q2b=function(a,c){var m,g;return (null !== (m=c.priority) && void 0 !== m?m:0) - (null !== (g=a.priority) && void 0 !== g?g:0);};},62613:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RQ=void 0;b.RQ=(function(){function a(){}a.D8=function(c,m){var d;function g(f){return k(d++)(f,g);}function k(f){return f >= m.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(f));}:m[f];}d=0;return g(c);};return a;})();},42022:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},44201:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kGa=void 0;c=a(43529);m=a(50214);g=a(58191);r=(function(){function k(d){this.qIb=d;this.kCa=!1;this.rda=new g.jPa();}k.prototype.Zjb=function(d,f,n){var l,p;function h(){var t,v,w,y,x,z;t=q.pop();v=t.node;w=t.i4;t=w.I1b;y=w.XL;w=w.state;if(!u.rda.has(v)){t=f(v,y,t,w);x=t.HJ;z=t.state;t.f4 || u.rda.add(v);p(v).forEach(function(A){var B;B=A.wcc;l.rda.has(B) || (A=y + A.weight,x && q.push({node:B,i4:{XL:A,I1b:v,state:z}}));});}}l=this;p=this.qIb;(0,c.assert)(!this.kCa);this.kCa=!0;this.rda.clear();for(var q=new m.HR([{node:d,i4:{XL:0,state:n}}],function(t,v){return t.i4.XL - v.i4.XL;}),u=this;!q.empty;)h();this.kCa=!1;};return k;})();b.kGa=r;},19705:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eC=void 0;b.eC=function(a,c){var m;a=Math.abs(a);for(c=Math.abs(c);c;){m=c;c=a % c;a=m;}return a;};},91176:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(92716),b);r.__exportStar(a(43529),b);r.__exportStar(a(44201),b);r.__exportStar(a(19705),b);r.__exportStar(a(50214),b);r.__exportStar(a(94500),b);r.__exportStar(a(48571),b);r.__exportStar(a(85068),b);r.__exportStar(a(58191),b);r.__exportStar(a(44847),b);r.__exportStar(a(27192),b);r.__exportStar(a(42022),b);r.__exportStar(a(73550),b);r.__exportStar(a(26540),b);r.__exportStar(a(61022),b);r.__exportStar(a(94893),b);r.__exportStar(a(62613),b);r.__exportStar(a(34268),b);r.__exportStar(a(34228),b);r.__exportStar(a(4069),b);},26540:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xH=void 0;b.xH=function(a){var m;function c(){m || (m=a());return m;}m=void 0;c.clear=function(){m=void 0;};return c;};},73550:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dK=void 0;c=a(94893);r=(function(){function m(g){var k,d;this.counter=new c.TR();k=g.YC;d=g.console;this.name=g.name || "unnamed";this.YC=k;this.console=d;}m.prototype.Cp=function(){var g,k,d;g=this;null === (k=this.console) || void 0 === k?void 0:k.trace(("Acquiring lease ").concat(this.name,", total count"),this.counter.eab + 1);d=this.counter.add();return {release:function(){var f;d.release();null === (f=g.console) || void 0 === f?void 0:f.trace(("Releasing lease from ").concat(g.name,", total count"),g.counter.eab);g.YC(function(){return !g.counter.j4;});}};};return m;})();b.dK=r;},50214:function(r,b,a){var m;function c(g,k){return g < k?-1:g > k?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.HR=void 0;m=a(5163);r=(function(){function g(k,d){this.data=k || [];this.compare=d || c;if(!this.empty)for(k=(this.length >> 1) - 1;0 <= k;k--)this.Aia(k);}Object.defineProperties(g.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});g.prototype.push=function(k){this.data.push(k);this.JUa(this.length - 1);};g.prototype.pop=function(){var k,d;if(!this.empty){k=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Aia(0));return k;}};g.prototype.uu=function(){return this.data[0];};g.prototype.map=function(k){return this.data.map(k);};g.prototype.find=function(k){return m.__read(this.data.filter(k),1)[0];};g.prototype.clear=function(){this.data=[];};g.prototype.remove=function(k){var d,f,n;d=this.data;k=d.indexOf(k);if(-1 !== k){f=d.pop();if(k < d.length){d[k]=f;n=k - 1 >> 1;d=d[n];0 <= n && 0 > this.compare(f,d)?this.JUa(k):this.Aia(k);}}};g.prototype.vWa=function(){for(var k=this.data,d=1;d < k.length;d++)if(0 > this.compare(k[d],k[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(k));};g.prototype.contains=function(k){return 0 <= this.data.indexOf(k);};g.prototype.Ek=function(){return this.data.concat([]);};g.prototype.JUa=function(k){for(var d=this.data,f=this.compare,n=d[k],h,l;0 < k;){h=k - 1 >> 1;l=d[h];if(0 <= f(n,l))break;d[k]=l;k=h;}d[k]=n;};g.prototype.Aia=function(k){for(var d=this.data,f=this.compare,n=this.length >> 1,h=d[k],l,p,q;k < n;){l=(k << 1) + 1;q=d[l];p=l + 1;p < this.length && 0 > f(d[p],q) && (l=p,q=d[p]);if(0 <= f(q,h))break;d[k]=q;k=l;}d[k]=h;};return g;})();b.HR=r;},48571:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nga=void 0;r=(function(){function a(c,m,g,k){var d;d=this;this.properties=c;this.transform=m;this.Lt=g;this.state=k;this.Eb();c.forEach(function(f){return f.addListener(d.Qva);});this.Qva();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(m){return m.removeListener(c.Qva);});};a.prototype.O6a=function(c){return void 0 !== c.equal;};a.prototype.Eb=function(){var c;c=this;this.Qva=function(){var m,g;m=c.state;g=c.properties.map(function(k){return k.value;});c.state=c.transform(g);(c.O6a(c.state) && c.O6a(m)?c.state.equal(m):m === c.state) || c.Lt(c.state);};};return a;})();b.nga=r;},94500:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Sq=b.orb=void 0;c=a(5163);m=a(48571);g=a(85068);r=(function(){function k(d,f){this.Qa=d;this.Uy=f?[f]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(d){-1 === this.Uy.indexOf(d) && (this.Uy=this.Uy.slice(),this.Uy.push(d));};k.prototype.removeListener=function(d){d=this.Uy.indexOf(d);-1 !== d && (this.Uy=this.Uy.slice(),this.Uy.splice(d,1));};return k;})();b.orb=r;r=(function(k){function d(f,n){return k.call(this,f,n) || this;}c.__extends(d,k);d.ikb=function(f,n,h){return new m.nga(f,n,h,!1);};d.ddc=function(f,n,h){return c.__awaiter(this,void 0,void 0,function(){var l,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(l=void 0,p=new Promise(function(t){l=q.ikb(f,n,t);}),u.label=1);case 1:return (u.Gf.push([1,,6,7]),h?[4,(0,g.Lcb)(h,p)]:[3,3]);case 2:return [2,u.Ja()];case 3:return [4,p];case 4:return [2,u.Ja()];case 5:return [3,7];case 6:return (l.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Qa;},set:function(f){this.set(f);},enumerable:!1,configurable:!0}});d.prototype.set=function(f){var n;n=this.Qa;n !== f && (this.Qa=f,this.Uy.forEach(function(h){return h({oldValue:n,newValue:f});}));};return d;})(r);b.Sq=r;},28999:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ev=void 0;r=(function(){function a(){var c;c=this;this.Dja=!1;this.promise=new Promise(function(m,g){c.Cja=m;c.wja=g;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cP:{get:function(){return this.Dja;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){var m;this.Dja=!0;null === (m=this.Cja) || void 0 === m?void 0:m.call(this,c);this.wja=this.Cja=void 0;};a.prototype.reject=function(c){var m;this.Dja=!0;null === (m=this.wja) || void 0 === m?void 0:m.call(this,c);this.wja=this.Cja=void 0;};return a;})();b.ev=r;},85068:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(28999),b);r.__exportStar(a(86823),b);r.__exportStar(a(29727),b);},86823:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$rb=void 0;a(43529);c=a(28999);r=(function(){function m(g){void 0 === g && (g={fjc:!0});this.options=g;this.hf=0;this.Xm=new c.ev();}Object.defineProperties(m.prototype,{OTb:{get:function(){return this.Xm.cP;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{promise:{get:function(){return this.Xm.promise;},enumerable:!1,configurable:!0}});return m;})();b.$rb=r;},29727:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Lcb=b.Zsa=void 0;c=a(5163);m=a(92716);b.Zsa=function(g){return "function" === typeof (null === g || void 0 === g?void 0:g.then);};b.Lcb=function(g,k,d){void 0 === d && (d=!1);return c.__awaiter(this,void 0,void 0,function(){var f;return c.__generator(this,function(n){switch(n.label){case 0:return (f=(0,m.Ska)(g,!d),[4,Promise.race([f,k])]);case 1:return [2,n.Ja()];}});});};},58191:function(r,b){var m,g,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.oSa);}function c(d){return (a(d)?d:Object.defineProperties(d,{oSa:{value:{},configurable:!1,enumerable:!1}})).oSa;}Object.defineProperties(b,{__esModule:{value:!0}});b.jPa=void 0;g=null !== (m=Number.MAX_SAFE_INTEGER) && void 0 !== m?m:1E9;k=Date.now() % g;r=(function(){function d(){this.Rba=0;this.id=k=(k + 1) % g;}d.prototype.add=function(f){c(f)[this.id]=this.Rba;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.Rba;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Rba=(this.Rba + 1) % g;return this;};return d;})();b.jPa=r;},94893:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.TR=void 0;c=a(5163);r=(function(){function g(){var k;k=this;this.$S=[];this.D4b=function(d){d=k.$S.indexOf(d);0 <= d && k.$S.splice(d,1);};}Object.defineProperties(g.prototype,{j4:{get:function(){return 0 !== this.$S.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eab:{get:function(){return this.$S.length;},enumerable:!1,configurable:!0}});g.prototype.add=function(){var k;k=new m(this.D4b);this.$S.push(k);return k;};g.prototype.nkb=function(k){c.__awaiter(this,void 0,void 0,function(){var d,f;return c.__generator(this,function(n){switch(n.label){case 0:(d=this.add(),n.label=1);case 1:return (n.Gf.push([1,,3,4]),[4,k()]);case 2:return (f=n.Ja(),[2,f]);case 3:return (d.release(),[7]);case 4:return [2];}});});};g.prototype.pdc=function(k){var d;d=this.add();try{k();}finally{d.release();}};return g;})();b.TR=r;m=(function(){function g(k){this.ovb=k;}g.prototype.release=function(){this.ovb(this);};return g;})();},89376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.enumerable=void 0;b.enumerable=function(a){return function(c,m){var g;g=Object.getOwnPropertyDescriptor(c,m) || ({});g.enumerable !== a && (g.enumerable=a,g.writable=!0,Object.defineProperty(c,m,g));};};},34228:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(89376),b);},4069:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jg=void 0;r=(function(){function a(c){void 0 === c && (c=!1);this.bZa=c;this.count=0;this.Aa=NaN;this.GZ=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{Sw:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;this.GZ+=c;1 === this.count?this.Aa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Aa+=(c - this.Aa) / this.count);};a.prototype.toJSON=function(){return this.bZa || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.Aa,count:this.count,sum:this.GZ};};a.prototype.fm=function(c){var m;if(0 === this.count)return c;if(0 === c.count)return this;m=new a(this.bZa);m.count=this.count;m.Aa=this.Aa;m.GZ=this.GZ;m.min=Math.min(this.min,c.min);m.max=Math.max(this.max,c.max);for(var g=0;g < c.count;g++)m.push(c.Aa);return m;};return a;})();b.jg=r;},44847:function(r,b,a){var m;function c(g,k){return g && k?Math.abs(g * k / (0,m.eC)(g,k)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.K=void 0;m=a(19705);r=(function(){function g(k,d){"object" === typeof k?(this.tc=k.ja,this.mb=k.N):(this.tc=k,this.mb=d);isFinite(this.tc) || (this.mb=1);}g.compare=function(k,d){return k.Tk(d);};g.abs=function(k){return new g(Math.abs(k.tc),k.mb);};g.Na=function(k){return 0 === k?g.Ba:new g(k,1E3);};g.iBa=function(k,d){return Math.floor(1E3 * k / d);};g.l$a=function(k,d){return Math.floor(k * d / 1E3);};g.max=function(){for(var k=[],d=0;d < arguments.length;d++)k[d]=arguments[d];return k.reduce(function(f,n){return f.greaterThan(n)?f:n;});};g.min=function(){for(var k=[],d=0;d < arguments.length;d++)k[d]=arguments[d];return k.reduce(function(f,n){return f.lessThan(n)?f:n;});};g.eC=function(k,d){var f;if(k.mb === d.mb)return new g((0,m.eC)(k.tc,d.tc),k.mb);f=c(k.mb,d.mb);return new g((0,m.eC)(k.tc * f / k.mb,d.tc * f / d.mb),f);};Object.defineProperties(g.prototype,{ja:{get:function(){return this.tc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{N:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{v:{get:function(){return g.iBa(this.tc,this.mb);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ow:{get:function(){return 1E3 * this.tc / this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{DI:{get:function(){var k;k=this.Ow;return 0 > k?Math.ceil(k):Math.floor(k);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zh:{get:function(){return this.tc / this.mb;},enumerable:!1,configurable:!0}});g.prototype.jd=function(k){k/=this.mb;return new g(Math.floor(this.tc * k),Math.floor(this.mb * k));};g.prototype.add=function(k){var d;if(this.mb === k.mb)return new g(this.tc + k.tc,this.mb);d=c(this.mb,k.mb);return new g(this.tc * d / this.mb + k.tc * d / k.mb,d);};g.prototype.qa=function(k){var d;if(this.mb === k.mb)return new g(this.tc - k.tc,this.mb);d=c(this.mb,k.mb);return new g(this.tc * d / this.mb - k.tc * d / k.mb,d);};g.prototype.hm=function(k){return new g(this.tc * k,this.mb);};g.prototype.Hg=function(k){var d;if("number" === typeof k){if(Math.floor(k) === k){d=c(this.tc,k);if(d !== this.tc)return this.jd(d / this.tc * this.mb).Hg(k);}return new g(Math.floor(this.tc / k),this.mb);}if(this.mb === k.mb)return this.tc / k.tc;d=c(this.mb,k.mb);return this.tc * d / this.mb / (k.tc * d / k.mb);};g.prototype.VL=function(k){var d;if(this.mb === k.mb)return new g(Math.abs(this.tc - k.tc),this.mb);d=c(this.mb,k.mb);return new g(Math.abs(this.tc * d / this.mb - k.tc * d / k.mb),d);};g.prototype.aya=function(){return new g(this.mb,this.tc);};g.prototype.compare=function(k,d){var f;if(this.mb === d.mb)return k(this.tc,d.tc);f=c(this.mb,d.mb);return k(this.tc * f / this.mb,d.tc * f / d.mb);};g.prototype.Tk=function(k){var d;if(this.mb === k.mb)return this.ja === k.tc?0:this.tc - k.tc;d=c(this.mb,k.mb);return this.tc * d / this.mb - k.tc * d / k.mb;};g.prototype.equal=function(k){return this.compare(function(d,f){return d === f;},k);};g.prototype.pva=function(k){return this.compare(function(d,f){return d !== f;},k);};g.prototype.lessThan=function(k){return this.compare(function(d,f){return d < f;},k);};g.prototype.greaterThan=function(k){return this.compare(function(d,f){return d > f;},k);};g.prototype.Ao=function(k){return this.compare(function(d,f){return d <= f;},k);};g.prototype.Jg=function(k){return this.compare(function(d,f){return d >= f;},k);};g.prototype.isFinite=function(){return !!this.mb && isFinite(this.tc);};g.prototype.I4a=function(k){return c(this.N,k);};g.prototype.toJSON=function(){return {ticks:this.tc,timescale:this.mb};};g.prototype.toString=function(){return ("").concat(this.tc,"/").concat(this.mb);};g.prototype.ob=function(){return ("").concat(this.tc,"/").concat(this.mb," (").concat(this.Ow,"ms)");};g.Ba=new g(0,1E3);g.Ez=new g(1,1E3);g.Fj=new g(Infinity,1);g.jYb=new g(-Infinity,1);return g;})();b.K=r;},4742:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pf=void 0;b.Pf=function(a,c,m){if(c.EZa)return c.EZa(m);c=c.prefix?("").concat(c.prefix," ").concat(m):m;return new a.Console("ASEJS","media|asejs",c);};},55960:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},61022:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(4742),b);r.__exportStar(a(55960),b);},46882:function(r){function b(c,m,g,k){c.trace(":",g,":",k);m(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,m,g,k){g=k?g.bind(k):g;if(c){this.console && (g=b.bind(null,this.console,g,m));if("function" === typeof c.addListener)c.addListener(m,g);else if("function" === typeof c.addEventListener)c.addEventListener(m,g);else throw Error("Emitter does not have a function to add listeners for '" + m + "'");this.listeners.push([c,m,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(m){var g,k;g=m[0];k=m[1];m=m[2];"function" === typeof g.removeEventListener?g.removeEventListener(k,m):"function" === typeof g.removeListener && g.removeListener(k,m);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},90745:function(r,b,a){b=a(22699);b.Jna=0;r.exports={EventEmitter:b,Ge:a(46882)};},84726:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.lGa=void 0;c=a(5163);m=a(91176);g=a(66164);k=a(91176);d=a(37349);r=(function(){function f(n,h,l,p){this.yo=n;this.T=h;this.rtb=l;this.S=p;this.qF=new Map();this.gB=new Map();this.MS=new m.gK({enabled:!0},void 0,{uh:this.T.iua});}Object.defineProperties(f.prototype,{size:{get:function(){return this.gB.size;},enumerable:!1,configurable:!0}});f.prototype.f7a=function(n){var h;void 0 === h && (h=!0);if(h)return this.qF.has(n);n=this.yo(n);return this.gB.has(n);};f.prototype.yh=function(n){var h,l,p,q;h=this;l=Array.from(this.gB.keys());p=new Map(n.map(function(u){return [h.yo(u),u];}));q=Array.from(p.keys());n=(0,m.Nl)(l,q,function(u,t){return u === t;});l=(0,m.Nl)(q,l).map(function(u){return p.get(u);});n.forEach(function(u){return h.remove(h.gB.get(u),!0);});this.xvb(l);};f.prototype.xvb=function(n){var h;h=this;n=n.map(function(l){var p,q;p=h.yo(l);q=new m.AbortController();h.qF.set(l,q);h.gB.set(p,l);return {sb:l,RUa:q.signal};});this.rtb.LKb({he:n,szb:{sN:!0}}).entries.forEach(function(l,p){return c.__awaiter(h,void 0,void 0,function(){var q,u,t;return c.__generator(this,function(v){switch(v.label){case 0:return (v.Gf.push([0,2,,3]),[4,l]);case 1:return (q=v.Ja().W,u=this.qF.get(p),this.f7a(p) && !u.signal.aborted && (this.kL(p,q),this.qF.delete(p)),[3,3]);case 2:return (t=v.Ja(),u=this.qF.get(p),this.f7a(p) && !u.signal.aborted?this.remove(p,!0):this.remove(p),(0,m.C6a)(t),[3,3]);case 3:return [2];}});});});};f.prototype.kL=function(n,h,l){var p,q,u,t;n=this.yo(n);u=null !== (p=null === l || void 0 === l?void 0:l.Om) && void 0 !== p?p:(0,d.zqa)(h,this.T) + g.platform.time.now();t=(0,m.xH)(function(){return JSON.stringify(h).length;});l={W:h,C5b:null !== (q=null === l || void 0 === l?void 0:l.C5b) && void 0 !== q?q:g.platform.time.now(),Om:u,get V4() {return t();}};this.MS.r6a(n,l,{Om:u});};f.prototype.fRb=function(n){n=this.yo(n);return this.MS.has(n);};f.prototype.FVa=function(n){var h,l,u;n=Math.max(0,this.size - n);if(0 < n){l=Array.from(this.gB.values()).sort(k.uxa);try{for(var p=c.__values(l),q=p.next();!q.done;q=p.next()){u=q.value;if(0 >= n)break;n--;this.remove(u,!0);}}catch(v){var t;t={error:v};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(t)throw t.error;}}}};f.prototype.remove=function(n,h){var l,p;void 0 === h && (h=!1);n=this.yo(n);l=this.gB.get(n);if(l){p=this.qF.get(l);h && p && p.abort();this.qF.delete(l);this.gB.delete(n);this.MS.delete(n);}};f.prototype.qo=function(n){n=this.yo(n);if(this.MS.has(n))return this.MS.get(n);};f.prototype.clear=function(){this.FVa(0);};return f;})();b.lGa=r;},97967:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(53300),b);r.__exportStar(a(16659),b);r.__exportStar(a(2300),b);r.__exportStar(a(5300),b);},5300:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xfa=void 0;c=a(53300);a(2300);b.Xfa=(function(){function m(g){this.jua=new c.PKa(g);m.instance=this;}return m;})();},53300:function(r,b,a){var c,m,g,k,d,f,n,h,l,p;Object.defineProperties(b,{__esModule:{value:!0}});b.PKa=void 0;c=a(5163);m=a(91176);g=a(66164);k=a(90745);d=a(91176);f=a(91176);n=a(91176);h=a(2300);l=a(84726);p=a(37349);r=(function(){function q(u){var t;t=this;this.kKb=0;this.console=(0,m.Pf)(g.platform,u.console,"MANIFESTCACHE2");this.dpa=u.dpa;this.yo=u.yo;this.iD=new d.pR(this.console,"manifest-primary");this.S3=new f.dPa(this.console,{TSb:function(v,w){var y,x;y=v.item;t.console.trace("Fetching manifest",{jQ:y.J});x=t.dpa.LKb({he:[{sb:y,RUa:w}],szb:{sN:y.sN}});return {item:x,key:v,DH:function(){return x.xcb(y);}};}},u.config.iua);this.events=new k.EventEmitter();this.Sz=new l.lGa(this.yo,u.config,u.dpa,u.console);this.config=u.config;this.events=new k.EventEmitter();this.$0a=new d.pR(this.console,"manifest-expired");}Object.defineProperties(q.prototype,{size:{get:function(){return {T3:this.T3,tT:this.tT,cCa:this.cCa,rnc:this.Sz.size,bib:this.bib};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bib:{get:function(){return this.tT + this.Sz.size;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tT:{get:function(){return this.cCa + this.T3;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cCa:{get:function(){return this.iD.size;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{T3:{get:function(){return this.$0a.size;},enumerable:!1,configurable:!0}});q.prototype.yh=function(u){var t,v;t=this;v=Math.max(0,this.config.iua - this.tT);0 >= v || (u=u.map(function(w){return [t.yo(w),w];}),u=(0,m.Nl)(u,Array.from(this.iD.keys()),function(w,y){return c.__read(w,1)[0] === y;}),u.length > v?(v=u.map(function(w){return c.__read(w,2)[1];}).sort(n.uxa).slice(0,v),this.Sz.yh(v)):this.Sz.yh(u.map(function(w){return c.__read(w,2)[1];})));};q.prototype.qo=function(u){return this.XSa(u);};q.prototype.NBb=function(u){var t;if(this.Sz.fRb(u)){this.console.trace("Prefetch manifest found",{jQ:u.J});u=this.Sz.qo(u);t=Promise.resolve(u.W);return {V4:u.V4,W4:!0,expiration:{absolute:u.Om},W:t,xcb:function(){}};}};q.prototype.IJb=function(u,t){var v,w,y,x,z;v=this;y=this.S3.get({key:u,priority:null !== (w=t.priority) && void 0 !== w?w:0,required:!t.sN,item:t});w=y.value.item.then(function(A){return c.__awaiter(v,void 0,void 0,function(){var B,D;return c.__generator(this,function(C){switch(C.label){case 0:return (C.Gf.push([0,,2,3]),[4,A.entries.get(t)]);case 1:B=C.Ja();if(!this.iD.has(u))return (this.console.debug("Callback for removed manifest, ignoring",{Tlc:u}),[2,B.W]);D=B.W;x.W4=B.W4;x.V4=B.ta;this.console.trace("Manifest received",{jQ:t.J,match:t.J == D.O});g.platform.time && (x.expiration.absolute=this.rAb(D) + g.platform.time.sa());setTimeout(function(){return x.W4=!0;},1);return [2,D];case 2:return (z=void 0,[7]);case 3:return [2];}});});});x={W4:!1,V4:0,expiration:{absolute:Infinity},W:w,xcb:function(){v.console.trace("Promote to required",{key:u,Hjc:!!z});null === z || void 0 === z?void 0:z();}};z=function(){y.value.DH();v.EVa();};return {Kla:x,Hw:function(){return y.zo.release();}};};q.prototype.XSa=function(u,t){var v,w,y;v=this;void 0 === t && (t=!1);w=this.yo(u);this.console.trace("Acquiring lease for manifest",{jQ:u.J,uG:this.iD.size,Zbb:!!u.sN,qxa:u.priority});y=this.iD.Kqa(w,function(){var x,z,A;x=v.NBb(u);z=[];try{if(!x){A=v.IJb(w,u);x=A.Kla;z.push(A.Hw);v.EVa();}}finally{v.Sz.remove(u);}return {value:x,Hw:function(){v.console.trace("Leases removed",{jQ:u.J});z.forEach(function(B){return B();});}};});if(y.value.expiration.absolute < g.platform.time.now())if(t)this.console.error("Skipping Retry on an already expired manifest",{jQ:u.J});else return (this.Y0a(w),this.console.trace("Manifest Expired, releasing",{jQ:u.J}),y.zo.release(),this.XSa(u,!0));return y;};q.prototype.EVa=function(){var u;void 0 === u && (u=1);this.Sz.FVa(Math.max(0,this.config.iua - this.tT - u - this.T3));};q.prototype.Y0a=function(u){var t;t=this.iD.lib(this.$0a,u,u + this.kKb++,function(v){return c.__rest(v,["manifest"]);});t && (this.S3.remove(u),this.events.emit("expired",{type:"expired",imc:t}));};q.prototype.flush=function(){var u;this.console.trace("Flush Called");this.Sz.clear();try{for(var t=c.__values(this.iD.keys()),v=t.next();!v.done;v=t.next())this.Y0a(v.value);}catch(y){var w;w={error:y};}finally{try{v && !v.done && (u=t.return) && u.call(t);}finally{if(w)throw w.error;}}this.S3.clear();};q.prototype.getStats=function(){return {manifestCount:this.iD.size,playbackLeases:h.Uga.kwa,playbackCaches:h.Uga.jwa,throttler:this.S3.getStats()};};q.prototype.rAb=function(u){return (0,p.zqa)(u,this.config);};return q;})();b.PKa=r;},37349:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zqa=void 0;b.zqa=function(a,c){c=c.gmc;return 1E3 * (c?c:a.a5a?900:7200);};},16659:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},2300:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Uga=void 0;a(5163);c=a(66164);m=a(91176);g=a(91176);k=0;r=(function(){function d(f,n,h){this.jua=f;this.yo=n;this.id=k++;this.kvb=!0;this.C8=!1;this.console=(0,m.Pf)(c.platform,h,("PLAYBACKMANIFESTCACHE [").concat(this.id,"]"));this.console.trace("Creating this instance");this.I9=new g.pR(this.console,"playback-manifest-cache");}d.prototype.f4b=function(){this.C8 || (this.C8=!0,d.jwa++);};d.prototype.Eib=function(){this.C8 && (this.C8=!1,d.jwa--);};Object.defineProperties(d.prototype,{size:{get:function(){return this.I9.size;},enumerable:!1,configurable:!0}});d.prototype.qo=function(f){var n,h,l;n=this;h=f.J;l=this.yo(f);return this.I9.Kqa(l,function(){var p;n.console.trace("Getting manifest",{J:h,GXb:l});n.kvb && f.sN && (f.sN=!1);p=n.jua.qo(f);d.kwa++;n.f4b();return {value:{W:p.value},Hw:function(){p.zo.release();n.console.trace("Releasing manifest",{J:h,GXb:l,jmc:n.I9.size});d.kwa--;0 === n.size && n.Eib();}};});};d.prototype.Sp=function(){var f;this.console.trace("Destroying");null === (f=this.I9) || void 0 === f?void 0:f.clear();this.Eib();};d.kwa=0;d.jwa=0;return d;})();b.Uga=r;},57042:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Xab=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.Xab=function(c){var m,g,k,d;m=c.read(5);g=c.read(4);if(15 === g){k=c.read(24);g=a.indexOf(k);}else k=a[g];d=c.read(4);switch(m){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + m + " not supported.");}return {Gp:m,sampleRate:k,Cba:g,Mjc:d,aMb:1024};};},79602:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.lcb=void 0;c=a(50539);b.lcb=function(m,g,k){var d,f;d=m.read(1);if(d){f=new c.jJa(m,d,g);1 === m.read(2) && m.advance(f.fO * f.tX);}(0,c.yxa)(m,g,f,k);(0,c.yxa)(m,g,f,k);};},48387:function(r,b,a){var c,m;b.w=void 0;c=a(5641);m=a(67038);b.w=function(g,k,d,f){var n;n=new c.Y_(g);f=f && f.Cba;k=(0,m.ocb)(n,{ky:k,CI:d},f);n=n.offset;return {frame:g.subarray(0,n),hwa:n,Uoc:k};};},30109:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ncb=void 0;b.ncb=function(a,c,m){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== m.ky && !m.CI?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},67038:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.ocb=void 0;c=a(87606);m=a(970);b.ocb=function(g,k,d){var f,n,h;if(4095 === g.read(12)){g.advance(3);f=!!g.read(1);n=g.read(2) + 1;d=g.read(4);g.advance(8);h=g.read(13);g.advance(13 + (f?0:16));f={Gp:n,Cba:d,aMb:h};}else g.reverse(12);(0,c.assert)(void 0 !== d);(0,m.tcb)(g,d,k);return f;};},27912:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aIa=b.SHa=b.RHa=b.$Ha=b.ZHa=b.YHa=b.XHa=b.WHa=b.VHa=b.UHa=b.THa=b.QHa=void 0;b.QHa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.THa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.UHa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.VHa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.WHa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.XHa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.YHa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.ZHa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.$Ha={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.RHa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.SHa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.aIa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},77737:function(r,b,a){var c,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.E1=void 0;c=a(27912);m=[c.QHa,c.THa,c.UHa,c.VHa,c.WHa,c.XHa,c.YHa,c.ZHa,c.$Ha,c.RHa,c.SHa];g=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.E1=(function(){function k(){}k.A1a=function(d,f){var n,q,u;n=f.table;f=f.width;for(var h=0,l=n[0],p=d.read(l);p !== n[h + 1];){h+=f;q=n[h];u=q - l;l=q;p<<=u;p|=d.read(u);}return h;};k.kgb=function(d){for(var f=4;d.read(1);)++f;d.advance(f);};k.lgb=function(d,f){for(;f--;)k.A1a(d,c.aIa);};k.G8b=function(d,f){var n,h;n=m[f - 1];h=n.table;n=this.A1a(d,n);if(11 > f)g[f - 1] && (f=h[n + 2]) && d.advance(f);else if(11 === f || 15 < f)(n+=2,(f=h[n]) && d.advance(f),(h=h[n + 1]) && this.kgb(d),1 < h && this.kgb(d));else throw Error("Huffman: unknown spectral codebook: " + f);};return k;})();},50539:function(r,b,a){var c,m,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.jJa=b.yxa=void 0;c=a(87606);m=a(77737);g=a(96103);b.yxa=function(n,h,l,p){var q,u,t;q=n.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.ky / 20)) / Math.log(2)));n.reverse(8);n.write(8,p);l || (l=new f(n,0,h));q=l;u=2 === q.qCa?3:5;t=(1 << u) - 1;h=[];p=[];for(var v=[],w=0;w < q.fO;++w){for(var y=0,x=0;y < q.tX;){for(var z=n.read(4),A=0,B;(B=n.read(u)) === t;)A+=B;A+=B;y+=A;h.push(z);p.push(A);++x;}v.push(x);}q=!0;for(u=0;u < h.length;++u)0 !== h[u] && (13 === h[u] && q?(n.advance(9),q=!1,m.E1.lgb(n,p[u] - 1)):m.E1.lgb(n,p[u]));n.read(1) && n.advance(6 + 9 * (n.read(2) + 1));if(n.read(1))for((q=l,u=2 === q.qCa?k:d,t=0);t < q.bab;++t)if(v=n.read(u[0]))for((w=n.read(1),y=0);y < v;++y)if((n.advance(u[1]),x=n.read(u[2])))(n.advance(1),z=n.read(1),n.advance(x * (w + 3 - z)));(0,c.assert)(!n.read(1));q=l.fO;u=l.tX;t=l.phb;l=l.uda;for(w=v=0;w < q;++w)for((y=l[w],x=0);x < u;++v)if((z=h[v],A=p[v],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var D=0;D < A;(++D,++x))for(var C=y * (t[x + 1] - t[x]) / B,E=0;E < C;++E)m.E1.G8b(n,z);}};k=[1,4,3];d=[2,6,5];f=(function(){return function(n,h,l){var p;this.uda=[];this.fO=1;this.uda[0]=1;n.advance(1);this.qCa=n.read(2);n.read(1);if(2 === this.qCa){this.bab=8;this.tX=n.read(4);for(h=0;7 > h;++h)n.read(1)?this.uda[this.fO - 1]++:(this.fO++,this.uda[this.fO - 1]=1);this.phb=g.SPa[l];}else {this.bab=1;this.tX=n.read(6);if(n.read(1)){p=14 + Math.min(this.tX,40);n.read(1) && n.advance(p);h && n.read(1) && n.advance(p);}this.phb=g.RPa[l];}};})();b.jJa=f;},970:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.tcb=void 0;c=a(79602);m=a(30109);b.tcb=function(g,k,d){var n;for(var f;7 !== (f=g.read(3));){n=g.read(4);switch(f){case 1:(0,c.lcb)(g,k,d);break;case 6:(0,m.ncb)(g,n,d);break;default:throw Error(("Unsupported AAC element ").concat(f));}}g.dAb();};},96103:function(r,b){var a,c,m,g,k,d,f,n,h,l,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.srb=b.Oob=b.trb=b.Orb=b.Prb=b.SPa=b.RPa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);m=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);k=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);h=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);l=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.RPa=[r,r,c,g,g,d,f,f,h,h,h,p];b.SPa=[a,a,m,k,k,k,n,n,l,l,l,q];b.Prb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Orb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.trb=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++)u[t]=Math.pow(2,(t - 200) / 4);return u;})();b.Oob=(function(){for(var u=new Float32Array(8191),t=4 / 3,v=0;8191 > v;v++)u[v]=Math.pow(v,t);return u;})();b.srb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},87606:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(5163);m=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.assert=function(g,k){if(!g)throw new m(k || "Assertion failed");};},5641:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y_=void 0;r=(function(){function a(c){this.data=c;this.ur=this.$b=this.zd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.$b;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.zd){if(8 === c)return this.data[this.$b++];if(16 === c)return (c=this.view.getUint16(this.$b),this.$b+=2,c);if(32 === c)return (c=this.view.getUint32(this.$b),this.$b+=4,c);}for(;this.zd < c;)(this.ur=(this.ur << 8) + this.data[this.$b++],this.zd+=8);this.zd-=c;return this.ur >>> this.zd & (1 << c) - 1;};a.prototype.advance=function(c){var m;if(c <= this.zd)this.zd-=c;else {c-=this.zd;m=Math.floor(c / 8);this.$b+=m;this.ur=this.data[this.$b++];this.zd=8 - (c - 8 * m);}};a.prototype.write=function(c,m){var g,k;m&=(1 << c) - 1;if(0 === this.zd){if(8 === c){this.data[this.$b++]=m;return;}if(16 === c){this.view.setUint16(this.$b,m);this.$b+=2;return;}if(32 === c){this.view.setUint32(this.$b,m);this.$b+=4;return;}}if(0 < this.zd){g=Math.min(c,this.zd);k=this.data[this.$b - 1] & (~((1 << this.zd) - 1) ^ (1 << this.zd - g) - 1);this.data[this.$b - 1]=k ^ (c >= g?m >>> c - g:m << this.zd - g);this.zd-=g;c-=g;}for(;8 <= c;)(c-=8,this.data[this.$b++]=m >>> c & 255);0 < c && (this.zd=8 - c,k=this.data[this.$b] & (1 << this.zd) - 1,this.ur=this.data[this.$b++]=k ^ (m & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.zd && c <= 8 - this.zd?this.zd+=c:(0 !== this.zd && (c-=8 - this.zd,--this.$b),this.$b-=Math.floor(c / 8),this.ur=this.data[this.$b - 1],this.zd=c % 8);};a.prototype.dAb=function(){0 !== this.zd && (this.zd=0);};return a;})();b.Y_=r;},25154:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.cZa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.cZa=function(c,m){void 0 === m && (m=0);m=~~m;for(var g=0;g < c.length;g++)m=(a[(m >> 8 ^ c[g]) & 255] ^ m << 8) & 65535;return m;};},10543:function(r,b,a){var c,m;b.w=void 0;c=a(5641);m=a(75719);b.w=function(g,k,d){var f;f=new c.Y_(g);k=(0,m.bWa)(f,k,null === d || void 0 === d?void 0:d.FH).cMb;g=g.subarray(0,k);(0,m.Lfb)(g);return {frame:g,hwa:k};};},75719:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.Lfb=b.bWa=void 0;c=a(87606);m=a(25154);b.bWa=function(g,k,d){var f,n;f=g.read(16);(0,c.assert)(2935 === f);f=2 * ((g.read(16) & 2047) + 1);g.advance(13);n=g.read(5);g.reverse(5);d && (k*=-n / d);g.write(5,Math.min(31,Math.max(1,Math.floor(n + k))));return {cMb:f};};b.Lfb=function(g){var k;k=(0,m.cZa)(g.subarray(2,g.length - 2));g[g.length - 2]=k >> 8;g[g.length - 1]=k & 255;};},71210:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.f1a=void 0;c=a(5641);m=a(57042);b.f1a=function(){var n,h,l,p;for(var d=[],f=0;f < arguments.length;f++)d[f]=arguments[f];n="string" === typeof d[0]?{Ld:d[0],frame:d[1],ky:d[2],lCb:d[3],FH:d[4]}:d[0];h=n.Ld;d=n.frame;f=n.ky;l=n.lCb;p=n.FH;n=n.CI;n=void 0 === n?!1:n;switch(h){case "aac":void 0 === g && (g=a(48387).w);h=6;l && (l=new c.Y_(l),h=(0,m.Xab)(l).Cba);d=g(d,f,n,{Cba:h}).hwa;break;case "ddp":void 0 === k && (k=a(10543).w);d=k(d,f,{FH:p}).hwa;break;default:throw Error("Unrecognized codec in fadeFrame: " + h);}return {bMb:d};};},81969:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(5163).__exportStar(a(71210),b);},66988:function(r,b){var a,c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.MF=void 0;r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,fca:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,fca:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,fca:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};m={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,fca:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.MF={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":m},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":m};},40755:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EGa=b.wCa=void 0;c=a(5163);r=(function(m){function g(){var k;k=null !== m && m.apply(this,arguments) || this;k.HG=1536;return k;}c.__extends(g,m);g.Uc=!0;return g;})(a(70428).default);b["default"]=r;a=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="ac-3";return g;})(r);b.wCa=a;r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="ec-3";return g;})(r);b.EGa=r;},26856:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(){this.pMb=this.M.Vc(2);this.Lzb=this.M.Vc(5);this.Mzb=this.M.Vc(3);this.mwb=this.M.Vc(3);this.M.Vc(1);this.M.Vc(5);this.M.Vc(5);return !0;};g.Be="dac3";return g;})(a(72905).df);b["default"]=r;},56226:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(k){this.M.Vc(1);this.M.Vc(7);this.bfb=this.M.Vc(3);this.afb=this.M.Vc(5);this.cfb=this.M.Vc(1);this.v5a=this.M.Vc(1);this.Cib=this.M.Vc(1);this.h$a=this.M.Vc(1);this.YXa=this.M.Vc(1);this.ZXa=this.M.Vc(1);this.XXa=this.M.Vc(2);this.M.Vc(3);(this.xsa=this.M.Vc(1))?this.i6a=this.M.Vc(4):this.M.Vc(4);k && (k.qjc={bfb:this.bfb,afb:this.afb,cfb:this.cfb,v5a:this.v5a,Cib:this.Cib,h$a:this.h$a,YXa:this.YXa,ZXa:this.ZXa,XXa:this.XXa,xsa:this.xsa,i6a:this.i6a});return !0;};g.Be="av1C";return g;})(a(72905).df);b["default"]=r;},18319:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(k){var d;this.M.qd();this.$kb=this.M.qd();this.M.qd();this.M.qd();this.M.qd();this.lca=this.uja(this.M.qd() & 31);this.Ubb=this.uja(this.M.qd());this.MO=this.lca.length?this.lca[0][1]:this.$kb;this.aUa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.MO || 110 === this.MO || 122 === this.MO || 144 === this.MO) && (this.M.qd(),this.M.qd(),this.uja(this.M.qd()));d=this.startOffset + this.length - this.aUa;0 < d && this.lm(d,this.aUa);k && k.jla && (k.jla.lca=this.lca,k.jla.Ubb=this.Ubb,k.jla.MO=this.MO);return !0;};g.prototype.uja=function(k){var n;for(var d=[],f=0;f < k;++f){n=this.M.Sf();d.push(this.M.$aa(n));}return d;};g.Be="avcC";g.Uc=!1;return g;})(a(72905).df);b["default"]=r;},70428:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(72905);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f;f=g.prototype.parse.call(this,d);this.M.offset+=8;this.cma=this.M.Sf();this.Wya=this.M.Sf();this.M.offset+=4;this.samplerate=this.M.Sf();this.M.offset+=2;m.L && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.cma + ", samplesize: " + this.Wya + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.ee)(d.ee.cma=this.cma,d.ee.Wya=this.Wya,d.ee.samplerate=this.samplerate);return f;};k.Uc=!1;return k;})(a(71724).default);b["default"]=r;},29973:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(){this.zc=this.Vw([{Ajc:"int32"},{maxBitrate:"int32"},{I4:"int32"}]);return !0;};g.Be="btrt";g.Uc=!1;return g;})(a(72905).df);b["default"]=r;},72905:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.df=b.L=void 0;c=a(93334);b.L=!1;r=(function(){function m(g,k,d,f,n){this.Qb=g;this.type=k;this.byteOffset=d;this.byteLength=f;this.parent=n;this.Pd={};this.ZH=f;}m.Oy=function(g,k){var f,h;function d(l){l && l.Oy && (l=l.Oy(k),l.length && (f=f.concat(l)));}f=[];g.type === k && f.push(g);if(g.Pd)for(var n in g.Pd){h=g.Pd[n];Array.isArray(h) && h.forEach(d);}return f;};m.yT=function(g,k){void 0 === g.Pd[k.type] && (g.Pd[k.type]=[]);g.Pd[k.type].push(k);};m.dn=function(g,k){return m.Oy(g,k)[0];};Object.defineProperties(m.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{M:{get:function(){return this.Qb;},enumerable:!1,configurable:!0}});m.prototype.Cg=function(){var g;g=this.Qb.Rb();this.version=g >> 24;this.flags=g & 16777215;};m.prototype.yT=function(g){m.yT(this,g);};m.prototype.Oy=function(g){return m.Oy(this,g);};m.prototype.dn=function(g){return m.dn(this,g);};m.prototype.parse=function(){return !0;};m.prototype.dV=function(){return !0;};m.prototype.Wo=function(g){if((g=this.Pd[g]) && Array.isArray(g) && 1 === g.length)return g[0];};m.prototype.lm=function(g,k){k=void 0 === k?this.Qb.offset:k;(0,c.assert)(k >= this.startOffset + 8 && k + g <= this.startOffset + this.ZH,"Removal range [0x" + k.toString(16) + "-0x" + (k + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.ZH).toString(16) + ")");this.Qb.lm(g,k,this);};m.prototype.jba=function(g,k,d){d=void 0 === d?this.Qb.offset:d;(0,c.assert)(d >= this.startOffset + 8 && d + g <= this.startOffset + this.ZH,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.ZH).toString(16) + ")");this.Qb.jba(g,k,d,this);};m.prototype.Zcb=function(g,k,d){if(1 < d){for(var f=[];0 < d--;)f.push(this.gUa(g,k));return f;}return this.gUa(g,k);};m.prototype.Vw=function(g){var k,d;d=this;void 0 === k && (k={});g.forEach(function(f){var n,h;if("offset" === f.type){n=f.offset;if(0 < n % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.Qb.offset+=n / 8;}else for(n in f){h=f[n];k[n]="string" === typeof h?d.Zcb(h):d.Zcb(h.type,h.length,h.fyb);}});return k;};m.prototype.gUa=function(g,k){var d;d=this.byteLength - this.Qb.offset + this.startOffset;"undefined" === typeof k && (k=d);switch(g){case "int8":g=this.Qb.qd();break;case "int64":g=this.Qb.gj();break;case "int32":g=this.Qb.Rb();break;case "int16":g=this.Qb.Sf();break;case "string":g=this.Qb.o3b(Math.min(k,d));break;default:throw Error("Invalid type: " + g);}return g;};m.Uc=!1;return m;})();b.df=r;},29043:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(k){var d,f,n;d=this.M.offset;f=this.M.Sf();this.ZZa=f >> 3;this.rZb=f & 7;this.T9b=[];for(f=0;f <= this.rZb;f++){n={pMb:this.M.Vc(2),Lzb:this.M.Vc(5),Mzb:this.M.Vc(5),mwb:this.M.Vc(3),Zlc:this.M.Vc(1),$db:this.M.Vc(3),qZb:this.M.Vc(4)};0 < n.qZb?n.Ljc=this.M.Vc(9):this.M.Vc(1);this.T9b.push(n);}k && k.b0a && (k.b0a.ZZa=this.ZZa,2 <= this.byteLength - (this.M.offset - d) && (this.M.Vc(7),d=this.M.Vc(1),k.b0a.kjc=1 === d));return !0;};g.Be="dec3";return g;})(a(72905).df);b["default"]=r;},96345:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(47887);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){this.Cg();this.Gnb=m.Pea.Scb(this.M,d);return !0;};k.Be="esds";k.Uc=!1;return k;})(a(72905).df);b["default"]=r;},96989:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(93334);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f,n,h,l,p,q,u;if(null === d || void 0 === d || !d.Ng)return !0;p=null === (l=null === (h=null === (n=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === n?void 0:n.dn("tkhd")) || void 0 === h?void 0:h.zc) || void 0 === l?void 0:l.trackId;if("undefined" === typeof p)return !0;(0,m.assert)(d.Ng[p]);if(!d.Ng[p])return !0;this.Cg();f=this.M.Rb();for(n=0;n < f;n++){h=1 === this.version?this.M.gj():this.M.Rb();l=1 === this.version?this.M.gj():this.M.Rb();q=this.M.Sf();u=this.M.Sf();h={Wnc:h,Amc:l,zmc:q,ymc:u};d.Ng[p].e0a || (d.Ng[p].e0a=[]);d.Ng[p].e0a.push(h);}return !0;};k.Be="elst";k.Uc=!1;return k;})(a(72905).df);b["default"]=r;},19234:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(){this.M.Nz();this.M.Nz();for(this.Fma=[];this.M.offset <= this.byteOffset + this.byteLength - 4;)this.Fma.push(this.M.Nz());return !0;};g.Be="ftyp";g.Uc=!1;return g;})(a(72905).df);b["default"]=r;},89362:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(k){this.eGb=this.M.Nz();k && k.ee && (k.ee.Q5b=this.eGb);return !0;};g.Be="frma";return g;})(a(72905).df);b["default"]=r;},28721:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(32296);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f,n,h,l,p;this.Cg();this.zc=this.Vw([{pnc:"int32"},{Bra:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.zc.Bra=(0,m.Ux)(this.zc.Bra);if(d && d.Ng){p=null === (l=null === (h=null === (n=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === n?void 0:n.dn("tkhd")) || void 0 === h?void 0:h.zc) || void 0 === l?void 0:l.trackId;"number" === typeof p && d.Ng[p] && (d.Ng[p].kw=this.zc.Bra);}return !0;};k.Be="hdlr";k.Uc=!1;return k;})(a(72905).df);b["default"]=r;},97066:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(93334);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.dV=function(){var d;d=this.dn("esds");if(d=d && d.Gnb.dn(5))((0,m.assert)(this.samplerate),this.HG=d.HG * this.samplerate / d.Bba);return !0;};k.Be="mp4a";k.Uc=!0;return k;})(a(70428).default);b["default"]=r;},56122:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},71368:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(){this.Cg();this.zc=1 === this.version?this.Vw([{creationTime:"int64"},{modificationTime:"int64"},{N:"int32"},{duration:"int64"}]):this.Vw([{creationTime:"int32"},{modificationTime:"int32"},{N:"int32"},{duration:"int32"}]);return !0;};g.Be="mvhd";g.Uc=!1;return g;})(a(72905).df);b["default"]=r;},45645:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(){this.Cg();this.zc=this.Vw(1 === this.version?[{GG:"int64"}]:[{GG:"int32"}]);return !0;};g.Be="mehd";g.Uc=!1;return g;})(a(72905).df);b["default"]=r;},31025:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(75589);a=a(72905);m=r.hga;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Cg();this.zc=this.Vw([{tu:"int32"},{Dr:"int16"}]);return !0;};k.Be=m;k.Uc=!1;return k;})(a.df);b["default"]=a;},91056:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(75589);r=a(72905);g=m.iga;r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.parse=function(){this.Cg();this.fileSize=this.M.gj();this.N=this.M.gj();this.duration=this.M.gj(!1,!0);this.DZb=this.M.gj();this.M.gj();this.HZb=this.M.gj();this.RYb=this.M.Rb();this.EZb=this.M.gj();this.DLb=this.M.Rb();this.M.cba();this.rl={moof:{offset:this.DZb},sidx:{offset:this.EZb,size:this.DLb}};this.rl[m.QLa]={offset:this.HZb,size:this.RYb};this.M.offset - this.startOffset <= this.length - 24 && (this.GZb=this.M.gj(),this.EYb=this.M.Rb(),this.FZb=this.M.gj(),this.DYb=this.M.Rb(),this.rl[m.R1]={offset:this.GZb,size:this.EYb},this.rl[m.Q1]={offset:this.FZb,size:this.DYb});return !0;};d.Be=g;d.Uc=!1;return d;})(r.df);b["default"]=r;},64280:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(75589);a=a(72905);m=r.jga;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var d,h,l;this.Cg();1 <= this.version && this.M.cba();d=this.M.Rb();this.rl={};for(var f=this.startOffset + this.length,n=0;n < d;++n){h=this.M.Nz();"uuid" === h && (h=this.M.cba());l=this.M.gj();this.rl[h]={offset:f,size:l};f+=l;}return !0;};k.Be=m;k.Uc=!1;return k;})(a.df);b["default"]=a;},35503:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(k){this.zc=this.Vw([{BRb:"int32"},{xcc:"int32"}]);if(null === k || void 0 === k?0:k.ee)(k.ee.llc=this.zc.BRb,k.ee.Woc=this.zc.xcc);return !0;};g.Be="pasp";g.Uc=!1;return g;})(a(72905).df);b["default"]=r;},84379:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(75589);g=a(49420);k=a(70428);r=a(72905);d=a(41192);a=(function(f){function n(){return null !== f && f.apply(this,arguments) || this;}c.__extends(n,f);n.prototype.parse=function(){this.Cg();this.uG=this.M.Rb();return !0;};n.prototype.dV=function(h){var l;l=Object.keys(this.Pd);l.length && (l=l[0],this.Pd[l].length && (l=this.Pd[l][0],l instanceof k.default?this.xa=new g.K(l.HG,l.samplerate):l instanceof d.default && (l=l.Pd[m.hga]) && l.length && (l=l[0].zc,1E3 !== l.Dr && 1001 !== l.Dr || 0 !== l.tu % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + l.tu + "/" + l.Dr):this.xa=new g.K(l.Dr,l.tu)),h && this.xa && (h.xa=this.xa)));return !0;};n.prototype.Ddb=function(h){void 0 !== this.Pd[h] && 0 !== this.Pd[h].length && (this.Qb.Xu(this.uG - 1,this.byteOffset + 12),h=this.Pd[h][0],this.lm(h.byteLength,h.byteOffset));};n.Be="stsd";n.Uc=!0;return n;})(r.df);b["default"]=a;},71724:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(72905);m=a(72905);a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){this.M.offset+=6;this.M.Sf();m.L && this.M.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.ee)d.ee.Q5b=this.type;return !0;};return k;})(r.df);b["default"]=a;},41116:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(72905);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){this.Cg();this.gza=this.M.Nz();m.L && this.M.console.trace("SchemeTypeBoxTranslator: " + this.gza);if("cenc" === this.gza){if((this.M.offset-=4,m.L && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.Qb.qkb("piff"),null === d || void 0 === d?0:d.ee))d.ee.CJb="piff";}else if(null === d || void 0 === d?0:d.ee)d.ee.CJb=this.gza;this.M.Rb();return !0;};k.Be="schm";k.Uc=!1;return k;})(m.df);b["default"]=r;},95797:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);m=a(26388);g=a(49420);r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.dV=function(f){var n;if(f && f.xa && !f.K_b && f.mediaType === m.u.Y){n=this.Wo("mdia");n && (n=n.Wo("mdhd")) && n.N !== f.xa.N && (f.xa=new g.K(f.xa).jd(n.N));}return !0;};d.Be="trak";d.Uc=!0;return d;})(a(72905).df);b["default"]=r;},30717:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(k){var d,f,n,h,l;this.Cg();d=this.Vw([{XP:"int32"},{Lna:"int32"},{Zv:"int32"},{Fy:"int32"},{Ey:"int32"}]);f=d.XP;n=d.Lna;h=d.Zv;l=d.Ey;d=d.Fy;this.zc={trackId:f,fkc:n,S5:h,gkc:l,hkc:d};(null === k || void 0 === k?0:k.Ng) && k.Ng[f] && (k.Ng[f].Lna=n,k.Ng[f].Zv=h,k.Ng[f].Ey=l,k.Ng[f].Fy=d);this.XP=f;this.Lna=n;this.Zv=h;this.Fy=d;this.Ey=l;return !0;};g.Be="trex";g.Uc=!1;return g;})(a(72905).df);b["default"]=r;},85571:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(k){var d;this.Cg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{Xlc:"int16"},{gjc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.zc=this.Vw(d);this.zc.Hoc=!!(this.flags & 1);this.zc.Ioc=!!(this.flags & 2);this.zc.Joc=!!(this.flags & 4);this.zc.Koc=!!(this.flags & 8);if(null === k || void 0 === k?0:k.ee)(k.ee.width=this.zc.width / 65536,k.ee.height=this.zc.height / 65536);k && k.Ng && (k.Ng[this.zc.trackId]={});return !0;};g.Be="tkhd";g.Uc=!1;return g;})(a(72905).df);b["default"]=r;},70179:function(r,b,a){var c,m,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pRa=void 0;c=a(5163);m=a(81969);g=a(93334);k=a(66988);r=(function(d){function f(n,h,l,p,q){n=d.call(this,n,h,l,p,q) || this;n.OU=!1;return n;}c.__extends(f,d);Object.defineProperties(f.prototype,{YZa:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{P6:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yba:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Aba:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vya:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Uya:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});f.prototype.parse=function(n){var h,l,p;this.Cg();this.sla=this.M.offset;this.Bd=this.M.Rb();this.Wm=this.YZa?this.M.bba():0;this.FLb=this.P6?this.M.Rb():void 0;this.Tya=(this.yba?4:0) + (this.Aba?4:0) + (this.Vya?4:0) + (this.Uya?4:0);this.yM=this.M.offset;(0,g.assert)(this.YZa,"Expected data offset to be present in Track Run");(0,g.assert)(this.length - (this.M.offset - this.startOffset) === this.Bd * this.Tya,"Expected remaining data in box to be sample information");if(n && n.La){n.La.Wm=this.Wm;n.La.Bd=this.Bd;this.Qj=[];p=null === (l=null === (h=this.parent) || void 0 === h?void 0:h.dn("tfhd")) || void 0 === l?void 0:l.XP;for(h=0;h < this.Bd;h++)(l={},this.yba?l.xba=this.M.Rb():n.La.Zv?l.xba=n.La.Zv:p && n.Ng && n.Ng[p] && (l.xba=n.Ng[p].Zv),this.Aba?l.FI=this.M.Rb():n.La?l.FI=n.La.Fy:p && n.Ng && n.Ng[p] && (l.FI=n.Ng[p].Fy),this.Vya?l.zba=this.M.Rb():n.La?l.zba=n.La.Ey:p && n.Ng && n.Ng[p] && (l.zba=n.Ng[p].Ey),this.Uya && (l.Lnc=0 === this.version?this.M.Rb():this.M.bba()),0 === h && this.P6 && (l.zba=this.FLb),this.Qj.push(l));n.La.Qj=this.Qj;if(n.La.EI)for(((0,g.assert)(n.La.EI.length === n.La.Qj.length,("num fragment samples: ").concat(n.La.Qj.length,", ") + ("num samples in auxiliary info: ").concat(n.La.EI.length)),p=0);p < n.La.Qj.length;p++)(n.La.Qj[p].qfa=n.La.EI[p].qfa,n.La.Qj[p].HAa=n.La.EI[p].HAa);}return !0;};f.prototype.A3=function(n,h,l){var p,q,u;p=this.yba?this.M.Rb():n.Zv;q=this.Aba?this.M.Rb():n.Fy;n=this.Vya?this.M.Rb():n.Ey;u=this.Uya?0 === this.version?this.M.Rb():this.M.bba():0;return {S5b:u,zba:n,FI:q,xba:p,snc:(l || 0) + u - (void 0 !== h?h:u)};};f.prototype.Ha=function(n,h,l,p,q,u,t){var v,w,y,x;(0,g.assert)(void 0 !== this.Wm);(0,g.assert)(void 0 !== this.yM);(0,g.assert)(void 0 !== this.sla);(0,g.assert)(void 0 !== this.Bd);(0,g.assert)(void 0 !== n.sr);v=0;w=0;this.Qb.offset=this.yM;for(p=0;p < q;++p){y=this.A3(h,x,w);if(0 === p)x=y.S5b;v+=y.FI;w+=y.xba;}p=q;q=this.M.offset;y=this.A3(h,x,w);this.lya=t;this.vP=p;this.ngb=w;if(t){if((this.UO=this.Wm + v,this.Aq=0,p === this.Bd))return !0;}else if((this.UO=this.Wm,this.Aq=v,0 === p))return !0;if(0 === p || p === this.Bd)return !1;this.OU=!0;if(t){this.Aq+=y.FI;for(t=p + 1;t < this.Bd;++t)(y=this.A3(h,x,w),this.Aq+=y.FI);this.Qb.offset=this.sla;this.Bd=p;this.Qb.Xu(this.Bd);this.Qb.tCa(u);this.P6 && (this.M.offset+=4);this.lm(this.length - (q - this.startOffset),q);}else (h=q - this.yM,this.yM=q,this.Qb.offset=this.sla,this.Bd-=p,this.Qb.Xu(this.Bd),this.Wm+=v,this.Qb.tCa(u,this.Wm),this.P6 && (this.M.offset+=4),this.lm(h,this.Qb.offset));l.lm(this.Aq,n.sr + this.UO);return !0;};f.prototype.nYb=function(n,h,l,p,q,u,t,v){var w,x,z,A,B;void 0 === t && (t=!1);(0,g.assert)(void 0 !== this.Wm);(0,g.assert)(void 0 !== this.yM);(0,g.assert)(void 0 !== this.Bd);(0,g.assert)(void 0 !== this.Tya);(0,g.assert)(void 0 !== n.sr);for(var y=p.length;y < this.Bd;++y)p[y]=p[y - 1];p.some(function(D){return 0 >= D;}) && (x=null === (w=this.Dtb(q,u)) || void 0 === w?void 0:w.fca);this.M.offset=this.yM;n=n.sr + this.Wm;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.M.view.buffer,this.M.view.byteOffset,this.M.view.byteLength);for(y=0;y < this.Bd;++y){w=this.A3(h).FI;if(-Infinity === p[y]){if(x && this.Aba){l.jba(w,x,n);z=this.Tya - (this.yba?4:0);this.Qb.offset-=z;this.Qb.Xu(x.byteLength);this.Qb.offset+=z - 4;}}else if(0 > p[y])try{A=u.subarray(n,n + w);B=(0,m.f1a)({Ld:q,frame:A,ky:p[y],CI:t,FH:v}).bMb;B !== w && this.M.console.error(("TrackRunBoxEditor: parse frame size error ").concat(B," should be ").concat(w));}catch(D){this.M.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(D.message," ").concat(D.stack));}n+=w;}};f.prototype.Dtb=function(n,h){if("string" === typeof h)return ((0,g.assert)("reset" !== h && "standard" !== h),k.MF[h]);if(void 0 !== n)return h?k.MF.reset[n] || k.MF.standard[n]:k.MF.standard[n];};f.Be="trun";f.Uc=!1;return f;})(a(72905).df);b.pRa=r;},41192:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BCa=b.cIa=b.rIa=b.HCa=b.GCa=b.FCa=b.ECa=void 0;c=a(5163);r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.prototype.parse=function(k){m.prototype.parse.call(this,k);this.zc=this.Vw([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{ylc:"int32"},{Xoc:"int32"},{offset:32,type:"offset"},{Wkc:"int16"},{Tjc:{type:"int8",fyb:32}},{depth:"int16"},{offset:16,type:"offset"}]);if(null === k || void 0 === k?0:k.ee)(k.ee.width=this.zc.width,k.ee.height=this.zc.height);return !0;};g.Uc=!0;return g;})(a(71724).default);b["default"]=r;a=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="avc1";return g;})(r);b.ECa=a;a=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="avc2";return g;})(r);b.FCa=a;a=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="avc3";return g;})(r);b.GCa=a;a=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="avc4";return g;})(r);b.HCa=a;a=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="hvc1";return g;})(r);b.rIa=a;a=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="hev1";return g;})(r);b.cIa=a;r=(function(m){function g(){return null !== m && m.apply(this,arguments) || this;}c.__extends(g,m);g.Be="av01";return g;})(r);b.BCa=r;},25564:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Z_=void 0;c=a(5163);m=a(72905);g=a(32296);r=(function(k){function d(f,n,h,l,p){h=k.call(this,h,l,p) || this;h.Gzb=f;h.DP=n;h.Pd={};return h;}c.__extends(d,k);d.prototype.parse=function(f){var n,h,l,p,q,u;this.offset=0;n=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){h=this.offset;l=this.Rb();if(0 === l)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=(0,g.Ux)(this.Rb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.cba();}if(0 === n.length && this.DP.$1a(p,h,l))break;if(h + l > this.view.byteLength)break;q=this.Gzb[p];u=void 0;if(q){if((u=new q(this,p,h,l,n[0]),(n[0] || this).yT(u),u.parse(f)))this.config.ywa && q.Uc?n.unshift(u):this.offset=h + l;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=h + l;for(;n.length && this.offset > n[0].byteOffset + n[0].ZH - 8;){u=n.shift();if(!u.dV(f))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.ZH;}if(0 === n.length && this.DP.N_a(p,h,l,u))break;}return !this.DP.done && (f=this.DP.endOffset?this.DP.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,s$a:f}:{done:!0,offset:Math.min(this.DP.endOffset || Infinity,this.offset)};};d.prototype.yT=function(f){m.df.yT(this,f);};return d;})(a(56445).$Ra);b.Z_=r;},2050:function(r){var c,m;function b(){var g,k;if(DataView.prototype && DataView.prototype.YV && !m){try{g=new ArrayBuffer(4);k=new DataView(g);k.aN(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);k=new DataView(g);k.aN(1,2,2);}catch(d){DataView.prototype.aN=a(DataView.prototype.aN,DataView.prototype.getUint8,Uint8Array);DataView.prototype.U7=a(DataView.prototype.U7,DataView.prototype.getUint16,Uint16Array);DataView.prototype.YV=a(DataView.prototype.YV,DataView.prototype.getUint32,Uint32Array);DataView.prototype.uqa=a(DataView.prototype.uqa,DataView.prototype.getInt8,Int8Array);DataView.prototype.sqa=a(DataView.prototype.sqa,DataView.prototype.getInt16,Int16Array);DataView.prototype.tqa=a(DataView.prototype.tqa,DataView.prototype.getInt32,Int32Array);}c.rQb=function(d,f,n,h,l){return n?d.aN(f,n,h || 1,l):new Uint8Array(0);};c.pQb=function(d,f,n,h,l){return n?d.U7(f,n,h || 2,l):new Uint16Array(0);};c.qQb=function(d,f,n,h,l){return n?d.YV(f,n,h || 4,l):new Uint32Array(0);};c.flc=function(d,f,n,h,l){return n?d.uqa(f,n,h || 1,l):new Int8Array(0);};c.dlc=function(d,f,n,h,l){return n?d.sqa(f,n,h || 2,l):new Int16Array(0);};c.elc=function(d,f,n,h,l){return n?d.tqa(f,n,h || 4,l):new Int32Array(0);};m=!0;}}function a(g,k,d){return function(f,n,h,l){var p;h=h || d.BYTES_PER_ELEMENT;if(f + n * h > this.byteLength){p=new d(n);p.set(g.call(this,f,n - 1,h,l));p[n - 1]=k.call(this,f + (n - 1 * h),l);return p;}return g.call(this,f,n,h,l);};}c={aN:function(g,k,d,f,n){var h;h=new Uint8Array(d);f=f || 1;for(var l=0;l < d;(++l,k+=f))h[l]=g.getUint8(k,n);return h;},U7:function(g,k,d,f,n){var h;h=new Uint16Array(d);f=f || 2;for(var l=0;l < d;(++l,k+=f))h[l]=g.getUint16(k,n);return h;},YV:function(g,k,d,f,n){var h;h=new Uint32Array(d);f=f || 4;for(var l=0;l < d;(++l,k+=f))h[l]=g.getUint32(k,n);return h;},uqa:function(g,k,d,f,n){var h;h=new Int8Array(d);f=f || 1;for(var l=0;l < d;(++l,k+=f))h[l]=g.getInt8(k,n);return h;},sqa:function(g,k,d,f,n){var h;h=new Int16Array(d);f=f || 2;for(var l=0;l < d;(++l,k+=f))h[l]=g.getInt16(k,n);return h;},tqa:function(g,k,d,f,n){var h;h=new Int32Array(d);f=f || 4;for(var l=0;l < d;(++l,k+=f))h[l]=g.getInt32(k,n);return h;},Lkc:b};m=!1;c.ANb=function(){return m;};b();r.exports=c;},59909:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Eea=void 0;c=a(5163);m=a(72905);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f;this.R$=this.M.qd();f=this.M.qd();this.AAa=f >>> 2;this.HBa=f >>> 1 & 1;this.zla=256 * this.M.Sf() + this.M.qd();this.maxBitrate=this.M.Rb();this.I4=this.M.Rb();m.L && this.M.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.R$.toString(16) + ", streamType=" + this.AAa + ", upStream=" + this.HBa + ", bufferSizeDB=" + this.zla + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.I4);if(null === d || void 0 === d?0:d.Yi)(d.Yi.R$=this.R$,d.Yi.AAa=this.AAa,d.Yi.HBa=this.HBa,d.Yi.zla=this.zla,d.Yi.maxBitrate=this.maxBitrate,d.Yi.I4=this.I4);this.fUa(d);return !0;};k.tag=4;return k;})(a(91578).z0);b.Eea=r;},27364:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XFa=void 0;c=a(5163);m=a(72905);r=a(91578);g=a(47887);a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.Ycb=function(){var f;f=this.M.Vc(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.M.Vc(24);};d.prototype.parse=function(f,n){if(this.iTb(n) && 64 === n.R$){if(null === f || void 0 === f?0:f.Yi){n=this.M.Q2a(this.length);for(var h=new ArrayBuffer(this.length),l=new Uint8Array(h),p=0;p < this.length;p++)l[p]=n.getUint8(p);f.Yi.ekc=h;}this.Gp=this.Qcb();this.Bba=this.Ycb();this.bma=this.M.Vc(4);this.Zya=this.aV=5 === this.Gp || 29 === this.Gp?5:-1;this.Hxa=29 === this.Gp?1:-1;0 < this.aV && (this.Voa=this.Ycb(),this.Gp=this.Qcb(),22 === this.Gp && (this.Uoa=this.M.Vc(4)));switch(this.Gp){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.oV=this.M.Vc(1),this.bna=(this.jHb=this.M.Vc(1))?this.M.Vc(14):void 0,this.M.Vc(1),this.HG=3 === this.Gp?256:23 === this.Gp?this.oV?480:512:this.oV?960:1024);}m.L && this.M.console.trace("AudioSpecificConfig: audioObjectType=" + this.Gp + ", samplingFrequency=" + this.Bba + ", channelConfiguration=" + this.bma + ", extensionAudioObjectType=" + this.aV + ", sbrPresentFlag=" + this.Zya + ", psPresentFlag=" + this.Hxa + ", extensionSamplingFrequency=" + this.Voa + ", extensionChannelConfiguration=" + this.Uoa + ", frameLengthFlag=" + this.oV + ", coreCoderDelay=" + this.bna + ", frameLength=" + this.HG);if(null === f || void 0 === f?0:f.Yi)(f.Yi.Gp=this.Gp,f.Yi.Bba=this.Bba,f.Yi.bma=this.bma,f.Yi.aV=this.aV,f.Yi.Zya=this.Zya,f.Yi.Hxa=this.Hxa,f.Yi.Voa=this.Voa,f.Yi.Uoa=this.Uoa,f.Yi.oV=this.oV,f.Yi.bna=this.bna,f.Yi.HG=this.HG);}this.skip();return !0;};d.prototype.Qcb=function(){var f;f=this.M.Vc(5);31 === f && (f=32 + this.M.Vc(6));return f;};d.prototype.iTb=function(f){return f.tag === g.Eea.tag;};d.tag=5;return d;})(r.z0);b.XFa=a;},91578:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.z0=void 0;c=a(5163);m=a(47887);r=(function(){function g(k,d,f){this.tag=k;this.view=d;this.M=f;this.startOffset=f.offset;}g.Scb=function(k,d,f){var n,h;n=k.qd();h=k.q3b();k=new (m.iG[n] || g)(n,k.Q2a(h),k);k.parse(d,f);return k;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});g.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.zd=0;return !0;};g.prototype.w1a=function(k){var d,n;d=[];this.tag === k && d.push(this);if(this.iG)for(var f=0;f < this.iG.length;f++){n=this.iG[f];d=c.__spreadArray(c.__spreadArray([],d,!0),n.w1a(k),!0);}return d;};g.prototype.dn=function(k){for(k=this.w1a(k);0 < k.length;)return k[0];};g.prototype.fUa=function(k){for(this.iG=[];this.M.offset < this.startOffset + this.length;)this.iG.push(g.Scb(this.M,k,this));};return g;})();b.z0=r;r.prototype.skip=r.prototype.parse;},47887:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iG=void 0;r=a(5163);r.__exportStar(a(91578),b);r.__exportStar(a(48823),b);r.__exportStar(a(59909),b);r.__exportStar(a(27364),b);r=a(59909);c=a(27364);a=a(48823);b.iG={3:a.Pea,4:r.Eea,5:c.XFa};},48823:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Pea=void 0;c=a(5163);m=a(72905);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f;this.Hnb=this.M.Sf();f=this.M.qd();this.Rgb=!!(f & 128);this.ERa=!!(f & 64);this.kMa=!!(f & 32);this.x9b=f & 31;this.kHb=this.Rgb?this.M.Sf():void 0;this.ERa && this.M.$aa(this.M.qd());this.Ppb=this.kMa?this.M.Sf():void 0;m.L && this.M.console.trace("ESDescriptor: ES_ID=" + this.Hnb + ", streamDependenceFlag=" + this.Rgb + ", URL_Flag=" + this.ERa + ", OCRstreamFlag=" + this.kMa + ", streamPriority=" + this.x9b + ", dependsOn_ES_ID=" + this.kHb + ", OCR_ES_Id=" + this.Ppb);this.fUa(d);return !0;};k.tag=3;return k;})(a(91578).z0);b.Pea=r;},91562:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.u=b.MF=b.A2=b.Pha=b.fnb=b.Ux=b.jK=b.lR=b.LC=b.Xs=b.Hx=b.Rq=void 0;r=a(98516);c=a(2050);b.fnb=c;c=a(24500);b.Pha=c;c=a(66988);b.MF=c;b.A2=r.ZN.Pd.sidx;m=a(43607);Object.defineProperties(b,{Rq:{enumerable:!0,get:function(){return m.Rq;}}});g=a(87349);Object.defineProperties(b,{Hx:{enumerable:!0,get:function(){return g.Hx;}}});k=a(66789);Object.defineProperties(b,{Xs:{enumerable:!0,get:function(){return k.Xs;}}});Object.defineProperties(b,{LC:{enumerable:!0,get:function(){return k.LC;}}});d=a(47407);Object.defineProperties(b,{lR:{enumerable:!0,get:function(){return d.lR;}}});f=a(35982);Object.defineProperties(b,{jK:{enumerable:!0,get:function(){return f.jK;}}});n=a(32296);Object.defineProperties(b,{Ux:{enumerable:!0,get:function(){return n.Ux;}}});h=a(61049);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return h.u;}}});},47407:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lR=void 0;c=a(5163);r=a(87349);m=a(89931);a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.Ha=function(d){var f,n,h,l;f=this;if(!this.parse().done)return !1;n=this.Pd.moov;if(!n || 0 === n.length)return !1;h=n[0].dn("tenc");if(!h)return !1;l=new Uint8Array(h.xo);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++)if(l[t] !== q[t]){u=!1;break;}u && f.mf.jba(p.from.length,p.to,h.mta);});return (0,m.concat)(this.mf.Ha());};return k;})(r.Hx);b.lR=a;},61049:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.u=void 0;c=a(26388);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});},98516:function(r,b,a){var E,G,F,I,P,M,L,Q,J,H,K,O,R,ca,oa,ta,Fa,ua,ya,Ca,Va,S,ma,Ja,Na,Za,V,la,ra,N,ha,xa,$a,ab,db,ub;function c(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function m(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function g(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function k(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);this.dAa=Ma.config.dAa;this.jf=this.sizes=void 0;}function d(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function f(){for(var Ma=new DataView(this),cb="",kb,sb=0;sb < this.byteLength;sb++)(kb=Ma.getUint8(sb),cb+=("00" + kb.toString(16)).slice(-2));return cb;}function n(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function h(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function l(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function p(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function q(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function u(Ma){function cb(kb,sb,pb,Ab,Eb){I.call(this,kb,sb,pb,Ab,Eb);this.LYb=Ma;}cb.Uc=!1;cb.prototype=new I();cb.prototype.constructor=cb;Object.defineProperties(cb.prototype,{OFa:{get:function(){return this.LYb;}}});cb.prototype.parse=function(){this.M.offset=this.startOffset + 4;this.Qb.qkb(this.OFa);this.type=this.OFa;return !0;};return cb;}function t(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function v(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function w(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function y(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function x(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function z(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function A(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function B(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function D(Ma,cb,kb,sb,pb){I.call(this,Ma,cb,kb,sb,pb);}function C(Ma,cb){Ma.forEach(function(kb){cb[kb.Be]=kb;});}E=a(93334).assert;b=a(75589);G=a(49420).K;F=a(24500);a(2050);a(32296);a(32296);a(32296);I=a(72905).df;P=a(71368)["default"];M=a(95797)["default"];L=a(85571)["default"];Q=a(45645)["default"];J=a(35503)["default"];H=a(29973)["default"];K=a(19234)["default"];O=a(28721)["default"];R=a(84379)["default"];a(71724);a(70428);ca=a(40755).wCa;oa=a(40755).EGa;ta=a(26856)["default"];Fa=a(29043)["default"];ua=a(41192)["default"];ya=a(41192).ECa;Ca=a(41192).FCa;Va=a(41192).GCa;S=a(41192).HCa;ma=a(41116)["default"];Ja=a(18319)["default"];Na=a(56226)["default"];Za=a(41192).rIa;V=a(41192).cIa;la=a(41192).BCa;ra=a(97066)["default"];N=a(96345)["default"];ha=a(31025)["default"];xa=a(91056)["default"];$a=a(64280)["default"];a(91578);a(59909);a(27364);a(48823);ab=a(30717)["default"];db=a(70179).pRa;ub=a(89362)["default"];a=a(96989)["default"];c.Uc=!0;c.prototype=new I();c.prototype.constructor=c;m.Uc=!0;m.prototype=new I();m.prototype.constructor=m;g.Uc=!1;g.prototype=new I();g.prototype.constructor=g;g.prototype.parse=function(Ma){var cb;this.Cg();1 === this.version?(this.M.gj(),this.M.gj(),this.N=this.M.Rb(),this.duration=this.M.gj()):(this.M.Rb(),this.M.Rb(),this.N=this.M.Rb(),this.duration=this.M.Rb());cb=this.M.Sf() & 32767;this.language=String.fromCharCode(96 + (cb >>> 10),96 + (cb >>> 5 & 31),96 + (cb & 31));Ma && Ma.ee && (Ma.ee.N=this.N,Ma.ee.duration=this.duration);return !0;};k.Uc=!1;k.prototype=new I();k.prototype.constructor=k;k.prototype.Vub=function(){this.Cg();this.M.Rb();this.N=this.M.Rb();0 === this.version?(this.Z_a=this.M.Rb(),this.N1a=this.M.Rb()):(this.Z_a=this.M.gj(),this.N1a=this.M.gj());this.$db=this.M.Sf();this.odb=this.M.Sf();};k.prototype.Qsb=function(Ma,cb){var kb,sb,pb;kb=this.N;Ma=Ma && Ma.N || kb;sb=Ma / kb;kb=this.M.Zaa(cb,12,!1);pb=1 === sb?this.M.Zaa(cb,12,!1):F.from(Uint32Array,{length:cb},function(){var Ab;Ab=Math.round(this.M.Rb() * sb);this.M.offset+=8;return Ab;},this);this.Svb(cb,pb,kb,Ma);};k.prototype.Svb=function(Ma,cb,kb,sb){if(this.dAa){sb=this.dAa * sb / 1E3;for(var pb=0,Ab=1;Ab < Ma;Ab++)Math.abs(cb[pb] - sb) > Math.abs(cb[pb] + cb[Ab] - sb)?(cb[pb]+=cb[Ab],kb[pb]+=kb[Ab]):(++pb,pb !== Ab && (cb[pb]=cb[Ab],kb[pb]=kb[Ab]));++pb;cb=new Uint32Array(cb.buffer.slice(0,4 * pb));kb=new Uint32Array(kb.buffer.slice(0,4 * pb));}this.sizes=kb;this.jf=cb;};k.prototype.parse=function(Ma){var cb,kb,sb,pb;this.Vub();this.xa=Ma.xa;cb=this.N;kb=this.xa && this.xa.N || cb;sb=this.odb;pb=this.startOffset + this.length + this.N1a;cb=new G(this.Z_a,cb).jd(kb).ja;this.Ga={N:kb,Fs:cb,offset:pb};this.Qsb(this.xa,sb);this.Ga.jf=this.jf;this.Ga.sizes=this.sizes;Ma.Ak=this;return !0;};d.Uc=!1;d.prototype=new I();d.prototype.constructor=d;d.prototype.parse=function(){var Ma;this.ox=[];this.N0b=[];Ma=(this.length - 11) / 2;this.M.qd();this.M.qd();this.M.qd();for(var cb=0;cb < Ma;cb++)(this.ox.push(this.M.qd()),this.N0b.push(this.M.qd()));return !0;};n.Uc=!1;n.prototype=new I();n.prototype.constructor=n;n.prototype.parse=function(Ma){var cb;this.Cg();this.M.offset+=1;if(0 == this.version)this.M.offset+=1;else {cb=this.M.qd();this.TGb=cb >> 4;this.ZGb=cb & 15;Ma && Ma.ee && (Ma.ee.ikc=this.TGb,Ma.ee.lkc=this.ZGb);}this.p_a=this.M.qd();this.o_a=this.M.qd();this.mta=this.M.offset;this.xo=this.M.aba(16);this.xo.toString=f;Ma && Ma.ee && (Ma.ee.jkc=this.p_a,Ma.ee.VGb=this.o_a,Ma.ee.kkc=this.xo);1 == this.p_a && 0 == this.o_a && (this.SGb=this.M.qd(),this.RGb=this.M.aba(this.SGb),Ma && Ma.ee && (Ma.ee.UGb=this.RGb));return !0;};h.Uc=!1;h.prototype=new I();h.prototype.constructor=h;h.prototype.parse=function(){this.Cg();this.Vp=this.M.Sf();this.sXb=this.M.Zaa(this.Vp,void 0,!0);return !0;};l.Uc=!1;l.prototype=new I();l.prototype.constructor=l;l.prototype.parse=function(Ma){var cb,kb,sb,pb,Ab,Eb;cb=Ma.Ak;E(cb);Ma=Ma.xa;kb=cb.N;cb=cb.odb;E(Ma);E(kb);E(cb);this.Cg();E(2 > this.version);this.Vp=this.M.Sf();this.CO=new Uint16Array(cb + 1);sb=Ma.I4a(kb);pb=sb / kb;Ab=Ma.jd(sb).ja;if(0 === this.version)for((this.iP=new Uint16Array(),this.Ai=new Uint32Array(),Ma=kb=0);Ma <= cb;++Ma){if((this.CO[Ma]=kb,Ma < this.Vp)){Eb=this.M.qd();if(0 !== Eb)for(sb=0;sb < Eb;(++sb,++kb))(this.iP[kb]=Math.floor((this.M.Rb() + 1) * pb) / Ab,this.Ai[kb]=this.M.Rb());}}else if(1 === this.version)for((sb=this.M.n3b(this.Vp),this.M.offset+=4,this.Ai=this.M.Zaa(this.Vp,10,!1),this.M.offset-=8,this.iP=F.from(Uint16Array,{length:this.Vp},function(){var Kb;Kb=Math.floor((this.M.Rb() + 1) * pb) / Ab;this.M.offset+=6;return Kb;},this),kb=Ma=0);Ma <= cb;++Ma){for(;kb < sb.length && sb[kb] < Ma;)++kb;this.CO[Ma]=kb;}this.yj={CO:this.CO,iP:this.iP,Ai:this.Ai};return !0;};p.Uc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Uc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.dV=function(){var Ma;Ma=this.Wo("tfhd");Ma && (this.sr=Ma.LWa?Ma.sr:this.parent.startOffset);return !0;};t.Uc=!1;t.prototype=new I();t.prototype.constructor=t;t.prototype.parse=function(){var Ma,Qb;Ma=this.M.offset;this.Cg();if(1 === this.version){this.M.offset+=2;for(var cb=this.M.offset,kb=this.M.qd(),sb=this.M.qd(),pb=this.M.qd(),Ab=this.M.qd(),Eb=this.M.Sf(),Kb=[],Nb=0;Nb < Eb;++Nb)Kb=this.M.qd();Nb=(kb & 240) >>> 4;Qb=(kb & 14) >>> 1;kb&=1;pb=16 === pb?1:0;sb != Ab && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + sb + " and matrixCoefficients " + Ab + " should be the same value!");Ab=2;switch(sb){case 1:Ab=2;break;case 6:Ab=1;break;case 9:Ab=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + sb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Qb.wda(this.version,Ma);this.Qb.wda(Nb << 4 | Ab,cb++);this.Qb.wda(Qb << 4 | pb << 1 | kb,cb++);Eb+=2;Kb.push(0,0);this.Qb.rdc(Eb);cb+=2;Kb.forEach(function(Ib){this.Qb.wda(Ib,cb++);});}return !0;};v.Uc=!1;v.prototype=new I();v.prototype.constructor=v;v.Be="tfhd";Object.defineProperties(v.prototype,{LWa:{get:function(){return this.flags & 1;}},T5b:{get:function(){return this.flags & 2;}},WGb:{get:function(){return this.flags & 8;}},YGb:{get:function(){return this.flags & 16;}},q_a:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(Ma){this.Cg();this.XP=this.M.Rb();this.sr=this.LWa?this.M.gj():void 0;this.Aeb=this.T5b?this.M.Rb():void 0;this.Zv=this.WGb?this.M.Rb():void 0;this.Fy=this.YGb?this.M.Rb():void 0;this.Ey=this.q_a?this.M.Rb():void 0;Ma && Ma.La && (Ma.La.XP=this.XP,Ma.La.sr=this.sr,Ma.La.Aeb=this.Aeb,Ma.La.Zv=this.Zv,Ma.La.Fy=this.Fy,Ma.La.Ey=this.q_a?this.Ey:void 0);return !0;};w.Uc=!1;w.prototype=new I();w.prototype.constructor=w;w.prototype.parse=function(Ma){this.Cg();this.QF=1 === this.version?this.M.gj():this.M.Rb();Ma && Ma.La && (Ma.La.QF=this.QF);return !0;};w.prototype.Ha=function(Ma){var cb;cb=this.startOffset + 12;this.QF+=Ma;1 === this.version?this.Qb.sdc(this.QF,cb):this.Qb.Xu(this.QF,cb);};y.Uc=!1;y.prototype=Object.create(I.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{OF:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Ma){this.Cg();this.OF && this.M.Nz();this.OF && this.M.Rb();this.XGb=this.M.qd();this.Bd=this.M.Rb();this.oSb=this.M.$aa(this.Bd);Ma && Ma.La && (Ma.La.U5b=this.oSb);return !0;};y.prototype.Ha=function(Ma,cb){if(Ma && 0 === this.XGb){Ma=cb?this.Bd - Ma:Ma;this.Qb.offset=this.startOffset + 13 + (this.OF?8:0);this.Bd-=Ma;this.Qb.Xu(this.Bd);this.Qya=0;if(cb)this.Qb.offset+=this.Bd;else {for(cb=0;cb < Ma;++cb)this.Qya+=this.Qb.qd();this.Qb.offset-=Ma;}this.lm(Ma,this.M.offset);}return !0;};x.Uc=!1;x.prototype=Object.create(I.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{OF:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Ma){var cb,kb,Nb,Qb;this.Cg();this.OF && this.M.Nz();this.OF && this.M.Rb();this.Vp=this.M.Rb();E(1 === this.Vp,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Wm=0 === this.version?this.M.bba():this.M.s3b();this.M.offset=this.Wm;if(Ma && Ma.La && Ma.ee){cb=Ma.ee.VGb;kb=Ma.La.U5b;E(0 < cb || void 0 !== Ma.ee.UGb,"Expected per sample or constant IV");E(0 < (kb || []).length,"Expected saix box parsing to find sample info sizes");Ma.La.EI=[];for(var sb=0;sb < kb.length;sb++){for(var pb=cb?this.M.aba(cb):void 0,Ab=[],Eb=this.M.Sf(),Kb=0;Kb < Eb;Kb++){Nb=this.M.Sf();Qb=this.M.Rb();Ab.push({fAb:Nb,gAb:Qb});}Ma.La.EI.push({HAa:Ab,qfa:pb});}}return !0;};x.prototype.Ha=function(Ma,cb){this.Wm+=Ma;this.Qb.offset=this.startOffset + 16 + (this.OF?8:0) + (0 === this.version?0:4);this.Qb.tCa(cb,this.Wm);return !0;};z.Uc=!1;z.prototype=Object.create(I.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{Sab:{get:function(){return this.flags & 1;}},Ejb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Ma){var cb,Eb,Kb;this.Cg();cb=0;this.Sab && (cb=this.nUb=this.M.Rb() & 255,this.M.$aa(16));if(Ma && Ma.La){if(Ma.La.EI)return !0;Ma.La.Qj || (Ma.La.Qj=[]);}if(0 !== cb && 8 !== cb && 16 !== cb)return !0;this.Bd=this.M.Rb();if(Ma && Ma.La)for(var kb=0;kb < this.Bd;kb++)if((Ma.La.Qj[kb].qfa=0 < cb?this.M.aba(cb):void 0,this.Ejb)){for(var sb=[],pb=this.M.Sf(),Ab=0;Ab < pb;Ab++){Eb=this.M.Sf();Kb=this.M.Rb();sb.push({fAb:Eb,gAb:Kb});}Ma.La.Qj[kb].HAa=sb;}return !0;};z.prototype.Ha=function(Ma,cb){var kb,sb;kb=cb?this.Bd - Ma:Ma;this.Qb.offset=this.startOffset + 28 + (this.Sab?20:0);this.Bd-=kb;this.Qb.Xu(this.Bd);Ma=this.Qb.offset;if(this.Ejb)for(kb=cb?this.Bd:kb;0 < kb;--kb){this.Qb.offset+=8;sb=this.Qb.Sf();this.Qb.offset+=6 * sb;}else this.Qb.offset+=8 * (cb?this.Bd:kb);cb?this.lm(this.length - (this.M.offset - this.startOffset),this.M.offset):this.lm(this.M.offset - Ma,Ma);};A.Uc=!1;A.prototype=Object.create(I.prototype);A.prototype.constructor=A;A.prototype.parse=function(Ma){this.Cg();if(Ma && Ma.La){void 0 === Ma.La.Qj && (Ma.La.Qj=[]);for(var cb=0;cb < this.length - 12;cb++)Ma.La.Qj[cb].Mnc=this.M.qd();}return !0;};A.prototype.Ha=function(Ma,cb,kb){kb?this.lm(cb - Ma,this.startOffset + 12 + Ma):this.lm(Ma,this.startOffset + 12);return !0;};B.Uc=!1;B.prototype=Object.create(I.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Cg();this.M.Nz();1 === this.version && this.M.Rb();this.Vp=this.M.Rb();this.bZ=[];for(var Ma=0;Ma < this.Vp;++Ma)for(var cb=this.M.Rb(),kb=this.M.Rb(),sb=0;sb < cb;++sb)this.bZ.push(kb);return !0;};B.prototype.Ha=function(Ma,cb){this.bZ=cb?this.bZ.slice(0,Ma):this.bZ.slice(Ma);Ma=this.bZ.reduce(function(kb,sb){0 !== kb.length && kb[kb.length - 1].group === sb || kb.push({group:sb,count:0});++kb[kb.length - 1].count;return kb;},[]);this.Qb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Qb.Xu(Ma.length);Ma.forEach((function(kb){this.Qb.Xu(kb.count);this.Qb.Xu(kb.group);}).bind(this));this.Vp > Ma.length && this.lm(8 * (this.Vp - Ma.length));this.Vp=Ma.length;return !0;};D.Uc=!1;D.prototype=Object.create(I.prototype);D.prototype.constructor=D;ua={Pd:{moov:m,trak:c,mdia:c,mdhd:g,minf:c,encv:ua,schi:c,sidx:k,sinf:c,stbl:c,tenc:n,mvex:c,moof:p,traf:q,tfhd:v,trun:db,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:w,mdat:D,vmaf:d,edts:c},uac:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},rib:{schm:ma},Sya:{}};C([Ja,Na,H,a,K,ub,O,Za,V,la,P,Q,xa,$a,J,R,M,L,ab,db],ua.Pd);C([ca,ta,ya,Ca,Va,S,oa,Fa,N,ra],ua.Sya);C([Ja,ma],ua.rib);ua.Pd[b.DMa]=n;ua.Pd[b.R1]=h;ua.Pd[b.Q1]=l;ua.Pd[b.CMa]=z;ua.Sya[b.hga]=ha;ua.df=I;r.exports={ZN:ua};},66789:function(r,b,a){var m,g,k,d,f;function c(n){return "number" === typeof n[0] || void 0 === n[0]?{Pj:n[0],N:n[1],ky:n[2],Iya:n[3],CI:n[4]}:n[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.LC=b.Xs=void 0;m=a(5163);g=a(75589);r=a(87349);k=a(32296);d=a(93334);f=a(72905);a=(function(n){function h(l,p,q){return n.call(this,l,p,q) || this;}m.__extends(h,n);h.prototype.ydb=function(){for(var l=[],p=0;p < arguments.length;p++)l[p]=arguments[p];return this.Ha(m.__assign(m.__assign({},c(l)),{lya:!1}));};h.prototype.Fdb=function(){for(var l=[],p=0;p < arguments.length;p++)l[p]=arguments[p];return this.Ha(m.__assign(m.__assign({},c(l)),{lya:!0}));};h.prototype.Ha=function(l){var q,u,t,v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q,J;function p(O){z=x[O];A=z.Wo("traf");if(void 0 === A || void 0 === A.sr)return !1;E=A.Wo("tfdt");if(void 0 === E)return !1;B=A.Wo("trun");return void 0 === B?!1:!0;}q=l.Pj;u=l.N;t=l.lya;v=l.ky;w=l.Iya;w=void 0 === w?!1:w;y=l.CI;y=void 0 === y?!1:y;l=l.FH;if(!this.parse().done)return !1;x=this.Pd.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){D=q;for(q=0;q < x.length;++q){if(!p(q,this.mf.console.trace))return !1;(0,d.assert)(z && A && E && B && void 0 !== B.Bd);if(B.Bd > D || t && B.Bd === D)break;D-=B.Bd;}(0,d.assert)(z && A && E && B);}else if((q=t?x.length - 1:0,!p(q,this.mf.console.trace)))return !1;(0,d.assert)(z && A && E && B);if(t && q < x.length - 1){C=x[q + 1];this.mf.lm(this.view.byteOffset - C.startOffset,C.startOffset);}else !t && 0 < q && this.mf.lm(z.startOffset,0);C=A.Wo("tfhd");if(void 0 === C)return !1;E=A.Wo("tfdt");G=B.Bd;F=A.Wo("saiz");I=A.Wo("saio");P=A.Wo(g.CMa);M=A.Wo("sbgp");if(!(!F && !I || F && I))return !1;L=A.Wo("sdtp");Q=f.df.Oy(this,"mdat");if(Q && q < Q.length)J=Q[q];else if(q !== x.length - 1)return !1;void 0 === D && (D=t?B.Bd:0);if("number" === typeof v && 0 < v){Q=t?D:B.Bd - D;for(var H=Array(Q),K=0;K < Q;++K)H[K]=t?K >= Q - v?-Infinity:0:K < v?-Infinity:0;v=H;}if(B.Ha(A,C,J || this.mf,u,D,A.sr,t))B.OU && ((0,d.assert)(void 0 !== B.ngb),(0,d.assert)(void 0 !== B.vP),!t && E && E.Ha(B.ngb),F && I && (F.Ha(B.vP,t),I.Ha(P?0:F.Qya,A.sr)),P && P.Ha(B.vP,t),L && L.Ha(B.vP,G,t),M && M.Ha(B.vP,t));else if(!t){if(q === x.length - 1)return !1;this.mf.lm(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.vP)return !1;Array.isArray(v) && J && this.stream.profile && void 0 !== w && B.nYb(A,C,J,v,this.stream.profile,w,y,l);u=this.mf.Ha();t=u.reduce(function(O,R){return O + R.byteLength;},0);u={La:u,length:t,ZH:this.mf.view.byteLength};B.OU && !J && (u.UO=A.sr + B.UO,u.Aq=B.Aq);return u;};return h;})((function(n){function h(l,p,q){return n.call(this,l,p,q) || this;}m.__extends(h,n);return h;})(r.Hx));b.Xs=a;b.LC=function(n){var h,l;h=new ArrayBuffer(8);l=new DataView(h);l.setUint32(0,n + 8);l.setUint32(4,(0,k.qia)("mdat"));return h;};},35982:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.jK=void 0;c=a(32296);m={stsd:16};b.jK=(function(){function g(){}g.path=function(k,d){var p,q;for(var f=0,n=k.byteLength,h,l=0;l < d.length;l++){p=d[l];for(h && (f+=m[h] || 8);f < n;){q=k.getUint32(f);h=(0,c.Ux)(k.getUint32(f + 4));if(h === p){n=f + q;break;}f+=q;}}return f < n?f:void 0;};g.d1a=function(k){var d,f,n,h,l;d=this.path(k,["moof","traf"]);if(void 0 !== d){k=new DataView(k.buffer,k.byteOffset + d + 8);f=this.path(k,["tfdt"]);if(void 0 !== f){1 === k.getUint8(f + 8)?(d=k.getUint32(f + 12),f=k.getUint32(f + 16),d=4294967296 * d + f):d=k.getUint32(f + 12);n=this.path(k,["trun"]);if(void 0 === n)return {nBa:d};h=k.getUint8(n + 8);l=k.getUint32(n + 8) & 16777215;f=k.getUint32(n + 12);l & 2048?(n=n + 16 + ((l & 1) << 2) + (l & 4) + (((l & 256) >> 6) + ((l & 512) >> 7) + ((l & 1024) >> 8)),k=1 === h?k.getInt32(n):k.getUint32(n)):k=0;return {nBa:d,M1a:k,Rya:f};}}};return g;})();},87349:function(r,b,a){var c,m,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Hx=void 0;c=a(25564);m=a(98516);g=a(48014);r=(function(){function k(d,f,n){this.console=d;this.stream=f;this.view=n instanceof ArrayBuffer?new DataView(n):new DataView(n.data,n.offset,n.length);}k.prototype.parse=function(d){var f;f=new g.Hea(this.view.byteLength);this.mf=new c.Z_(m.ZN.Pd,f,this.view,this.console,{ywa:!0});d=this.mf.parse(d);this.Pd=this.mf.Pd;return d;};return k;})();b.Hx=r;},43607:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Rq=void 0;c=a(5163);m=a(3265);g=a(89931);k=a(93334);d=a(49420);f=a(72905);r=a(91056);n=a(64280);h=a(25564);l=a(2050);p=a(98516);q=a(75589);u=a(48014);t=a(35202);c.__exportStar(a(56122),b);a=(function(){function v(w,y,x,z,A,B){this.console=w;this.stream=y;this.Eu=z;this.mxb=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.iRb=(0,l.ANb)();}v.path=function(w,y){return y.reduce(function(x,z){return x && x.Pd[z] && x.Pd[z][0];},w);};v.IOb=function(w){return w && w.Fma && -1 !== w.Fma.indexOf("mcl0")?"mcl0":void 0;};v.jLb=function(w,y){var x,z;(0,k.assert)("mcl0" === w,"Unsupported McClearen brand");x=y.Ga;w=x.jf;y=new d.K(120,1).jd(x.N).ja;z=0;for(x=x.Fs;z < w.length && x < y;)x+=w[z++];return z;};v.prototype.parse=function(w){var y;y=this.a6b();if(!y.done){if(y.s$a)return {Jw:!1,c4:y.s$a};this.console.error("Scan error: " + y.error);return {Jw:!1,parseError:y.error || "unknown mp4 scan error"};}w && (w.mediaType=this.stream.mediaType,w.K_b=w.xa);this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);w=this.h0b(w);return w.done?this.NCb():(this.console.error("Parse error: " + w.error),{Jw:!1,parseError:w.error || "unknown mp4 parse error"});};v.prototype.Oy=function(w){return f.df.Oy(this,w);};v.prototype.dn=function(w){return f.df.dn(this,w);};v.prototype.a6b=function(){var w,y;w=new u.zIa(this.Eu,this.mxb?[q.R1,q.Q1]:[],this.config && this.config.woc || ["moof",q.QLa],this.config && this.config.zwa);y=c.__assign(c.__assign({},this.config),{ywa:!1});return new h.Z_(v.aza,w,this.view,this.console,y).parse();};v.prototype.h0b=function(w){var y,x,z;y=new u.Hea(this.view.byteLength);x=Object.create(p.ZN.Pd);this.config && ((this.config.cbb || this.config.qib || this.config.kca) && m(p.ZN.Sya,x),this.config.sBa && m(p.ZN.uac,x),this.config.qib && m(p.ZN.rib,x));z=c.__assign(c.__assign({},this.config),{ywa:!0});this.mf=new h.Z_(x,y,this.view,this.console,z);w=this.mf.parse(w);w.done && (this.Pd=this.mf.Pd);return w;};v.prototype.NCb=function(){var w,y,x,z,A,B,D,C;w={Jw:!0};y=v.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.Oy("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].Wo("tkhd");z && (w.trackId=z.zc.trackId);}z=v.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.cbb)if(z)(w.xa=z.xa,w.Knc=z.Pd);else return {Jw:!1,parseError:"Missing sample descriptions"};A=v.path(z,["encv","sinf","schi"]);A && (A=v.path(A,["tenc"]) || v.path(A,[q.DMa])) && (w.BJb={Ujc:A.xo,mta:A.mta,Slc:!1});if(A=v.path(y,["trak","mdia","mdhd"]))w.N=A.N;if(A=v.path(y,["mvex","trex"]))w.S5=A && A.zc.S5;w.S5 && w.N && (w.xa=new d.K(w.S5,w.N));if(A=v.path(this,["sidx"])){B=v.path(this,[q.R1]);B=B && B.sXb;D=v.path(this,[q.Q1]);D=D && D.yj;w.Ga=A.Ga;w.YN=B;w.yj=D;}if(B=this.Pd.vmaf && this.Pd.vmaf[0])w.ox=B.ox;if(this.config.pya && (B=v.path(y,["mvex"])) && x && x.length){C=x.reduce(function(E,G){return G.byteOffset > E.byteOffset?G:E;});C.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),D=(0,t.ABa)(x,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),C=(0,t.ABa)(x,Uint8Array,B.byteOffset + B.byteLength,C.byteOffset + C.byteLength),x.set(C,B.byteOffset),x.set(D,B.byteOffset + C.byteLength));}if(this.config.E5b)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.kca && z && 1 < z.uG && A && (w.Ph=this.kca(z,A)),void 0 === w.Ph && (y=this.mf.OU?(0,g.concat)(this.mf.Ha()):this.view.buffer,w.Ph=[{Sd:0,data:y}]));else return {Jw:!1,parseError:"Missing movie box"};w.Jw=!0;w.naa=this.mf.offset;return w;};v.prototype.trim=function(w){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.mf.trim(w);this.view=new DataView(y);};v.prototype.kca=function(w,y){var x,z,A;x=Object.keys(w.Pd);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=v.path(this,["ftyp"]);A=v.IOb(x);if(A)return (x=[],this.mf.d3b(),w.Ddb("encv"),x.push({Sd:0,sG:!1,data:(0,g.concat)(this.mf.Ha())}),this.mf.y1b(),w.Ddb(z[0]),w=v.jLb(A,y),x.push({Sd:w,sG:!0,data:(0,g.concat)(this.mf.Ha())}),x);}};v.aza={};return v;})();b.Rq=a;a.aza[q.iga]=r.default;a.aza[q.jga]=n.default;},32296:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Osb=b.qia=b.Ux=void 0;c=a(93334);b.Ux=function(m){(0,c.assert)("number" === typeof m);return String.fromCharCode(m >>> 24 & 255) + String.fromCharCode(m >>> 16 & 255) + String.fromCharCode(m >>> 8 & 255) + String.fromCharCode(m & 255);};b.qia=function(m){return m.charCodeAt(3) + (m.charCodeAt(2) << 8) + (m.charCodeAt(1) << 16) + (m.charCodeAt(0) << 24);};b.Osb=function(m,g){return Math.floor(1E3 * m / g);};},75589:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iga="6674654e-696c-5078-6966-665374726d21";b.jga="6674654e-696c-4878-6165-6465722e7632";b.QLa="6674654e-696c-5078-6966-66496e646578";b.R1="6674654e-696c-4d78-6f6f-6653697a6573";b.Q1="6674654e-696c-5378-6565-6b506f696e74";b.DMa="cedb7489-e77b-514c-84f9-7148f9882554";b.CMa="524f39a2-9b5a-144f-a244-6c427c648df4";b.hga="6674654e-696c-4678-7261-6d6552617465";},48014:function(r,b,a){var m;function c(g,k){g=k.indexOf(g);-1 !== g && k.splice(g,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.zIa=b.Hea=void 0;m=a(75589);r=(function(){function g(k){this.endOffset=k;this.done=!1;}g.prototype.$1a=function(){return this.done;};g.prototype.N_a=function(k,d,f){return this.done=d + f >= this.endOffset;};return g;})();b.Hea=r;r=(function(){function g(k,d,f,n){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === n && (n=!1);this.Eu=k;this.b6=d;this.xhb=f;this.zwa=n;this.done=!1;this.rl={};}g.prototype.$1a=function(k,d,f){-1 !== g.sRb.indexOf(k) && (this.rl[k]={offset:d,size:f});if(-1 !== this.xhb.indexOf(k)){if((this.rl[k]={offset:d,size:f},this.zwa))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.Eu && -1 !== this.Eu.indexOf(k)?(k=1 < this.Eu.length?4096:0,this.endOffset=Math.max(d + f + k,this.endOffset || 0)):-1 !== this.b6.indexOf(k) && (k=this.Eu?4096:0,this.endOffset=Math.max(d + f + k,this.endOffset || 0));return this.done;};g.prototype.N_a=function(k,d,f,n){var h;h=this;if(-1 !== this.xhb.indexOf(k))return this.done=!0;k === m.iga && this.Efb(n.rl);k === m.jga && this.Efb(n.rl);this.Eu && c(k,this.Eu);c(k,this.b6);return this.Eu && 0 === this.Eu.length && !this.b6.some(function(l){return h.rl[l];})?this.done=!0:this.done;};g.prototype.Efb=function(k){var d;d=this;this.rl=k;this.endOffset=(this.Eu || []).concat(this.b6).reduce(function(f,n){return d.rl[n]?(n=d.rl[n],Math.max(n.offset + (n.size || 4096),f)):f;},this.endOffset || 0);};g.sRb=["moov","sidx"];return g;})();b.zIa=r;},24500:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,m){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),m * a.byteLength / a.length);}:function(a,c,m){a.set(c,m);};r.exports={from:function(a,c,m,g){a=new a(c.length);for(var k="function" === typeof m,d=0;d < c.length;++d)a[d]=k?m.call(g,c[d],d,c):c[d];return a;},set:b};},35202:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ABa=void 0;b.ABa=function(a,c,m,g){var k,d;if(null !== a && void 0 !== a && a.slice)return a.slice(m,g);k=Math.min(a.length,g);d=Math.min(a.length,m);for(c=new c(Math.max(g - m,0));d < k;d++)c[d - m]=a[d];return c;};},93334:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);m=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.assert=function(g,k){if(!g)throw new m(k || "Assertion failed");};},89931:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=void 0;b.concat=function(){var m;for(var a=[],c=0;c < arguments.length;c++)a[c]=arguments[c];a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,k){return g + k.byteLength;},0);m=new Uint8Array(c);a.reduce(function(g,k){m.set(new Uint8Array(k),g);return g + k.byteLength;},0);return m.buffer;};},3265:function(r){r.exports=function m(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && m(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(k){g=Object.getOwnPropertyDescriptor(a,k);void 0 !== g && Object.defineProperty(c,k,g);});};},49420:function(r,b){function a(m,g){return "number" !== typeof m || "number" !== typeof g?!1:m && g?Math.abs(m * g / c(m,g)):0;}function c(m,g){var k;m=Math.abs(m);for(g=Math.abs(g);g;){k=g;g=m % g;m=k;}return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.K=void 0;r=(function(){function m(g,k){"object" === typeof g?(this.tc=g.ja,this.mb=g.N):(this.tc=g,this.mb=k);}m.Na=function(g){return new m(g,1E3);};m.iBa=function(g,k){return Math.floor(1E3 * g / k);};m.l$a=function(g,k){return Math.floor(g * k / 1E3);};m.max=function(){for(var g=[],k=0;k < arguments.length;k++)g[k]=arguments[k];return g.reduce(function(d,f){return d.greaterThan(f)?d:f;});};m.min=function(){for(var g=[],k=0;k < arguments.length;k++)g[k]=arguments[k];return g.reduce(function(d,f){return d.lessThan(f)?d:f;});};m.eC=function(g,k){var d;if(g.N === k.N)return new m(c(g.ja,k.ja),g.N);d=a(g.N,k.N);return m.eC(g.jd(d),k.jd(d));};Object.defineProperties(m.prototype,{ja:{get:function(){return this.tc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{N:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{v:{get:function(){return 1E3 * this.tc / this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zh:{get:function(){return this.tc / this.mb;},enumerable:!1,configurable:!0}});m.prototype.jd=function(g){g/=this.N;return new m(Math.floor(this.ja * g),Math.floor(this.N * g));};m.prototype.add=function(g){var k;if(this.N === g.N)return new m(this.ja + g.ja,this.N);k=a(this.N,g.N);return this.jd(k).add(g.jd(k));};m.prototype.qa=function(g){return this.add(new m(-g.ja,g.N));};m.prototype.hm=function(g){return new m(this.ja * g,this.N);};m.prototype.Hg=function(g){var k;if(this.N === g.N)return this.ja / g.ja;k=a(this.N,g.N);return this.jd(k).Hg(g.jd(k));};m.prototype.I4a=function(g){return a(this.N,g);};m.prototype.aya=function(){return new m(this.N,this.ja);};m.prototype.compare=function(g,k){var d;if(this.N === k.N)return g(this.ja,k.ja);d=a(this.N,k.N);return g(this.jd(d).ja,k.jd(d).ja);};m.prototype.equal=function(g){return this.compare(function(k,d){return k === d;},g);};m.prototype.pva=function(g){return this.compare(function(k,d){return k !== d;},g);};m.prototype.lessThan=function(g){return this.compare(function(k,d){return k < d;},g);};m.prototype.greaterThan=function(g){return this.compare(function(k,d){return k > d;},g);};m.prototype.Ao=function(g){return this.compare(function(k,d){return k <= d;},g);};m.prototype.Jg=function(g){return this.compare(function(k,d){return k >= d;},g);};m.prototype.toJSON=function(){return {ticks:this.ja,timescale:this.N};};m.prototype.toString=function(){return ("").concat(this.ja,"/").concat(this.N);};m.Ba=new m(0,1);m.Ez=new m(1,1E3);return m;})();b.K=r;},56445:function(r,b,a){var c,m,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ra=void 0;c=a(5163);m=a(93334);g=a(89931);k=a(32296);r=a(25337);d=(function(){function f(n){n?(this.Qo=n.Qo.slice(),this.Ls=n.Ls.slice(),this.Ai=n.Ai.slice(),this.trim=n.trim):(this.Qo=[],this.Ls=[],this.Ai=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Qo.length && 0 === this.Ls.length && 0 === this.Ai.length;},enumerable:!1,configurable:!0}});return f;})();r=(function(f){function n(h,l,p){h=f.call(this,h,l,p) || this;h.f0a=[];h.Yd=new d();return h;}c.__extends(n,f);n.dyb=function(h,l){if(l.offset + l.size <= h.byteLength)switch(l.size){case 1:h.setUint8(l.offset,l.value);break;case 2:l.uZ?h.setInt16(l.offset,l.value):h.setUint16(l.offset,l.value);break;case 4:l.uZ?h.setInt32(l.offset,l.value):h.setUint32(l.offset,l.value);break;case 8:(0,m.assert)(!l.uZ);h.setUint32(l.offset,Math.floor(l.value / 4294967296));h.setUint32(l.offset + 4,l.value & 4294967295);break;default:(0,m.assert)(!1);}};Object.defineProperties(n.prototype,{OU:{get:function(){return !this.Yd.empty;},enumerable:!1,configurable:!0}});n.prototype.wda=function(h,l){this.Yd.Ls.push({offset:void 0 !== l?l:this.offset,value:h,size:1});void 0 === l && (this.offset+=1);};n.prototype.rdc=function(h){this.Yd.Ls.push({offset:!1,value:h,size:2,uZ:!1});};n.prototype.Xu=function(h,l){this.Yd.Ls.push({offset:void 0 !== l?l:this.offset,value:h,size:4,uZ:!1});void 0 === l && (this.offset+=4);};n.prototype.sdc=function(h,l){this.Yd.Ls.push({offset:void 0 !== l?l:this.offset,value:h,size:8,uZ:!1});void 0 === l && (this.offset+=8);};n.prototype.qkb=function(h){this.Xu((0,k.qia)(h));};n.prototype.tCa=function(h,l){this.Yd.Ai.push({offset:this.offset,Jp:h,value:l});this.offset+=4;};n.prototype.lm=function(h,l,p){this.Yd.Qo.push({offset:l,remove:h,nb:p});};n.prototype.jba=function(h,l,p,q){this.Yd.Qo.push({offset:p,remove:h,replace:l,nb:q});};n.prototype.trim=function(h){this.Yd.trim=h;};n.prototype.d3b=function(){this.f0a.push(new d(this.Yd));};n.prototype.y1b=function(){this.Yd=this.f0a.pop() || new d();};n.prototype.Ha=function(){var h,l,p,q,u,t,v;h=this;if(0 === this.Yd.Qo.length && 0 === this.Yd.Ls.length && 0 === this.Yd.Ai.length)return [void 0 === this.Yd.trim?this.view.buffer:this.view.buffer.slice(0,this.Yd.trim)];this.Yd.Qo.sort(function(w,y){return w.offset - y.offset;});this.Yd.Ls.sort(function(w,y){return w.offset - y.offset;});this.q5b();l=this.aLb();p=this.view.buffer.slice(0,l);q=new DataView(p);this.Yd.Ls.forEach(n.dyb.bind(void 0,q));this.pbc(q);this.nbc(q);u=[];t=void 0 !== this.Yd.trim?Math.min(this.Yd.trim,this.view.byteLength):this.view.byteLength;v=0;this.Yd.Qo.filter(function(w){return w.offset <= t;}).forEach(function(w){w.offset > v && (u.push(q.buffer.slice(v,w.offset)),w.offset > q.byteLength && q !== h.view && (q=h.view,u.push(q.buffer.slice(l,w.offset))));w.replace && u.push(w.replace);v=w.offset + w.remove;});v < l && u.push(p.slice(v));v < t && (p=Math.max(p.byteLength,v),p < t && u.push(this.view.buffer.slice(p,t)));return u;};n.prototype.aLb=function(){var h,l,p;h=[];l=this.Yd.Ls[this.Yd.Ls.length - 1];p=this.Yd.Ai[this.Yd.Ai.length - 1];l && h.push(l.offset + l.size);p && h.push(p.offset + 4);this.Yd.Qo.filter(function(q){return q.nb;}).forEach(function(q){return h.push(q.nb.byteOffset + 4);});l=Math.max.apply(void 0,h);return void 0 !== this.Yd.trim?Math.min(l,this.Yd.trim):l;};n.prototype.q5b=function(){this.Yd.Qo=this.Yd.Qo.reduce(function(h,l){var p,q;if(0 === h.length)return (h.push(l),h);p=h[h.length - 1];q=p.offset + p.remove;l.offset >= q?h.push(l):l.offset + l.remove > q && ((0,m.assert)(p.nb === l.nb),p.remove+=l.offset + l.remove - q,l.replace && (p.replace=p.replace?(0,g.concat)(p.replace,l.replace):l.replace));return h;},[]);};n.prototype.pbc=function(h){var l;l=this;this.Yd.Ai.forEach(function(p){var q,u,t,v;q=h;u=p.offset;l.Yd.Qo.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),u=p.offset - w.offset,!0):!1;});t=p.Jp + (void 0 !== p.value?p.value:q.getInt32(u));v=l.Yd.Qo.reduce(function(w,y){return y.offset > p.Jp && y.offset < t?w + (y.remove - (y.replace?y.replace.byteLength:0)):w;},0);q.setInt32(u,t - p.Jp - v);});};n.prototype.nbc=function(h){this.Yd.Qo.forEach(function(l){var p;p=(l.remove || 0) - (l.replace?l.replace.byteLength:0);if(0 !== p)for(l=l.nb;l;)(h.setUint32(l.byteOffset,h.getUint32(l.byteOffset) - p),l=l.parent);});};return n;})(r.aSa);b.$Ra=r;},25337:function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.aSa=void 0;c=a(2050);a(2050);m=a(32296);r=(function(){function g(k,d,f){this.view=k;this.console=d;this.config=f;this.view=k;this.console=d;this.zd=this.ur=this.offset=0;}g.prototype.Q2a=function(k){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,k);};g.prototype.Vc=function(k){for(;this.zd < k;)(this.ur=(this.ur << 8) + this.qd(),this.zd+=8);this.zd-=k;return this.ur >>> this.zd & (1 << k) - 1;};g.prototype.qd=function(){var k;k=this.view.getUint8(this.offset);this.offset+=1;return k;};g.prototype.Sf=function(k){k=this.view.getUint16(this.offset,k);this.offset+=2;return k;};g.prototype.Rb=function(k){k=this.view.getUint32(this.offset,k);this.offset+=4;return k;};g.prototype.bba=function(){var k;k=this.view.getInt32(this.offset,void 0);this.offset+=4;return k;};g.prototype.E0b=function(k,d){var f;f=this.view.getUint32(this.offset + (k?4:0),k);k=this.view.getUint32(this.offset + (k?0:4),k);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + k;};g.prototype.gj=function(k,d){k=this.E0b(k,d);this.offset+=8;return k;};g.prototype.F0b=function(){var k,d;k=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < k?k:-k) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * k + d;};g.prototype.s3b=function(){var k;k=this.F0b();this.offset+=8;return k;};g.prototype.Nz=function(){return (0,m.Ux)(this.Rb());};g.prototype.cba=function(){var d,f,n,h,l,p;function k(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Rb(!0);f=this.Sf(!0);n=this.Sf(!0);h=this.Sf();l=this.Sf();p=this.Rb();return [k(d,4),k(f,2),k(n,2),k(h,2),k(l,2) + k(p,4)].join("-");};g.prototype.aba=function(k){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + k);this.offset+=k;return d;};g.prototype.o3b=function(k){var d;d=[];if(0 === k)return "";k=k || Number.MAX_SAFE_INTEGER;for(var f=this.qd();0 !== f && 0 <= --k;)(d.push(f),f=this.qd());return String.fromCharCode.apply(null,d);};g.prototype.$aa=function(k){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.Jj(this.config.cQ && c.rQb || c.aN,1,k,d,f);};g.prototype.n3b=function(k){var d,f,n;d=10;f=!1;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === n && (n=!1);return this.Jj(this.config.cQ && c.pQb || c.U7,2,k,d,f,n);};g.prototype.Zaa=function(k,d,f){var n;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === n && (n=!1);return this.Jj(this.config.cQ && c.qQb || c.YV,4,k,d,f,n);};g.prototype.q3b=function(){for(var k=this.qd(),d=k & 127;k & 128;)(k=this.qd(),d=d << 7 | k & 127);return d;};g.prototype.Jj=function(k,d,f,n,h,l){void 0 === h && (h=!0);void 0 === l && (l=!1);k=k(this.view,this.offset,f,n,l);this.offset=h || !n || n === d?this.offset + f * (n || d):this.offset + d;return k;};return g;})();b.aSa=r;},17972:function(r,b,a){var m,g,k,d,f;function c(n,h,l){void 0 === l && (l=0);return n.displayTime - l <= h && h < n.displayTime + n.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.Ulb=b.MDa=void 0;m=a(5163);g=a(91176);k=a(45247);d=a(90745);r=(function(n){function h(l,p,q,u,t,v,w,y){var x,z,A;x=this;x=n.call(this) || this;x.ytb=l;x.CS=p;x.Etb=q;x.la=u;x.lu=t;x.Oqa=v;x.vaa=w;x.options=y;x.wj=[];x.Ri=[];x.Qi=[];x.Qwa=new d.Ge();x.fza=new d.Ge();x.k5=new d.Ge();x.VA=new f(function(){return p(l());},x.la,(null === (z=x.options) || void 0 === z?void 0:z.Z) || !1);x.VA.events.on("bufferingcomplete",function(){var B;x.la.trace("AseTimer:Received buffering complete from watcher");null === (B=x.Jm) || void 0 === B?void 0:B.sf();x.Eva();});x.VA.exa();x.Vfb();x.Qwa.on(x.vaa,"segmentPresenting",function(){x.wab();});x.Qwa.on(x.vaa,"taskSchedulerChanged",function(){x.Vfb();});null === (A=x.Jm) || void 0 === A?void 0:A.Ma();return x;}m.__extends(h,n);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.VA.aU;},enumerable:!1,configurable:!0});h.prototype.U9b=function(){var l,p,q,u,t,v,w,y,x,z,A,B,D,C;C=this;return m.__generator(this,function(E){switch(E.label){case 0:this.la.trace("AseTimer:Starting subtitle worker");if(this.lu())return (this.la.trace("Paused: exiting"),[2]);l=function(){return C.Hd.va.currentTime.v;};p=this.ytb;this.Qi=this.Ri.concat(this.wj);this.rcb(p(),!0);E.label=1;case 1:if(!this.Qi.length)return [3,3];u=q=p();this.SXa(q);try{for((t=(B=void 0,m.__values(this.Qi)),v=t.next());!v.done;v=t.next())(w=v.value,this.la.trace(("AseTimer:Checking subtitle ").concat(w.id)),q >= w.displayTime + w.duration || (c(w,q,this.options.loc)?(this.la.trace(("AseTimer:Showing subtitle ").concat(w.id)),this.c2b(w),u=Math.max(q,w.displayTime)):(this.la.trace(("AseTimer:Staging subtitle ").concat(w.id)),this.mAa(w))));}catch(G){B={error:G};}finally{try{v && !v.done && (D=t.return) && D.call(t);}finally{if(B)throw B.error;}}y=this.sAb(u);if(!isFinite(y))return (this.VA.exa(),[3,3]);x=l();z=this.Etb(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.la.trace(("AseTimer:Sleeping till PlayerTime ").concat(A));return [4,k.Tg.Wu(g.K.Na(A))];case 2:return (E.Ja(),this.rcb(p()),[3,1]);case 3:return (this.la.trace(("AseTimer:Checking removed subtitles one more time ").concat(p())),this.SXa(p()),this.la.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.rcb=function(l,p){var q,u,t,v,w;u=this;void 0 === p && (p=!1);t=p || !this.wj.length;t || (t=this.Qi[this.Qi.length - 1].displayTime > l);if(t){this.la.trace(("AseTimer:Getting subtitles for ").concat(l),{Yjc:this.Hd.va.currentTime});v=this.CS(l);if(v){this.la.trace(("AseTimer:Received ").concat(v.length," subtitles"));t=function(A){(0,g.mc)(w.Qi,function(B){return B.id === A.id;}) || l >= A.displayTime + A.duration || (w.la.trace(("AseTimer:adding ").concat(A.id),{start:A.startTime,qkc:A.displayTime,end:A.endTime,ykc:A.duration}),w.Qi.push(A));};w=this;try{for(var y=m.__values(v),x=y.next();!x.done;x=y.next())t(x.value);}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Qi.filter(function(A){return !(0,g.mc)(v,function(B){return B.id === A.id;});}).forEach(function(A){return u.WX(A);});this.Qi.length || this.VA.exa();}else this.vh();}};h.prototype.stop=function(){var l;this.la.trace("AseTimer:Stop");null === (l=this.Jm) || void 0 === l?void 0:l.Ma();this.VA.reset();this.fba();this.Qwa.clear();this.fza.clear();this.k5.clear();};h.prototype.fba=function(){var l,p,q,u;this.la.trace("AseTimer:Removing all",this.Ri.length);u=this.Ri;try{for(var t=m.__values(u),v=t.next();!v.done;v=t.next())this.WX(v.value);}catch(y){var w;w={error:y};}finally{try{v && !v.done && (l=t.return) && l.call(t);}finally{if(w)throw w.error;}}this.Ri=[];if(null === (p=this.Jm) || void 0 === p?0:p.F8)null === (q=this.Jm) || void 0 === q?void 0:q.Ma();};h.prototype.pause=function(){var l;null === (l=this.Jm) || void 0 === l?void 0:l.Ma();};h.prototype.lA=function(){var l,p,q,u;(null === (l=this.Jm) || void 0 === l?void 0:l.state) !== k.Mk.complete && (null === (p=this.Jm) || void 0 === p?void 0:p.state) !== k.Mk.jG || this.lu() || (null === (q=this.Jm) || void 0 === q?void 0:q.sf());this.Tn && this.VA.check();this.lu() && (null === (u=this.Jm) || void 0 === u?void 0:u.Ma());};h.prototype.Vfb=function(){var l;l=this;this.la.trace("Setting up new task scheduler");(this.Hd=this.Oqa())?(this.fza.clear(),this.fza.on(this.Hd,"clockChanged",function(){return l.lab();}),this.Jm=this.Hd.By(function(){return l.U9b();},"subtitleWorker"),this.lab()):this.la.warn("AseTimer: no player task scheduler");};h.prototype.sAb=function(l){var p;return null !== (p=this.Qi.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > l;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};h.prototype.lab=function(){var l,p,q;l=this;this.k5.clear();(null === (p=this.Hd) || void 0 === p?0:p.va)?(this.la.trace("onClockChanged: clock listeners registered"),this.k5.on(this.Hd.va,"clockAdjusted",function(u){u.reason === k.zA.XI && l.wab();}),this.k5.on(this.Hd.va,"stopStart",function(){var u;l.Hd.jH || (null === (u=l.Jm) || void 0 === u?void 0:u.sf());})):this.la.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.Jm) || void 0 === q?void 0:q.sf();};h.prototype.wab=function(){var l,p;this.la.trace("Timeline changed");this.fba();this.lu()?null === (p=this.Jm) || void 0 === p?void 0:p.Ma():null === (l=this.Jm) || void 0 === l?void 0:l.sf();};h.prototype.mAa=function(l){-1 === this.wj.indexOf(l) && this.y_b(l);};h.prototype.SXa=function(l){var p,q,v;q=this.Ri.concat(this.wj);try{for(var u=m.__values(q),t=u.next();!t.done;t=u.next()){v=t.value;l >= v.displayTime + v.duration && this.WX(v);}}catch(y){var w;w={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(w)throw w.error;}}};h.prototype.c2b=function(l){-1 === this.Ri.indexOf(l) && (this.Ri.push(l),-1 !== this.wj.indexOf(l) && (this.wj=this.wj.filter(function(p){return p !== l;})),this.Tva(l));};h.prototype.Tva=function(l){this.la.trace("AseTimer:Showing",l.id);this.emit("showsubtitle",l);};h.prototype.y_b=function(l){this.la.trace("AseTimer:Staging",l.id);this.wj.push(l);this.emit("stagesubtitle",l);};h.prototype.vh=function(){this.la.trace("AseTimer:onUnderflow",this.Tn);this.Tn || (this.emit("underflow"),this.VA.vh());};h.prototype.WX=function(l){this.la.trace("AseTimer:Removing",l.id);-1 !== this.wj.indexOf(l) && (this.wj=this.wj.filter(function(p){return p !== l;}));-1 !== this.Ri.indexOf(l) && (this.emit("removesubtitle",l),this.Ri=this.Ri.filter(function(p){return p !== l;}));this.Qi=this.Qi.filter(function(p){return p !== l;});};h.prototype.Eva=function(){var l;this.Qi.length && (this.emit("bufferingComplete"),this.lu() || (null === (l=this.Jm) || void 0 === l?void 0:l.sf()));};return h;})(d.EventEmitter);b.MDa=r;f=(function(){function n(h,l,p){void 0 === p && (p=!1);this.CS=h;this.la=l;this.Yia=p;this.events=new d.EventEmitter();this.Tn=!1;}Object.defineProperty(n.prototype,"buffering",{get:function(){return this.Tn;},enumerable:!1,configurable:!0});n.prototype.exa=function(){var h;h=this;this.la.trace("AseTimer:Buffering watcher restart");this.Tn=!0;this.sja && clearInterval(this.sja);this.sja=this.Yia?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};n.prototype.vh=function(){this.la.trace("AseTimer:Buffering watcher underflow");this.Tn=!0;this.VXa(1);};n.prototype.reset=function(){this.la.trace("AseTimer:Buffering watcher reset");clearInterval(this.sja);clearTimeout(this.Qvb);this.Tn=!1;};n.prototype.VXa=function(h){var l;l=250 * (1 << h);2E3 < l && (l=2E3);this.check();this.Tn && (this.Qvb=setTimeout(this.VXa.bind(this,h + 1),l));};n.prototype.check=function(){var h;h=this.CS();this.la.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",FD:h}));};return n;})();b.Ulb=f;},18797:function(r,b,a){var t,v,w,y,x,z,A,B,D;function c(C,E){var G,F;G=this;F=C.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(I){var P;P=x.EFb(C,I);return {textNodes:I.textNodes.map(u.bind(G,F)),region:P,id:I.id};})};}function m(C){if(!Array.isArray(C))throw Error("last called on non-array: " + C);return C[C.length - 1];}function g(C,E){var G,F,I,P,M,L;G=w.mf(!0);F={};I=[];P=null;M=[];L={};G.onerror=function(Q){E(Q,null);};G.onend=function(){E(null,F);};G.onclosetag=function(){I.pop();};G.onopentag=function(Q){var J,H,K,O;J=Q.attributes;H=Q.name;K=F.regions;O=F.styles;I.push(Q);if("tt" === H)F=l(J);else if("body" === H)"undefined" !== typeof J.style && (F.defaultStyle=J.style,M.push(J.style));else if("initial" === H && q(I,"styling"))(L=p(J,z),F.initialStyle=L);else if("style" === H && q(I,"styling")){K=J["xml:id"];Q=L;J=p(J,z);if(Object.keys(Q).length)for(var R in Q)"undefined" === typeof J[R] && (J[R]=Q[R]);O[K]=J;}else "style" === H && q(I,"region")?(O=Object.keys(J)[0],"string" === typeof O && (K[P][O.slice(4)]=J[O])):"region" === H && q(I,"layout") && (P=J["xml:id"],K[P]=p(J,B));};setTimeout(function(){var Q;for(G.write(C);0 < I.length && !G.error;){Q=m(I).name;G.write("</" + Q + ">");}G.close();},10);}function k(C,E){var G;G=C.filter(function(F){return F.startTime <= E && E <= F.endTime;});C=C.filter(function(F){return F.startTime > E;});return 0 < C.length?G.concat([C[0]]):G;}function d(){}function f(C){var E,G;E=C.Fe;G=C.la;if(!C.xml && !C.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");v.call(this);this.og=this.j3=null;this.Rk="number" === typeof E?C.Fe:0;this.yF=C.xml || "";this.ka="object" === typeof G?C.la:D;this.pF=C.request;this.ff=C.url;this.wf=[];this.$j=this.Rk;this.sd=null;this.Fm=this.Xn=!1;this.RE=C.AY || 0;this.wF=C.FAa;}function n(){var C,E,G;C=this;E=C.yF.indexOf("<p");if(-1 < E){G=C.yF.slice(0,E);g(G,function(F,I){null !== F?(F.r5a=G,C.emit("error",F)):(C.j3=I,C.og=new y(C.yF,I.tickRate),h.call(C,C.Rk));});}else C.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function h(C){var E,G,F,I,P,M,L,Q,J;E=this;G=E.j3;F=0;I=[];P=G.defaultStyle?[G.defaultStyle]:[];M=G.lang?[G.lang]:[];L=E.og.$ia;E.ka.info("parsing the next 5 entries...");Q=E.og.VOb(C);E.ka.debug(Q);J=w.mf(!0);J.onerror=function(H){H.xml=Q;E.emit("error",H);};J.onend=function(){var H;H=E.wf.reduce(function(K,O){O=O.blocks.reduce(function(R,ca){return R.concat([ca.id]);},[]);return K.concat(O);},[]);I.forEach(function(K){var O;if(-1 === H.indexOf(K.id)){O=K && K.blocks && K.blocks.filter(function(R){return 0 < R.textNodes.length;});O && 0 < O.length && (K.blocks=O,E.wf.push(K));}});E.Fm=!1;E.Xn || (E.Xn=!0,E.emit("ready"));};J.ontext=function(H){var K,O,R,ca;if("" !== H.trim() || H.match(/ +/)){K=m(m(I).blocks).textNodes;O=K.push;H=H.match(/ +/) || m(M) && "ja" === m(M).slice(0,2)?H:H.trim();R=m(P);ca=m(M);O.call(K,{text:H,style:R,lang:ca && 0 === ca.indexOf("ja")?"ja":ca,lineBreaks:F});}F=0;};J.onclosetag=function(){var H;H=J.tag;"undefined" !== typeof H.attributes.style && P.pop();"undefined" !== typeof H.attributes["xml:lang"] && M.pop();};J.onopentag=function(H){var K,O,R,ca,oa;K=H.attributes;O=H.name;H=G.tickRate;if("p" === O){F=0;O=K["xml:id"];K.style && P.push(K.style);K["xml:lang"] && M.push(K["xml:lang"]);R=L?Math.floor(parseInt(K.begin) / H * 1E3):Math.floor(t(K.begin));if(0 === I.length || m(I).displayTime !== R){R=I.push;ca={};if(L){oa=parseInt(K.begin) / H * 1E3;H=parseInt(K.end) / H * 1E3;}else (oa=t(K.begin),H=t(K.end));ca.id=O;ca.startTime=Math.floor(oa);ca.endTime=Math.floor(H);ca.style=K.style;ca.region=K.region;ca.displayTime=ca.startTime;ca.duration=ca.endTime - ca.startTime;ca.extent=K["tts:extent"] || null;ca.origin=K["tts:origin"] || null;ca.latestEndSoFar=0 > ca.endTime?0:ca.endTime;ca.blocks=[{textNodes:[],region:ca.region,id:O,extent:ca.extent,origin:ca.origin}];R.call(I,ca);}else m(I).blocks.push({textNodes:[],region:K.region,id:O,extent:K["tts:extent"] || null,origin:K["tts:origin"] || null});}else "span" === O?(P.push(K.style),K["xml:lang"] && M.push(K["xml:lang"]),H=G.styles[K.style],K.style && H && H.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(H.ruby) && m(m(I).blocks).textNodes.push({text:"",style:m(P),lang:m(M),lineBreaks:0})):"br" === O && F++;};J.write("<entries>").write(Q).write("</entries>").close();}function l(C){var E;C=p(C,A);if("string" === typeof C.extent){E=C.extent.split(" ").map(function(G){return parseInt(G,10);});C.width=E[0];C.height=E[1];}else (C.width=1280,C.height=720);C.aspectRatio=C.width / C.height;"string" === typeof C.cellResolution?(E=C.cellResolution.split(" ").map(function(G){return parseInt(G,10);}),C.cellResolution={},C.cellResolution.x=E[0],C.cellResolution.y=E[1]):C.cellResolution={x:52,y:19};return C;}function p(C,E){var G;G={};E.forEach(function(F){"undefined" !== typeof C["tts:" + F]?G[F]=C["tts:" + F]:"undefined" !== typeof C["ttp:" + F]?G[F]=C["ttp:" + F]:"undefined" !== typeof C["ebutts:" + F]?G[F]=C["ebutts:" + F]:"undefined" !== typeof C["xml:" + F] && (G[F]=C["xml:" + F]);});G.styles={};G.regions={};return G;}function q(C,E){var G;for(G=C.length - 1;0 <= G;G--)if(C[G].name === E)return !0;return !1;}function u(C,E){return {lineBreaks:E.lineBreaks,text:E.text,lang:E.lang,style:this.wF.HFb(C[E.style] || ({}),this.j3),id:E.id};}t=a(4574).zy;v=a(22699).EventEmitter;w=a(60514);y=a(96379);x=a(81668);a(81824);a(81824);z=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear lineHeight").split(" ");A=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");B=("backgroundColor displayAlign extent origin position writingMode multiRowAlign textAlign").split(" ");D={info:d,debug:d};b=Object.create(v.prototype);f.prototype=b;b.start=function(){var C;C=this;C.ka.info("incremental text stream created, starting at pts " + C.Rk);C.yF?n.call(C):C.pF({url:C.ff},function(E,G){C.yF=G;n.call(C);});};b.fC=function(C){var E,G,F;E=this;C < E.$j - E.RE && (E.wf=[]);G=E.wf;F=G.length?Math.max(G[G.length - 1].startTime,C):C;E.$j=C;for(!E.sd && 5 > E.wf.length && !E.Fm && (E.ka.info("buffer size: " + E.wf.length + "; minimum: 5"),E.Fm=!0,E.sd=setTimeout(function(){E.sd=null;h.call(E,F + 1);},10));0 < G.length && G[0].endTime < C;)G.shift();G=k(G,C).map(c.bind(E,E.j3));C < E.og.t1a() && 0 === G.length && (G=null);return G;};b.$l=function(C,E){return this.og?this.og.$l(C,E):0;};b.close=function(){};r.exports={tfa:f,abb:g,$d:m,u7:k,a6:c};},60514:function(r){var v,w,y,x,z,A,B,D,C,E,G,F,I,P,M,L,Q;function b(){}function a(J,H){if(!(this instanceof a))return new a(J,H);for(var K=0,O=w.length;K < O;K++)this[w[K]]="";this.q=this.c=this.bn=this.textNode="";this.YWa=v.Rfa;this.vn=H || ({});this.vn.E8a=this.vn.E8a || this.vn.bmc;this.Xta=this.vn.E8a?"toLowerCase":"toUpperCase";this.Hi=[];this.closed=this.jU=this.jP=!1;this.tag=this.error=null;this.qm=!!J;this.Q$a=!(!J && !this.vn.Q$a);this.state=Q.bea;this.yx=(this.Ygb=this.vn.Ygb)?Object.create(v.osb):Object.create(v.yx);this.yB=[];this.vn.J_ && (this.Ij=Object.create(P));if(this.Pca=!1 !== this.vn.position)this.position=this.line=this.lU=0;this.onready && this.onready(void 0);}function c(J,H){var K;if(!(this instanceof c))return new c(J,H);b.apply(this);this.ay=new a(J,H);this.readable=this.writable=!0;K=this;this.ay.onend=function(){K.emit("end");};this.ay.onerror=function(O){K.emit("error",O);K.ay.error=null;};y.forEach(function(O){Object.defineProperty(K,"on" + O,{get:function(){return K.ay["on" + O];},set:function(R){if(!R)return (K.removeAllListeners(O),K.ay["on" + O]=R);K.on(O,R);},enumerable:!0,configurable:!1});});}function m(J){return J.split("").reduce(function(H,K){H[K]=!0;return H;},{});}function g(J,H){return "[object RegExp]" === Object.prototype.toString.call(J)?!!H.match(J):J[H];}function k(J,H,K){J.textNode && d(J);J[H] && J[H](K);}function d(J){J.textNode=f(J.vn,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function f(J,H){J.trim && (H=H.trim());J.normalize && (H=H.replace(/\s+/g," "));return H;}function n(J,H){d(J);J.Pca && (H+="\nLine: " + J.line + "\nColumn: " + J.lU + "\nChar: " + J.c);H=Error(H);J.error=H;J.onerror && J.onerror(H);return J;}function h(J){J.jP && !J.jU && l(J,"Unclosed root tag");J.state !== Q.bea && J.state !== Q.cea && J.state !== Q.Da && n(J,"Unexpected end");d(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);a.call(J,J.qm,J.vn);return J;}function l(J,H){if("object" !== typeof J || !(J instanceof a))throw Error("bad call to strictFail");J.qm && n(J,H);}function p(J,H){var K,O;K=0 > J.indexOf(":")?["",J]:J.split(":");O=K[0];K=K[1];H && "xmlns" === J && (O="xmlns",K="");return {prefix:O,local:K};}function q(J){var H,K,O;J.qm || (J.Si=J.Si[J.Xta]());if(-1 !== J.yB.indexOf(J.Si) || J.tag.attributes.hasOwnProperty(J.Si))return J.Si=J.Ti="";if(J.vn.J_){H=p(J.Si,!0);K=H.local;if("xmlns" === H.prefix)if("xml" === K && J.Ti !== F)l(J,"xml: prefix must be bound to " + F + "\nActual: " + J.Ti);else if("xmlns" === K && J.Ti !== I)l(J,"xmlns: prefix must be bound to " + I + "\nActual: " + J.Ti);else {H=J.tag;O=J.Hi[J.Hi.length - 1] || J;H.Ij === O.Ij && (H.Ij=Object.create(O.Ij));H.Ij[K]=J.Ti;}J.yB.push([J.Si,J.Ti]);}else (J.tag.attributes[J.Si]=J.Ti,k(J,"onattribute",{name:J.Si,value:J.Ti}));J.Si=J.Ti="";}function u(J,H){var K,O,ca,oa,ta,Fa,ua;if(J.vn.J_){K=J.tag;O=p(J.tagName);K.prefix=O.prefix;K.local=O.local;K.uri=K.Ij[O.prefix] || "";K.prefix && !K.uri && (l(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),K.uri=O.prefix);O=J.Hi[J.Hi.length - 1] || J;K.Ij && O.Ij !== K.Ij && Object.keys(K.Ij).forEach(function(ya){k(J,"onopennamespace",{prefix:ya,uri:K.Ij[ya]});});O=0;for(var R=J.yB.length;O < R;O++){ca=J.yB[O];oa=ca[0];ta=ca[1];Fa=p(oa,!0);ca=Fa.prefix;ua="" == ca?"":K.Ij[ca] || "";ta={name:oa,value:ta,prefix:ca,local:Fa.local,uri:ua};ca && "xmlns" != ca && !ua && (l(J,"Unbound namespace prefix: " + JSON.stringify(ca)),ta.uri=ca);J.tag.attributes[oa]=ta;k(J,"onattribute",ta);}J.yB.length=0;}J.tag.Olc=!!H;J.jP=!0;J.Hi.push(J.tag);k(J,"onopentag",J.tag);H || (J.state=J.Q$a || "script" !== J.tagName.toLowerCase()?Q.Da:Q.wK,J.tag=null,J.tagName="");J.Si=J.Ti="";J.yB.length=0;}function t(J){var H,K,R;if(J.tagName){if(J.Rj){if("script" !== J.tagName){J.Rj+="</" + J.tagName + ">";J.tagName="";J.state=Q.wK;return;}k(J,"onscript",J.Rj);J.Rj="";}H=J.Hi.length;K=J.tagName;J.qm || (K=K[J.Xta]());for(var O=K;H--;)if(J.Hi[H].name !== O)l(J,"Unexpected close tag");else break;if(0 > H)(l(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=K;for(K=J.Hi.length;K-- > H;){R=J.tag=J.Hi.pop();J.tagName=J.tag.name;k(J,"onclosetag",J.tagName);for(var ca in R.Ij);O=J.Hi[J.Hi.length - 1] || J;J.vn.J_ && R.Ij !== O.Ij && Object.keys(R.Ij).forEach(function(oa){k(J,"onclosenamespace",{prefix:oa,uri:R.Ij[oa]});});}0 === H && (J.jU=!0);J.tagName=J.Ti=J.Si="";J.yB.length=0;}}else (l(J,"Weird empty close tag."),J.textNode+="</>");J.state=Q.Da;}v={mf:function(J,H){return new a(J,H);}};v.Hhc=a;v.Ihc=c;v.DZa=function(J){return new c(J,void 0);};v.Rfa=65536;w=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");v.Kk=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function H(){this.__proto__=J;}H.prototype=J;return new H();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var H,K;H=[];for(K in J)J.hasOwnProperty(K) && H.push(K);return H;});a.prototype={end:function(){h(this);},write:function(J){var R,ca,oa,ta,Fa,ua;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === J)return h(this);if(this.error)throw this.error;for(var H=0,K;this.c=K=J.charAt(H++);)switch((this.Pca && (this.position++,"\n" === K?(this.line++,this.lU=0):this.lU++),this.state)){case Q.bea:if((this.state=Q.cea,"\ufeff" === K))continue;case Q.cea:"<" === K?(this.state=Q.lga,this.tAa=this.position):g(x,K) || (l(this,"Non-whitespace before first tag."),this.textNode=K,this.state=Q.Da);continue;case Q.Da:if(this.jP && !this.jU){for(var O=H - 1;K && "<" !== K && "&" !== K;)(K=J.charAt(H++)) && this.Pca && (this.position++,"\n" === K?(this.line++,this.lU=0):this.lU++);this.textNode+=J.substring(O,H - 1);}"<" !== K || this.jP && this.jU && !this.qm?(g(x,K) || this.jP && !this.jU || l(this,"Text data outside of root node."),"&" === K?this.state=Q.Hha:this.textNode+=K):(this.state=Q.lga,this.tAa=this.position);continue;case Q.wK:"<" === K?this.state=Q.IPa:this.Rj+=K;continue;case Q.IPa:"/" === K?this.state=Q.kea:(this.Rj+="<" + K,this.state=Q.wK);continue;case Q.lga:"!" === K?(this.state=Q.sha,this.Es=""):g(x,K) || (g(M,K)?(this.state=Q.oMa,this.tagName=K):"/" === K?(this.state=Q.kea,this.tagName=""):"?" === K?(this.state=Q.LMa,this.Qaa=this.qI=""):(l(this,"Unencoded <"),this.tAa + 1 < this.position && (K=Array(this.position - this.tAa).join(" ") + K),this.textNode+="<" + K,this.state=Q.Da));continue;case Q.sha:(this.Es + K).toUpperCase() === E?(k(this,"onopencdata"),this.state=Q.$_,this.Rl=this.Es=""):"--" === this.Es + K?(this.state=Q.d0,this.Es=this.Tl=""):(this.Es + K).toUpperCase() === G?(this.state=Q.j0,(this.doctype || this.jP) && l(this,"Inappropriately located doctype declaration"),this.Es=this.doctype=""):">" === K?(k(this,"onsgmldeclaration",this.Es),this.Es="",this.state=Q.Da):(g(B,K) && (this.state=Q.LPa),this.Es+=K);continue;case Q.LPa:K === this.q && (this.state=Q.sha,this.q="");this.Es+=K;continue;case Q.j0:">" === K?(this.state=Q.Da,k(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=K,"[" === K?this.state=Q.uea:g(B,K) && (this.state=Q.NFa,this.q=K));continue;case Q.NFa:this.doctype+=K;K === this.q && (this.q="",this.state=Q.j0);continue;case Q.uea:this.doctype+=K;"]" === K?this.state=Q.j0:g(B,K) && (this.state=Q.MFa,this.q=K);continue;case Q.MFa:this.doctype+=K;K === this.q && (this.state=Q.uea,this.q="");continue;case Q.d0:"-" === K?this.state=Q.QEa:this.Tl+=K;continue;case Q.QEa:"-" === K?(this.state=Q.PEa,(this.Tl=f(this.vn,this.Tl)) && k(this,"oncomment",this.Tl),this.Tl=""):(this.Tl+="-" + K,this.state=Q.d0);continue;case Q.PEa:">" !== K?(l(this,"Malformed comment"),this.Tl+="--" + K,this.state=Q.d0):this.state=Q.Da;continue;case Q.$_:"]" === K?this.state=Q.GEa:this.Rl+=K;continue;case Q.GEa:"]" === K?this.state=Q.HEa:(this.Rl+="]" + K,this.state=Q.$_);continue;case Q.HEa:">" === K?(this.Rl && k(this,"oncdata",this.Rl),k(this,"onclosecdata"),this.Rl="",this.state=Q.Da):"]" === K?this.Rl+="]":(this.Rl+="]]" + K,this.state=Q.$_);continue;case Q.LMa:"?" === K?this.state=Q.Bga:g(x,K)?this.state=Q.Aga:this.Qaa+=K;continue;case Q.Aga:if(!this.qI && g(x,K))continue;else "?" === K?this.state=Q.Bga:this.qI+=K;continue;case Q.Bga:">" === K?(k(this,"onprocessinginstruction",{name:this.Qaa,body:this.qI}),this.Qaa=this.qI="",this.state=Q.Da):(this.qI+="?" + K,this.state=Q.Aga);continue;case Q.oMa:if(g(L,K))this.tagName+=K;else {this.qm || (this.tagName=this.tagName[this.Xta]());O=this.Hi[this.Hi.length - 1] || this;R=this.tag={name:this.tagName,attributes:{}};this.vn.J_ && (R.Ij=O.Ij);this.yB.length=0;">" === K?u(this):"/" === K?this.state=Q.W1:(!g(x,K) && l(this,"Invalid character in tag name"),this.state=Q.NJ);}continue;case Q.W1:">" === K?(u(this,!0),t(this)):(l(this,"Forward-slash in opening tag not followed by >"),this.state=Q.NJ);continue;case Q.NJ:if(g(x,K))continue;else ">" === K?u(this):"/" === K?this.state=Q.W1:g(M,K)?(this.Si=K,this.Ti="",this.state=Q.O_):l(this,"Invalid attribute name");continue;case Q.O_:"=" === K?this.state=Q.Eda:">" === K?(l(this,"Attribute without value"),this.Ti=this.Si,q(this),u(this)):g(x,K)?this.state=Q.yCa:g(L,K)?this.Si+=K:l(this,"Invalid attribute name");continue;case Q.yCa:if("=" === K)this.state=Q.Eda;else if(g(x,K))continue;else (l(this,"Attribute without value"),this.Ti=this.tag.attributes[this.Si]="",k(this,"onattribute",{name:this.Si,value:""}),this.Si="",">" === K?u(this):g(M,K)?(this.Si=K,this.state=Q.O_):(l(this,"Invalid attribute name"),this.state=Q.NJ));continue;case Q.Eda:if(g(x,K))continue;else g(B,K)?(this.q=K,this.state=Q.Hda):(l(this,"Unquoted attribute value"),this.state=Q.Ida,this.Ti=K);continue;case Q.Hda:if(K !== this.q){"&" === K?this.state=Q.Fda:this.Ti+=K;continue;}q(this);this.q="";this.state=Q.zCa;continue;case Q.zCa:g(x,K)?this.state=Q.NJ:">" === K?u(this):"/" === K?this.state=Q.W1:g(M,K)?(l(this,"No whitespace between attributes"),this.Si=K,this.Ti="",this.state=Q.O_):l(this,"Invalid attribute name");continue;case Q.Ida:if(!g(C,K)){"&" === K?this.state=Q.Gda:this.Ti+=K;continue;}q(this);">" === K?u(this):this.state=Q.NJ;continue;case Q.kea:if(this.tagName)">" === K?t(this):g(L,K)?this.tagName+=K:this.Rj?(this.Rj+="</" + this.tagName,this.tagName="",this.state=Q.wK):(!g(x,K) && l(this,"Invalid tagname in closing tag"),this.state=Q.MEa);else if(g(x,K))continue;else g(M,K)?this.tagName=K:this.Rj?(this.Rj+="</" + K,this.state=Q.wK):l(this,"Invalid tagname in closing tag.");continue;case Q.MEa:if(g(x,K))continue;">" === K?t(this):l(this,"Invalid characters in closing tag");continue;case Q.Hha:case Q.Fda:case Q.Gda:switch(this.state){case Q.Hha:(ca=Q.Da,oa="textNode");break;case Q.Fda:ca=Q.Hda;oa="attribValue";break;case Q.Gda:(ca=Q.Ida,oa="attribValue");}if(";" === K){K=oa;O=this[K];R=this.bn;ta=R.toLowerCase();Fa="";if(this.yx[R])R=this.yx[R];else if(this.yx[ta])R=this.yx[ta];else {R=ta;if("#" === R.charAt(0))if("x" === R.charAt(1)){R=R.slice(2);ua=parseInt(R,16);Fa=ua.toString(16);}else (R=R.slice(1),ua=parseInt(R,10),Fa=ua.toString(10));R=R.replace(/^0+/,"");R=Fa.toLowerCase() !== R?(l(this,"Invalid character entity"),"&" + this.bn + ";"):String.fromCodePoint(ua);}this[K]=O + R;this.bn="";this.state=ca;}else g(D,K)?this.bn+=K:(l(this,"Invalid character entity"),this[oa]+="&" + this.bn + K,this.bn="",this.state=ca);continue;default:throw Error(this,"Unknown state: " + this.state);}if(this.position >= this.YWa){J=Math.max(v.Rfa,10);K=H=0;for(ca=w.length;K < ca;K++){oa=this[w[K]].length;if(oa > J)switch(w[K]){case "textNode":d(this);break;case "cdata":k(this,"oncdata",this.Rl);this.Rl="";break;case "script":k(this,"onscript",this.Rj);this.Rj="";break;default:n(this,"Max buffer length exceeded: " + w[K]);}H=Math.max(H,oa);}this.YWa=v.Rfa - H + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Rl && (k(this,"oncdata",this.Rl),this.Rl="");"" !== this.Rj && (k(this,"onscript",this.Rj),this.Rj="");}};y=v.Kk.filter(function(J){return "error" !== J && "end" !== J;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(J){this.ay.write(J.toString());this.emit("data",J);return !0;};c.prototype.end=function(J){J && J.length && this.write(J);this.ay.end();return !0;};c.prototype.on=function(J,H){var K;K=this;K.ay["on" + J] || -1 === y.indexOf(J) || (K.ay["on" + J]=function(){var O;O=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,J);K.emit.apply(K,O);});return b.prototype.on.call(K,J,H);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";D=z + A + "#";C=x + ">";E="[CDATA[";G="DOCTYPE";F="http://www.w3.org/XML/1998/namespace";I="http://www.w3.org/2000/xmlns/";P={xml:F,J_:I};x=m(x);z=m(z);A=m(A);M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=m(B);D=m(D);C=m(C);Q=0;v.PA={bea:Q++,cea:Q++,Da:Q++,Hha:Q++,lga:Q++,sha:Q++,LPa:Q++,j0:Q++,NFa:Q++,uea:Q++,MFa:Q++,Dec:Q++,d0:Q++,QEa:Q++,PEa:Q++,$_:Q++,GEa:Q++,HEa:Q++,LMa:Q++,Aga:Q++,Bga:Q++,oMa:Q++,W1:Q++,NJ:Q++,O_:Q++,yCa:Q++,Eda:Q++,Hda:Q++,zCa:Q++,Ida:Q++,Fda:Q++,Gda:Q++,kea:Q++,MEa:Q++,wK:Q++,IPa:Q++};v.osb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};v.yx={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(v.yx).forEach(function(J){var H;H=v.yx[J];H="number" === typeof H?String.fromCharCode(H):H;v.yx[J]=H;});for(Q in v.PA)v.PA[v.PA[Q]]=Q;Q=v.PA;String.fromCodePoint || (function(){var H,K;function J(){var O,R,ca,ta,Fa;O=[];R=-1;ca=arguments.length;if(!ca)return "";for(var oa="";++R < ca;){ta=Number(arguments[R]);if(!isFinite(ta) || 0 > ta || 1114111 < ta || K(ta) != ta)throw RangeError("Invalid code point: " + ta);if(65535 >= ta)O.push(ta);else {ta-=65536;Fa=(ta >> 10) + 55296;ta=ta % 1024 + 56320;O.push(Fa,ta);}if(R + 1 == ca || 16384 < O.length)(oa+=H.apply(null,O),O.length=0);}return oa;}H=String.fromCharCode;K=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();r.exports=v;},11946:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++)if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];return null;};},81668:function(r,b,a){var k,d,f,n,h,l,p;function c(q){return "string" !== typeof q?null:d[q];}function m(q){return "string" !== typeof q?null:h[q];}function g(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}k=a(11946);r.exports={EFb:function(q,u){var t,v,w,y,x,z,G;t=u.textNodes[0] || ({});v=q.regions;w=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});v=v && v[u.region]?v[u.region]:{};w=w && w[t.style]?w[t.style]:{};t=t.lang;z=g(k(u.extent,v.extent,"80% 80%"),q);if(v.position){for(var A=v.position.split(" "),B=[.5,.5],D=["left","top"],C=0,E=0;E < A.length;E++){G=A[E];(G in p)?(D[C]=G,E + 1 >= A.length && (B[C++]=0)):"center" === G?B[C++]=.5:B[C++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(D[0]) || -1 < ["left","right"].indexOf(D[1])?(C="bottom" === D[0]?1 - B[0]:B[0],A="right" === D[1]?1 - B[1]:B[1]):(A="right" === D[0]?1 - B[0]:B[0],C="bottom" === D[1]?1 - B[1]:B[1]);B=[(1 - z[0]) * A,(1 - z[1]) * C];}else B=null;u=B?B:g(k(B,u.origin,v.origin,"10% 10%"),q);q=Object;y/=1280 / 720;B=(1 - y) / 2;D=u[0];u=u[1];z=q.create.call(q,{marginLeft:D * y + B,marginTop:u,marginRight:(1 - (D + z[0])) * y + B,marginBottom:1 - (u + z[1])});y=v.writingMode?v.writingMode:"lrtb";z.writingMode="string" !== typeof y?null:l[y];1 < Object.keys(v).length?(y=k(w.displayAlign,v.displayAlign,"before"),"tblr" === v.writingMode || "tbrl" === v.writingMode?(z.horizontalAlignment="string" !== typeof y?null:"tblr" === v.writingMode?f[y]:n[y],z.verticalAlignment=c(k(w.textAlign,v.textAlign,"start"))):z.verticalAlignment=c(y)):z.verticalAlignment=c(k(w.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=m(k(w.textAlign,v.textAlign,x.textAlign,"center")));z.multiRowAlignment=m(k(w.multiRowAlign,v.multiRowAlign,w.textAlign,v.textAlign,x.textAlign,t && "ja" === t.slice(0,2)?"start":"center"));return z;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};f={before:"left",center:"center",after:"right"};n={before:"right",center:"center",after:"left"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};l={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},81824:function(r,b){var a,c,m,g;Object.defineProperty(b,"__esModule",{value:!0});r={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};c={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};m={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};g={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};b.L9b={KXa:m,zYa:a,S1a:c,Aab:r,sizeScaleMap:{MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}},pBa:g};b.EVb={KXa:m,zYa:a,S1a:c,Aab:r,sizeScaleMap:{},pBa:g};},7376:function(r,b,a){var c,m,g,k,d,f,n,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.QQa=void 0;c=a(5163).__importDefault(a(11946));m=("start center end spaceAround spaceBetween withBase").split(" ");g=["before","after","both","outside"];k=["before","after","outside"];d=["filled","open"];f=["circle","dot","sesame"];n=["none","auto"];h=["before","after","outside"];l=("container base baseContainer text textContainer delimiter").split(" ");r=(function(){function p(q,u,t){this.T=q;this.pp=u;this.vp=t;}p.prototype.HFb=function(q,u){var t,v,w;t=(0,c.default)(this.vp.characterSize,this.pp.characterSize,"MEDIUM");v=(0,c.default)(this.vp.characterStyle,this.HLb(q.fontFamily),this.pp.characterStyle,"PROPORTIONAL_SANS_SERIF");w=this.i0b(q.fontSize);return {characterUnderline:"underline" === q.textDecoration,characterItalic:"italic" === q.fontStyle,characterStyle:v,windowOpacity:this.ewa((0,c.default)(this.vp.windowOpacity,this.pp.windowOpacity,"OPAQUE")),characterOpacity:this.ewa((0,c.default)(this.vp.characterOpacity,this.pp.characterOpacity,"OPAQUE")),backgroundOpacity:this.ewa((0,c.default)(this.vp.backgroundOpacity,q.opacity,this.pp.backgroundOpacity,"OPAQUE")),characterColor:this.kU((0,c.default)(this.vp.characterColor,q.color,this.pp.characterColor,"#ffffff")),backgroundColor:this.kU((0,c.default)(this.vp.backgroundColor,q.backgroundColor,this.pp.backgroundColor,null)),windowColor:this.kU((0,c.default)(this.vp.windowColor,q.windowColor,this.pp.windowColor,null)),characterEdgeAttributes:(0,c.default)(this.vp.characterEdgeAttributes,this.pp.characterEdgeAttributes,null),characterSize:this.pBb(t,v,w),characterTracking:this.qBb(t,v),characterEdgeWidth:(0,c.default)(this.yAb(q.textOutline),0),characterEdgeBlur:(0,c.default)(this.wAb(q.textOutline),0),characterEdgeColor:this.kU((0,c.default)(this.vp.characterEdgeColor,this.xAb(q.textOutline),this.pp.characterEdgeColor,"#000000")),direction:(0,c.default)(this.vp.direction,q.direction,this.pp.direction,"ltr"),ruby:(0,c.default)(this.maa(q.ruby,l),null),rubyAlign:(0,c.default)(this.maa(q.rubyAlign,m),null),rubyPosition:(0,c.default)(this.maa(q.rubyPosition,k),null),rubyReserve:(0,c.default)(this.maa(q.rubyReserve,g),null),textEmphasis:this.u0b(q.textEmphasis),shear:q.shear?.01 * parseFloat(q.shear):null,textCombine:q.textCombine?q.textCombine:null,lineHeight:q.lineHeight?this.o0b(q.lineHeight,u):null};};p.prototype.o0b=function(q,u){var t;t=q.match(/^([\d\.]+)([a-z%]*)$/i);if(!t)return null;q=parseFloat(t[1]);switch(t[2]){case "rh":(null === u || void 0 === u?0:u.height)?(q*=u.height,u="px"):u=t[2];break;case "rw":(null === u || void 0 === u?0:u.width)?(q*=u.width,u="px"):u=t[2];break;default:u=t[2];}return {value:q,Yf:u};};p.prototype.ewa=function(q){return this.T.Aab[q];};p.prototype.kU=function(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:this.T.zYa[q.toLowerCase()];};p.prototype.HLb=function(q){return "string" !== typeof q?null:this.T.S1a[q];};p.prototype.pBb=function(q,u,t){var v;t*=this.T.KXa[q] || 1;v=1;this.T.sizeScaleMap[q] && (v=this.T.sizeScaleMap[q][u] || 1);return 1 / 19 * t * v;};p.prototype.qBb=function(q,u){var t;t=0;this.T.pBa[q] && (t=this.T.pBa[q][u] || 0);return t;};p.prototype.yAb=function(q){return "string" !== typeof q?null:this.Awa(q).width;};p.prototype.wAb=function(q){return "string" !== typeof q?null:this.Awa(q).blur;};p.prototype.xAb=function(q){return "string" !== typeof q?null:this.Awa(q).color;};p.prototype.Awa=function(q){var u,t,v;q=(q || "").split(" ");u=(/^[0-9]/).test(q[0]);t=u?0:1;v=parseInt(q[t]);t=parseInt(q[t + 1]);return {color:u?"#000000":this.kU(q[0]),width:0 < v?v:0,blur:0 < t?t:0};};p.prototype.i0b=function(q){q=(q || "").split(" ")[0] || "";return -1 < q.indexOf("%")?parseInt(q,10) / 100:-1 < q.indexOf("em")?parseFloat(q):1;};p.prototype.maa=function(q,u){if(-1 < u.indexOf(q))return q;};p.prototype.u0b=function(q){var u,t;if(!q)return null;q=q.split(" ");if(0 === q.length)return null;u=this.l7(q,h);u=u.length?u[0]:"outside";t=this.l7(q,n);if(t.length)return this.Pza(t[0],"",u);t=this.l7(q,d);q=this.l7(q,f);return q.length || t.length?this.Pza(q.length?q[0]:"circle",t.length?t[0]:"filled",u):this.Pza("auto","",u);};p.prototype.l7=function(q,u){return q.filter(function(t){return -1 !== u.indexOf(t);});};p.prototype.Pza=function(q,u,t){return {textEmphasisShape:q,textEmphasisFill:u,textEmphasisPosition:t};};return p;})();b.QQa=r;},96379:function(r,b,a){var m;function c(g,k){var d,f,n,h,l,p,q,u;this.$ia=!0;d=g.indexOf("<p");f=[];n=d;h=-1;do {l={};l.M8b=n;p=g.indexOf("begin=",n) + 7;q=g.indexOf("end=",n) + 5;u=g.substr(p,12);n === d && -1 !== u.indexOf(":") && (this.$ia=!1);this.$ia?(p=Math.floor(parseInt(g.substr(p,25),10) / k * 1E3),q=Math.floor(parseInt(g.substr(q,25),10) / k * 1E3)):(p=m(g.substr(p,12)),q=m(g.substr(q,12)));h=q > h?q:h;l.startTime=p;l.endTime=q;l.latestEndSoFar=h;l.O0a=g.indexOf("/p>",n) + 3;n=l.O0a;f.push(l);n=g.indexOf("<p",n);}while(-1 !== n);this.qp=f;this.yF=g;}m=a(4574).zy;c.prototype.t1a=function(){return this.qp[this.qp.length - 1].endTime;};c.prototype.$l=function(g,k){return this.qp.filter(function(d){return d.startTime <= k && d.endTime >= g;}).length;};c.prototype.VOb=function(g){for(var k="",d=this.qp.filter(function(n){return n.startTime <= g && g < n.endTime || n.startTime >= g;}),f=4;f + 1 < d.length && d[f + 1].startTime === d[4].startTime;)f++;d=d.slice(0,f + 1);0 < d.length && (k=this.yF.slice(d[0].M8b,d[d.length - 1].O0a));return k;};r.exports=c;},23309:function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.K1=b.eKa=b.xR=void 0;c=a(91176);b.xR=1E4;r=(function(){function g(k){this.yf=[];this.NS=0;this.ka=k;}Object.defineProperty(g.prototype,"endOfStreamSegment",{get:function(){return this.htb;},enumerable:!1,configurable:!0});g.prototype.VG=function(k){var d;d=(0,c.mc)(this.yf,function(f){return k >= f.jb && k < f.kf;});"undefined" === typeof d && this.ka.warn("Get Segment at pts " + k + " is undefined");return d;};g.prototype.mka=function(k,d){var n;for(var f=this.yf;0 < f.length && 300 <= k.H - f[0].H;)this.fZ();for(;0 < f.length && 300 <= f[f.length - 1].H - k.H;)this.kza();n=new m(k,d);k=f.length;if(0 === k || f[k - 1].H < n.H)this.lza(n);else {k=(0,c.mc)(f,function(h){return h.H >= n.H;});if((null === k || void 0 === k?void 0:k.H) === n.H)return;this.mza(f.indexOf(k),n);}n.endOfStream && (this.ka.trace("EOS segment added to segment manager"),this.htb=n);this.NS=f[f.length - 1].H;};g.prototype.l_=function(k){var d;if("undefined" === typeof k)this.ka.warn("Current segment is undefined.");else for((this.Jl=k,this.ka.trace(("Current segment id is ").concat(k.H)));(null === (d=this.yf[0]) || void 0 === d?void 0:d.kf) < k.kf - b.xR;)this.fZ();};g.prototype.Iqa=function(){if(this.rp){if(this.NS !== this.rp.H)return this.yf[this.yf.indexOf(this.rp) + 1];}else return this.yf[0];};g.prototype.Uu=function(k){this.rp=this.ew(k);};g.prototype.ew=function(k){var d;d=(0,c.mc)(this.yf,function(f){return f.H === k;});"undefined" === typeof d && this.ka.error("Segment with segmentId " + k + " is not in segmentArray");return d;};g.prototype.HV=function(){var k;return (null === (k=this.rp) || void 0 === k?void 0:k.H) || -1;};g.prototype.NBa=function(k,d){k=this.ew(k);"undefined" !== typeof k && (this.yf[this.yf.indexOf(k)].header=d);};g.prototype.t4a=function(k){return this.ew(k);};g.prototype.nqa=function(k){k=this.ew(k);return (null === k || void 0 === k?void 0:k.header) || ({});};g.prototype.fZ=function(){this.yf.shift();};g.prototype.lza=function(k){this.yf.push(k);};g.prototype.mza=function(k,d){this.yf.splice(k,0,d);};g.prototype.kza=function(){this.yf.pop();};return g;})();b.eKa=r;m=(function(){return function(g,k){this.H=g.H;this.xml=g.xml;this.jb=g.jb;this.kf=g.kf;this.bH=k;this.size=g.size;this.us=g.us;this.endOfStream=g.endOfStream;};})();b.K1=m;},64591:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.gKa=void 0;c=a(5163);r=(function(m){function g(k,d){d=m.call(this,k,d) || this;d.xml=k.xml;d.size=k.size;return d;}c.__extends(g,m);return g;})(a(23309).K1);b.gKa=r;},37494:function(r,b,a){var c,m,g,k,d,f,n;Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;c=a(5163);r=a(22699);m=a(18797);g=a(60514);k=a(23309);d=a(4574);f=a(4574);n=r.EventEmitter;a=(function(h){function l(p){var q,u,t;q=h.call(this) || this;u=p.Fe;t=p.la;n.call(q);q.hy=new d.Gfa(t);q.Rk="number" === typeof u?p.Fe:0;q.ka="object" === typeof t?p.la:console;q.wf=[];q.di=0;q.$j=q.Rk;q.sd=null;q.Xn=!1;q.Fm=!1;q.RE=p.AY || 0;q.rd=new k.eKa(q.ka);q.wF=p.FAa;q.ka.trace("LiveTextStream created with options",p);return q;}c.__extends(l,h);l.prototype.start=function(){this.ka.info(("Incremental live text stream created, starting at pts ").concat(this.Rk));"undefined" !== typeof this.rd.VG(this.Rk) && this.$H.call(this,this.Rk);};l.prototype.Nxa=function(p){var q,u,t,v;q=this;u=p.xml;t=u.indexOf("<p");this.ka.trace("pushNextSegment",p);this.rd.mka(p,-1 !== t?t:0);if(!this.Xn){v=this.rd.yf[0];this.rd.l_(v);this.Rk=v.jb;}-1 < t?(this.hy.rVa(u,p.H,p.us),this.ka.trace(("Live segment ").concat(p.H," is pushed to segment manager"),{jb:p.jb,kf:p.kf,MHb:p.us}),!this.Xn && 4 > this.di && (u=0 < this.wf.length?this.wf[this.wf.length - 1].startTime + 1:this.Rk,this.ka.trace("parseNextSegment is called from push new live Segment at " + u),this.$H.call(this,u))):(this.ka.trace(("Live segment ").concat(p.H," is pushed to segment manager, it is an empty segment")),this.Xn || setTimeout(function(){q.Uu(p.H);},10));};l.prototype.fC=function(p){var q,u,t,v,w,y;q=this;v=this;v.ka.trace(("LiveTextStream:get subtitles at pts ").concat(p));w=v.rd.VG(p);if("undefined" === typeof w)return (v.ka.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);v.rd.l_(w);p < v.$j - v.RE?(v.ka.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(v.$j,", _backupTolerance: ").concat(v.RE)),v.wf=[],v.di=0):(v.di=0 < v.wf.length?Math.max(v.rd.HV() - w.H + 1,0):0,0 === v.di && (v.wf=[]));w=v.wf;v.ka.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(w.length,", result: ").concat(0 < w.length?null === (u=w[w.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.rd.rp;y=0 < w.length && void 0 !== u?u.jb:p;v.$j=p;v.ka.info("LiveTextStream: timer is " + v.sd + " bufffered segment number is " + v.di + " is parsing entry : " + this.Fm + " maxBufferedStartPts " + (null === (t=this.rd.rp) || void 0 === t?void 0:t.jb));for(!v.sd && 4 > v.di && !v.Fm && (v.ka.info("LiveTextStream: buffer size: " + v.di + "; minimum: 4"),v.Fm=!0,v.sd=setTimeout(function(){v.sd=null;q.ka.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.$H.call(v,y + 1);},10));0 < w.length && w[0].endTime < p;)w.shift();return (0,m.u7)(w,p).map(function(x){var z;z=v.rd.nqa(x.segId);return m.a6.call(v,z,x);});};l.prototype.$l=function(p,q){return this.hy?this.hy.$l(p,q):0;};l.prototype.close=function(){};l.prototype.$H=function(p){var q;q=this.Gqa.call(this,p);"undefined" !== typeof q?(this.ka.trace("Next segment to parse at pts " + p + " is segment " + q.H),0 === q.bH?(this.ka.trace("This is an empty segment"),this.Uu(q.H)):(this.xwa.call(this,q),this.ka.trace("parseNextSegEntries buffer length: " + this.wf.length))):(this.ka.debug("Next segment is undefined at pts " + p),this.Fm=!1);};l.prototype.Gqa=function(p){var q,u;u=this.hy.L3a(p);this.ka.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(u));-1 === u && (u=(null === (q=this.rd.VG(p)) || void 0 === q?void 0:q.H) || -1);return u === this.rd.HV()?this.rd.Iqa():this.rd.ew(u);};l.prototype.xwa=function(p){var q,u,t,v,w;q=this;u=this;t=p.xml.slice(0,p.bH);v=p.xml.slice(p.bH,p.xml.lastIndexOf("/p>") + 3);(0,m.abb)(t,function(y,x){null !== y?(y.r5a=t,y.H=p.H,u.emit("error",y)):(w=x,u.rd.NBa(p.H,w),q.vwa.call(u,v,w,p));});};l.prototype.vwa=function(p,q,u){var t,v,w,y,x,z,A;t=this;v=this;w=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];v.ka.debug(p);A=g.mf(!0);A.onerror=function(B){B.xml=p;v.emit("error",B);};A.onend=function(){var B;B=v.wf.reduce(function(D,C){C=C.blocks.reduce(function(E,G){return E.concat([G.id]);},[]);return D.concat(C);},[]);y.forEach(function(D){var C;if(-1 === B.indexOf(D.id)){C=D && D.blocks && D.blocks.filter(function(E){return 0 < E.textNodes.length;});C && 0 < C.length && (D.blocks=C,v.wf.push(D));}});t.Uu(u.H);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,m.$d)((0,m.$d)(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,m.$d)(x),lang:(0,m.$d)(z),lineBreaks:w});w=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var D,C;D=B.attributes;B=B.name;if("p" === B){w=0;B=u.H.toString() + "_" + D["xml:id"];D.style && x.push(D.style);D["xml:lang"] && z.push(D["xml:lang"]);C=(0,f.zy)(D.begin);0 === y.length || (0,m.$d)(y).displayTime !== C?(D=t.cna(B,0,D,u.us),D.segId=u.H,y.push(D)):(0,m.$d)(y).blocks.push({textNodes:[],region:D.region,id:B,extent:D["tts:extent"] || null,origin:D["tts:origin"] || null});}else "span" === B?(x.push(D.style),D["xml:lang"] && z.push(D["xml:lang"]),B=q.styles[D.style],D.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,m.$d)((0,m.$d)(y).blocks).textNodes.push({text:"",style:(0,m.$d)(x),lang:(0,m.$d)(z),lineBreaks:0})):"br" === B && w++;};A.write("<entries>").write(p).write("</entries>").close();};l.prototype.cna=function(p,q,u,t){var v;v={};v.id=p;v.startTime=(0,f.zy)(u.begin || "") - t;v.endTime=(0,f.zy)(u.end || "") - t;v.style=u.style;v.region=u.region;v.displayTime=v.startTime;v.duration=v.endTime - v.startTime;v.extent=u["tts:extent"] || null;v.origin=u["tts:origin"] || null;v.latestEndSoFar=q > v.endTime?q:v.endTime;v.blocks=[{textNodes:[],region:v.region,id:p,extent:v.extent || null,origin:v.origin || null}];return v;};l.prototype.Uu=function(p){this.rd.Uu(p);this.di+=1;this.Fm=!1;this.ka.trace("updateMaxParsedSegment " + p);if(!this.Xn && 4 <= this.di || this.rd.woa && this.rd.t4a(p) === this.rd.woa)(this.rd.woa && this.rd.t4a(p) === this.rd.woa && this.ka.trace("Marking stream ready due to EOS"),this.Xn=!0,this.emit("ready"));};return l;})(n);b.hKa=a;},4574:function(r,b,a){var m;function c(g){var k;g=g.split(".");k=g[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * k[0] + 60 * k[1] + k[2]) + parseInt(g[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.zy=b.Gfa=void 0;m=a(91176);r=(function(){function g(k){this.qp=[];this.ka=k;}g.prototype.rVa=function(k,d,f){var n,h,l,p,q,u;void 0 === f && (f=0);n=this.qp;h=k.indexOf("<p");l=-1;do {p={};p.H=d;p.qgb=h;q=k.indexOf("begin=",h) + 7;u=k.indexOf("end=",h) + 5;q=c(k.substring(q,q + 12)) - f;u=c(k.substring(u,u + 12)) - f;l=u > l?u:l;p.startTime=q;p.endTime=u;p.latestEndSoFar=l;p.RJb=k.indexOf("/p>",h) + 3;h=p.RJb;if(0 === n.length || p.startTime > n[n.length - 1].startTime)(n.push(p),this.ka.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,GJb:p.endTime}));else if((u=(0,m.mc)(n,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.qgb !== p.qgb))(u=n.indexOf(u),n.splice(u,0,p),this.ka.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(u),{startTime:p.startTime,GJb:p.endTime}));h=k.indexOf("<p",h);}while(-1 !== h);};g.prototype.$l=function(k,d){return this.qp.filter(function(f){return f.startTime <= d && f.endTime >= k;}).length;};g.prototype.Gxa=function(k){this.qp=this.qp.filter(function(d){return d.startTime >= k;});};g.prototype.L3a=function(k){var d;d=(0,m.mc)(this.qp,function(f){return f.startTime <= k && k < f.endTime || f.startTime >= k;});return (null === d || void 0 === d?void 0:d.H) || -1;};g.prototype.t1a=function(){return 0 < this.qp.length?this.qp[this.qp.length - 1].endTime:0;};return g;})();b.Gfa=r;b.zy=c;},97115:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.K1=b.cMa=b.xR=void 0;c=a(91176);b.xR=1E4;r=(function(){function m(g){this.yf=[];this.NS=0;this.ka=g;}m.prototype.VG=function(g){var k;k=(0,c.mc)(this.yf,function(d){return g >= d.jb && g < d.kf;});"undefined" === typeof k && this.ka.warn("Get Segment at pts " + g + " is undefined");return k;};m.prototype.mka=function(g){var d;for(var k=this.yf;0 < k.length && 300 <= g.H - k[0].H;)this.fZ();for(;0 < k.length && 300 <= k[k.length - 1].H - g.H;)this.kza();d=k.length;if(0 === d || k[d - 1].H < g.H)this.lza(g);else {d=(0,c.mc)(k,function(f){return f.H >= g.H;});if((null === d || void 0 === d?void 0:d.H) === g.H)return;this.mza(k.indexOf(d),g);}this.NS=k[k.length - 1].H;};m.prototype.l_=function(g){var k;if("undefined" === typeof g)this.ka.warn("Current segment is undefined.");else for((this.Jl=g,this.ka.trace(("Current segment id is ").concat(g.H)));(null === (k=this.yf[0]) || void 0 === k?void 0:k.kf) < g.kf - b.xR;)this.fZ();};m.prototype.Iqa=function(){if(this.rp){if(this.NS !== this.rp.H)return this.yf[this.yf.indexOf(this.rp) + 1];}else return this.yf[0];};m.prototype.Uu=function(g){this.rp=this.ew(g);};m.prototype.ew=function(g){var k;k=(0,c.mc)(this.yf,function(d){return d.H === g;});"undefined" === typeof k && this.ka.error("Segment with segmentId " + g + " is not in segmentArray");return k;};m.prototype.HV=function(){var g;return (null === (g=this.rp) || void 0 === g?void 0:g.H) || -1;};m.prototype.NBa=function(g,k){g=this.ew(g);"undefined" !== typeof g && (this.yf[this.yf.indexOf(g)].header=k);};m.prototype.nqa=function(g){g=this.ew(g);return (null === g || void 0 === g?void 0:g.header) || ({});};m.prototype.fZ=function(){this.yf.shift();};m.prototype.lza=function(g){this.yf.push(g);};m.prototype.mza=function(g,k){this.yf.splice(g,0,k);};m.prototype.kza=function(){this.yf.pop();};return m;})();b.cMa=r;b.K1=(function(){return function(m,g){this.H=m.H;this.xml=m.xml;this.jb=m.jb;this.kf=m.kf;this.bH=g;this.us=m.us;};})();},76851:function(r,b,a){var c,m,g,k,d,f,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.dMa=void 0;c=a(5163);r=a(22699);m=a(18797);g=a(76495);k=a(64591);d=a(4574);f=a(97115);n=a(74528);h=r.EventEmitter;a=(function(l){function p(q,u){var t,v,w;void 0 === u && (u=g.vE.Da);t=l.call(this) || this;v=q.Fe;w=q.la;h.call(t);t.hy=new d.Gfa(w);t.Rk="number" === typeof v?q.Fe:0;t.ka="object" === typeof w?q.la:console;t.wf=[];t.di=0;t.$j=t.Rk;t.sd=null;t.Xn=!1;t.Fm=!1;t.RE=q.AY || 0;t.rd=new f.cMa(t.ka);t.wF=q.FAa;t.tUa=u;if(u === g.vE.Da)t.Gja=new n.hQa(t.ka,t.wF);else throw Error("Not implemented yet");t.ka.trace("LiveTextStream created with options",q);return t;}c.__extends(p,l);p.prototype.start=function(){this.ka.info(("Incremental live text stream created, starting at pts ").concat(this.Rk));"undefined" !== typeof this.rd.VG(this.Rk) && this.$H.call(this,this.Rk);};p.prototype.Nxa=function(q){var u,t,v,w;u=this;t=q.xml;v=t.indexOf("<p");if(this.tUa === g.vE.Da)w=new k.gKa(q,-1 !== v?v:0);else throw Error("Not yet implemented");this.rd.mka(w);this.Xn || (q=this.rd.yf[0],this.rd.l_(q),this.Rk=q.jb);-1 < v?(this.hy.rVa(t,w.H,w.us),this.ka.trace(("Live segment ").concat(w.H," is pushed to segment manager"),{jb:w.jb,kf:w.kf,MHb:w.us}),!this.Xn && 4 > this.di && (t=0 < this.wf.length?this.wf[this.wf.length - 1].startTime + 1:this.Rk,this.ka.trace("parseNextSegment is called from push new live Segment at " + t),this.$H.call(this,t))):(this.ka.trace(("Live segment ").concat(w.H," is pushed to segment manager, it is an empty segment")),this.Xn || setTimeout(function(){u.Uu(w.H);},10));};p.prototype.fC=function(q){var u,t,v,w,y,x;u=this;w=this;w.ka.trace(("LiveTextStream:get subtitles at pts ").concat(q));y=w.rd.VG(q);if("undefined" === typeof y)return (w.ka.debug(("LiveTextStream: get subtitle at pts ").concat(q," returns empty result with segment not available at this pts")),[]);w.rd.l_(y);q < w.$j - w.RE?(w.ka.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(q),(", _lastPts: ").concat(w.$j,", _backupTolerance: ").concat(w.RE)),w.wf=[],w.di=0):(w.di=0 < w.wf.length?Math.max(w.rd.HV() - y.H + 1,0):0,0 === w.di && (w.wf=[]));y=w.wf;w.ka.trace(("LiveTextStream: lastBufferedPts calculation ").concat(q),(", buffer.length: ").concat(y.length,", result: ").concat(0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.rd.rp;x=0 < y.length && void 0 !== t?t.jb:q;w.$j=q;w.ka.info("LiveTextStream: timer is " + w.sd + " bufffered segment number is " + w.di + " is parsing entry : " + this.Fm + " maxBufferedStartPts " + (null === (v=this.rd.rp) || void 0 === v?void 0:v.jb));for(!w.sd && 4 > w.di && !w.Fm && (w.ka.info("LiveTextStream: buffer size: " + w.di + "; minimum: 4"),w.Fm=!0,w.sd=setTimeout(function(){w.sd=null;u.ka.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.$H.call(w,x + 1);},10));0 < y.length && y[0].endTime < q;)y.shift();return this.Gja.u7(y,q).map(function(z){var A;A=w.rd.nqa(z.segId);return u.Gja.a6(A,z);});};p.prototype.$l=function(q,u){return this.hy?this.hy.$l(q,u):0;};p.prototype.close=function(){};p.prototype.$H=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(v){switch(v.label){case 0:u=this;t=this.Gqa.call(u,q);if("undefined" === typeof t)return [3,4];u.ka.trace("Next segment to parse at pts " + q + " is segment " + t.H);if(0 !== t.bH)return [3,1];u.ka.trace("This is an empty segment");this.Uu(t.H);return [3,3];case 1:return [4,this.xwa.call(u,t)];case 2:(v.Ja(),u.ka.trace("parseNextSegEntries buffer length: " + u.wf.length),v.label=3);case 3:return [3,5];case 4:return (u.ka.debug("Next segment is undefined at pts " + q),this.Fm=!1,[2]);case 5:return [2];}});});};p.prototype.Gqa=function(q){var u,t;t=this.hy.L3a(q);this.ka.trace(("Most recent entry at current pts ").concat(q," is segment id  ").concat(t));-1 === t && (t=(null === (u=this.rd.VG(q)) || void 0 === u?void 0:u.H) || -1);return t === this.rd.HV()?this.rd.Iqa():this.rd.ew(t);};p.prototype.xwa=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,v,w,y,x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:(u=this,t=q.xml.slice(0,q.bH),D.label=1);case 1:return (D.Gf.push([1,3,,4]),[4,this.j0b(t)]);case 2:return (v=D.Ja(),[3,4]);case 3:return (w=D.Ja(),this.loa(w),[3,4]);case 4:if(!v)return (y=Error("Parsing header text returned undefined"),this.loa(y),[2]);if(v.error)return (x=v.error,x.r5a=t,x.H=q.H,this.loa(x),[2]);A=v.head;this.rd.NBa(q.H,A);return this.tUa !== g.vE.Da?[3,6]:[4,this.Gja.vwa(q,A)];case 5:return (z=D.Ja(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.wf.reduce(function(C,E){E=E.blocks.reduce(function(G,F){return G.concat([F.id]);},[]);return C.concat(E);},[]),z && (z.forEach(function(C){var E;if(-1 === B.indexOf(C.id)){E=C && C.blocks && C.blocks.filter(function(G){return 0 < G.textNodes.length;});E && 0 < E.length && (C.blocks=E,u.wf.push(C));}}),this.Uu(q.H)),[2]);}});});};p.prototype.loa=function(q){this.ka.error(q);this.emit("error",q);};p.prototype.Uu=function(q){this.rd.Uu(q);this.di+=1;this.Fm=!1;!this.Xn && 4 <= this.di && (this.Xn=!0,this.emit("ready"));};p.prototype.j0b=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){(0,m.abb)(q,function(t,v){t?u({error:t}):u({head:v});});})];});});};return p;})(h);b.dMa=a;},74528:function(r,b,a){var c,m,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.hQa=void 0;c=a(5163);m=a(18797);g=a(60514);k=a(4574);r=(function(){function d(f,n){this.ka=f;this.wF=n;}d.prototype.vwa=function(f,n){return c.__awaiter(this,void 0,void 0,function(){var h,l,p,q,u,t,v,w,y;y=this;return c.__generator(this,function(){h=this;l=0;p=[];q=n.defaultStyle?[n.defaultStyle]:[];u=n.lang?[n.lang]:[];t=f.xml.lastIndexOf("/p>") + 3;v=f.xml.slice(f.bH,t);h.ka.debug(v);w=g.mf(!0);return [2,new Promise(function(x,z){w.onerror=function(A){A.xml=v;z(A);};w.onend=function(){x(p);};w.ontext=function(A){("" !== A.trim() || A.match(/ +/)) && (0,m.$d)((0,m.$d)(p).blocks).textNodes.push({text:A.match(/ +/)?A:A.trim(),style:(0,m.$d)(q),lang:(0,m.$d)(u),lineBreaks:l});l=0;};w.onclosetag=function(){var A;A=w.tag;"undefined" !== typeof A.attributes.style && q.pop();"undefined" !== typeof A.attributes["xml:lang"] && u.pop();};w.onopentag=function(A){var B,D;B=A.attributes;A=A.name;if("p" === A){l=0;A=f.H.toString() + "_" + B["xml:id"];B.style && q.push(B.style);B["xml:lang"] && u.push(B["xml:lang"]);D=(0,k.zy)(B.begin);0 === p.length || (0,m.$d)(p).displayTime !== D?(B=y.cna(A,0,B,f.us),B.segId=f.H,p.push(B)):(0,m.$d)(p).blocks.push({textNodes:[],region:B.region,id:A,extent:B["tts:extent"] || null,origin:B["tts:origin"] || null});}else "span" === A?(q.push(B.style),B["xml:lang"] && u.push(B["xml:lang"]),A=n.styles[B.style],B.style && A && A.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(A.ruby) && (0,m.$d)((0,m.$d)(p).blocks).textNodes.push({text:"",style:(0,m.$d)(q),lang:(0,m.$d)(u),lineBreaks:0})):"br" === A && l++;};w.write("<entries>").write(v).write("</entries>").close();})];});});};d.prototype.u7=function(f,n){return m.u7.call(this,f,n);};d.prototype.a6=function(f,n){return m.a6.call(this,f,n);};d.prototype.cna=function(f,n,h,l){var p;p={};p.id=f;p.startTime=(0,k.zy)(h.begin || "") - l;p.endTime=(0,k.zy)(h.end || "") - l;p.style=h.style;p.region=h.region;p.displayTime=p.startTime;p.duration=p.endTime - p.startTime;p.extent=h["tts:extent"] || null;p.origin=h["tts:origin"] || null;p.latestEndSoFar=n > p.endTime?n:p.endTime;p.blocks=[{textNodes:[],region:p.region,id:f,extent:p.extent || null,origin:p.origin || null}];return p;};return d;})();b.hQa=r;},92020:function(r,b,a){var m,g,k,d,f,n,h,l,p;function c(q){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(q);}Object.defineProperty(b,"__esModule",{value:!0});b.Zrb=void 0;m=a(5163);r=a(22699);g=a(18797);k=a(81824);d=a(7376);f=a(37494);n=a(76851);h=a(76495);l=a(3992);p=a(31496);r=(function(q){function u(t,v){var w,y,x,z,A,B,D,C;w=this;w=q.call(this) || this;w.Dv=!0;w.ES=[];w.$j=0;w.eUa=!0;B=w;D=t.bj || !1;w.ka=t.la || console;w.pF=t.request;w.qt=t.uPb;w.h3=t.klc || (function(E,G){return E - (null !== G && void 0 !== G?G:w.qt());});w.sd=null;w.Dv=!0;w.ES=[];w.WS=v.profile;w.ff=v.url;w.lF=v.Fe;w.$j=w.lF || 0;w.eUa=null !== (y=v.ync) && void 0 !== y?y:!0;y={url:w.ff,request:w.pF,Fe:null !== (x=w.lF) && void 0 !== x?x:0,la:w.ka,bj:D,bufferSize:v.bufferSize,AY:v.AY || 0,aXa:v.aXa,Z:null !== (z=v.Z) && void 0 !== z?z:!1};if("nflx-cmisc" === v.profile){C=m.__assign(m.__assign({},y),{offset:v.Oua,size:v.O9a,qu:v.qu,Mba:v.Mba,o0a:v.o0a});w.Od=new l(C);}else if((w.vp=v.preferences,w.pp=v.Dj,x=null !== (A=null !== (C=v.ijc) && void 0 !== C?C:v.Z) && void 0 !== A && A?k.EVb:k.L9b,w.wF=new d.QQa(x,w.pp || ({}),w.vp || ({})),C=m.__assign(m.__assign({},y),{profile:v.profile,xml:v.xml,FAa:w.wF}),v.Z && c(w.WS) && void 0 === C.xml))w.Od=v.Soc?new n.dMa(C,h.vE.Da):new f.hKa(C);else if(c(w.WS) && "function" === typeof g.tfa)w.Od=new g.tfa(C);else throw Error("SubtitleManager: " + w.WS + " is an unsupported profile");w.Od.on("ready",function(){var G,F,I;function E(){return B.Dv;}G=!!v.AWa;B.ka.info("ready event fired by subtitle stream");B.emit("ready");F=B.Od.fC.bind(B.Od);if(t.Oqa && t.vaa){I=a(17972).MDa;B.sd=new I(B.qt,F,w.h3,B.ka,E,t.Oqa,t.vaa,v);}else B.sd=new p(B.qt,F,w.h3,E,B.ka,v);if("dfxp-ls-sdh" === B.WS && "function" === typeof g.tfa)B.sd.on("stagesubtitle",B.mAa.bind(B));B.sd.on("showsubtitle",B.bAa.bind(B));B.sd.on("removesubtitle",B.kya.bind(B));B.sd.on("underflow",B.xm.bind(B));B.sd.on("bufferingComplete",B.dk.bind(B));G && (B.ka.info("autostarting subtitles"),setTimeout(function(){B.lA(B.qt());},10));});w.Od.on("error",w.emit.bind(w,"error"));return w;}m.__extends(u,q);u.prototype.start=function(){this.Od.start();};u.prototype.Ecb=function(){this.Dv || (this.Dv=!0,this.F0a(this.$j));};u.prototype.lA=function(t){this.eUa && !this.Dv && 1E4 < Math.abs(t - this.$j) && (this.ka.warn("Detected an unexpected pts jump larger than",1E4,"at",t,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Ecb());this.$j=t;this.Dv && (this.Dv=!1,this.$8b(t));null !== this.sd && (this.ubc(t),this.sd.lA(t));};u.prototype.stop=function(){var t;this.ka.info("stop called");this.Dv || this.pause();this.Od.removeAllListeners(["ready"]);null !== this.sd && this.sd.stop();t=this.ES.reduce(function(v,w){v.cgb+=w.rZ;v.F6+=w.G6 || 0;v.QSb.push(w);return v;},{cgb:0,F6:0,QSb:[]});"object" === typeof this.Od && this.Od.close();this.ka.debug("metrics: " + JSON.stringify(t));return t;};u.prototype.pause=function(){var t;t=this.qt();this.Dv?this.ka.warn("pause called on subtitle manager, but it was already paused!"):(this.ka.info("pause called at " + t),this.Dv=!0,this.F0a(t));null !== this.sd && this.sd.pause();};u.prototype.O7=function(t,v){return "function" === typeof this.Od.O7?this.Od.O7(t,v):[];};u.prototype.$l=function(t,v){return this.Od.$l(t,v);};u.prototype.fC=function(t){return this.Od.fC(t);};u.prototype.yD=function(t){var w;function v(){w.ka.info("bufferingComplete from setStreamStartPosition");w.emit("bufferingComplete");}w=this;"function" === typeof this.Od.yD?this.Od.yD(t,v):v();};u.prototype.Sj=function(t,v){"function" === typeof this.Od.Sj && this.Od.Sj(t,v);};u.prototype.Ji=function(t,v){"function" === typeof this.Od.Ji && this.Od.Ji(t,v);};u.prototype.Mxa=function(t){"function" === typeof this.Od.Nxa && this.Od.Nxa(t);};u.prototype.o7=function(){return this.ES[this.ES.length - 1];};u.prototype.bAa=function(t){var v,w,y,A;w=0;this.ka.info("show subtitle called at " + this.qt() + " for displayTime " + t.displayTime);this.emit("showsubtitle",t);y=this.o7();y.Ju || (y.Ju={});if(c(this.WS))try{for(var x=m.__values(t.blocks),z=x.next();!z.done;z=x.next()){A=z.value;y.Ju.hasOwnProperty(A.id) || w++;y.Ju[A.id]=t.endTime;}}catch(D){var B;B={error:D};}finally{try{z && !z.done && (v=x.return) && v.call(x);}finally{if(B)throw B.error;}}else (y.Ju.hasOwnProperty(t.id) || w++,y.Ju[t.id]=t.endTime);this.tCb();y.rZ+=w;};u.prototype.tCb=function(){var t,v,w;t=this.o7();if(null === t || void 0 === t?0:t.Ju){v=t.Ju;w=Object.keys(t.Ju);30 < w.length && (w=w.sort(function(y,x){return v[x] - v[y];}),w.splice(19,Math.max(w.length - 20,0)),t.Ju={},w.forEach(function(y){t.Ju[y]=v[y];}));}};u.prototype.kya=function(t){this.ka.info("remove subtitle called at " + this.qt() + " for remove time " + (t.displayTime + t.duration));this.emit("removesubtitle",t);};u.prototype.mAa=function(t){this.ka.info("stage subtitle called at " + this.qt() + " for displayTime " + t.displayTime);this.emit("stagesubtitle",t);};u.prototype.xm=function(){this.ka.info("underflow fired by the subtitle timer");this.emit("underflow");};u.prototype.dk=function(){this.ka.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};u.prototype.$8b=function(t){this.ka.debug("creating a new subtitle interval at " + t);this.ES.push({jb:t,rZ:0});};u.prototype.ubc=function(t){var v;v=this.o7();v && (v.tta=t);};u.prototype.F0a=function(t){var v;this.ka.debug("ending subtitle interval at " + t);v=this.o7();v && (v.kf=t,v.kf < v.jb && (this.ka.warn("correcting for interval where endPts is smaller than startPts"),v.jb=0 < v.kf?v.kf - 1:0),v.G6=this.Od.$l(v.jb,v.kf),delete v.Ju,v.G6 > v.rZ && v.tta && 500 > v.kf - v.tta && (v.G6=this.Od.$l(v.jb,v.tta)),this.ka.debug("showed " + v.rZ + " during this interval"),this.ka.debug("expected " + v.G6 + " for this interval"));};return u;})(r.EventEmitter);b.Zrb=r;b["default"]=r;},76495:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vE=void 0;r=b.vE || (b.vE={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},76290:function(r,b,a){var n,h;function c(l,p,q){var u;u=q.displayTime <= l && l <= q.displayTime + q.duration;return l <= q.displayTime && q.displayTime <= p || u;}function m(l,p,q){return p && (!p.entries.length && l > p.Tw || l > p.endTime) && q.entries.length && l < q.endTime;}function g(l,p,q){this.rF=this.yv=0;this.eub=l.bufferSize || 4194304;this.op=new f();this.kF;this.$E=l.bj;this.ka=l.la;this.dr=p;this.ei=q;this.hr=new n(l);this.AF=new d(this.ei.length,l.o0a);this.YS=new k(l.aXa);}function k(l){this.xS=0 !== l;this.on=!1;this.tj=l || 3E3;this.sd;}function d(l,p){if(this.enabled=p)this.Cn=Array.apply(null,Array(l)).map(function(){return "-";});}function f(l,p){this.Ak=l;this.index=p;}n=a(93778);h=a(32699);f.prototype.reset=function(){this.index=this.Ak=void 0;};d.prototype.ea=function(l){this.enabled && l < this.Cn.length && (this.Cn[l]="x");};d.prototype.Gab=function(l){this.enabled && l < this.Cn.length && (this.Cn[l]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Cn.join("") + "|";};k.prototype.start=function(){var l;if(this.xS){l=this;this.on=!0;this.sd=setTimeout(function(){l.on=!1;l.sd=void 0;},this.tj);}};k.prototype.stop=function(){this.on=!1;clearTimeout(this.sd);this.sd=void 0;};Object.defineProperties(g.prototype,{rna:{get:function(){return this.op;}},TAb:{get:function(){return !this.YS.on;}}});g.prototype.LS=function(){this.AF.enabled && this.ka.debug("Buffer: " + this.AF.toString());};g.prototype.svb=function(l){this.rF+=l;this.ka.debug("Reserved buffer size is",this.yv + this.rF,"after reserving",l);};g.prototype.Rvb=function(l){this.rF-=l;this.ka.debug("Reserved buffer size is",this.yv + this.rF,"after unreserving",l);};g.prototype.Isb=function(l){this.yv+=l;this.ka.debug("Buffer size is",this.yv,"after claiming",l);};g.prototype.jUa=function(l){this.yv-=l;this.ka.debug("Buffer size is",this.yv,"after clearing",l);};g.prototype.q4b=function(l,p){var q;this.jUa(l);q=this;p && this.AF.enabled && (p.forEach(function(u){q.AF.Gab(u.index);}),this.LS());};g.prototype.Yza=function(l){var p;p=this.stb(l);return h.N5a(p) && h.V9b(l,p);};g.prototype.a7b=function(l){var p;p=this.$Sa(l);(!p || p.index) !== (!this.op || this.op.index) && (this.kF=this.op.Ak,p?(this.$E && this.ka.debug("Current sidx is index",p.index),this.op=p):(this.$E && this.ka.debug("Current sidx is out of range"),this.op.reset()));this.kF && "number" === typeof this.kF.index && (l < this.kF.Tw - 35E3 || l > this.kF.vq + 35E3) && (this.mia(this.kF.index),this.kF=void 0,this.LS());};g.prototype.yD=function(l,p){var q,u;q=this.ei && this.ei.length;for(p;p < q;p++)(u=this.ei[p]) && ((u.endTime || u.vq) >= l - 1E4 && (u.endTime || u.vq) < l + 3E5 || this.mia(p));this.YS.stop();this.LS();};g.prototype.yxb=function(){var l,p;this.ka.debug("executing aggressive cleanup");l=this.ei && this.ei.length;for(p=0;p < l;p++)(p === this.op.index && (p+=2),this.mia(p));this.YS.stop();this.LS();};g.prototype.NPb=function(l){var p,q,u,t;p=[];q=this.$Sa(l);if(!q)return (this.op.reset(),p);this.op=q;u=l + 1E4;q=q.index;t=this.ei[q];q;for(t;q < this.ei.length && u > t.Tw;(q++,t=this.ei[q]))h.N5a(t) && h.W9b(l,u,t) && p.push(t);return p;};g.prototype.T_a=function(l,p){var q,u,t,v,w,y;if(!l || !l.length)return (p && p(null),!0);this.hr.RS && 2 <= Object.keys(this.hr.RS).length && !this.YS.on && (this.ka.debug("Enabling buffering quiet period"),this.YS.start());q=this;u=l[0];t=l[l.length - 1];if(0 < u.entries.length)(v=u.entries[0].dH,w=u.entries[u.entries.length - 1]);0 < t.entries.length && (h.$c(v) || (v=t.entries[0].dH),w=t.entries[t.entries.length - 1]);if(v)y=w.dH + w.Zra - v;else return (p && p(null),!0);u=h.gqa(v,y);if(this.hr.RS[u])(this.ka.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.Htb(h.cra(l)))(this.ka.debug("Reserving",y,"bytes for subtitle request",l[0].Tw,l[l.length - 1].vq),this.svb(y),this.hr.$Hb(l,v,y,function(x,z){q.ka.debug("Claiming reserved space.  Expected",y,"received",z);q.AF.enabled && (l.forEach(function(A){q.AF.ea(A.index);}),q.LS());q.Rvb(y);q.Isb(z);p && p(x);}));else return (this.ka.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};g.prototype.hra=function(l,p){var q,u,t;q=this.dr;u=this.ZSa(l,p,this.ei);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,l,p);for(var v=0;v < u.length;v++)(l=u[v],t=t.concat(l.entries.filter(p)));t=t.map(function(w){return h.ina(w,null,q);});return h.SYa(t);};g.prototype.OPb=function(l,p,q){return this.ZSa(l,p.endTime,p.Cn,q,!0);};g.prototype.ZSa=function(l,p,q,u,t){var v,w,y,x;if(p && l > p || 0 > l)this.ka.error("invalid range startPts: " + l + ", endPts: " + p);else {v=q && q.length || 0;w=[];if(q && 0 !== v){y=q[0].duration;x=q[0].Tw;if(h.$c(y) && 0 < y)y=Math.floor((l - x) / y);else for((this.$E && this.ka.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < v && (x=q[y],!h.UHb(x,l));y++);for(;y < v && (!u || w.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > l)w.push(x);else if(w.length)break;if(p && p <= x.vq)break;y++;}return w;}}};g.prototype.stb=function(l){var p,q,t;p=this.ei;if(p && 0 !== p.length){q=p[Math.floor(l / 6E4)];if(q && (q.Tw > l || l > q.vq))a:{this.jtb || (this.jtb=!0,q=h.rOb(this.dr.language),this.ka.error("bruteforce search for ",{movieId:this.dr.O,packageId:this.dr.yn,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.Tw <= l && l <= t.vq){q=t;break a;}}q=void 0;}return q;}};g.prototype.$Sa=function(l){var p,q,u,t,v,w,y,x;p=this.op;q=p.Ak;u=p.index;t=this.ei;this.uia(h.$c(l));if(q)if(q.entries.length){if(0 === u && l <= q.startTime || l >= q.startTime && l <= q.endTime)(v=!0,w=p);else {if(0 < u){y=t[u - 1];m(l,y,q) && (v=!0,w=p);}}}else {y=t[u - 1];x=t[u + 1];m(l,y,q)?(v=!0,w=p):x && x.endTime && l <= x.endTime && (l >= q.endTime || l >= q.vq) && (v=!0,w=new f(x,u + 1));}if(!v)for((p=t.length,q=0);q < p;q++)if((u=t[q],u.entries.length && l <= u.endTime)){w=new f(u,q);break;}return w;};g.prototype.Htb=function(l){return this.yv + this.rF + l <= this.eub;};g.prototype.mia=function(l){var p,q,u;p=this.ei[l];q=p && p.images && p.images.length || 0;if(0 < q){u=h.cra([p]);p.images=[];this.AF.Gab(l);this.jUa(u);this.$E && this.ka.debug("cleaning up space from sidx",{index:l,start:p.startTime,size:u,images:q,Wmc:this.yv});}};g.prototype.uia=function(l){this.$E && h.assert(l,this.ka);};r.exports=g;},3992:function(r,b,a){var m,g,k,d,f,n;function c(h){m.call(this);this.ff=h.url;this.pF=h.request;this.lF=h.Fe || 0;this.ka=h.la;this.ei=this.dr=null;h.qu?this.dr=h.qu:(this.$b=h.offset,this.jB=h.size);this.Kl;this.pja=h;}m=a(22699).EventEmitter;g=a(72577);k=a(92435);d=a(78192);f=a(32699);n=c.events={epb:"midxready",Arb:"sidxready",mrb:"ready",Jk:"error"};c.prototype=Object.create(m.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{op:{get:function(){return this.Kl && this.Kl.rna;}}});c.prototype.start=function(){this.dr?(this.ka.warn("midx was prefectched and provided"),this.NSa(this.dr)):this.dtb(this.$b,this.jB,this.hvb.bind(this));};c.prototype.close=function(){};c.prototype.O7=function(h,l){return this.Kl && this.Kl.hra(h,l);};c.prototype.$l=function(h,l){return (h=this.O7(h,l))?h.length:h;};c.prototype.yD=function(h,l){this.ka.debug("setStreamStartPosition: buffering subtitles at pts " + h);this.lF=h;this.Kl?this.Kl.yD(h,l):l && l();};c.prototype.fC=function(h){var l,p,q;if(!this.Kl || h > f.SNb(this.dr))return [];this.Kl && this.Kl.aoa(h);l=this.op.Ak;p=this.op.index;q=[];p=f.$c(p) && this.ei[p + 1];if(!(p && p.entries.length || l && !(h > l.endTime)))return [];l && l.images.length && (q=this.WSa(l,h,[]));2 > q.length && p && p.images.length && (l=this.WSa(p,h,q),q.push.apply(q,l));return this.Kl.Yza(h)?null:f.SYa(q);};c.prototype.Ji=function(h,l){this.Kl && this.Kl.Ji(h,l);};c.prototype.Sj=function(h,l){this.Kl && this.Kl.Sj(h,l);};c.prototype.dtb=function(h,l,p){this.ka.debug("downloading midx...");this.fTa(h,l,"binary",p);};c.prototype.etb=function(h,l,p){this.ka.debug("downloading sidx...");this.fTa(h,l,void 0,p);};c.prototype.fTa=function(h,l,p,q){this.pF({url:this.ff,offset:h,size:l,responseType:p},q);};c.prototype.hvb=function(h,l){if(h)this.emit(n.Jk,f.CV(h,"midxdownloaderror"));else try{this.dr=new g(l);this.NSa(this.dr);}catch(p){this.emit(n.Jk,f.CV(p,"midxparseerror"));}};c.prototype.NSa=function(h){var l;l=h.entries.reduce(function(p,q){return p + q.size;},0);l?(this.emit(n.epb,h),this.etb(h.startOffset,l,this.jvb.bind(this,h))):this.emit(n.Jk,f.CV({},"nosidxfoundinmidx"));};c.prototype.jvb=function(h,l,p){var q,u,t,v;q=this;if(l)q.emit(n.Jk,f.CV(l,"sidxdownloaderror"));else {u=0;t=0;q.ei=[];try{v=0;h.entries.forEach(function(w){var y;y=new k(p,u,h.psa,q.ka,t,t + w.duration,v);q.ei.push(y);w.v8b=y;t=y.vq;u+=w.size;v++;});}catch(w){q.emit(n.Jk,f.CV(w,"sidxparseerror"));return;}q.emit(n.Arb,q.ei);this.Kl=new d(q.pja,h,q.ei);l=q.lF;q.pja && q.pja.Mba || (l=Math.max(q.lF - 1E4,0));this.Kl.aoa(l,function(w){w && q.ka.error("initial sidx download failed");q.emit(n.mrb);});}};c.prototype.WSa=function(h,l,p){var x;for(var q=h.entries,u=0,t=q.length,v=[],w,y=this.dr;u < t;){w=q[u];if(w.displayTime <= l)w.displayTime + w.duration >= l && v.push(f.ina(w,h.images[u].data,y));else {x=v.length && v[v.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > l && x.displayTime !== w.displayTime)break;x.dH !== w.dH && v.push(f.ina(w,h.images[u].data,y));}u++;}return v;};r.exports=c;},72577:function(r,b,a){var m,g;function c(k,d){this.duration=k;this.size=d;this.v8b=void 0;}m=a(62082);g=a(32699);r.exports=function(k){var h;k=new m(k);this.identifier=k.Uxa(4);g.assert("midx" === this.identifier);this.version=k.wq(4);g.assert(0 === this.version);this.psa=k.Jj(36);this.creationTime=k.QO();this.yn=k.QO();this.O=k.QO();this.H5b=k.dh();this.I5b=k.dh();this.language=k.Jj(16);k.Jj(16);this.startOffset=k.QO();this.uG=k.dh();for(var d=[],f=0,n=0;n < this.uG;n++){h=new c(k.wq(4),k.dh());d.push(h);f+=h.duration;}this.entries=d;this.endTime=f;};},93778:function(r,b,a){var m,g;function c(k){this.ff=k.url;this.pF=k.request;this.lF=k.Fe || 0;this.$E=k.bj;this.ka=k.la;this.RS={};}m=a(62082);g=a(32699);c.prototype.$Hb=function(k,d,f,n){this.RS[g.gqa(d,f)]=!0;k && k.forEach(function(h){h.PY=!0;});this.pF({url:this.ff,offset:d,size:f},this.Iub.bind(this,k,d,f,n));};c.prototype.Iub=function(k,d,f,n,h,l){var p,q,u,t;p=this;q=g.gqa(d,f);setTimeout(function(){delete p.RS[q];},1E3);if(h)(n && n(h,0),k && k.forEach(function(v){delete v.PY;}));else {u=new m(l);t=0;k && k.forEach(function(v){delete v.PY;v.entries.forEach(function(w,y){u.position=w.dH - d;w={data:u.Jj(w.Zra)};v.images[y]=w;g.rcc(v.images[y].data,p.uia.bind(p));t+=v.images[y].data.length;});});n && n(null,t);}};c.prototype.uia=function(k){this.$E && g.assert(k,this.ka);};r.exports=c;},67725:function(r){function b(a,c,m,g){this.ka=g;this.id=a;this.startTime=c && c.hb || 0;this.endTime=c && c.wb;this.C$a=c && c.next || [];this.Veb;this.NX=[];this.qN=!1;a=this.startTime;c=this.endTime;for(var k=[],d=0;d < m.length;d++)(g=m[d]) && (!c || c > g.Tw) && a < g.vq && (g.kSb(),k.push(g));this.Cn=k;}b.prototype.fYa=function(){this.ka.debug("Cleaning up segment",this.id);for(var a,c=0,m,g=[],k=0;k < this.Cn.length;k++)(a=this.Cn[k],(m=a.GGb()) && g.push(a),a && (c+=m));this.Cn=[];return {size:c,Cn:g};};r.exports=b;},78192:function(r,b,a){var k,d;function c(f,n){var l;f=f || 0;if(n)for(var h in n.aa){l=n.aa[h];if(f >= (l.hb || 0) && (!l.wb || f < l.wb))return h;}}function m(f,n){return f && n && n.aa[f];}function g(f,n,h){var l;this.ka=f.la;this.ei=h;this.iB=this.Ksb(f.Mba);this.Gv=[];l=h && h[h.length - 1];this.$j=l && (l.endTime || l.vq);this.mg=new k(f,n,h);f=c(f.Fe || 0,this.iB);this.Jl=this.uS(f);}k=a(76290);d=a(67725);Object.defineProperties(g.prototype,{rna:{get:function(){return this.mg.rna;}}});g.prototype.hra=function(f,n){return this.mg && this.mg.hra(f,n);};g.prototype.aoa=function(f,n){this.mg.a7b(f);this.KUa(f);if(!this.iB && this.$j && f > this.$j)n && n();else if((f=this.KSa(f,this.Jl,2,n),this.iB && 0 < this.Jl.C$a.length))n && n();else if(this.iB && this.Jl.qN && f){2 > this.Gv.length && this.Ssb(this.Jl);n=Math.ceil(2 / (this.Gv.length - 1));for(var h=0;h < this.Gv.length && f && 3 > h;h++)(f=this.Gv[h],f=this.KSa(f.startTime,f,n));}};g.prototype.Yza=function(f){return this.mg.Yza(f)?(this.mg.yxb(),this.aoa(f),this.Jl.qN=!1,!0):!1;};g.prototype.yD=function(f,n){var h;this.KUa(f);this.Gv.forEach(function(l){l.qN=!1;});h=this.Jl.Cn && this.Jl.Cn[0];this.mg.yD(f,h && h.index);(f=this.mg.NPb(f)) && f.length?this.mg.T_a(f,n):n && n();};g.prototype.Sj=function(f,n){var h;this.ka.debug("Set next segment to",n,"for segment",f);f=this.QSa(f) || this.uS(f);f.Veb=n;h=this;f.NX=f.NX.filter(function(l){if(l.id === n)return !0;h.xia(l);return !1;});};g.prototype.Ji=function(f,n){var h;h=m(f,this.iB);Object.keys(h.next).forEach(function(l){h.next[l].weight=n[l] || 0;});};g.prototype.Ksb=function(f){var n,l;n={};if(f=(f || ({})).aa){n.aa={};for(var h in f){l=f[h] || ({});n.aa[h]={hb:l.hb,wb:l.wb,wc:l.wc,next:this.Jsb(l.next)};}}return n;};g.prototype.Jsb=function(f){var n,h;n={};for(h in f)n[h]={weight:(f[h] || ({})).weight};return n;};g.prototype.KUa=function(f){var n,h;if(this.iB && this.Jl.startTime > f || this.Jl.endTime && this.Jl.endTime < f){n=this.Jl;h=c(f,this.iB);h?(this.ka.debug("Switching segments from",this.Jl.id,"to",h,"at pts",f),this.Jl=this.QSa(h) || this.uS(h),this.xia(n)):this.ka.debug("The pts is outside of the current segment but not in a new one yet");}};g.prototype.uS=function(f){this.ka.debug("SegmentManager: creating segment",f);f=new d(f,m(f,this.iB),this.ei,this.ka);this.Gv.push(f);this.ka.debug("SegmentManager: segment contains",f.Cn.length,"sidxes");return f;};g.prototype.xia=function(f){var n;if(f && f !== this.Jl){this.ka.debug("SegmentManager: deleting segment",f.id);f.NX.forEach(this.xia.bind(this));this.Gv=this.Gv.filter(function(h){return h !== f;});n=f.fYa();this.mg.q4b(n && n.size || 0,n && n.Cn);}};g.prototype.QSa=function(f){var h;for(var n=0;f && n < this.Gv.length;n++){h=this.Gv[n];if(f === h.id)return h;}};g.prototype.Ssb=function(f){var n,l;n=f.Veb;if(n && "" !== n)f.NX.push(this.uS(n));else {n=f.C$a;for(var h in n){l=n[h];if(!l || !l.weight)break;f.NX.push(this.uS(h));}}};g.prototype.KSa=function(f,n,h,l){if(!n || n.qN)return (this.ka.debug("Done driving segment",n && n.id),!0);if(!this.mg.TAb)return (this.ka.debug("Throttling buffering in quiet period"),!1);this.ka.debug("Drive streaming of segment",n.id,"from pts",f);h=(f=this.mg.OPb(f,n,h)) && f.length || 0;if(0 === h)return (this.ka.debug("Segment is fully downloaded",n && n.id),n.qN=!0,l && l(),!0);this.ka.debug("Downloading",h,"sidxes in segment",n.id);return this.mg.T_a(f,function(p,q){p && (n.qN=!1);l && l(p,q);});};r.exports=g;},92435:function(r,b,a){var g,k;function c(d,f,n,h,l,p,q,u){this.displayTime=d;this.duration=f;this.F_b=n;this.G_b=h;this.B8b=l;this.C8b=p;this.dH=q;this.Zra=u;}function m(d,f,n,h,l,p,q){var u;d=new g(d);u=0;d.position=f;this.ka=h;this.identifier=d.Uxa(4);k.assert("sidx" === this.identifier,h);this.psa=d.Jj(36);k.vCb(this.psa,n,h);this.duration=d.wq(4);this.uG=d.dh();this.Tw=l;this.vq=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Fja=0;u < this.uG;)(f=new c(d.wq(4),d.wq(4),d.dh(),d.dh(),d.dh(),d.dh(),d.QO(),d.wq(4)),u++,this.entries.push(f));this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}g=a(62082);k=a(32699);m.prototype.kSb=function(){this.Fja++;};m.prototype.GGb=function(){var d;d=0;this.Fja--;1 > this.Fja?this.images && 0 < this.images.length && (d+=k.cra([this]),this.images=[]):this.ka.debug("Not cleaning up shared sidx with range",this.Tw,"-",this.vq);return d;};r.exports=m;},32699:function(r){function b(k,d){return k.some(function(f){return f.id === d;});}function a(k,d){return k.filter(c.bind(null,d)).map(m).reduce(g,0);}function c(k,d){return k.id === d.id && k.displayTime + k.duration === d.displayTime;}function m(k){return k.duration;}function g(k,d){return k + d;}r.exports={vCb:function(k,d,f){for(var n=0;n < k.length;n++)if(k[n] !== d[n])return (f.error("indexId mismatch in sidx",{sIndexId:k,mIndexId:d}),!1);return !0;},ina:function(k,d,f){var n;n={};n.displayTime=k.displayTime;n.duration=k.duration;n.originX=k.F_b;n.originY=k.G_b;n.sizeX=k.B8b;n.sizeY=k.C8b;n.imageData=d;n.id=k.dH;n.rootContainerExtentX=f.H5b;n.rootContainerExtentY=f.I5b;return n;},gqa:function(k,d){return "o_" + k + "s_" + d;},rcc:function(k,d){d("P" === String.fromCharCode(k[1]));d("N" === String.fromCharCode(k[2]));d("G" === String.fromCharCode(k[3]));},$c:function(k){return "undefined" !== typeof k;},Tnc:b,zkc:a,CV:function(k,d){var f,n;f=Object.create({});for(n in k)f[n]=k[n];k instanceof Error && (f.message=k.message,f.stack=k.stack);f.errorString=d;return f;},assert:function(k,d){if(!k)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},N5a:function(k){return k && 0 < k.entries.length && 0 === k.images.length;},V9b:function(k,d){for(var f=d.entries.length,n,h=0;h < f;h++)if((n=d.entries[h],n.displayTime <= k && n.displayTime + n.duration >= k))return !0;return !1;},W9b:function(k,d,f){for(var n=f.entries.length,h,l,p=0;p < n;p++){h=f.entries[p];l=h.displayTime;h=l + h.duration;if(d < l)break;if(l <= k && h >= k || l > k && l <= d)return !0;}return !1;},SYa:function(k){return k.map(function(d,f){d.duration+=a(k.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},cra:function(k){return k.reduce(function(d,f){return d + f.entries.reduce(function(n,h){return h.Zra + n;},0);},0);},UHb:function(k,d){return k && k.Tw <= d && k.vq >= d;},SNb:function(k){if(k)return k.endTime;},rOb:function(k){try{return String.fromCharCode.apply(String,k);}catch(d){}return "";}};},31496:function(r,b,a){var c;c=a(22699).EventEmitter;a(82630)({});b=function l(g,k,d,f,n,h){if(!(this instanceof l))return new l(g,k,d,f,n,h);c.call(this);this.qt=g;this.CS=k;this.h3=d;this.Utb=f;this.Ri={};this.wj={};this.ka=n || console;this.Tn=!1;this.Yia=h.Z;this.lvb=h && h.AY || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.sd);this.sd=void 0;this.fba();};b.prototype.fba=function(){var g;g=this;Object.keys(g.Ri).forEach(function(k){g.emit("removesubtitle",g.Ri[k]);});g.Ri={};g.wj={};};b.prototype.pause=function(){this.Tn || (clearTimeout(this.sd),this.sd=void 0);};b.prototype.lA=function(g,k){var d,f;d=this;f=d.qt();g=d.CS(f);null !== g && d.Tn && (d.Tn=!1,this.ka.debug("bufferingComplete"),d.emit("bufferingComplete"),this.Utb())?this.ka.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(k="number" === typeof k?k:0,Object.keys(d.Ri).forEach(function(n){n=d.Ri[n];n.displayTime - d.lvb <= f && f < n.displayTime + n.duration || (delete d.Ri[n.id],d.emit("removesubtitle",n));}),Object.keys(d.wj).forEach(function(n){n=d.wj[n];f >= n.displayTime + n.duration && delete d.wj[n.id];}),null !== g && 0 < g.length?(k=g.length,d.ka.debug("found " + k + " entries for pts " + f),g.forEach(function(n){n.displayTime - 0 <= f && f < n.displayTime + n.duration && !d.Ri[n.id] && (d.emit("showsubtitle",n),d.Ri[n.id]=n,delete d.wj[n.id]);}),k=g[g.length - 1],d.Ri[k.id] || d.wj[k.id] || (d.emit("stagesubtitle",k),d.wj[k.id]=k),k=d.Lvb(f,g),"number" === typeof k && Infinity > k?d.fT(k):d.fT(2E4)):null === g?(g=250 * Math.pow(2,k),2E3 < g && (g=2E3),d.ka.warn("checking buffer again in " + g + "ms"),d.Tn || (d.Tn=!0,d.emit("underflow")),d.fT(g,k + 1)):d.Yia?(g=500,d.ka.trace("Live : No entries for " + f + "checking buffer again in " + g + "ms"),d.fT(g)):d.fT(2E4));};b.prototype.fT=function(g,k){var d;d=this;d.ka.debug("Scheduling pts check.",{timeout:g,SP:d.sd});clearTimeout(d.sd);d.sd=setTimeout(function(){d.lA(d.qt(),k);},g);};b.prototype.Lvb=function(g,k){k=k.reduce(this.uub.bind(this,g),Infinity);return Infinity > k?this.h3(k,g):k;};b.prototype.uub=function(g,k,d){var f;f=d.displayTime;d=d.displayTime + d.duration;this.ka.debug("next events: start",f,"end",d,"now",g);return f < k && g < f?f:d < k && g < d?d:k;};r.exports=b;},86398:function(r,b,a){var m,g,k;function c(d,f,n){var h;if(!n)return !1;n=n[f];return "boolean" === typeof n?!0 === n:(null === n || void 0 === n?void 0:n.length) === (null === (h=d[f].Ke) || void 0 === h?void 0:h.length);}Object.defineProperties(b,{__esModule:{value:!0}});b.dZa=b.Tq=void 0;m=a(5163);g=a(48456);b.Tq=-1;b.dZa=function(d,f,n,h,l){function p(v){var w,y,x,z,A,B;w=f.pe[v];y=c(f.pe,v,n);x=!!w.Ke;z=!!h && !y && x;A=0 === w.$r;w.$r > u && q.Je(("").concat(d,"-").concat(v),{J:d,hb:u,wb:w.$r,type:"content"});x || q.ixb();!z || A && !l || q.Je(("padstart-").concat(v),{J:b.Tq,hb:0,wb:h,type:"padding"});u=w.$r;if(w.Ke && !y){B=null === n || void 0 === n?void 0:n[v];w.Ke.forEach(function(D,C){var E;E=!1;Array.isArray(B) && (E=-1 < B.indexOf(C));E || q.Je(("ad-").concat(v,"-").concat(C),{J:D.id,hb:D.hb,wb:D.wb,type:"ad"});});z && q.Je(("padend-").concat(v),{J:b.Tq,hb:0,wb:h,type:"padding"});}}void 0 === h && (h=0);void 0 === l && (l=!1);for(var q=new k(),u=0,t=0;t < f.pe.length;++t)p(t);q.Je(("").concat(d,"-").concat(f.pe.length),{J:d,hb:u,wb:null,type:"content"});return q.Wg();};k=(function(){function d(){this.gb=new g.Vq();}d.prototype.Je=function(f,n){var h,l,p;this.AG || (this.AG=f);if(this.hD){l=m.__read(this.hD,2);p=l[0];l=l[1];l.wc=f;l.next=(h={},h[f]={},h);"content" === l.type && -1 < ["ad","padding"].indexOf(n.type) && (l.Yk=!0);"content" === n.type && (-1 < ["ad","padding"].indexOf(l.type) || l.Yk) && (n.mo=!0);this.gb.Je(p,l);}this.hD=[f,n];};d.prototype.ixb=function(){var f,n;if(this.hD){f=m.__read(this.hD,2);n=f[0];f=f[1];"content" === f.type && (f.Yk=!0);this.gb.Je(n,f);this.hD=[n,f];}};d.prototype.Wg=function(){var f;if(this.hD){f=m.__read(this.hD,2);this.gb.Je(f[0],f[1]);}this.hD=void 0;this.AG && this.gb.Yz(this.AG);return this.gb.Wg();};return d;})();},40071:function(r,b,a){var f;function c(n){return Object.keys(n.segments).some(function(h){return void 0 !== d(n.segments[h]);});}function m(n){return "delayedSeamless" === n?"lazy":n;}function g(n){return Object.keys(n).reduce(function(h,l){var p,q;p=n[l];q=p.weight;p=p.transitionType || p.transitionHint;l=h[l]={};void 0 !== q && (l.weight=q);p && (l.Cd=m(p));return h;},{});}function k(n){var h,l;h=Object.keys(n);l=h.length;return l?h.reduce(function(p,q){return p + (n[q].weight || 0);},0) / l:void 0;}function d(n){var h;if(n.ui){h=n.ui.interactionZones;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0] - n.startTimeMs;n=n.ui.interactionZonesV2;if((null === n || void 0 === n?0:n.length) && n[0].length)return n[0][0];}else if(void 0 !== n.earliestSkipRequestOffset)return n.earliestSkipRequestOffset;}Object.defineProperties(b,{__esModule:{value:!0}});b.e5=void 0;f=a(48456);b.e5=function(n,h){var l,p,q,u,t,v;l=void 0 === h?{}:h;h=l.Kg;p=l.Oe;q=l.aa;l=l.config;u=!(!l || -1 === l.Dpa.indexOf(n.viewableId));t=c(n)?0:(null === l || void 0 === l?void 0:l.Cpa) || 0;l=new f.Vq();v=q || n.segments;l.Yz(null !== p && void 0 !== p?p:n.initialSegment).Iza(h || n.mediaTypes).Yba(u?"immediate":m(n.transitionType)).Nza(Object.keys(v).reduce(function(w,y){var x,z,A,B,D,C;x=v[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?k(x.next):void 0;}B=z;if(z=x.exitZones)D=void 0;else a:{if(u && x.endTimeMs){D=x.endTimeMs - x.startTimeMs;C=d(x);if(C && C < D){D=[[C,D]];break a;}if(t && D > t){D=[[D - t,D]];break a;}}D=void 0;}C=u?D?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:n.viewableId,hb:x.startTimeMs,wb:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,Cd:m(C),Xk:z || D,weight:B};x.defaultNext && (B.wc=x.defaultNext);x.next && (B.next=g(x.next));w[y]=B;return w;},{}));return l.Wg();};},31021:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.REb=void 0;c=a(48456);b.REb=function(m){var g,k,d,f,n,h;g=m.onc;k=m.apc;m=m.goc;d=new c.Vq();f=m.split(" ");n=/\d+/;h=new Map();k.forEach(function(l){h.set(l,0);});f.forEach(function(l,p){var q,u,t,v,w,y,x,z;y=Number(l.split(".")[0].match(n)[0]);x=Number(l.split(".")[1].match(n)[0]);y=k[y];l=h.get(y);z=("").concat(y,"-").concat(l);h.set(y,l + 1);x={J:y,hb:null !== (t=null === (u=g.get(y)) || void 0 === u?void 0:u[x]) && void 0 !== t?t:0,wb:null !== (w=null === (v=g.get(y)) || void 0 === v?void 0:v[x + 1]) && void 0 !== w?w:void 0};f.length > p + 1 && (u=Number(f[p + 1].split(".")[0].match(n)[0]),u=k[u],t=h.get(u),u=("").concat(u,"-").concat(t),x.wc=u,x.next=(q={},q[u]={},q),h.set(y,l + 1));0 === p && d.Yz(z);d.Je(z,x);});return d.Wg();};},79048:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(58304),b);r.__exportStar(a(48456),b);r.__exportStar(a(42405),b);r.__exportStar(a(40071),b);r.__exportStar(a(14999),b);r.__exportStar(a(43813),b);r.__exportStar(a(5293),b);r.__exportStar(a(86398),b);r.__exportStar(a(31021),b);r.__exportStar(a(7314),b);r.__exportStar(a(4152),b);},4152:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.P8=b.CJa=b.q2=void 0;r=(function(){function a(c,m,g){this.region=c;this.Ia=m;this.Ua=g;}a.prototype.toJSON=function(){return {region:this.region,jb:this.Ia.Ow,kf:this.Ua.Ow};};return a;})();b.q2=r;(function(a){a.forwards="forwards";a.backwards="backwards";a.successors="successors";a.predecessors="predecessors";a.distance="distance";})(b.CJa || (b.CJa={}));b.P8=function(a){return "immediate" === a;};},5293:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZKb=b.nLb=b.mLb=void 0;c=a(91176);b.mLb=function(m,g){var k;return Object.keys(m.aa).some(function(d){var f;return null === (f=(k=m.aa[d]).next) || void 0 === f?void 0:f[g];})?k:void 0;};b.nLb=function(m,g){return (0,c.mc)(Object.keys(m.aa),function(k){var d;return null === (d=m.aa[k].next) || void 0 === d?void 0:d[g];});};b.ZKb=function(m,g){return Object.keys(m.aa).filter(function(k){var d;return null === (d=m.aa[k].next) || void 0 === d?void 0:d[g];});};},58304:function(r,b,a){var m,g;function c(k){return k.map(function(d){return [d[0],d[1]];});}Object.defineProperties(b,{__esModule:{value:!0}});b.z5=void 0;m=a(5163);g=Object.keys({wb:void 0,playbackRate:void 0,weight:void 0,Cd:void 0,bCa:void 0,type:void 0,mo:void 0,Yk:void 0});b.z5=function(k){var d,f,n,h,l,p,q,v,w,y,x,D;f=k.J;n=k.hb;h=k.wc;if(k.next){l=k.next;q={};try{for(var u=m.__values(Object.keys(l)),t=u.next();!t.done;t=u.next()){v=t.value;w=v;y=l[v];x={};void 0 !== y.weight && (x.weight=y.weight);void 0 !== y.Cd && (x.Cd=y.Cd);q[w]=x;}}catch(E){var z;z={error:E};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(z)throw z.error;}}l=q;}else l=k.next;f={J:f,hb:n,wc:h,next:l};try{for(var A=m.__values(g),B=A.next();!B.done;B=A.next()){D=B.value;void 0 !== k[D] && (f[D]=k[D]);}}catch(E){var C;C={error:E};}finally{try{B && !B.done && (d=A.return) && d.call(A);}finally{if(C)throw C.error;}}k.Xk && (f.Xk=c(k.Xk));return f;};},48456:function(r,b,a){var m;function c(g,k){return Object.keys(g).reduce(function(d,f){return (d[k[f] || f]=g[f],d);},{});}Object.defineProperties(b,{__esModule:{value:!0}});b.Vq=void 0;m=a(58304);r=(function(){function g(k){k && (this.Yz(k.Oe),this.Yba(k.Cd),this.Nza(k.aa));}g.prototype.Yz=function(k){this.Oe=k;return this;};g.prototype.Yba=function(k){this.Cd=k;return this;};g.prototype.Iza=function(k){this.Kg=k;return this;};g.prototype.Je=function(k,d,f){this.aa || (this.aa={});this.aa[k]=(0,m.z5)(d);if(f){k=this.aa[k];if(d=k.next)k.next=c(d,f);k.wc && f[k.wc] && (k.wc=f[k.wc]);}return this;};g.prototype.Nza=function(k,d,f){void 0 === d && (d=function(){return !0;});this.aa={};return this.dxb(k,d,f);};g.prototype.dxb=function(k,d,f){var n;n=this;void 0 === d && (d=function(){return !0;});Object.keys(k).filter(function(h){return d(k[h],h);}).forEach(function(h){n.Je(h,k[h],f);});return this;};g.prototype.Wg=function(){var k;if(!this.aa)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Oe)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.aa[this.Oe])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");k={Oe:this.Oe,aa:this.aa};this.Cd && (k.Cd=this.Cd);this.Kg && (k.Kg=this.Kg);return k;};return g;})();b.Vq=r;},42405:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$ga=void 0;b.$ga=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Oe,segments:a.CGb(c.aa)},void 0 !== c.Cd?{transitionType:c.Cd}:{});};a.encode=function(c){return Object.assign({Oe:c.initialSegment,aa:a.yJb(c.segments)},void 0 !== c.transitionType?{Cd:c.transitionType}:{});};a.yJb=function(c){return Object.keys(c).reduce(function(m,g){m[g]=a.xJb(c[g]);return m;},{});};a.xJb=function(c){return Object.assign({J:c.viewableId,hb:c.startTimeMs},c.endTimeMs?{wb:c.endTimeMs}:{},c.defaultNext?{wc:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Cd:c.transitionType}:{},c.next?{next:a.vJb(c.next)}:{},c.exitZones?{Xk:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{bCa:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{mo:c.fadeIn}:{},void 0 !== c.fadeOut?{Yk:c.fadeOut}:{});};a.vJb=function(c){return Object.keys(c).reduce(function(m,g){m[g]=a.wJb(c[g]);return m;},{});};a.wJb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Cd:c.transitionType}:{});};a.CGb=function(c){return Object.keys(c).reduce(function(m,g){m[g]=a.BGb(c[g]);return m;},{});};a.BGb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.hb},c.wb?{endTimeMs:c.wb}:{},c.wc?{defaultNext:c.wc}:{},c.weight?{weight:c.weight}:{},c.Cd?{transitionType:c.Cd}:{},c.next?{next:a.zGb(c.next)}:{},c.Xk?{exitZones:c.Xk}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.bCa?{uxSegment:c.bCa}:{},c.type?{type:c.type}:{},void 0 !== c.mo?{fadeIn:c.mo}:{},void 0 !== c.Yk?{fadeOut:c.Yk}:{});};a.zGb=function(c){return Object.keys(c).reduce(function(m,g){m[g]=a.AGb(c[g]);return m;},{});};a.AGb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Cd?{transitionType:c.Cd}:{});};return a;})();},14999:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hca=void 0;c=a(48456);b.hca=function(m,g,k){var d;d=new c.Vq();d.Yz(g).Yba("lazy").Iza(k).Je(g,{J:m,hb:0,wb:Infinity});return d.Wg();};},43813:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.F8b=void 0;c=a(48456);b.F8b=function(m,g,k){var d;d=new c.Vq();d.Yz("s0").Yba("immediate").Iza(k).Je("s0",{J:m,hb:0,wb:1E3 * g,weight:.5,next:{s1:{weight:.5}}}).Je("s1",{J:m,hb:1E3 * g,wb:Infinity});return d.Wg();};},43341:function(r,b,a){var g,k;function c(d,f){var n,p;try{for(var h=g.__values(d),l=h.next();!l.done;l=h.next()){p=l.value;if(p.J === f)return p;}}catch(u){var q;q={error:u};}finally{try{l && !l.done && (n=h.return) && n.call(h);}finally{if(q)throw q.error;}}}function m(d,f){var n,h;return g.__generator(this,function(l){switch(l.label){case 0:(n=d,h=function(){var p;return g.__generator(this,function(q){switch(q.label){case 0:return [4,n];case 1:return (q.Ja(),n=(p=n.wc)?(0,k.mc)(f,function(u){return u.id === p;}):void 0,[2]);}});},l.label=1);case 1:return n?[5,h()]:[3,3];case 2:return (l.Ja(),[3,1]);case 3:return [2];}});}Object.defineProperties(b,{__esModule:{value:!0}});b.cha=void 0;g=a(5163);k=a(91176);r=(function(){function d(f,n,h){void 0 === h && (h={});this.upper=f;this.lower=n;this.VBa=h;}d.prototype.PD=function(f){return this.VBa[f];};d.prototype.lG=function(f){var n;n=this;return Object.keys(this.VBa).filter(function(h){return n.VBa[h] === f;});};d.prototype.u6b=function(f){return (f=this.PD(f.id))?this.upper.get(f):void 0;};d.prototype.o6b=function(f){var n;n=this;return this.lG(f.id).map(function(h){return n.lower.get(h);});};d.prototype.D1b=function(f){var n,h,l,p,q;n=this;h=this.lower.get(f.H);(0,k.assert)(h && h.PCb(f.offset));l=this.u6b(h);if(l){if(l.J === h.J)return (f=l.Jxa(h.jab(f.offset)),{H:l.id,offset:f});if(f.offset.equal(k.K.Ba) && 0 === g.__spreadArray([],g.__read(this.lower.kz.EO(f.H)),!1).filter(function(u){return n.PD(u.id) === l.id;}).length)return {H:l.id,offset:k.K.Ba};if(0 === g.__spreadArray([],g.__read(this.lower.kz.eJ(f.H)),!1).filter(function(u){return n.PD(u.id) === l.id;}).length)return {H:l.id,offset:l.Bb};(0,k.assert)(h.fd.isFinite());p=c(this.lower.kz.EG(f.H),l.J);q=c(this.lower.kz.HWa(f.H),l.J);p=p?p.uc:l.fd;(0,k.assert)(p);q=q?q.fd:l.uc;(0,k.assert)(q);f=f.offset.Hg(h.Bb);f=q.add(p.qa(q).hm(f));f=l.Jxa(f);return {H:l.id,offset:f};}};d.prototype.C1b=function(f){var n,h,l,p,q,u,t,v,w,y,x,z,A,B,E,I,P,M,L,Q;u=this.upper.get(f.H);(0,k.assert)(u);t=u.J;v=u.cYa(f.offset);w=u.jab(v);(0,k.assert)(w);y=this.o6b(u);x=y.filter(function(K){return K.J === t;}).filter(function(K){return K.D9b(w);});if(x.length){z=x[0];return {H:z.id,offset:z.Jxa(w)};}if(v.equal(k.K.Ba) && !this.upper.nRb(f.H))return {H:y[0].id,offset:k.K.Ba};if(v.equal(u.Bb) && !this.upper.pRb(f.H)){A=y[y.length - 1];return {H:A.id,offset:A.Bb};}B=new Set(y.map(function(K){return K.wc;}).filter(function(K){return !!K;}));f=y.filter(function(K){return !B.has(K.id);});y=y.filter(function(K){return B.has(K.id);});try{for(var D=g.__values(f),C=D.next();!C.done;C=D.next()){E=g.__spreadArray([],g.__read(m(C.value,y)),!1);f=[];z=v=void 0;try{for(var G=(h=void 0,g.__values(E)),F=G.next();!F.done;F=G.next())(z=F.value,v && f.push({Fq:v,I:z,BW:!1}),v=void 0,z.J === t?(f.push({Fq:z.uc,I:z,BW:!1}),v=z.fd):0 === f.length && f.push({Fq:u.uc,I:z,BW:!1}));}catch(K){h={error:K};}finally{try{F && !F.done && (l=G.return) && l.call(G);}finally{if(h)throw h.error;}}z && (v?f.push({Fq:v,I:z,BW:!0}):f.push({Fq:u.fd,I:z,BW:!0}));I=(0,k.n4)(f,function(K){return K.Fq.Ao(w);});P=(0,k.mc)(f,function(K){return K.Fq.Jg(w);});if(I && P && I.Fq.Ao(w) && P.Fq.Jg(w)){if(I.I.id === P.I.id)return {H:I.I.id,offset:k.K.Ba};if(I.Fq.v === P.Fq.v)return {H:P.I.id,offset:k.K.Ba};M=w.qa(I.Fq).Hg(P.Fq.qa(I.Fq));L=E.slice(E.indexOf(I.I),E.indexOf(P.I) + (P.BW?1:0));Q=L.reduce(function(K,O){return K.add(O.Bb);},k.K.Ba).hm(M);try{for(var J=(p=void 0,g.__values(L)),H=J.next();!H.done && (z=H.value,!Q.lessThan(z.Bb));H=J.next())Q=Q.qa(z.Bb);}catch(K){p={error:K};}finally{try{H && !H.done && (q=J.return) && q.call(J);}finally{if(p)throw p.error;}}if(z && Q.lessThan(null === z || void 0 === z?void 0:z.Bb))return {H:z.id,offset:Q};}}}catch(K){A={error:K};}finally{try{C && !C.done && (n=D.return) && n.call(D);}finally{if(A)throw A.error;}}(0,k.assert)(!1,"Upper playgraph position should always map to something in lower playgraph");};return d;})();b.cha=r;},26162:function(r,b,a){var m,g,k,d,f,n,h;function c(l){l=m.__spreadArray([],m.__read(l.kz.EG(l.initial.id)),!1);(0,g.assert)(l.every(function(p){return 1 >= p.eJ;}),"Must be linear playgraph");return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.H9a=void 0;m=a(5163);g=a(91176);k=a(58304);d=a(48456);f=a(43341);n=a(7314);h=a(48781);b.H9a=function(l,p){var q,u,t,v,w,y,x,z,A,B,D,C,E,G,P,M,L,Q,K,O,R,ca;y={};x={};z={};A=c(p);B=l.B_;D=p.B_;B=(0,g.hWa)(B,D);(0,g.assert)(1 === B.length,"Playgraphs to be merged should have exactly one shared viewable");C=B[0];if(A.length){E=A[A.length - 1];E.J === C && Infinity !== E.wb && (A[A.length - 1]=E.extend(g.K.Fj));}G={};try{for(var F=m.__values(l.filter(function(ya){return ya.J === C;})),I=F.next();!I.done;I=F.next()){P=I.value;M=P.uc;L=P.fd;Q=M.equal(g.K.Ba)?1:0;B=[];try{for(var J=(u=void 0,m.__values(A)),H=J.next();!H.done;H=J.next()){K=H.value;O=D=void 0;K.J === C?0 === Q?K.Vma(M) && (O=(0,h.IAa)(K,M,L),K.Vma(L)?(D=("").concat(P.id),Q=2):(D=("").concat(P.id,":").concat(K.id),Q=1)):(D=("").concat(P.id,":").concat(K.id),K.Vma(L)?(K.uc.lessThan(L) && (O=(0,h.IAa)(K,M,L)),Q=2):O=K):1 === Q && (D=("").concat(P.id,":").concat(K.id),O=K);if(D && O && (y[D]=P.id,x[D]=K.id,B.length || (z[P.id]=D),B.push({id:D,FZ:O}),1 < B.length)){R=m.__read(B.slice(-2),2);ca=R[0];E=R[1];ca.FZ=m.__assign(m.__assign({},(0,k.z5)(ca.FZ)),{wc:E.id,next:(v={},v[E.id]={},v)});}if(2 === Q){B.length && (E=B[B.length - 1],E.FZ=m.__assign(m.__assign({},(0,k.z5)(E.FZ)),{wc:P.wc,next:P.next}));break;}}}catch(ya){u={error:ya};}finally{try{H && !H.done && (t=J.return) && t.call(J);}finally{if(u)throw u.error;}}B.forEach(function(ya){return G[ya.id]=ya.FZ;});}}catch(ya){var oa;oa={error:ya};}finally{try{I && !I.done && (q=F.return) && q.call(F);}finally{if(oa)throw oa.error;}}try{for(var ta=m.__values(l.filter(function(ya){return ya.J !== C;})),Fa=ta.next();!Fa.done;Fa=ta.next())(P=Fa.value,G[P.id]=P,y[P.id]=P.id);}catch(ya){var ua;ua={error:ya};}finally{try{Fa && !Fa.done && (w=ta.return) && w.call(ta);}finally{if(ua)throw ua.error;}}oa=n.Sx.create(new d.Vq().Nza(G,function(){return !0;},z).Yz(z[l.initial.id] || l.initial.id).Wg());l=new f.cha(l,oa,y);p=new f.cha(p,oa,x);return {f$:oa,TUb:l,G5b:p};};},7314:function(r,b,a){var m,g,k,d,f;function c(n,h){var l,p,q;if(n=n.get(h)){if(n.wc && 0 !== (null === (p=null === (l=n.next) || void 0 === l?void 0:l[n.wc]) || void 0 === p?void 0:p.Lz))return n.wc;if(n.next){q=n.next;l=Object.keys(q);return (p=l.reduce(function(u,t){var v;v=m.__read(u,2);u=v[0];v=v[1];return q[t].Lz > v?[t,q[t].Lz]:[u,v];},[void 0,0])[0])?p:l[0];}}}Object.defineProperties(b,{__esModule:{value:!0}});b.Sx=void 0;m=a(5163);g=a(91176);k=a(48781);d=a(26162);r=(function(){function n(h){this.$=h;}n.create=function(h){return new f(h);};n.update=function(h,l){return new f(l).ET(h);};n.fm=function(h,l){var p,q;p=(0,d.H9a)(h,l);l=p.f$;q=p.TUb;p=p.G5b;h.l7b(l,q);l.s7b(h,q);return {f$:l,mapping:p};};return n;})();b.Sx=r;f=(function(n){function h(l){var p,q;p=n.call(this,l) || this;p.vda=new WeakMap();p.PX=new Map();(0,g.assert)(l.Oe,"Playgraph must have an initial segment");q=p.get(l.Oe);(0,g.assert)(q,("Could not find initial segment ").concat(l.Oe," in playgraph"));p.initial=q;p.kz={eJ:p.w7a.bind(p),EO:p.jta.bind(p),EG:p.v7a.bind(p),HWa:p.u7a.bind(p),XL:p.kUb.bind(p)};p.bpc={eJ:p.HJ.bind(p),EO:p.Scc.bind(p),EG:p.Rcc.bind(p),HWa:p.Pcc.bind(p),XL:p.Qcc.bind(p)};p.Q4a=new g.kGa(function(u){return Object.keys(u.next || ({})).map(function(t){return {wcc:p.get(t),weight:u.Bb.v};});});return p;}m.__extends(h,n);Object.defineProperties(h.prototype,{B_:{get:function(){return this.awb || (this.awb=this.CQb());},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{g5a:{get:function(){return !!this.haa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{p6a:{get:function(){var l;return null === (l=this.n6a) || void 0 === l?void 0:l.$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{iwa:{get:function(){var l;return null === (l=this.haa) || void 0 === l?void 0:l.$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dY:{get:function(){var l;return (null === (l=this.iwa) || void 0 === l?void 0:l.dY) || this;},enumerable:!1,configurable:!0}});h.prototype.ET=function(l){var p,q,v,w;q=this.$.aa;try{for(var u=m.__values(Object.keys(q)),t=u.next();!t.done;t=u.next()){v=t.value;if(l.m5a(v)){w=q[v];this.L8a(v,w,l.get(v));l.PX.has(w.J) && this.normalize(w.J,l.PX.get(w.J));}}}catch(x){var y;y={error:x};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(y)throw y.error;}}return this;};h.prototype.has=function(l){return !!this.$.aa[l];};h.prototype.get=function(l){var p;p=this.$.aa[l];if(p)return this.vda.get(p) || this.L8a(l,p);};h.prototype.entries=function(){var l,p,q,u,t,v;return m.__generator(this,function(w){switch(w.label){case 0:(w.Gf.push([0,5,6,7]),l=m.__values(Object.keys(this.$.aa)),p=l.next(),w.label=1);case 1:if(p.done)return [3,4];q=p.value;return [4,[q,this.get(q)]];case 2:(w.Ja(),w.label=3);case 3:return (p=l.next(),[3,1]);case 4:return [3,7];case 5:return (u=w.Ja(),t={error:u},[3,7]);case 6:try{p && !p.done && (v=l.return) && v.call(l);}finally{if(t)throw t.error;}return [7];case 7:return [2];}});};h.prototype.forEach=function(l){var p;p=this;Object.keys(this.$.aa).forEach(function(q){var u;u=p.get(q);l(u,q,p);});};h.prototype.keys=function(){return Object.keys(this.$.aa).values();};h.prototype.values=function(){var l,p,q,u,t,v;return m.__generator(this,function(w){switch(w.label){case 0:(w.Gf.push([0,5,6,7]),l=m.__values(Object.keys(this.$.aa)),p=l.next(),w.label=1);case 1:if(p.done)return [3,4];q=p.value;return [4,this.get(q)];case 2:(w.Ja(),w.label=3);case 3:return (p=l.next(),[3,1]);case 4:return [3,7];case 5:return (u=w.Ja(),t={error:u},[3,7]);case 6:try{p && !p.done && (v=l.return) && v.call(l);}finally{if(t)throw t.error;}return [7];case 7:return [2];}});};h.prototype.normalize=function(l,p){var q,u;q=this;this.PX.set(l,p);this.JLb(function(t){t.J === l && q.P$a(t);});this.g5a && (null === (u=this.iwa) || void 0 === u?void 0:u.normalize(l,p));};h.prototype.F$=function(l,p,q){this.m5a(l) && this.get(l).normalize(p,q);};h.prototype.filter=function(l){var p,q,u,t,v,w;return m.__generator(this,function(y){switch(y.label){case 0:(y.Gf.push([0,5,6,7]),p=m.__values(Object.keys(this.$.aa)),q=p.next(),y.label=1);case 1:if(q.done)return [3,4];u=q.value;return l(this.$.aa[u])?[4,this.get(u)]:[3,3];case 2:(y.Ja(),y.label=3);case 3:return (q=p.next(),[3,1]);case 4:return [3,7];case 5:return (t=y.Ja(),v={error:t},[3,7]);case 6:try{q && !q.done && (w=p.return) && w.call(p);}finally{if(v)throw v.error;}return [7];case 7:return [2];}});};h.prototype.Ji=function(l,p){var q,u,t,v;l=this.get(l);q=null === l || void 0 === l?void 0:l.next;if(q){Object.keys(p).forEach(function(w){var y;y=q[w];y && (y.weight=p[w]);});u=(0,k.oXa)(q);t=u.dab;v=u.fhb;Object.keys(q).forEach(function(w){if(w=q[w])w.Lz=(0,k.nXa)(w.weight,t,v);});}null === l || void 0 === l?void 0:l.Ji(p);};h.prototype.x7a=function(l,p){var q,u;return m.__generator(this,function(t){switch(t.label){case 0:(q=p,t.label=1);case 1:return q?(u=this.get(q))?[4,u]:[3,3]:[3,3];case 2:return (t.Ja(),q=l(this,q),[3,1]);case 3:return [2];}});};h.prototype.pRb=function(l){l=this.$.aa[l];return !!(l && l.next && Object.keys(l.next).length);};h.prototype.nRb=function(l){l=this.get(l);return !(!l || !this.f4a(l).length);};h.prototype.l7b=function(l,p){this.n6a={$:l,mapping:p};};h.prototype.s7b=function(l,p){this.haa={$:l,mapping:p};};h.prototype.LN=function(l){var p;return null === (p=this.haa) || void 0 === p?void 0:p.mapping.PD(l);};h.prototype.nX=function(l){return this.g5a?(l=this.LN(l)) && this.iwa.nX(l):l;};h.prototype.FWb=function(l){var p;return null === (p=this.haa) || void 0 === p?void 0:p.mapping.D1b(l);};h.prototype.EWb=function(l){var p;return null === (p=this.n6a) || void 0 === p?void 0:p.mapping.C1b(l);};h.prototype.m5a=function(l){return (l=this.$.aa[l]) && this.vda.has(l);};h.prototype.w7a=function(l){var p,q,u,t,v,w,y;return m.__generator(this,function(x){switch(x.label){case 0:p=this.$.aa[l];if(!p || !p.next)return [3,8];x.label=1;case 1:(x.Gf.push([1,6,7,8]),q=m.__values(Object.keys(p.next)),u=q.next(),x.label=2);case 2:if(u.done)return [3,5];t=u.value;return [4,this.get(t)];case 3:(x.Ja(),x.label=4);case 4:return (u=q.next(),[3,2]);case 5:return [3,8];case 6:return (v=x.Ja(),w={error:v},[3,8]);case 7:try{u && !u.done && (y=q.return) && y.call(q);}finally{if(w)throw w.error;}return [7];case 8:return [2];}});};h.prototype.HJ=function(l,p,q){this.qda(this.w7a(l),p,q);};h.prototype.jta=function(l){var p,q,u,t,v,w,y;return m.__generator(this,function(x){switch(x.label){case 0:p=this.get(l);if(!p)return [3,8];x.label=1;case 1:(x.Gf.push([1,6,7,8]),q=m.__values(this.f4a(p)),u=q.next(),x.label=2);case 2:if(u.done)return [3,5];t=u.value;return [4,this.get(t)];case 3:(x.Ja(),x.label=4);case 4:return (u=q.next(),[3,2]);case 5:return [3,8];case 6:return (v=x.Ja(),w={error:v},[3,8]);case 7:try{u && !u.done && (y=q.return) && y.call(q);}finally{if(w)throw w.error;}return [7];case 8:return [2];}});};h.prototype.Scc=function(l,p,q){this.qda(this.jta(l),p,q);};h.prototype.qda=function(l,p,q){var u,t,y,x,z;t=!0;try{for(var v=m.__values(l),w=v.next();!w.done;w=v.next()){y=w.value;x=p(y,z,this,q);t=x.HJ;q=x.state;if(!t)break;z=y;}}catch(B){var A;A={error:B};}finally{try{w && !w.done && (u=v.return) && u.call(v);}finally{if(A)throw A.error;}}};h.prototype.v7a=function(l){return this.x7a(c,l);};h.prototype.Rcc=function(l,p,q){this.qda(this.v7a(l),p,q);};h.prototype.u7a=function(l){var p,q;return m.__generator(this,function(u){switch(u.label){case 0:(p=this.get(l),u.label=1);case 1:if(!p)return [3,3];q=m.__spreadArray([],m.__read(this.jta(p.id)),!1);if(0 === q.length)return [3,3];p=1 === q.length?q[0]:(0,g.mc)(q,function(t){return t.wc === l;}) || q[0];return [4,p];case 2:return (u.Ja(),[3,1]);case 3:return [2];}});};h.prototype.Pcc=function(l,p,q){this.qda(this.u7a(l),p,q);};h.prototype.kUb=function(){(0,g.assert)(!1,"Not implemented");};h.prototype.Qcc=function(l,p,q){var u;u=this;l=this.get(l);(0,g.assert)(l,"Segment not found in playgraph");this.Q4a.Zjb(l,function(t,v,w,y){return p(t,w,u,y);},q);};h.prototype.L8a=function(l,p,q){l=new k.kSa(l,p,this.$.Cd || "lazy",q);!l.ml && this.PX.has(p.J) && this.P$a(l);this.vda.set(p,l);return l;};h.prototype.JLb=function(l){var p;p=this;Object.keys(this.$.aa).forEach(function(q){var u;u=p.vda.get(p.$.aa[q]);u && l(u,q);});};h.prototype.P$a=function(l){var p;p=this.PX.get(l.J);p && l.normalize(p(l.hb),p(l.wb));};h.prototype.CQb=function(){var l;l=this;return (0,g.Qka)(Object.keys(this.$.aa).map(function(p){return l.$.aa[p].J;}));};h.prototype.f4a=function(l){var q;if(!l.EO){l.EO=[];for(var p in this.$.aa){q=this.$.aa[p].next;q && (l.id in q) && l.EO.push(p);}}return l.EO;};return h;})(r);},48781:function(r,b,a){var f,n,h,l;function c(p,q,u){var t,v,w,y;if(p.next){t=(null === u || void 0 === u?0:u.next)?g(p.next,u.next):p.next;p=k(t);v=p.fhb;w=p.dab;y={};p.Dw.forEach(function(x){y[x]=new l(t[x],w,v,q);});return y;}}function m(p,q){if("immediate" !== p)return 1;p=q.next?Object.keys(q.next):[];if(p.some(function(u){return void 0 !== q.next[u].weight;})){if(void 0 === q.weight)return 0;p=q.weight + p.reduce(function(u,t){return u + (q.next[t].weight || 0);},0);return q.weight / p;}return 1 / (p.length + 1);}function g(p,q){var u,t,y;t={};try{for(var v=f.__values(Object.keys(p)),w=v.next();!w.done;w=v.next()){y=w.value;t[y]=q[y] || p[y];}}catch(z){var x;x={error:z};}finally{try{w && !w.done && (u=v.return) && u.call(v);}finally{if(x)throw x.error;}}return t;}function k(p){var q,u,t;q=Object.keys(p);u=q.every(function(v){return void 0 === p[v].weight;})?void 0:q.reduce(function(v,w){return v + (p[w].weight || 0);},0);t=void 0 === u?q.length:q.reduce(function(v,w){return v + (p[w].weight?1:0);},0);return {Dw:q,dab:t,fhb:u};}function d(p,q,u){return void 0 === u?1 / q:0 === u?void 0 === p?1 / q:0:void 0 === p?0:p / u;}Object.defineProperties(b,{__esModule:{value:!0}});b.nXa=b.oXa=b.DXb=b.LAb=b.uWb=b.msb=b.IAa=b.kSa=void 0;f=a(5163);n=a(91176);h=a(4152);r=(function(){function p(q,u,t,v){var w,y;w=this;this.id=q;this.I=u;this.ml=!1;this.$x={};this.S7=function(x){var z,A,B,D;return (null === (z=w.yq) || void 0 === z?0:z.length)?"immediate":null !== (D=null === (B=null === (A=w.next) || void 0 === A?void 0:A[x]) || void 0 === B?void 0:B.Cd) && void 0 !== D?D:w.Cd;};this.Qja=null !== (y=u.Cd) && void 0 !== y?y:t;this.weight=v?v.weight:u.weight;this.wc=null !== u.wc?u.wc:void 0;this.next=u.next?c(u,this.Qja,v):void 0;this.Lz=m(this.Qja,this);this.uc=(this.ml=q=v?v.ml && v.wb === u.wb:!1)?v.uc:n.K.Na(u.hb);this.fd=q?v.fd:n.K.Na(u.wb || Infinity);this.yq=v && q?v.yq:void 0;this.Ji();}Object.defineProperties(p.prototype,{J:{get:function(){return this.I.J;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{type:{get:function(){return this.I.type || "content";},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{hb:{get:function(){return this.I.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wb:{get:function(){return this.I.wb || Infinity;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mo:{get:function(){return this.I.mo;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yk:{get:function(){return this.I.Yk;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xk:{get:function(){return this.I.Xk;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bb:{get:function(){var q,u;return null !== (u=null === (q=this.fd) || void 0 === q?void 0:q.qa(this.uc)) && void 0 !== u?u:n.K.Fj;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eJ:{get:function(){return this.next?Object.keys(this.next).length:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{RZ:{get:function(){return this.Dw.length?!this.wc && 0 === this.bO.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{DTb:{get:function(){return !this.type || "content" === this.type;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Dw:{get:function(){return Object.keys(this.next || ({}));},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{QYb:{get:function(){return this.$x;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bO:{get:function(){var q;q=this;return this.Dw.filter(function(u){return !!q.$x[u];});},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{JAa:{get:function(){var q;return null !== (q=this.DUa) && void 0 !== q?q:this.DUa=this.PAb();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Aca:{get:function(){var q;return null !== (q=this.EUa) && void 0 !== q?q:this.EUa=this.QAb();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Dq:{get:function(){return this.weight?this.weight / (this.weight + this.Aca):1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Cd:{get:function(){var q;return (null === (q=this.yq) || void 0 === q?0:q.length)?"immediate":this.Qja;},enumerable:!1,configurable:!0}});p.prototype.cYa=function(q){return n.K.min(n.K.max(n.K.Ba,q),this.Bb);};p.prototype.jab=function(q){return this.uc.add(q);};p.prototype.Jxa=function(q){return q.qa(this.uc);};p.prototype.D9b=function(q){return q.greaterThan(this.uc) && q.lessThan(this.fd);};p.prototype.Vma=function(q){return q.Jg(this.uc) && q.Ao(this.fd);};p.prototype.PCb=function(q){return q.Jg(n.K.Ba) && q.Ao(this.Bb);};p.prototype.normalize=function(q,u){q && u && (this.uc=q.jd(u.N),this.fd=u,this.ml=!0);};p.prototype.SBa=function(q){this.weight=q;this.Lz=m(this.Cd,this);};p.prototype.extend=function(q){this.fd=q;return this;};p.prototype.jRb=function(q){return !!(this.next && -1 < Object.keys(this.next).indexOf(q));};p.prototype.R2a=function(){var q;return this.bO.length?null !== (q=this.bO.map(this.S7).reduce(function(u,t){return u === t?t:void 0;})) && void 0 !== q?q:this.Cd:this.Cd;};p.prototype.EAb=function(q){var u,t;if(this.JAa){u=(this.$x[q] || 0) / this.JAa;if(void 0 === this.weight || 0 === this.Aca)return {tf:u};t=this.Dq;return 1 !== t && (0,h.P8)(this.S7(q)) && this.$x[q]?{tf:t * u,rC:this.$x[q] / this.Aca * (1 - t)}:{tf:t * u};}return {tf:(null === (u=this.next) || void 0 === u?0:u[q])?1 / this.eJ:0};};p.prototype.Gfb=function(q){this.yq=q;this.kkb();};p.prototype.Ji=function(q){var u;if(this.next){u=this.next;this.$x=Object.keys(this.next).reduce(function(t,v){var w;w=q?q[v] || 0:u[v].weight;void 0 !== w && null !== w && 0 <= w && (t[v]=w);return t;},{});}else this.$x={};this.kkb();};p.prototype.PAb=function(){var q;q=this;return this.bO.reduce(function(u,t){return u + q.$x[t];},0);};p.prototype.QAb=function(){var q;q=this;return this.bO.filter(function(u){return (0,h.P8)(q.S7(u));}).reduce(function(u,t){return u + q.$x[t];},0);};p.prototype.kkb=function(){this.EUa=this.DUa=void 0;};return p;})();b.kSa=r;b.IAa=function(p,q,u){return f.__assign(f.__assign({},p.I),{hb:n.K.max(q,p.uc).v,wb:n.K.min(u,p.fd).v});};l=(function(){return function(p,q,u,t){this.Lz=0;this.Cd=p.Cd || t;this.weight=p.weight;this.Lz=d(p.weight,q,u);};})();b.msb=l;b.uWb=c;b.LAb=m;b.DXb=g;b.oXa=k;b.nXa=d;},794:function(r,b,a){var c,m,g,k,d,f,n,h,l,p;c=a(67286)("%TypeError%");m=a(57017);g=a(32249);k=a(70126);d=a(38476);f=a(38733);n=a(80907);h=a(4);l=a(83891);p=a(18132);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!n(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=m({BRa:p,zJa:f,yJa:d},t)?t:l(t);if(!m({BRa:p,zJa:f,yJa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return g(f,h,k,q,u,t);};},70126:function(r,b,a){var c,m,g;c=a(10487);m=a(84902);g=a(18132);r.exports=function(k){"undefined" !== typeof k && c(g,"Property Descriptor","Desc",k);return m(k);};},38476:function(r,b,a){var c,m,g;c=a(23198);m=a(18132);g=a(10487);r.exports=function(k){if("undefined" === typeof k)return !1;g(m,"Property Descriptor","Desc",k);return c(k,"[[Get]]") || c(k,"[[Set]]")?!0:!1;};},83317:function(r,b,a){r.exports=a(9680);},20451:function(r,b,a){var c,m,g;c=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(k){b=null;}if(b && c){m={};g={};b(g,"length",{"[[Get]]":function(){throw m;},"[[Enumerable]]":!0});r.exports=function(k){try{c(k,g);}catch(d){return d === m;}};}else r.exports=function(k){return "function" === typeof k && !!k.prototype;};},38733:function(r,b,a){var c,m,g;c=a(23198);m=a(18132);g=a(10487);r.exports=function(k){if("undefined" === typeof k)return !1;g(m,"Property Descriptor","Desc",k);return c(k,"[[Value]]") || c(k,"[[Writable]]")?!0:!1;};},80907:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},77850:function(r,b,a){r.exports=a(94566);},4:function(r,b,a){var c;c=a(97911);r.exports=function(m,g){return m === g?0 === m?1 / m === 1 / g:!0:c(m) && c(g);};},99939:function(r,b,a){var c;c=a(97911);r.exports=function(m,g){return m === g || c(m) && c(g);};},88251:function(r,b,a){var c,m,g,k;b=a(67286);c=b("%Symbol.species%",!0);m=b("%TypeError%");g=a(20451);k=a(18132);r.exports=function(d,f){if("Object" !== k(d))throw new m("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return f;if("Object" !== k(d))throw new m("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return f;if(g(d))return d;throw new m("no constructor found");};},14463:function(r){r.exports=function(b){return !!b;};},76113:function(r,b,a){var c,m,g,k,d,f;c=a(46382);m=a(26827);g=a(84583);k=a(97911);d=a(51832);f=a(79747);r.exports=function(n){var h;n=g(n);if(k(n) || 0 === n)return 0;if(!d(n))return n;h=m(c(n));return 0 === h?0:f(n) * h;};},69808:function(r,b,a){var c,m;c=a(74339);m=a(76113);r.exports=function(g){g=m(g);return 0 >= g?0:g > c?c:g;};},84583:function(r,b,a){var c,m,g,k,d,f,n,h,l,p,q,u,t;c=a(67286);m=c("%TypeError%");g=c("%Number%");b=c("%RegExp%");k=c("%parseInt%");d=a(62680);c=a(63671);f=a(45819);n=d("String.prototype.slice");h=c(/^0b[01]+$/i);l=c(/^0o[0-7]+$/i);p=c(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=c(b);u=a(11341);t=a(99197);r.exports=function y(w){var x;w=f(w)?w:t(w,g);if("symbol" === typeof w)throw new m("Cannot convert a Symbol value to a number");if("bigint" === typeof w)throw new m("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof w){if(h(w))return y(k(n(w,2),2));if(l(w))return y(k(n(w,2),8));if(q(w) || p(w))return NaN;x=u(w);if(x !== w)return y(x);}return g(w);};},48668:function(r,b,a){var c,m;c=a(67286)("%Object%");m=a(77850);r.exports=function(g){m(g);return c(g);};},99197:function(r,b,a){var c;c=a(5885);r.exports=function(m){return 1 < arguments.length?c(m,arguments[1]):c(m);};},83891:function(r,b,a){var c,m,g,k,d;c=a(23198);m=a(67286)("%TypeError%");g=a(18132);k=a(14463);d=a(83317);r.exports=function(f){var n,h;if("Object" !== g(f))throw new m("ToPropertyDescriptor requires an object");n={};c(f,"enumerable") && (n["[[Enumerable]]"]=k(f.enumerable));c(f,"configurable") && (n["[[Configurable]]"]=k(f.configurable));c(f,"value") && (n["[[Value]]"]=f.value);c(f,"writable") && (n["[[Writable]]"]=k(f.writable));if(c(f,"get")){h=f.get;if("undefined" !== typeof h && !d(h))throw new m("getter must be a function");n["[[Get]]"]=h;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !d(f))throw new m("setter must be a function");n["[[Set]]"]=f;}if((c(n,"[[Get]]") || c(n,"[[Set]]")) && (c(n,"[[Value]]") || c(n,"[[Writable]]")))throw new m("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n;};},18132:function(r,b,a){var c;c=a(96222);r.exports=function(m){return "symbol" === typeof m?"Symbol":"bigint" === typeof m?"BigInt":c(m);};},46382:function(r,b,a){var c;c=a(67286)("%Math.abs%");r.exports=function(m){return c(m);};},26827:function(r,b,a){var c,m;c=a(18132);m=Math.floor;r.exports=function(g){return "BigInt" === c(g)?g:m(g);};},80633:function(r,b,a){r.exports=a(94566);},24158:function(r,b,a){var c,m;b=a(67286);c=b("%String%");m=b("%TypeError%");r.exports=function(g){if("symbol" === typeof g)throw new m("Cannot convert a Symbol value to a string");return c(g);};},94566:function(r,b,a){var c;c=a(67286)("%TypeError%");r.exports=function(m,g){if(null == m)throw new c(g || "Cannot call method on " + m);return m;};},96222:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},90982:function(r,b,a){r.exports=a(67286);},32249:function(r,b,a){var c,m,g,k,d;b=a(81181);c=a(67286);m=b() && c("%Object.defineProperty%",!0);g=b.bRb();k=g && a(27595);d=a(62680)("Object.prototype.propertyIsEnumerable");r.exports=function(f,n,h,l,p,q){if(!m){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in l) && d(l,p) !== !!q["[[Enumerable]]"])return !1;f=q["[[Value]]"];l[p]=f;return n(l[p],f);}if(g && "length" === p && ("[[Value]]" in q) && k(l) && l.length !== q["[[Value]]"])return (l.length=q["[[Value]]"],l.length === q["[[Value]]"]);m(l,p,h(q));return !0;};},27595:function(r,b,a){var c;b=a(67286)("%Array%");c=!b.isArray && a(62680)("Object.prototype.toString");r.exports=b.isArray || (function(m){return "[object Array]" === c(m);});},10487:function(r,b,a){var c,m,g,k,d;b=a(67286);c=b("%TypeError%");m=b("%SyntaxError%");g=a(23198);k=a(90748);d={"Property Descriptor":function(f){var n;n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!f)return !1;for(var h in f)if(g(f,h) && !n[h])return !1;n=g(f,"[[Value]]");f=g(f,"[[Get]]") || g(f,"[[Set]]");if(n && f)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(40508),"Iterator Record":function(f){return g(f,"[[Iterator]]") && g(f,"[[NextMethod]]") && g(f,"[[Done]]");},"PromiseCapability Record":function(f){return !!f && g(f,"[[Resolve]]") && "function" === typeof f["[[Resolve]]"] && g(f,"[[Reject]]") && "function" === typeof f["[[Reject]]"] && g(f,"[[Promise]]") && f["[[Promise]]"] && "function" === typeof f["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(f){return !!f && g(f,"[[Completion]]") && g(f,"[[Capability]]") && d["PromiseCapability Record"](f["[[Capability]]"]);},"RegExp Record":function(f){return f && g(f,"[[IgnoreCase]]") && "boolean" === typeof f["[[IgnoreCase]]"] && g(f,"[[Multiline]]") && "boolean" === typeof f["[[Multiline]]"] && g(f,"[[DotAll]]") && "boolean" === typeof f["[[DotAll]]"] && g(f,"[[Unicode]]") && "boolean" === typeof f["[[Unicode]]"] && g(f,"[[CapturingGroupsCount]]") && "number" === typeof f["[[CapturingGroupsCount]]"] && k(f["[[CapturingGroupsCount]]"]) && 0 <= f["[[CapturingGroupsCount]]"];}};r.exports=function(f,n,h,l){var p;p=d[n];if("function" !== typeof p)throw new m("unknown record type: " + n);if("Object" !== f(l) || !p(l))throw new c(h + " must be a " + n);};},84902:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(r,b,a){var c;c=a(97911);r.exports=function(m){return ("number" === typeof m || "bigint" === typeof m) && !c(m) && Infinity !== m && -Infinity !== m;};},90748:function(r,b,a){var c,m,g,k;b=a(67286);c=b("%Math.abs%");m=b("%Math.floor%");g=a(97911);k=a(51832);r.exports=function(d){if("number" !== typeof d || g(d) || !k(d))return !1;d=c(d);return m(d) === d;};},40508:function(r,b,a){var c;c=a(23198);r.exports=function(m){return c(m,"[[StartIndex]]") && c(m,"[[EndIndex]]") && 0 <= m["[[StartIndex]]"] && m["[[EndIndex]]"] >= m["[[StartIndex]]"] && String(parseInt(m["[[StartIndex]]"],10)) === String(m["[[StartIndex]]"]) && String(parseInt(m["[[EndIndex]]"],10)) === String(m["[[EndIndex]]"]);};},97911:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},57017:function(r,b,a){var c,m;b=a(67286);c=a(23198);m=b("%TypeError%");r.exports=function(g,k){var d,f;if("Object" !== g.BRa(k))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in k)if(c(k,f) && !d[f])return !1;if(g.zJa(k) && g.yJa(k))throw new m("Property Descriptors may not be both accessor and data descriptors");return !0;};},74339:function(r){r.exports=Number.MAX_SAFE_INTEGER || 9007199254740991;},79747:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Ra={};(function(){pa.d=function(r,b){for(var a in b)pa.fab(b,a) && !pa.fab(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});};})();(function(){pa.b7=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof qb)return qb;}})();})();(function(){pa.fab=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){pa.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();pa(28660);pa(26860)();pa(65574)();qb._cad_global={};qb.DEBUG=!1;pa(33096);pa(22365);pa(32687);pa(3887);pa(52569);pa(8825);pa(87051);pa(22894);pa(32219);pa(24066);pa(45146);pa(94886);pa(37509);pa(2734);pa(77705);pa(31298);pa(37353);pa(981);pa(73100);pa(7953);pa(15531);pa(97154);pa(33579);pa(50350);pa(75876);pa(19630);pa(59416);pa(50040);pa(70);pa(29204);pa(99732);pa(52828);pa(1481);pa(61726);pa(24427);pa(62604);pa(78857);pa(74413);pa(84281);pa(991);pa(46493);pa(24674);pa(93114);pa(36792);pa(43422);pa(74098);pa(86258);pa(18128);pa(45526);pa(90762);pa(73056);pa(67263);pa(53754);pa(20318);pa(70632);pa(59032);pa(45706);pa(3390);pa(2898);pa(76563);pa(39480);pa(13044);pa(62439);pa(6305);pa(42654);pa(78719);pa(59405);pa(58343);pa(59219);pa(61524);pa(13777);pa(41325);pa(42433);pa(30689);pa(66093);})();}).call(qb);})(window);}).call(window);